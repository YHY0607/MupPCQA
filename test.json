{"post_id": "39980323", "title": "Are dictionaries ordered in Python 3.6+?", "query": "Dictionaries are insertion ordered as of Python 3.6. It is described as a CPython implementation detail rather than a language feature. The documentation states:<code>dict()</code> now uses a \u201ccompact\u201d representation pioneered by PyPy. The memory usage of the new dict() is between 20% and 25% smaller compared to Python 3.5. PEP 468 (Preserving the order of **kwargs in a function.) is implemented by this. The order-preserving aspect of this new implementation is considered an implementation detail and should not be relied upon (this may change in the future, but it is desired to have this new dict implementation in the language for a few releases before changing the language spec to mandate order-preserving semantics for all current and future Python implementations; this also helps preserve backwards-compatibility with older versions of the language where random iteration order is still in effect, e.g. Python 3.5). (Contributed by INADA Naoki in issue 27350. Idea originally suggested by Raymond Hettinger.)How does the new dictionary implementation perform better than the older one while preserving element order?Update December 2017: <code>dict</code>s retaining insertion order is guaranteed for Python 3.7", "acce_answer": "Actually, you want to rewrite without redirecting. This requires enabling mod_proxy and mod_rewrite in Apache's httpd.conf.Then, the rewrite should look like this:<code>Options +FollowSymLinks -MultiViews \nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.html [NC,L,QSA]\n</code>Reference:\nWhat exactly does the Multiviews options in .htaccess?\nhtaccess rewrite without redirect\nApache: RewriteRule Flags", "acce_score": "728", "simquery1_title": "Python hashable dicts As an exercise, and mostly for my own amusement, I'm implementing a backtracking packrat parser.  The inspiration for this is i'd like to have a better idea about how hygenic macros would work in an algol-like language (as apposed to the syntax free lisp dialects you normally find them in).  Because of this, different passes through the input might see different grammars, so cached parse results are invalid, unless I also store the current version of the grammar along with the cached parse results.  (EDIT: a consequence of this use of key-value collections is that they should be immutable, but I don't intend to expose the interface to allow them to be changed, so either mutable or immutable collections are fine)The problem is that python dicts cannot appear as keys to other dicts.  Even using a tuple (as I'd be doing anyways) doesn't help.<code>&gt;&gt;&gt; cache = {}&gt;&gt;&gt; rule = {\"foo\":\"bar\"}&gt;&gt;&gt; cache[(rule, \"baz\")] = \"quux\"Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: unhashable type: 'dict'&gt;&gt;&gt; </code>I guess it has to be tuples all the way down.  Now the python standard library provides approximately what i'd need, <code>collections.namedtuple</code> has a very different syntax, but can be used as a key.  continuing from above session:<code>&gt;&gt;&gt; from collections import namedtuple&gt;&gt;&gt; Rule = namedtuple(\"Rule\",rule.keys())&gt;&gt;&gt; cache[(Rule(**rule), \"baz\")] = \"quux\"&gt;&gt;&gt; cache{(Rule(foo='bar'), 'baz'): 'quux'}</code>Ok.  But I have to make a class for each possible combination of keys in the rule I would want to use, which isn't so bad, because each parse rule knows exactly what parameters it uses, so that class can be defined at the same time as the function that parses the rule.  Edit: An additional problem with <code>namedtuple</code>s is that they are strictly positional.  Two tuples that look like they should be different can in fact be the same: <code>&gt;&gt;&gt; you = namedtuple(\"foo\",[\"bar\",\"baz\"])&gt;&gt;&gt; me = namedtuple(\"foo\",[\"bar\",\"quux\"])&gt;&gt;&gt; you(bar=1,baz=2) == me(bar=1,quux=2)True&gt;&gt;&gt; bob = namedtuple(\"foo\",[\"baz\",\"bar\"])&gt;&gt;&gt; you(bar=1,baz=2) == bob(bar=1,baz=2)False</code>tl'dr: How do I get <code>dict</code>s that can be used as keys to other <code>dict</code>s?Having hacked a bit on the answers, here's the more complete solution I'm using.  Note that this does a bit extra work to make the resulting dicts vaguely immutable for practical purposes.  Of course it's still quite easy to hack around it by calling <code>dict.__setitem__(instance, key, value)</code> but we're all adults here.<code>class hashdict(dict):    \"\"\"    hashable dict implementation, suitable for use as a key into    other dicts.        &gt;&gt;&gt; h1 = hashdict({\"apples\": 1, \"bananas\":2})        &gt;&gt;&gt; h2 = hashdict({\"bananas\": 3, \"mangoes\": 5})        &gt;&gt;&gt; h1+h2        hashdict(apples=1, bananas=3, mangoes=5)        &gt;&gt;&gt; d1 = {}        &gt;&gt;&gt; d1[h1] = \"salad\"        &gt;&gt;&gt; d1[h1]        'salad'        &gt;&gt;&gt; d1[h2]        Traceback (most recent call last):        ...        KeyError: hashdict(bananas=3, mangoes=5)    based on answers from       http://stackoverflow.com/questions/1151658/python-hashable-dicts    \"\"\"    def __key(self):        return tuple(sorted(self.items()))    def __repr__(self):        return \"{0}({1})\".format(self.__class__.__name__,            \", \".join(\"{0}={1}\".format(                    str(i[0]),repr(i[1])) for i in self.__key()))    def __hash__(self):        return hash(self.__key())    def __setitem__(self, key, value):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def __delitem__(self, key):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def clear(self):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def pop(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def popitem(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def setdefault(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def update(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    # update is not ok because it mutates the object    # __add__ is ok because it creates a new object    # while the new object is under construction, it's ok to mutate it    def __add__(self, right):        result = hashdict(self)        dict.update(result, right)        return resultif __name__ == \"__main__\":    import doctest    doctest.testmod()</code>", "simquery1_answer": "Tom McNulty helped me out and pointed out that my regex's were super-pants, in particular I wasn't using the global flag :(The working code is:<code>var converter;\nvar text = \"\";\nvar item;\nvar input;\nvar output;\nvar head;\nvar tail;\nconverter = new Attacklab.showdown.converter();\nitem = document.getElementById(\"tests\");\nfor (var test in tests) {\n  input = tests[test].replace(/[\\n\\r]+/gi,\"\\\\n\" );\n  input = input.replace(/[\\\"]+/gi, \"\\\\\\\"\");\n  output = converter.makeHtml(tests[test]).replace(/[\\n\\r]+/gi, \"\\\\n\");\n  output = output.replace(/[\\\"]+/gi, \"\\\\\\\"\");\n  text += \"     ?_assert(conv(\\\"\" + input + \"\\\") == \\\"\" + output + \"\\\"),\\n\";\n};\nhead = \"unit_test_() -&gt; \\n    [\\n\";\ntail = \"\\n    ].\";\ntext = text.slice(0, text.length - 2);\nitem.value = head + text + tail;\n</code>\n", "simquery2_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery2_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "total_len": 436, "s1_total_len": 1762, "s2_total_len": 1038}
{"post_id": "41573587", "title": "What is the difference between venv, pyvenv, pyenv, virtualenv, virtualenvwrapper, pipenv, etc?", "query": "Python 3.3 includes in its standard library the new package <code>venv</code>. What does it do, and how does it differ from all the other packages that match the regex <code>(py)?(v|virtual|pip)?env</code>?", "acce_answer": "Python is not Java and doesn't require everything to be in a class. Here your <code>IngredientFactory</code> class has no states and only staticmethods, so it's actually just a singleton namespace, which in python is canonically done using the module as singleton namespace and plain functions. Also since Python classes are already callable, wrapping the instanciation in a function doesn't make sense. The simple, straightforwrad pythonic implementation would be:<code># ingredients.pyclass IngredientType(Enum):\n    SPAM        = auto() # Some spam\n    BAKE_BEANS  = auto() # Baked beans\n    EGG         = auto() # Fried eggclass Ingredient(object):\n    pass    class Spam(Ingredient):\n    passclass Beans(Ingredient):\n    passclass Egg(Ingredient):\n    pass\n_choice = {\n        IngredientType.SPAM: Spam,\n        IngredientType.BAKED_BEANS: Beans,\n        IngredientType.EGG: Egg\n    }def make(ingredient_type):\n    cls = _choice[ingredient_type]\n    return cls()\n</code>And the client code:<code>import ingredients\negg = ingredients.make(ingredients.IngredientType.EGG)# or much more simply:egg = ingredients.Egg()\n</code>FWIW the <code>IngredientType</code> enum doesn't bring much here, and even makes things more complicated that they have to be - you could just use plain strings:<code># ingredients.pyclass Ingredient(object):\n    pass    class Spam(Ingredient):\n    passclass Beans(Ingredient):\n    passclass Egg(Ingredient):\n    pass\n_choice = {\n        \"spam\": Spam,\n        \"beans\": Beans,\n        \"egg\": Egg\n    }def make(ingredient_type):\n    cls = _choice[ingredient_type]\n    return cls()\n</code>And the client code:<code>import ingredients\negg = ingredients.make(\"egg\")\n</code>Or if you really want to use an <code>Enum</code>, you can at least get rid of the <code>choices</code> dict by using the classes themselves as values for the enum as suggested by MadPhysicist:<code># ingredients.pyclass Ingredient(object):\n    pass    class Spam(Ingredient):\n    passclass Beans(Ingredient):\n    passclass Egg(Ingredient):\n    passclass IngredientType(Enum):\n    SPAM = Spam\n    BEANS = Beans\n    EGG = Egg    @staticmethod\n    def make(ingredient_type):\n        return ingredient_type.value()\n</code>and the client code<code> from ingredients import IngredientType\n egg = IngredientType.make(IngredientType.EGG)\n</code>But I really don't see any benefit here eitherEDIT: you mention:\n  I am trying to implement the factory pattern, with the intent of hiding the creation of objects away. The user of the factory then just handles 'Ingredients' without knowledge of the concrete type\nThe user still have to specify what kind of ingredients he wants (the <code>ingredient_type</code> argument) so I'm not sure I understand the benefit here. What's your real use case actually ? (the problem with made up / dumbed down examples is that they don't tell the whole story).\n", "acce_score": "1974", "simquery1_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery1_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 966, "s1_total_len": 319, "s2_total_len": 597}
{"post_id": "42231764", "title": "How can I rename a conda environment?", "query": "I have a conda environment named <code>old_name</code>, how can I change its name to <code>new_name</code> without breaking references?", "acce_answer": "<code>#define RETURNS(...) \\\n  noexcept(noexcept(__VA_ARGS__)) \\\n  -&gt;decltype(__VA_ARGS__) \\\n  { return __VA_ARGS__; }#define OVERLOADS_OF(...) \\\n  [](auto&amp;&amp;...args) \\\n  RETURNS( __VA_ARGS__( decltype(args)(args)... ) )#define METHOD(...) \\\n  [](auto&amp;&amp; self, auto&amp;&amp;...args) \\\n  RETURNS((decltype(self)(self).* __VA_ARGS__)( decltype(args)(args)... ) )\n</code>We can then do:<code>locked_call(METHOD(&amp;List::push_back), list, p);\n</code>and it should work.This requires c++14 support.Or:<code>#define OVERLOADS_OF(...) \\\n  [&amp;](auto&amp;&amp;...args) \\\n  RETURNS( __VA_ARGS__( decltype(args)(args)... ) )\n</code>would let you do<code>locked_call(OVERLOADS_OF(list.push_back), p);\n</code>\n", "acce_score": "559", "simquery1_title": "Django - makemigrations - No changes detected I was trying to create migrations within an existing app using the makemigrations command but it outputs &quot;No changes detected&quot;.Usually I create new apps using the <code>startapp</code> command but did not use it for this app when I created it.After debugging, I found that it is not creating a migration because the <code>migrations</code> package/folder is missing from an app.Would it be better if it creates the folder if it is not there or am I missing something?", "simquery1_answer": "No problem in the first version of code. Just a setter with a simple logic.IMHO, a situation where boolean as parameter is not good is when you use this parameter to branch logics inside the method. An easy example:<code>public void apply(boolean applyForAllUsers) {\n    if (applyForAllUser) {\n        // some logics to apply some operations for all users\n    } else {\n        // some logics to apply some operations for one users\n    }\n}\n</code>Bad things can happen to this method:\nMethod will keep growing because it's doing more than one thing.\nHard to understand depending on how each logic works.\nHard to test.\nand a lot of other reasons.\nIn this case it makes more sense refactoring the code then the first version of your code.\n", "simquery2_title": "Undo last Alembic migration I created a migration with <code>alembic revision --autogenerate</code>, applied it to my development database with <code>alembic upgrade head</code>, and then realised it wasn't quite what I wanted.How can I revert the migration so that I can tweak it and try again?", "simquery2_answer": "I'm using the win32gui package for the first time. I combined 2 examples to printout all opened windows and set the focus to the first window, whose title matches with the wildcard. That works fine, also with the active tab in my firefox browser. But when I try to set the focus to one of the non active tabs, ist doesn't work. Obviously the log_app_list() function contains only the name of the active tab, because this one occurs in the windowtitle of the browser window. How can I set the focus to another tab?<code>import win32gui\nimport reclass WindowMgr:\n    \"\"\"Encapsulates some calls to the winapi for window management\"\"\"    def __init__ (self):\n        \"\"\"Constructor\"\"\"\n        self._handle = None    def find_window(self, class_name, window_name=None):\n        \"\"\"find a window by its class_name\"\"\"\n        self._handle = win32gui.FindWindow(class_name, window_name)    def _window_enum_callback(self, hwnd, wildcard):\n        \"\"\"Pass to win32gui.EnumWindows() to check all the opened windows\"\"\"\n        if re.match(wildcard, str(win32gui.GetWindowText(hwnd))) is not None:\n            self._handle = hwnd    def find_window_wildcard(self, wildcard):\n        \"\"\"find a window whose title matches the wildcard regex\"\"\"\n        self._handle = None\n        win32gui.EnumWindows(self._window_enum_callback, wildcard)    def set_foreground(self):\n        \"\"\"put the window in the foreground\"\"\"\n        win32gui.SetForegroundWindow(self._handle)#################def window_enum_handler(hwnd, resultList):\n    if win32gui.IsWindowVisible(hwnd) and win32gui.GetWindowText(hwnd) != '':\n        resultList.append((hwnd, win32gui.GetWindowText(hwnd)))def get_app_list(handles=[]):\n    mlst=[]\n    win32gui.EnumWindows(window_enum_handler, handles)\n    for handle in handles:\n        mlst.append(handle)\n    return mlstdef log_app_list():\n    appwindows = get_app_list()\n    for i in appwindows:\n        print(i)log_app_list()\nw = WindowMgr()\nw.find_window_wildcard(\".*sssss*\")\ntry:\n    w.set_foreground()\nexcept:\n    print(\"no window does match with the wildcard\")\n</code>\n", "total_len": 350, "s1_total_len": 309, "s2_total_len": 700}
{"post_id": "27981545", "title": "Suppress InsecureRequestWarning: Unverified HTTPS request is being made in Python2.6", "query": "I am writing scripts in Python2.6 with use of pyVmomi and while using one of the connection methods:<code>service_instance = connect.SmartConnect(host=args.ip,                                        user=args.user,                                        pwd=args.password)</code>I get the following warning:<code>/usr/lib/python2.6/site-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html  InsecureRequestWarning)</code>What's interesting is that I do not have urllib3 installed with pip (but it's there in /usr/lib/python2.6/site-packages/requests/packages/urllib3/).I have tried as suggested here<code>import urllib3...urllib3.disable_warnings()</code>but that didn't change anything.", "acce_answer": "I'm using Angular2 routing and I need to subscribe to an event when route is changed. (i.e. user clicked on one of the route links). The important thing is that the event should be when the new view HTML is inserted to DOM.Are there any events like onNavigating and onNavigated, so I can subscribe to?\nI've found a couple of examples on stackoverflow and tried to use them (see constructor below), but that didn't work. Any ideas?<code>/// &lt;reference path=\"../../typings/tsd.d.ts\" /&gt;import {Component, View} from 'angular2/angular2';\nimport {RouteConfig, Router, RouterOutlet, RouterLink} from 'angular2/router';@RouteConfig([...])@Component({\nselector: 'app'\n})\n@View({\ndirectives: [RouterOutlet, RouterLink],\ntemplate: `\n&lt;div class=\"mdl-layout mdl-js-layout mdl-layout--fixed-header\"&gt;\n&lt;header class=\"mdl-layout__header\"&gt;\n  &lt;div class=\"mdl-layout__header-row\"&gt;\n    &lt;span class=\"mdl-layout-title\"&gt;Test&lt;/span&gt;\n    &lt;div class=\"mdl-layout-spacer\"&gt;&lt;/div&gt;\n    &lt;nav class=\"mdl-navigation mdl-layout--large-screen-only\"&gt;\n      &lt;a class=\"mdl-navigation__link\" [router-link]=\"['/routelink1']\"&gt;routelink1&lt;/a&gt;\n    &lt;/nav&gt;\n  &lt;/div&gt;\n&lt;/header&gt;\n&lt;main class=\"mdl-layout__content\" style=\"padding: 20px;\"&gt;\n  &lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;/main&gt;\n&lt;/div&gt;\n`\n})\nexport class App {\nconstructor(private router: Router){\n      router.subscribe((val) =&gt; function(){...}); //here is I need to process HTML\n   }\n}\n</code>\n", "acce_score": "539", "simquery1_title": "Which is best in Python: urllib2, PycURL or mechanize? Ok so I need to download some web pages using Python and did a quick investigation of my options.Included with Python:urllib - seems to me that I should use urllib2 instead. urllib has no cookie support, HTTP/FTP/local files only (no SSL)urllib2 - complete HTTP/FTP client, supports most needed things like cookies, does not support all HTTP verbs (only GET and POST, no TRACE, etc.)Full featured:mechanize - can use/save Firefox/IE cookies, take actions like follow second link, actively maintained (0.2.5 released in March 2011)PycURL - supports everything curl does (FTP, FTPS, HTTP, HTTPS, GOPHER, TELNET, DICT, FILE and LDAP), bad news: not updated since Sep 9, 2008 (7.19.0)New possibilities:urllib3 - supports connection re-using/pooling and file postingDeprecated (a.k.a. use urllib/urllib2 instead):httplib - HTTP/HTTPS only (no FTP)httplib2 - HTTP/HTTPS only (no FTP)The first thing that strikes me is that urllib/urllib2/PycURL/mechanize are all pretty mature solutions that work well. mechanize and PycURL ship with a number of Linux distributions (e.g. Fedora 13) and BSDs so installation is a non issue typically (so that's good). urllib2 looks good but I'm wondering why PycURL and mechanize both seem very popular, is there something I am missing (i.e. if I use urllib2 will I paint myself in to a corner at some point?). I'd really like some feedback on the pros/cons of these things so I can make the best choice for myself. Edit: added note on verb support in urllib2", "simquery1_answer": "I've stumbled recently upon a problem. I have several partial which are in several actions and have different way of displaying data, hence I used the contextual option in cache.yml as such :<code>_list:\n  enabled: true\n  contextual: true\n</code>Now I needed to remove the partial cache when the data was updated, which is normally pretty easy when dealing with non-contextual partial cache or action cache.However when I try to remove this cache, I only get null return values, and the cache is not removed. Like this :<code>$uri = '@sf_cache_partial?module=comment&amp;action=_list&amp;sf_cache_key='.$id;\n$cache_manager = $this-&gt;getContext()-&gt;getViewCacheManager();\n$cache_manager-&gt;has($uri) // return true\n$cache_manager-&gt;remove($uri) // return null\n$cache_manager-&gt;has($uri) // return true, cache is still there\n</code>I tried to fiddle with the fourth option of sfViewCacheManager::remove, which is the context, as such :<code>$context = 'space/show/sf_culture/fr/slug/'.$slug.'/tab/news/comment/_list/'.$id;\n$cache_manager-&gt;remove($uri, '', '', $context); // return null\n</code>Anyone know how to do this ? I'm getting desperate :PThanks.\n", "simquery2_title": "Python - make a POST request using Python 3 urllib I am trying to make a POST request to the following page: http://search.cpsa.ca/PhysicianSearchIn order to simulate clicking the 'Search' button without filling out any of the form, which adds data to the page. I got the POST header information by clicking on the button while looking at the network tab in Chrome Developer Tools. The reason I'm posting this instead of just copying solutions from the other similar problems is that I believe I may have not gotten the correct header information.Is it properly formatted and did I grab the right information? I've never made a POST request before.This is what I've managed to piece together:<code>import urllib.parseimport urllib.requestdata = urllib.parse.urlencode({'Host': 'search.cpsa.ca', 'Connection': 'keep-alive', 'Content-Length': 23796,                                     'Origin': 'http://search.cpsa.ca', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',                                     'Cahce-Control': 'no-cache', 'X-Requested-With': 'XMLHttpRequest',                                     'X-MicrosoftAjax': 'Delta=true', 'Accept': '*/*',                                     'Referer': 'http://search.cpsa.ca/PhysicianSearch',                                     'Accept-Encoding': 'gzip, deflate',                                     'Accept-Language': 'en-GB,en-US;q=0.8,en;q=0.6',                                     'Cookie': 'ASP.NET_SessionId=kcwsgio3dchqjmyjtwue402c; _ga=GA1.2.412607756.1459536682; _gat=1'})url = &quot;http://www.musi-cal.com/cgi-bin/query?%s&quot;data = data.encode('ascii')with urllib.request.urlopen(&quot;http://search.cpsa.ca/PhysicianSearch&quot;, data) as f:    print(f.read().decode('utf-8'))</code>This solution outputs the page's HTML, but not with any of the data I wanted to retrieve from the POST request.", "simquery2_answer": "This issue started suddenly. It had been working fine for the last couple of days authenticating with Facebook accounts. Today I tried implementing the <code>Auth.auth().createUser(email: ... password:... completion:...)</code> and suddenly my app started crashing right after authentication in function <code>func completeSignIn(id:..., userData:...)</code> at <code>DataService.ds.createFirebaseDBUser(uid: usr.uid, userData: [\"provider\": \"Email\"])</code>, it crashes in the Firebase Singleton at the line <code>Database().reference()</code>. I'm very lost. I checked out a branch where it used to work, but now it doesn't work either, so I created a new app in Firebase, but I'm getting the same issue. I've seen this question in a couple of places, but no answer. It's throwing the error: <code>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** setObjectForKey: key cannot be nil'\n</code>but I've checked the id and the dictionary that I'm passing and the values are there. Any help is appreciated.Create Account code:<code>@IBAction func createAccount(_ sender: Any) {\n    if let email = emailField.text, let pwd = pwdField.text{\n        Auth.auth().createUser(withEmail: email, password: pwd, completion: { (user, error) in\n            if error != nil {\n                print(\"Unable to Authenticate E-mail with Firebase - Error: \\(String(describing: error))\")\n            }else{\n                print(\"Successfully Authenticated E-mail with Firebase\")\n                if let usr = user {\n                    let keychainResult = KeychainWrapper.standard.set(usr.uid, forKey: KEY_UID)\n                    print(\"Data saved to Keychain: \\(keychainResult)\")\n                    DataService.ds.createFirebaseDBUser(uid: usr.uid, userData: [\"provider\": \"Email\"])\n                }\n            }\n        })\n    }\n}\n</code>FBLogin and Email Auth:<code>@IBAction func facebookLogin(_ sender: Any) {\n    print(\"Start Login Process\")\n    let fbLogin = FBSDKLoginManager()\n    print(\"Set Read Permissions\")\n    //TODO: add Read Permissions\n    fbLogin.logIn(withReadPermissions: [\"email\",\"user_location\"], from: self) { (result, error) in\n        if error != nil{\n            print(\"Unable to provide Authentication with Facebook - \\(String(describing: error))\")\n        }else if result?.isCancelled == true{\n            print(\"User Cancelled FB Authentication\")\n        }else {\n            print(\"User Successfully Logged In\")\n            let credential = FacebookAuthProvider.credential(withAccessToken: FBSDKAccessToken.current().tokenString)\n            self.firebaseAuth(credential)\n        }\n    }}@IBAction func emailLogin(_ sender: Any) {\n    if let email = emailField.text, let password = passwordField.text{\n        Auth.auth().signIn(withEmail: email, password: password, completion: { (user, error) in\n            if error != nil{\n                print(\"Unable to Authenticate Firebase - \\(String(describing: error))\")\n            } else {\n                print(\"Succesfully authenticated with Firebase\")\n                if let user = user{\n                    let userData = [\"provider\": \"email\"]\n                    self.completeSignIn(id: user.uid, userData: userData)\n                }\n            }        })\n    }\n}\nfunc firebaseAuth(_ credential: AuthCredential){\n    Auth.auth().signIn(with: credential, completion: { (user, error) in\n        if error == nil {\n            print(\"Succesfully authenticated with Firebase\")\n            if let user = user{\n                let userData = [\"provider\": credential.provider]\n                self.completeSignIn(id: user.uid, userData: userData)\n            }\n        } else{\n            print(\"Unable to Authenticate Firebase - \\(String(describing: error))\")\n        }\n    })\n}\nfunc completeSignIn(id: String, userData: Dictionary&lt;String, String&gt;){\n    DataService.ds.createFirebaseDBUser(uid: id, userData: userData)\n    let keychainResult = KeychainWrapper.standard.set(id, forKey: KEY_UID)\n    print(\"Data saved to Keychain: \\(keychainResult)\")\n    performSegue(withIdentifier: \"goToMain\", sender: nil)\n}\n</code>Firebase Singleton class DataService:<code>import Foundation\nimport Firebaselet DB_BASE = Database().reference()class DataService {static let ds = DataService()private(set) var REF_BASE = DB_BASE\nprivate(set) var REF_PROMOS = DB_BASE.child(\"promos\")\nprivate(set) var REF_NEGOCIOS = DB_BASE.child(\"negocios\")\nprivate(set) var REF_USERS = DB_BASE.child(\"users\")func createFirebaseDBUser(uid: String, userData: Dictionary&lt;String, String&gt;){\n    REF_USERS.child(uid).updateChildValues(userData)\n}}\n</code>\n", "total_len": 809, "s1_total_len": 785, "s2_total_len": 1806}
{"post_id": "28663856", "title": "How do I count the occurrence of a certain item in an ndarray?", "query": "How do I count the number of <code>0</code>s and <code>1</code>s in the following array?<code>y = np.array([0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1])</code><code>y.count(0)</code> gives:<code>numpy.ndarray</code> object has no attribute <code>count</code>", "acce_answer": "I found I came across problems with the selected answer. Here's mine that, I think works well:<code>function collisionCheckCircleRect(circle, rect)\n{\n    var distx = Math.abs(circle.x - rect.x);\n    var disty = Math.abs(circle.y - rect.y);    if (distx &gt; (rect.width/2 + circle.radius)) { return false; }\n    if (disty &gt; (rect.height/2 + circle.radius)) { return false; }    if (distx &lt;= (rect.width/2)) { return true; } \n    if (disty &lt;= (rect.height/2)) { return true; }    var hypot = (distx - rect.width/2)*(distx- rect.width/2) +\n                         (disty - rect.height/2)*(disty - rect.height/2);//console.log(hypot &lt;= (circle.radius*circle.radius))\n    return (hypot &lt;= (circle.radius*circle.radius));\n}\n</code>\n", "acce_score": "612", "simquery1_title": "Pandas DataFrame Groupby two columns and get counts I have a pandas dataframe in the following format:<code>df = pd.DataFrame([    [1.1, 1.1, 1.1, 2.6, 2.5, 3.4,2.6,2.6,3.4,3.4,2.6,1.1,1.1,3.3],     list('AAABBBBABCBDDD'),     [1.1, 1.7, 2.5, 2.6, 3.3, 3.8,4.0,4.2,4.3,4.5,4.6,4.7,4.7,4.8],     ['x/y/z','x/y','x/y/z/n','x/u','x','x/u/v','x/y/z','x','x/u/v/b','-','x/y','x/y/z','x','x/u/v/w'],    ['1','3','3','2','4','2','5','3','6','3','5','1','1','1']]).Tdf.columns = ['col1','col2','col3','col4','col5']</code>df:<code>   col1 col2 col3     col4 col50   1.1    A  1.1    x/y/z    11   1.1    A  1.7      x/y    32   1.1    A  2.5  x/y/z/n    33   2.6    B  2.6      x/u    24   2.5    B  3.3        x    45   3.4    B  3.8    x/u/v    26   2.6    B    4    x/y/z    57   2.6    A  4.2        x    38   3.4    B  4.3  x/u/v/b    69   3.4    C  4.5        -    310  2.6    B  4.6      x/y    511  1.1    D  4.7    x/y/z    112  1.1    D  4.7        x    113  3.3    D  4.8  x/u/v/w    1</code>I want to get the count by each row like following. Expected Output:<code>col5 col2 count1    A      1     D      32    B      2etc...</code>How to get my expected output? And I want to find largest count for each 'col2' value?", "simquery1_answer": "You can do this with conditional aggregation -- using the <code>case</code> statement in an aggregation function:<code>SELECT u.id AS user_id,\n       SUM(case when p.`case` = 1 then p.amount else 0 end) AS total_amount_case1,\n       SUM(case when p.`case` = 2 then p.amount else 0 end) AS total_amount_case2\nFROM users u LEFT JOIN \n     payments p\n     on u.id = p.user_id\nGROUP BY user_id\nORDER BY user_id;\n</code>I also added table aliases to make the query a bit less cumbersome.\n", "simquery2_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery2_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "total_len": 396, "s1_total_len": 789, "s2_total_len": 337}
{"post_id": "29503339", "title": "How to get all values from python enum class?", "query": "I'm using Enum4 library to create an enum class as follows:<code>class Color(Enum):    RED = 1    BLUE = 2</code>I want to print <code>[1, 2]</code> as a list somewhere. How can I achieve this?", "acce_answer": "How to you return <code>HttpStatus.NO_CONTENT</code> ?<code>@RequestMapping(value = \"/\")\npublic HttpStatus home() {\n    Observable.defer(() -&gt; Observable.just(longMethod())\n              .subscribeOn(Schedulers.io())\n              .subscribe();\n    return HttpStatus.NO_CONTENT;\n}\n</code>In this form, you can't know when the <code>longMethod</code> is finished.If you wants to know when all async jobs are completed, you can return <code>HttpStatus.NO_CONTENT</code> when all jobs are completed, using Spring <code>DefferedResult</code> or using a <code>TestSubscriber</code>PS: you can use <code>Observable.fromCallable(() -&gt; longMethod());</code> instead of <code>Observable.defer(() -&gt; Observable.just(longMethod());</code> if you want Using DefferedResult<code>@RequestMapping(value = \"/\")\npublic DeferredResult&lt;HttpStatus&gt; index() {\n    DeferredResult&lt;HttpStatus&gt; deferredResult = new DeferredResult&lt;HttpStatus&gt;();\n    Observable.fromCallable(() -&gt; longMethod())\n            .subscribeOn(Schedulers.io())\n            .subscribe(value -&gt; {}, e -&gt; deferredResult.setErrorResult(e.getMessage()), () -&gt; deferredResult.setResult(HttpStatus.NO_CONTENT))\n    return deferredResult;\n}\n</code>Like this, if you call your method, you'll get your result only when your observable complete (so, when the <code>longMethod</code> is finished)Using TestSubscriberYou'll have to inject a <code>TestSubscriber</code> and when ask him to wait/check the completion of your Observable : <code>@RequestMapping(value = \"/\")\npublic HttpStatus home() {\n    Observable.defer(() -&gt; Observable.just(longMethod())\n              .subscribeOn(Schedulers.io())\n              .subscribe(subscriber); // you'll have to inject this subscriber in your test\n    return HttpStatus.NO_CONTENT;\n}\n</code>and in your test : <code> TestSubscriber subscriber = new TestSubscriber(); // you'll have to inject it into your controller\n // ....\n controller.home();\n subscriber.awaitTerminalEvent();\n subscriber.assertCompleted(); // check that no error occurred\n</code>\n", "acce_score": "361", "simquery1_title": "Generating a Random Hex Color in Python For a Django App, each \"member\" is assigned a color to help identify them. Their color is stored in the database and then printed/copied into the HTML when it is needed. The only issue is that I am unsure how to generate random <code>Hex</code> colors in python/django. It's easy enough to generate RGB colors, but to store them I would either need to a) make three extra columns in my \"Member\" model or b) store them all in the same column and use commas to separate them, then, later, parse the colors for the HTML. Neither of these are very appealing, so, again, I'm wondering how to generate random <code>Hex</code> colors in python/django.", "simquery1_answer": "I've come up with something to get the schema version in Java, but it's ugly (and not quite complete).  I hope somebody out there has something better:<code>\npublic static void main(String[] args) throws Exception {\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    String strConnectionURL = \"jdbc:derby:c:\\data\\tomcat7\\active\\LearnyErnie\\data\\derby;create=false\";\n    Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\");\n    Connection connection = DriverManager.getConnection(strConnectionURL);\n    String strCommand = \"values syscs_util.syscs_get_database_property( 'DataDictionaryVersion' );\";\n    InputStream inputStream = new ByteArrayInputStream(strCommand.getBytes(\"UTF-8\"));\n    ij.runScript(connection, inputStream, \"UTF-8\", outputStream, \"UTF-8\");\n    String strOutput = new String(outputStream.toByteArray());\n    System.out.println(\"Output = \" + strOutput);\n}\n</code>strOutput will contain the following text:<code>\nOutput = CONNECTION0* -     jdbc:derby:c:\\data\\tomcat7\\active\\LearnyErnie\\data\\derby\n* = current connection\nij> values syscs_util.syscs_get_database_property( 'DataDictionaryVersion' );\n1\n(long line of dashes taken out because it squirrels up the SO output)\n10.9\n1 row selected\nij&gt;\n</code>The schema version is \"10.9\" in the output above.  It is up to you to parse it out. (I'm not bothering with that today.  This is just for extra info in a Help -> About dialog and I will just write the whole ugly mess to the screen.)  We certainly can't count on that parsing logic to work in future versions, or even the call to syscs_get_database_property() itself.I am hoping someone out there has a more resilient way to do this.Edit:  It occurred to me later that perhaps the JDBC DatabaseMetaData object would contain info on the database schema in one of its properties, but I've examined them all and it doesn't.  They give info on the driver version only (which can be different than the database schema).\n", "simquery2_title": "Python, what's the Enum type good for? In Python 3.4, we got an Enum lib in the standard library: <code>enum</code>. We can get a backport for <code>enum</code> that works with Python 2.4 to 2.7 (and even 3.1 to 3.3), enum34 in pypi.But we've managed to get along for quite some time without this new module - so why do we now have it?I have a general idea about the purpose of enums from other languages. In Python, it has been common to use a bare class as follows and refer to this as an enum:<code>class Colors:    blue = 1    green = 2    red = 3</code>This can be used in an API to create a canonical representation of the value, e.g.:<code>function_of_color(Colors.green)</code>If this has any criticisms, it's mutable, you can't iterate over it (easily), and how are we to know the semantics of the integer, <code>2</code>?Then I suppose I could just use something like a namedtuple, which would be immutable?<code>&gt;&gt;&gt; Colors = namedtuple('Colors', 'blue green red')&gt;&gt;&gt; colors = Colors('blue', 'green', 'red')&gt;&gt;&gt; colorsColors(blue='blue', green='green', red='red')&gt;&gt;&gt; list(colors)['blue', 'green', 'red']&gt;&gt;&gt; len(colors)3&gt;&gt;&gt; colors.blue'blue'&gt;&gt;&gt; colors.index(colors.blue)0</code>The creation of the namedtuple is a little redundant (we have to write each name twice), and so somewhat inelegant. Getting the \"number\" of the color is also a little inelegant (we have to write <code>colors</code> twice). Value checking will have to be done with strings, which will be a little less efficient.So back to enums.What's the purpose of enums? What value do they create for the language? When should I use them and when should I avoid them?", "simquery2_answer": "You wouldn't open the component directly. You'll need a new page/view that will show the component. When you open the window, you'll then point it at the appropriate URL.As for size, you provide it as a string in the third parameter of open, which you actually have correct:<code>window.open('http://example.com/child-path','Data','height=250,width=250');\n</code>Note, however, that browsers may, for a variety of reasons, not respect your width and height request. For that reason, it's probably a good idea to also apply appropriate CSS to get a space the right size in case it does open larger than you wanted.\n", "total_len": 681, "s1_total_len": 719, "s2_total_len": 669}
{"post_id": "29576430", "title": "Shuffle DataFrame rows", "query": "I have the following DataFrame:<code>    Col1  Col2  Col3  Type0      1     2     3     11      4     5     6     1...20     7     8     9     221    10    11    12     2...45    13    14    15     346    16    17    18     3...</code>The DataFrame is read from a CSV file. All rows which have <code>Type</code> 1 are on top, followed by the rows with <code>Type</code> 2, followed by the rows with <code>Type</code> 3, etc.I would like to shuffle the order of the DataFrame's rows so that all <code>Type</code>'s are mixed. A possible result could be:<code>    Col1  Col2  Col3  Type0      7     8     9     21     13    14    15     3...20     1     2     3     121    10    11    12     2...45     4     5     6     146    16    17    18     3...</code>How can I achieve this?", "acce_answer": "I suggest you place them relative to project with the following code<code>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)// define location relative to SOAPUI project.\nString projectPath = groovyUtils.projectPath + \"/destination/\"context.setProperty( \"RootResultFolder\", projectPath)\n</code>\n", "acce_score": "804", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "Pandas DataFrame Groupby two columns and get counts I have a pandas dataframe in the following format:<code>df = pd.DataFrame([    [1.1, 1.1, 1.1, 2.6, 2.5, 3.4,2.6,2.6,3.4,3.4,2.6,1.1,1.1,3.3],     list('AAABBBBABCBDDD'),     [1.1, 1.7, 2.5, 2.6, 3.3, 3.8,4.0,4.2,4.3,4.5,4.6,4.7,4.7,4.8],     ['x/y/z','x/y','x/y/z/n','x/u','x','x/u/v','x/y/z','x','x/u/v/b','-','x/y','x/y/z','x','x/u/v/w'],    ['1','3','3','2','4','2','5','3','6','3','5','1','1','1']]).Tdf.columns = ['col1','col2','col3','col4','col5']</code>df:<code>   col1 col2 col3     col4 col50   1.1    A  1.1    x/y/z    11   1.1    A  1.7      x/y    32   1.1    A  2.5  x/y/z/n    33   2.6    B  2.6      x/u    24   2.5    B  3.3        x    45   3.4    B  3.8    x/u/v    26   2.6    B    4    x/y/z    57   2.6    A  4.2        x    38   3.4    B  4.3  x/u/v/b    69   3.4    C  4.5        -    310  2.6    B  4.6      x/y    511  1.1    D  4.7    x/y/z    112  1.1    D  4.7        x    113  3.3    D  4.8  x/u/v/w    1</code>I want to get the count by each row like following. Expected Output:<code>col5 col2 count1    A      1     D      32    B      2etc...</code>How to get my expected output? And I want to find largest count for each 'col2' value?", "simquery2_answer": "You can do this with conditional aggregation -- using the <code>case</code> statement in an aggregation function:<code>SELECT u.id AS user_id,\n       SUM(case when p.`case` = 1 then p.amount else 0 end) AS total_amount_case1,\n       SUM(case when p.`case` = 2 then p.amount else 0 end) AS total_amount_case2\nFROM users u LEFT JOIN \n     payments p\n     on u.id = p.user_id\nGROUP BY user_id\nORDER BY user_id;\n</code>I also added table aliases to make the query a bit less cumbersome.\n", "total_len": 374, "s1_total_len": 1245, "s2_total_len": 789}
{"post_id": "29980798", "title": "Where does pip install its packages?", "query": "I activated a virtualenv which has pip installed. I did<code>pip3 install Django==1.8</code>and Django successfully downloaded. Now, I want to open up the Django folder. Where is the folder located?Normally it would be in &quot;downloads&quot;, but I'm not sure where it would be if I installed it using pip in a virtualenv.", "acce_answer": "I didn't clean this as much as I wanted, but it works. I switched it so it works on an interval instead.<code>window.addEventListener('load', function(){\nfunction calc(){\n    var dist = Math.sqrt(Math.pow(parseInt(touchobj.clientX) - startx,2) + Math.pow(parseInt(touchobj.clientY) - starty,2));\n    var angleDeg = 180 - Math.atan2((parseInt(touchobj.clientY) - starty) , (parseInt(touchobj.clientX) - startx)) * (180 / Math.PI);\n    statusdiv.innerHTML = 'Status: touchmove&lt;br&gt; Horizontal distance traveled: ' + dist + 'px';    startx = parseInt(touchobj.clientX);\n    starty = parseInt(touchobj.clientY);\n}var box1 = document.getElementById('box1');\nvar statusdiv = document.getElementById('statusdiv');\nvar startx = 0;\nvar starty = 0;\nvar dist = 0;\nvar intThing;\nvar touchobj;box1.addEventListener('touchstart', function(e){     intThing = setInterval(calc, 50);\n    e.preventDefault(); });box1.addEventListener('touchmove', function(e){    touchobj = e.changedTouches[0];    e.preventDefault();}, false)box1.addEventListener('touchend', function(e){     clearInterval(intThing);\n    e.preventDefault(); });\n}, false)\n</code>\n", "acce_score": "702", "simquery1_title": "Bypass confirmation prompt for pip uninstall I'm trying to uninstall all django packages in my superuser environment to ensure that all my webapp dependencies are installed to my virtualenv.<code>sudo susudo pip freeze | grep -E '^django-' | xargs pip -q uninstall</code>But pip wants to confirm every package uninstall, and there doesn't seem to be a <code>-y</code> option for pip. Is there a better way to uninstall a batch of python modules? Is <code>rm -rf .../site-packages/</code> a proper way to go? Is there an easy_install alternative?Alternatively, would it be better to force pip to install all dependencies to the virtualenv rather than relying on the system python modules to meet those dependencies, e.g. <code>pip --upgrade install</code>, but forcing even equally old versions to be installed to override any system modules. I tried activating my virtualenv and then <code>pip install --upgrade -r requirements.txt</code> and that does seem to install the dependencies, even those existing in my system path, but I can't be sure if that's because my system modules were old. And <code>man pip</code> doesn't seem to guarantee this behavior (i.e. installing the same version of a package that already exists in the system site-packages).", "simquery1_answer": "I think spinner have no hintBut i have small solutionyour code is<code>users.add(json.getString(Config.TAG_NAME));//this will add name to user array list\n</code>before add user names to arraylist, put below codeie.add your hint to your array<code>users.add(\"your hint\");\neg:users.add(\"select name\");\n</code>i think it will help you\n", "simquery2_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery2_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "total_len": 459, "s1_total_len": 399, "s2_total_len": 589}
{"post_id": "30216000", "title": "Why is [] faster than list()?", "query": "I recently compared the processing speeds of <code>[]</code> and <code>list()</code> and was surprised to discover that <code>[]</code> runs more than three times faster than <code>list()</code>. I ran the same test with <code>{}</code> and <code>dict()</code> and the results were practically identical: <code>[]</code> and <code>{}</code> both took around 0.128sec / million cycles, while <code>list()</code> and <code>dict()</code> took roughly 0.428sec / million cycles each.Why is this? Do <code>[]</code> and <code>{}</code> (and probably <code>()</code> and <code>''</code>, too) immediately pass back a copies of some empty stock literal while their explicitly-named counterparts (<code>list()</code>, <code>dict()</code>, <code>tuple()</code>, <code>str()</code>) fully go about creating an object, whether or not they actually have elements?I have no idea how these two methods differ but I'd love to find out.I couldn't find an answer in the docs or on SO, and searching for empty brackets turned out to be more problematic than I'd expected.I got my timing results by calling <code>timeit.timeit(\"[]\")</code> and <code>timeit.timeit(\"list()\")</code>, and <code>timeit.timeit(\"{}\")</code> and <code>timeit.timeit(\"dict()\")</code>, to compare lists and dictionaries, respectively. I'm running Python 2.7.9.I recently discovered \"Why is if True slower than if 1?\" that compares the performance of <code>if True</code> to <code>if 1</code> and seems to touch on a similar literal-versus-global scenario; perhaps it's worth considering as well.", "acce_answer": "What im trying to do is: If a cell on Column D says cars then check the last cell on the right (last cell on the row) and if the value is less than 20% then highlight. (which is the last part of the code): This is what i have so far but i cant figure out how to solve it. I have to do this for work but i'm confused thanks!<code>Worksheets(\"Report\").Activate\nCall VBADim lrow As Integer\nDim xrow As IntegerDim FR As Range\nDim MR As Range\nDim cell As Rangelrow = wsr.Cells(Rows.Count, 3).End(xlUp).Row\nxrow = wsr.Cells(Rows.Count, 3).End(xlToRight)Set FR = Range(\"D12:D\" &amp; lrow)\nFor Each cell In FR\nIf cell.Value = \"Cars\" then for cell.xrow if cell.Value &gt; 0.20 then Then cell.Interior.Color = RGB(224, 202, 224)\n</code>By Xrow i mean last cell on the row.Thanks !\n", "acce_score": "793", "simquery1_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery1_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "simquery2_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery2_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "total_len": 724, "s1_total_len": 629, "s2_total_len": 1038}
{"post_id": "30418481", "title": "Error: \" 'dict' object has no attribute 'iteritems' \"", "query": "I'm trying to use NetworkX to read a Shapefile and use the function <code>write_shp()</code> to generate the Shapefiles that will contain the nodes and edges, but when I try to run the code it gives me the following error:<code>Traceback (most recent call last):   File&quot;C:/Users/Felipe/PycharmProjects/untitled/asdf.py&quot;, line 4, in&lt;module&gt;    nx.write_shp(redVial, &quot;shapefiles&quot;)   File &quot;C:\\Python34\\lib\\site-packages\\networkx\\readwrite\\nx_shp.py&quot;, line192, in write_shp    for key, data in e[2].iteritems(): AttributeError: 'dict' object has no attribute 'iteritems'</code>I'm using Python 3.4 and installed NetworkX via pip install.Before this error it had already given me another one that said &quot;xrange does not exist&quot; or something like that, so I looked it up and just changed <code>xrange</code> to <code>range</code> in the nx_shp.py file, which seemed to solve it.From what I've read it could be related to the Python version (Python2 vs Python3).", "acce_answer": "A char is a type that has a value. This value is defined in unicode so that <code>65</code> is a upper case <code>A</code> and a <code>66</code> is an upper case <code>B</code>. All characters has an integer value and <code>char-&gt;integer</code> converts from characters to the numeric unicode value and <code>integer-&gt;char</code> convert from unicode value to a character. The numeric characters start at <code>48</code> (<code>#x30</code>) which is the zero to <code>57</code> (<code>#x39</code>) which is a nine. Thus <code>(list-&gt;string (list #\\a #\\b (integer-&gt;number #x33))) ; ==&gt; \"ab3\"</code>A numeric value can be converted to a string with <code>number-&gt;string</code>. eg. <code>(number-&gt;string 123) =&gt; \"123\"</code>. This is displayed in base 10 but if you perhaps want it displayed in hex you can <code>(number-&gt;string 123 16) ;==&gt; \"7b\"</code>. Note that <code>list-&gt;string</code> only takes a list of chars and cannot have other elements like numbers in them. You may join many strings together with <code>string-append</code>:<code>(string-append (list-&gt;string '(#\\a #\\b))\n               (number-&gt;string #x7b)\n               \"c\") \n; ==&gt; \"ab123c\"\n</code>\n", "acce_score": "610", "simquery1_title": "Python progression path - From apprentice to guru I've been learning, working, and playing with Python for a year and a half now. As a biologist slowly making the turn to bio-informatics, this language has been at the very core of all the major contributions I have made in the lab. I more or less fell in love with the way Python permits me to express beautiful solutions and also with the semantics of the language that allows such a natural flow from thoughts to workable code.What I would like to know is your answer to a kind of question I have seldom seen in this or other forums. This question seems central to me for anyone on the path to Python improvement but who wonders what his next steps should be.Let me sum up what I do NOT want to ask first ;)I don't want to know how to QUICKLY learn PythonNor do I want to find out the best way to get acquainted with the languageFinally, I don't want to know a 'one trick that does it all' approach.What I do want to know your opinion about, is:What are the steps YOU would recommend to a Python journeyman, from apprenticeship to guru status (feel free to stop wherever your expertise dictates it), in order that one IMPROVES CONSTANTLY, becoming a better and better Python coder, one step at a time. Some of the people on SO almost seem worthy of worship for their Python prowess, please enlighten us :)The kind of answers I would enjoy (but feel free to surprise the readership :P ), is formatted more or less like this:Read this (eg: python tutorial), pay attention to that kind of detailsCode for so manytime/problems/lines of codeThen, read this (eg: this or that book), but this time, pay attention to thisTackle a few real-life problemsThen, proceed to reading Y.Be sure to grasp these conceptsCode for X timeCome back to such and such basics or move further to...(you get the point :)I really care about knowing your opinion on what exactly one should pay attention to, at various stages, in order to progress CONSTANTLY (with due efforts, of course). If you come from a specific field of expertise, discuss the path you see as appropriate in this field.EDIT: Thanks to your great input, I'm back on the Python improvement track! I really appreciate!", "simquery1_answer": "EDIT:Based on your updated code, you should be using <code>.prev()</code> instead of <code>.siblings()</code>.<code>$(\".input-field\").focus(function() {\n    $(this).addClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").show();\n    return false;\n});\n$(\".input-field\").blur(function() {\n    $(this).removeClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").hide();\n    return false;\n});\n</code>\nhttp://api.jquery.com/prev/\nhttp://api.jquery.com/siblings/\nOriginal answer:Your code works fine: http://jsfiddle.net/D9qnk/My guess is that your are initially hiding the <code>.label-info</code> using <code>visibility: hidden;</code> instead of <code>display:none;</code>If that's the case, switch your css to use <code>display:none</code> instead.<code>.label-info {\n    display: none;\n}\u200b\n</code>Or if you want to use the <code>visibility</code> property, then change its value using <code>.css()</code>:<code>$(this).siblings(\".label-info\").css('visibility','visible');...$(this).siblings(\".label-info\").css('visibility','hidden');\n</code>\n", "simquery2_title": "How can I improve my paw detection? After my previous question on finding toes within each paw, I started loading up other measurements to see how it would hold up. Unfortunately, I quickly ran into a problem with one of the preceding steps: recognizing the paws.You see, my proof of concept basically took the maximal pressure of each sensor over time and would start looking for the sum of each row, until it finds on that != 0.0. Then it does the same for the columns and as soon as it finds more than 2 rows with that are zero again. It stores the minimal and maximal row and column values to some index.As you can see in the figure, this works quite well in most cases. However, there are a lot of downsides to this approach (other than being very primitive):Humans can have 'hollow feet' which means there are several empty rows within the footprint itself. Since I feared this could happen with (large) dogs too, I waited for at least 2 or 3 empty rows before cutting off the paw. This creates a problem if another contact made in a different column before it reaches several empty rows, thus expanding the area. I figure I could compare the columns and see if they exceed a certain value, they must be separate paws.The problem gets worse when the dog is very small or walks at a higher pace. What happens is that the front paw's toes are still making contact, while the hind paw's toes just start to make contact within the same area as the front paw!With my simple script, it won't be able to split these two, because it would have to determine which frames of that area belong to which paw, while currently I would only have to look at the maximal values over all frames.Examples of where it starts going wrong:So now I'm looking for a better way of recognizing and separating the paws (after which I'll get to the problem of deciding which paw it is!).Update:I've been tinkering to get Joe's (awesome!) answer implemented, but I'm having difficulties extracting the actual paw data from my files.The coded_paws shows me all the different paws, when applied to the maximal pressure image (see above). However, the solution goes over each frame (to separate overlapping paws) and sets the four Rectangle attributes, such as coordinates or height/width. I can't figure out how to take these attributes and store them in some variable that I can apply to the measurement data. Since I need to know for each paw, what its location is during which frames and couple this to which paw it is (front/hind, left/right).So how can I use the Rectangles attributes to extract these values for each paw?I have the measurements I used in the question setup in my public Dropbox folder (example 1, example 2, example 3). For anyone interested I also set up a blog to keep you up to date :-)", "simquery2_answer": "You're rescuing the exception, so it won't log it because nothing bad actually happened since it was, in fact, \"rescued\".You can put the following code within your <code>rescue</code> block to put an entry in the log:<code>logger.warn \"Exception rescued!\"\n</code>You can read more about using the logger in the Rails Guides.\n", "total_len": 738, "s1_total_len": 860, "s2_total_len": 745}
{"post_id": "7065164", "title": "How to make a datetime object aware (not naive)", "query": "What I need to doI have a timezone-unaware datetime object, to which I need to add a time zone in order to be able to compare it with other timezone-aware datetime objects. I do not want to convert my entire application to timezone unaware for this one legacy case.What I've TriedFirst, to demonstrate the problem:<code>Python 2.6.1 (r261:67515, Jun 24 2010, 21:47:49) [GCC 4.2.1 (Apple Inc. build 5646)] on darwinType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.&gt;&gt;&gt; import datetime&gt;&gt;&gt; import pytz&gt;&gt;&gt; unaware = datetime.datetime(2011,8,15,8,15,12,0)&gt;&gt;&gt; unawaredatetime.datetime(2011, 8, 15, 8, 15, 12)&gt;&gt;&gt; aware = datetime.datetime(2011,8,15,8,15,12,0,pytz.UTC)&gt;&gt;&gt; awaredatetime.datetime(2011, 8, 15, 8, 15, 12, tzinfo=&lt;UTC&gt;)&gt;&gt;&gt; aware == unawareTraceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;TypeError: can't compare offset-naive and offset-aware datetimes</code>First, I tried astimezone:<code>&gt;&gt;&gt; unaware.astimezone(pytz.UTC)Traceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;ValueError: astimezone() cannot be applied to a naive datetime&gt;&gt;&gt;</code>It's not terribly surprising this failed, since it's actually trying to do a conversion.  Replace seemed like a better choice (as per How do I get a value of datetime.today() in Python that is &quot;timezone aware&quot;?):<code>&gt;&gt;&gt; unaware.replace(tzinfo=pytz.UTC)datetime.datetime(2011, 8, 15, 8, 15, 12, tzinfo=&lt;UTC&gt;)&gt;&gt;&gt; unaware == awareTraceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;TypeError: can't compare offset-naive and offset-aware datetimes&gt;&gt;&gt; </code>But as you can see, replace seems to set the tzinfo, but not make the object aware.  I'm getting ready to fall back to doctoring the input string to have a timezone before parsing it (I'm using dateutil for parsing, if that matters), but that seems incredibly kludgy.Also, I've tried this in both Python 2.6 and Python 2.7, with the same results.ContextI am writing a parser for some data files. There is an old format I need to support where the date string does not have a timezone indicator. I've already fixed the data source, but I still need to support the legacy data format. A one time conversion of the legacy data is not an option for various business BS reasons. While in general, I do not like the idea of hard-coding a default timezone, in this case it seems like the best option. I know with reasonable confidence that all the legacy data in question is in UTC, so I'm prepared to accept the risk of defaulting to that in this case.", "acce_answer": "On my webpage I need to pass a variable called deskname to a popup. My problem is that many of the desknames have a &amp; in the middle (ex: Laundry &amp; Tobacco). So when I try to include this variable, it cuts off the second half because the URL takes anything after the &amp; to be a new variable.Here is my code:<code>onmouseover=\"javascript:openPopup('TCW_BannerIPGChart.aspx?IPG_assigned=&lt;%# Eval(\"IPG_assigned\")%&gt;&amp;banner=Southern California Division&amp;enterprise_zone=1&amp;deskname=&lt;%# Eval(\"deskname\")%&gt;')\"\n</code>Any suggestions on how to get the variable to pass unhindered? I've read some suggestions of using encodeURIcomponent but couldn't find a good explanation of how to employ it in this case. Ideally I'd be able to handle the javascript in this line, rather than writing the javascript separately but if that's the only way to do that please let me know.Thanks,\nTucker\n", "acce_score": "780", "simquery1_title": "Python pytz timezone function returns a timezone that is off by 9 minutes For some reason which I haven't been able to figure out yet, from the the following code:<code>&gt;&gt;&gt; from pytz import timezone&gt;&gt;&gt; timezone('America/Chicago')</code>I get:<code>&lt;DstTzInfo 'America/Chicago' LMT-1 day, 18:09:00 STD&gt;</code>When, I assume, I should get:<code>&lt;DstTzInfo 'America/Chicago' LMT-1 day, 18:00:00 STD&gt;</code>...since I don't think that my timezone is 6 hours and 9 minutes away from UTC.I have looked at the source code for <code>pytz</code> but I will admit that I haven't exactly been able to figure out what is going wrong.I have passed other values to the <code>timezone()</code> function, and the values it returns appear to be correct. For some reason though, the information relevant to my timezone is not correct.Finally, my co-worker in the cube   next to me has confirmed that the function returns the correct timezone info on his machine.Does anyone have any idea why my timezone (<code>'America/Chicago'</code>) would be off by 9 minutes? I am running version <code>2015.7</code> of <code>pytz</code> installed using <code>pip</code>. Thank you!", "simquery1_answer": "I'm currently working on a visualisation of shipping data and I'm trying to create a line graph where the xAxis is 00:00 to 23:59 on a specific day and the yAxis is the amount of ships at a specific minute during that day. I managed to create an array which contains 1440 Objects (one for each minute). Each object in that array looks like the following:Object with data at 00:00 hoursObject with data at 00:01 hoursThis is the code snippet I use to create said array.\n\r\n\r\n<code>var shipTotal = d3.nest()\r\n  .key(function(d) {\r\n    return d.Timestamp; \r\n   })\r\n  .sortKeys(d3.ascending)\r\n  .rollup(function(d){\r\n    return d3.sum(d, function(g) { \r\n    return +g.Enen;\r\n  });\r\n})\r\n\r\n.entries(data);</code>\r\n\r\n\r\nLater in my code I try to create a line variable where the X is the timestamp in my main dataset and the Y is the value in the array I created, which is the amount of ships at that specific minute.\r\n\r\n<code>var lijn1 = d3.line()\r\n  .x(function(d){\r\n    return xScale(shipTotal[d.key]);\r\n  })\r\n  .y(function(d, value){\r\n    return yScale(shipTotal[d.value]);\r\n  });</code>\r\n\r\n\r\nI understand that the X is most likely wrong as well but the line in the code has no X nor a Y coordinate. In the web browser console the line shows d=\"MNaN,NaNLNaN,NaNLNaN... times 1440.Lastly, the code snippet where I append the path.\r\n\r\n<code>chartGroup.append(\"path\")\r\n.data([shipTotal])\r\n.attr(\"class\", \"lijntje1\")\r\n.attr(\"d\", lijn1(shipTotal ))\r\n.attr(\"stroke\", \"red\")\r\n.attr(\"fill\", \"none\");</code>\r\n\r\n\r\nIf anyone could help me out here, that would be amazing. I can provide more information if necessary.\n", "simquery2_title": "How to convert Python's .isoformat() string back into datetime object So in Python 3, you can generate an ISO 8601 date with .isoformat(), but you can't convert a string created by isoformat() back into a datetime object because Python's own datetime directives don't match properly. That is, %z = 0500 instead of 05:00 (which is produced by .isoformat()).For example:<code>&gt;&gt;&gt; strDate = d.isoformat()&gt;&gt;&gt; strDate'2015-02-04T20:55:08.914461+00:00'&gt;&gt;&gt; objDate = datetime.strptime(strDate,\"%Y-%m-%dT%H:%M:%S.%f%z\")Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;  File \"C:\\Python34\\Lib\\_strptime.py\", line 500, in _strptime_datetime    tt, fraction = _strptime(data_string, format)  File \"C:\\Python34\\Lib\\_strptime.py\", line 337, in _strptime    (data_string, format))ValueError: time data '2015-02-04T20:55:08.914461+00:00' does not match format '%Y-%m-%dT%H:%M:%S.%f%z'</code>From Python's strptime documentation: (https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior)  %z    UTC offset in the form +HHMM or -HHMM (empty string if the the  object is naive).    (empty), +0000, -0400, +1030So, in short, Python does not even adhere to its own string formatting directives.I know datetime is already terrible in Python, but this really goes beyond unreasonable into the land of plain stupidity.Tell me this isn't true.", "simquery2_answer": "Why this code doesn't work? Error call in foreach.<code>$notifications = $this-&gt;db-&gt;select('id, shopping_region_id')\n        -&gt;from('push_notifications')\n        -&gt;where('date&lt;=NOW()')\n        -&gt;get()-&gt;result();    foreach ($notifications as $notification)\n    {\n        $test = $this-&gt;db-&gt;select('user_id, shopping_region_id')\n            -&gt;from('user')\n            -&gt;where('shopping_region_id=',$notification-&gt;shopping_region_id)\n            -&gt;get()-&gt;result();        print_r($test);    }\n</code>\n  PHP Fatal error: Call to a member function result() on boolean in", "total_len": 1203, "s1_total_len": 882, "s2_total_len": 733}
{"post_id": "7243750", "title": "Download file from web in Python 3", "query": "I am creating a program that will download a .jar (java) file from a web server, by reading the URL that is specified in the .jad file of the same game/application. I'm using Python 3.2.1I've managed to extract the URL of the JAR file from the JAD file (every JAD file contains the URL to the JAR file), but as you may imagine, the extracted value is type() string. Here's the relevant function:<code>def downloadFile(URL=None):    import httplib2    h = httplib2.Http(\".cache\")    resp, content = h.request(URL, \"GET\")    return contentdownloadFile(URL_from_file)</code>However I always get an error saying that the type in the function above has to be bytes, and not string. I've tried using the URL.encode('utf-8'), and also bytes(URL,encoding='utf-8'), but I'd always get the same or similar error.So basically my question is how to download a file from a server when the URL is stored in a string type?", "acce_answer": "How about this simple add to that function?<code>   function coord() {            var metro = new YMaps.Metro.Closest(new YMaps.GeoPoint(&lt;?=getCoords($addr) ?&gt;), { results : 1 } )            YMaps.Events.observe(metro, metro.Events.Load, function (metro) {\n                if (metro.length()) {\n                    metro.setStyle(\"default#greenSmallPoint\");\n                    var firstStation = metro.get(0);\n                    var tubest = (firstStation.text).split(\"\u043c\u0435\u0442\u0440\u043e \");\n                        var tube = tubest[1];\n</code>$('div#myDivResult').html(tube)<code>                        if($(\"span#tubest\").text() == '') {\n                        $('.whiteover').hide();\n                    }\n                } else {\n                    if($(\"span#tubest\").text() == '') {\n                        $('.whiteover').hide();\n                    }\n                }\n            });\n</code>}\n", "acce_score": "441", "simquery1_title": "Python: download files from google drive using url I am trying to download files from google drive and all I have is the drive's URL.I have read about google API that talks about some <code>drive_service</code> and <code>MedioIO</code>, which also requires some credentials( mainly JSON <code>file/OAuth</code>). But I am unable to get any idea about how it is working.Also, tried <code>urllib2.urlretrieve</code>, but my case is to get files from the drive. Tried <code>wget</code> too but no use.Tried <code>PyDrive</code> library. It has good upload functions to drive but no download options.Any help will be appreciated.Thanks.", "simquery1_answer": "I'm making lots of assumptions since your question doesn't have much detail. Here is some generic code assuming that everything is in 1 table: <code>Update employees\nset salary = salary * .85 \nwhere training_course_completed &lt; '2012-11-15' \nand start_date &gt; '2013-02-05'\n;\n</code>\n", "simquery2_title": "Which is best in Python: urllib2, PycURL or mechanize? Ok so I need to download some web pages using Python and did a quick investigation of my options.Included with Python:urllib - seems to me that I should use urllib2 instead. urllib has no cookie support, HTTP/FTP/local files only (no SSL)urllib2 - complete HTTP/FTP client, supports most needed things like cookies, does not support all HTTP verbs (only GET and POST, no TRACE, etc.)Full featured:mechanize - can use/save Firefox/IE cookies, take actions like follow second link, actively maintained (0.2.5 released in March 2011)PycURL - supports everything curl does (FTP, FTPS, HTTP, HTTPS, GOPHER, TELNET, DICT, FILE and LDAP), bad news: not updated since Sep 9, 2008 (7.19.0)New possibilities:urllib3 - supports connection re-using/pooling and file postingDeprecated (a.k.a. use urllib/urllib2 instead):httplib - HTTP/HTTPS only (no FTP)httplib2 - HTTP/HTTPS only (no FTP)The first thing that strikes me is that urllib/urllib2/PycURL/mechanize are all pretty mature solutions that work well. mechanize and PycURL ship with a number of Linux distributions (e.g. Fedora 13) and BSDs so installation is a non issue typically (so that's good). urllib2 looks good but I'm wondering why PycURL and mechanize both seem very popular, is there something I am missing (i.e. if I use urllib2 will I paint myself in to a corner at some point?). I'd really like some feedback on the pros/cons of these things so I can make the best choice for myself. Edit: added note on verb support in urllib2", "simquery2_answer": "I've stumbled recently upon a problem. I have several partial which are in several actions and have different way of displaying data, hence I used the contextual option in cache.yml as such :<code>_list:\n  enabled: true\n  contextual: true\n</code>Now I needed to remove the partial cache when the data was updated, which is normally pretty easy when dealing with non-contextual partial cache or action cache.However when I try to remove this cache, I only get null return values, and the cache is not removed. Like this :<code>$uri = '@sf_cache_partial?module=comment&amp;action=_list&amp;sf_cache_key='.$id;\n$cache_manager = $this-&gt;getContext()-&gt;getViewCacheManager();\n$cache_manager-&gt;has($uri) // return true\n$cache_manager-&gt;remove($uri) // return null\n$cache_manager-&gt;has($uri) // return true, cache is still there\n</code>I tried to fiddle with the fourth option of sfViewCacheManager::remove, which is the context, as such :<code>$context = 'space/show/sf_culture/fr/slug/'.$slug.'/tab/news/comment/_list/'.$id;\n$cache_manager-&gt;remove($uri, '', '', $context); // return null\n</code>Anyone know how to do this ? I'm getting desperate :PThanks.\n", "total_len": 512, "s1_total_len": 270, "s2_total_len": 785}
{"post_id": "7263824", "title": "Get HTML source of WebElement in Selenium WebDriver using Python", "query": "I'm using the Python bindings to run Selenium WebDriver:<code>from selenium import webdriverwd = webdriver.Firefox()</code>I know I can grab a webelement like so:<code>elem = wd.find_element_by_css_selector('#my-id')</code>And I know I can get the full page source with...<code>wd.page_source</code>But is there a way to get the &quot;element source&quot;?<code>elem.source   # &lt;-- returns the HTML as a string</code>The Selenium WebDriver documentation for Python are basically non-existent and I don't see anything in the code that seems to enable that functionality.What is the best way to access the HTML of an element (and its children)?", "acce_answer": "The idea you have is right. Note that, finding the path between <code>u</code> and <code>v</code> is <code>O(n)</code>. I'll assume you have a <code>parent array</code> identifying the MST. tracking the path (for max edge) from <code>u</code> to <code>v</code> or <code>u</code> to <code>root vertex</code> should take only <code>O(n)</code>. If you reach <code>root vertex</code>, just track the path from <code>v</code> to <code>u</code> or <code>root vertex</code>. Now that you have the path from <code>u -&gt; u1 ... -&gt; max_path_vert1 -&gt; max_path_vert2 -&gt; ... -&gt; v</code>, remove the edge <code>max_path_vert1-&gt;max_path_vert2</code> (assuming this is greater than the added edge) and reverse the parents for <code>u-&gt;...-&gt;max_path_vert1</code> and mark <code>parent[u] = v</code>. Edit: More explanation for clarityNote that, in MST there will be exactly one path between any pair of vertices. So, if you can trace from <code>u-&gt;y</code> and <code>v-&gt;y</code>, you have only traced through atmost <code>n</code> vertices. If you traced more than <code>n</code> vertices that means you visited a vertex twice, which will not happen in an MST. Ok, now hopefully you're convinced it's O(n) to track from <code>u-&gt;y</code> and <code>v-&gt;y</code>. Once you have these paths, you have established a path from <code>u-&gt;v</code>. Do you see how? I'm assuming this is an undirected graph, since finding MST for directed graph is a different concept in itself. For undirected graph, when you have a path from <code>x-&gt;y</code> you have a path from <code>y-x</code>. So, <code>u-&gt;y-&gt;v</code> exist. You don't even need to trace back from <code>y-&gt;v</code>, since weights for <code>v-&gt;y</code> will be same as that of <code>y-&gt;v</code>. Just find the edge with the maximum weight when you trace from <code>u-&gt;y</code> and <code>v-&gt;y</code>.Now for finding edge weights in O(1); how are you storing your current weights? Adjacency list or adjacency matrix? For O(1) access, store it the way parent vertex array is stored. So, <code>weight[v] = weight(v, parent[v])</code>. So, you'll have O(1) access. Hope this helps.\n", "acce_score": "648", "simquery1_title": "Checking if an element exists with Python Selenium I have a problem; I am using the Selenium (Firefox) web driver to open a webpage, click a few links, etc., and then capture a screenshot.My script runs fine from the CLI, but when run via a cron job it is not getting past the first find_element() test. I need to add some debug, or something to help me figure out why it is failing.Basically, I have to click a 'log in' anchor before going to the login page. The construct of the element is:<code>&lt;a class=&quot;lnk&quot; rel=&quot;nofollow&quot; href=&quot;/login.jsp?destination=/secure/Dash.jspa&quot;&gt;log in&lt;/a&gt;</code>I am using the find_element By LINK_TEXT method:<code>login = driver.find_element(By.LINK_TEXT, &quot;log in&quot;).click()</code>A) How do I check that the link is actually being picked up by Python? Should I use try/catch block?B) Is there a better/more reliable way to locate the DOM element than by LINK_TEXT? E.g., in jQuery, you can use a more specific selector, $('a.lnk:contains(log in)').do_something();I have solved the main problem and it was just finger trouble. I was calling the script with incorrect parameters - a simple mistake.I'd still like some pointers on how to check whether an element exists. Also, an example/explanation of implicit / explicit Waits instead of using a crappy time.sleep() call.", "simquery1_answer": "Use number_format()\n  string number_format(float $number, int $decimals = 0, string $dec_point = '.', string $thousands_sep = ',' )\nBy default, thousands are seperated by <code>,</code>, that's why you need to pass all four arguments:<code>number_format(3.41002E+13, 0, \".\", \"\");\n34100200000000\n</code>As you can see, you have an additional problem: You lose precision - sort of at least: It was never there in the first place.\n", "simquery2_title": "Get HTML source of WebElement in Selenium WebDriver using Python I'm using the Python bindings to run Selenium WebDriver:<code>from selenium import webdriverwd = webdriver.Firefox()</code>I know I can grab a webelement like so:<code>elem = wd.find_element_by_css_selector('#my-id')</code>And I know I can get the full page source with...<code>wd.page_source</code>But is there a way to get the &quot;element source&quot;?<code>elem.source   # &lt;-- returns the HTML as a string</code>The Selenium WebDriver documentation for Python are basically non-existent and I don't see anything in the code that seems to enable that functionality.What is the best way to access the HTML of an element (and its children)?", "simquery2_answer": "The idea you have is right. Note that, finding the path between <code>u</code> and <code>v</code> is <code>O(n)</code>. I'll assume you have a <code>parent array</code> identifying the MST. tracking the path (for max edge) from <code>u</code> to <code>v</code> or <code>u</code> to <code>root vertex</code> should take only <code>O(n)</code>. If you reach <code>root vertex</code>, just track the path from <code>v</code> to <code>u</code> or <code>root vertex</code>. Now that you have the path from <code>u -&gt; u1 ... -&gt; max_path_vert1 -&gt; max_path_vert2 -&gt; ... -&gt; v</code>, remove the edge <code>max_path_vert1-&gt;max_path_vert2</code> (assuming this is greater than the added edge) and reverse the parents for <code>u-&gt;...-&gt;max_path_vert1</code> and mark <code>parent[u] = v</code>. Edit: More explanation for clarityNote that, in MST there will be exactly one path between any pair of vertices. So, if you can trace from <code>u-&gt;y</code> and <code>v-&gt;y</code>, you have only traced through atmost <code>n</code> vertices. If you traced more than <code>n</code> vertices that means you visited a vertex twice, which will not happen in an MST. Ok, now hopefully you're convinced it's O(n) to track from <code>u-&gt;y</code> and <code>v-&gt;y</code>. Once you have these paths, you have established a path from <code>u-&gt;v</code>. Do you see how? I'm assuming this is an undirected graph, since finding MST for directed graph is a different concept in itself. For undirected graph, when you have a path from <code>x-&gt;y</code> you have a path from <code>y-x</code>. So, <code>u-&gt;y-&gt;v</code> exist. You don't even need to trace back from <code>y-&gt;v</code>, since weights for <code>v-&gt;y</code> will be same as that of <code>y-&gt;v</code>. Just find the edge with the maximum weight when you trace from <code>u-&gt;y</code> and <code>v-&gt;y</code>.Now for finding edge weights in O(1); how are you storing your current weights? Adjacency list or adjacency matrix? For O(1) access, store it the way parent vertex array is stored. So, <code>weight[v] = weight(v, parent[v])</code>. So, you'll have O(1) access. Hope this helps.\n", "total_len": 920, "s1_total_len": 520, "s2_total_len": 918}
{"post_id": "7571635", "title": "Fastest way to check if a value exists in a list", "query": "What is the fastest way to check if a value exists in a very large list?", "acce_answer": "If, by accident, you can wrap your video into html5 video tag, then all you need is calling a canvas <code>drawImage</code> method with this video passed as a parameter. Here is an example, how to do this - http://www.sanraul.com/2009/12/17/using-html5-canvas-to-capture-frames-from-a-video/.The variant with Flash solution is possible, but far from my competence. The last variant is overly complicated, IMHO.\n", "acce_score": "1214", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "Check element exists in array In PHP there a function called <code>isset()</code> to check if something (like an array index) exists and has a value. How about Python?I need to use this on arrays because I get \"IndexError: list index out of range\" sometimes.I guess I could use try/catching, but that's a last resort.", "simquery2_answer": "Solution can be found here :<code>public void onCreate(Bundle savedInstanceState) {edittext = (EditText) findViewById(R.id.EditText01);edittext.setOnEditorActionListener(new OnEditorActionListener() {\n      public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n         if (event != null&amp;&amp; (event.getKeyCode() == KeyEvent.KEYCODE_ENTER)) {\n            InputMethodManager in = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n            in.hideSoftInputFromWindow(edittext.getApplicationWindowToken(),InputMethodManager.HIDE_NOT_ALWAYS);\n         }\n         return false;\n      }\n   });\n}\n</code>\n", "total_len": 155, "s1_total_len": 337, "s2_total_len": 264}
{"post_id": "7585435", "title": "Best way to convert string to bytes in Python 3?", "query": "TypeError: &#39;str&#39; does not support the buffer interface suggests two possible methods to convert a string to bytes:<code>b = bytes(mystring, 'utf-8')b = mystring.encode('utf-8')</code>Which method is more Pythonic?See Convert bytes to a string for the other way around.", "acce_answer": "If you're using jQuery then you should properly harness the powers of AJAX and working with php and javascript together. Not only will this offer a slick UX, but it's flexible and easy. I believe this tutorial will best suit your needs:http://www.9lessons.info/2009/01/delete-record-using-ajax-get-method-and.htmlAlso, instead of echo'ing out all of your JavaScript, if you need to pass a variable in from php do it like so:<code>var myJavaScriptVariable = &lt;?=myPHPvariable?&gt;; //if its a number\nvar myJavaScriptVariable = '&lt;?=myPHPvariable?&gt;'; //if its a string\n</code>You could also initiate an AJAX request on page load to a php script then receive variables in that form\n", "acce_score": "1420", "simquery1_title": "Best way to convert string to bytes in Python 3? TypeError: &#39;str&#39; does not support the buffer interface suggests two possible methods to convert a string to bytes:<code>b = bytes(mystring, 'utf-8')b = mystring.encode('utf-8')</code>Which method is more Pythonic?See Convert bytes to a string for the other way around.", "simquery1_answer": "If you're using jQuery then you should properly harness the powers of AJAX and working with php and javascript together. Not only will this offer a slick UX, but it's flexible and easy. I believe this tutorial will best suit your needs:http://www.9lessons.info/2009/01/delete-record-using-ajax-get-method-and.htmlAlso, instead of echo'ing out all of your JavaScript, if you need to pass a variable in from php do it like so:<code>var myJavaScriptVariable = &lt;?=myPHPvariable?&gt;; //if its a number\nvar myJavaScriptVariable = '&lt;?=myPHPvariable?&gt;'; //if its a string\n</code>You could also initiate an AJAX request on page load to a php script then receive variables in that form\n", "simquery2_title": "Why does base64.b64encode() return a bytes object? The purpose of <code>base64.b64encode()</code> is to convert binary data into ASCII-safe \"text\". However, the method returns an object of type bytes:<code>&gt;&gt;&gt; import base64&gt;&gt;&gt; base64.b64encode(b'abc')b'YWJj'</code>It's easy to simply take that output and <code>decode()</code> it, but my question is: what is a significance of <code>base64.b64encode()</code> returning <code>bytes</code> rather than a <code>str</code>?", "simquery2_answer": "VGG expects a different preprocessing than <code>rescale = 1/255.</code>. You can import the proper preprocessing input function from the same module and give it to the <code>ImageDataGenerator</code>: <code>from keras.applications.vgg16 import preprocess_input\ntrain_datagen = ImageDataGenerator(preprocessing_function=preprocess_input)\n</code>Note that you should omit the <code>rescale</code> argument as this is handled by the preprocessing function. See also this answer. If that doesn't help, I suggest you try freezing the entire convolutional base and only training the top classifier. The convolutional base contains pretrained weights, whereas the weights in the top classifier are randomly initialized. This might cause large gradient updates to the pretrained weights which renders them useless. In addition, you don't have that many data so it might a good idea to freeze the convolutional stack regardless of whether it causes your issue here.  See this answer for an example of someone who ran into this problem with VGG. Your model definition looks correct apart from that. \n", "total_len": 286, "s1_total_len": 284, "s2_total_len": 422}
{"post_id": "7604966", "title": "Maximum and Minimum values for ints", "query": "How do I represent minimum and maximum values for integers in Python? In Java, we have <code>Integer.MIN_VALUE</code> and <code>Integer.MAX_VALUE</code>.See also: What is the maximum float in Python?.", "acce_answer": "There is no way to take \"the image from Graphics\", as you ask, but it is not very hard to just create BufferedImage and then draw the image into it, instead. If anything, AWT's imaging model is quite complex, and you'll have to construct a couple of auxiliary data structures and stuff, but here's a template which creates 32-bit RGBA images:<code>private static final ComponentColorModel colormodel =\n    new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB),\n                            new int[] {8, 8, 8, 8}, true, false,\n                            ComponentColorModel.TRANSLUCENT, DataBuffer.TYPE_BYTE);\npublic static BufferedImage makeimage(int w, int h) {\n    WritableRaster buf = Raster.createInterleavedRaster(DataBuffer.TYPE_BYTE, w, h, 4, null);\n    return(new BufferedImage(colormodel, buf, false, null));\n}\n</code>Once you have a BufferedImage as created by <code>makeimage()</code>, just call <code>getGraphics()</code> on it and paint to your heart's content.\n", "acce_score": "1169", "simquery1_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery1_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "simquery2_title": "Difference between the built-in pow() and math.pow() for floats, in Python? Is there a difference in the results returned by Python's built-in <code>pow(x, y)</code> (no third argument) and the values returned by <code>math.pow()</code>, in the case of two float arguments.I am asking this question because the documentation for <code>math.pow()</code> implies that <code>pow(x, y)</code> (i.e. <code>x**y</code>) is essentially the same as <code>math.pow(x, y)</code>:  math.pow(x, y)    Return x raised to the power y. Exceptional cases  follow Annex \u2018F\u2019 of the C99 standard as far as possible. In  particular, pow(1.0, x) and pow(x, 0.0) always return 1.0, even when x  is a zero or a NaN. If both x and y are finite, x is negative, and y  is not an integer then pow(x, y) is undefined, and raises ValueError.    Changed in version 2.6: The outcome of 1**nan and nan**0 was undefined.Note the last line: the documentation implies that the behavior of <code>math.pow()</code> is that of the exponentiation operator <code>**</code> (and therefore of <code>pow(x, y)</code>).  Is this officially guaranteed?Background: My goal is to provide an implementation of both the built-in <code>pow()</code> and of <code>math.pow()</code> for numbers with uncertainty that behaves in the same way as with regular Python floats (same numerical results, same exceptions, same results for corner cases, etc.). I have already implemented something that works quite well, but there are some corner cases that need to be handled.", "simquery2_answer": "Try removing the <code>belongsTo</code> in your <code>Phone</code> class.  By defining <code>cascades</code> in the mapping of <code>Network</code> you don't need the <code>belongsTo</code>, as that defines only a save-delete cascade for the relationship.\n", "total_len": 343, "s1_total_len": 218, "s2_total_len": 509}
{"post_id": "7696924", "title": "How do I create multiline comments in Python?", "query": "How do I make multi-line comments? Most languages have block comment symbols like:<code>/**/</code>", "acce_answer": "I would like to add styling to the body tag, currently I end up with this code:<code>&lt;body class=\"xspView tundra\"&gt;\n&lt;div style=\"margin: 0px\"&gt;\n</code>but I would like to achieve this:<code>&lt;body class=\"xspView tundra\" style=\"margin: 0px\"&gt;\n</code>Is this possible without removing existing functionality (i.e. without removing dojo and default xpages functionality)?\n", "acce_score": "1390", "simquery1_title": "How to write an inline-comment in Python Is there a method of ending single line comments in Python?Something like<code>/* This is my comment */ some more code here...</code>", "simquery1_answer": "I've experienced strange behavior of WebSphere AdminClient using RMI connector. Having a testing web application (one servlet) deployed on WAS 7 standalone server (server name: server1), port range 20000-20050. The servlet should open an AdminClient to the WAS 6.1 standalone server (server name: server1), port range 20200-20250 using RMI connector:<code>Properties props = new Properties();\nprops.setProperty(AdminClient.CONNECTOR_HOST, \"localhost\");\nprops.setProperty(AdminClient.CONNECTOR_PORT, \"20209\"); // ORB, BOOTSTRAP is 20204, both behave the same\nprops.setProperty(AdminClient.CONNECTOR_TYPE,     AdminClient.CONNECTOR_TYPE_RMI);\nprops.setProperty(AdminClient.CONNECTOR_SECURITY_ENABLED, \"true\");\nprops.setProperty(AdminClient.CONNECTOR_AUTO_ACCEPT_SIGNER, \"true\");\nprops.setProperty(AdminClient.USERNAME, \"someuser\");\nprops.setProperty(AdminClient.PASSWORD, \"somepassword\");AdminClient ac = AdminClientFactory.createAdminClient(props);// locate and stop server1 \nSet servers = ac.queryNames(new ObjectName(\"WebSphere:type=Server,name=server1,*\"), null);\nif(!servers.isEmpty()) {\n    ObjectName server = (ObjectName) servers.iterator().next();\n    if(server != null) {\n        ac.invoke( server, \"stop\", null, null );\n    }\n} \n</code>Now the problem is that such an AdminClient connects to the local (WAS 7, port range 20000-20050) process and stops it (since it has the same server name: server1). HOST and PORT properties seem to be ignored, however SECURITY_ENABLED, USERNAME and PASSWORD are used (tested with wrong username / password). Any idea why it does not connect to the other server? I blame some local properties file that take precedence over the properties specified, but haven't found any yey (sas.client.props does not contain any host/port info). With SOAP connector it works perfectly fine. UPDATE\nWhen the two servers are on different machines, so HOST property is different, it really connects there. The user still must exist on both machines within the same REALM. So the problem is when the two completely independent processes (one hosting the client application and the one to connect to) reside on the same host, then it connects to the local process - PORT property pointing to the other process is ignored. \n", "simquery2_title": "How can I print a single backslash? When I write <code>print('\\')</code> or <code>print(&quot;\\&quot;)</code> or <code>print(&quot;'\\'&quot;)</code>, Python doesn't print the backslash <code>\\</code> symbol. Instead it errors for the first two and prints <code>''</code> for the third. What should I do to print a backslash?This question is about producing a string that has a single backslash in it. This is particularly tricky because it cannot be done with raw strings. For the related question about why such a string is represented with two backslashes, see Why do backslashes appear twice?. For including literal backslashes in other strings, see using backslash in python (not to escape).", "simquery2_answer": "I have a table that looks similar to this here:<code>id  Continent       Country    State        Area                    Sub Area                   City77  North America   USA     California  California Desert                                           Ridgecrest\n78  North America   USA     California  California Desert                                           Thousand Palms\n79  North America   USA     California  California Desert                                           Yucca Valley\n80  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Agate Bay\n82  North America   USA     California  California Desert                                           Yucca Valley\n83  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Alpine Meadows\n185 North America   USA     California  Lake Tahoe Area                                             Twin Bridges\n188 North America   USA     California  Central Coast California    Santa Cruz County               Aptos\n189 North America   USA     California  Central Coast California    Santa Cruz County               Ben Lomond\n</code>I am trying to request data such way that if I search for \"California\"(State) then only the name of area (next column) and not sub area or cities. Same ways if searched for 'California Desert'(Area) sub Area should show.. (PS at some place I don't have sub areas so it should display sub area where ever applicable if one doesnt have it, move to next which is city)<code>if($result = $con-&gt;query(\"SELECT * FROM MasterData WHERE state LIKE '%\".$_POST['search'].\"%' OR city LIKE '%\".$_POST['search'].\"%'\")){\nif($count = $result-&gt;num_rows) {while($rows = $result-&gt;fetch_object()) {\necho $rows-&gt;city, '&lt;/br&gt;';\n    }\n$result-&gt;free();\n}\n</code>\n", "total_len": 161, "s1_total_len": 685, "s2_total_len": 630}
{"post_id": "7781260", "title": "How can I represent an infinite number in Python?", "query": "How can I represent an infinite number in python? No matter which number you enter in the program, no number should be greater than this representation of infinity.", "acce_answer": "Start with this modification:<code>scratchPercentage: function($this)\n{\n    var hits = 0;\n    var imageData = $this.ctx.getImageData(0,0,$this.canvas.width,$this.canvas.height).data\n    var pixels = imageData.length;    for(var i=0, ii=pixels; i&lt;ii; i=i+4)\n    {\n        if(\n            imageData[i] == 0 &amp;&amp;\n            imageData[i+1] == 0 &amp;&amp;\n            imageData[i+2] == 0 &amp;&amp;\n            imageData[i+3] == 0\n        ) hits++;\n    }    return hits / ($this.pixels) * 100;\n}\n</code>I don't have the reference link handy for this, but maintaining a handle to your canvas data array saves your loop having to resolve the location of the pixel data at every iteration. This actually results in a significant performance boost. Similarly, though not as important, you can also assign a variable to the size of your array so you don't have to resolve the value after each loop iteration.Aside from these two changes, I don't think you can make <code>scratchPercentage()</code> any leaner. Without knowing the details of how your canvas is changing from frame to frame, I can't really suggest any optimizations for only calculating changes. Depending on your accuracy needs, you might consider checking every other pixel.I can think of a rough WebGL solution to this as well, but it would not be straight-forward. Ultimately, if you don't have any consistent information about what has changed between the current and previous frames, you won't really be able to pre-calculate this percentage or significantly speed it up.Edit: Depending on your canvas size, you could try resizing a copy of it in memory to 50% and doing your calculations on that. It won't be perfect, but it should be relatively accurate.\n", "acce_score": "764", "simquery1_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery1_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "simquery2_title": "Difference between the built-in pow() and math.pow() for floats, in Python? Is there a difference in the results returned by Python's built-in <code>pow(x, y)</code> (no third argument) and the values returned by <code>math.pow()</code>, in the case of two float arguments.I am asking this question because the documentation for <code>math.pow()</code> implies that <code>pow(x, y)</code> (i.e. <code>x**y</code>) is essentially the same as <code>math.pow(x, y)</code>:  math.pow(x, y)    Return x raised to the power y. Exceptional cases  follow Annex \u2018F\u2019 of the C99 standard as far as possible. In  particular, pow(1.0, x) and pow(x, 0.0) always return 1.0, even when x  is a zero or a NaN. If both x and y are finite, x is negative, and y  is not an integer then pow(x, y) is undefined, and raises ValueError.    Changed in version 2.6: The outcome of 1**nan and nan**0 was undefined.Note the last line: the documentation implies that the behavior of <code>math.pow()</code> is that of the exponentiation operator <code>**</code> (and therefore of <code>pow(x, y)</code>).  Is this officially guaranteed?Background: My goal is to provide an implementation of both the built-in <code>pow()</code> and of <code>math.pow()</code> for numbers with uncertainty that behaves in the same way as with regular Python floats (same numerical results, same exceptions, same results for corner cases, etc.). I have already implemented something that works quite well, but there are some corner cases that need to be handled.", "simquery2_answer": "Try removing the <code>belongsTo</code> in your <code>Phone</code> class.  By defining <code>cascades</code> in the mapping of <code>Network</code> you don't need the <code>belongsTo</code>, as that defines only a save-delete cascade for the relationship.\n", "total_len": 508, "s1_total_len": 218, "s2_total_len": 509}
{"post_id": "7983820", "title": "Get the last 4 characters of a string", "query": "I have the following string: <code>\"aaaabbbb\"</code>How can I get the last four characters and store them in a string using Python?", "acce_answer": "<code>for(Client client: Clients) {\n  //work here with client\n}\n</code>BTW by convention variable names in Java should start with lower case (<code>clients</code>).\n", "acce_score": "521", "simquery1_title": "Remove the first character of a string I would like to remove the first character of a string.For example, my string starts with a <code>:</code> and I want to remove that only. There are several occurrences of <code>:</code> in the string that shouldn't be removed.I am writing my code in Python.", "simquery1_answer": "Because your function isn't doing anything inside the while block, it grabs the CPU, and, for all practical purposes, never lets go of it, so other threads can do their work<code>private void checkingData()\n{\n    while (true)\n    {\n        // executes, immediately\n    }\n}\n</code>If you change it to the following, you should see more reasonable CPU consumption:<code>private void checkingData()\n{\n    while (true)\n    {\n        // read your sensor data         Thread.Sleep(1000);\n    }\n}\n</code>\n", "simquery2_title": "Python Reverse Find in String I have a string and an arbitrary index into the string. I want find the first occurrence of a substring before the index.An example: I want to find the index of the 2nd I by using the index and <code>str.rfind()</code><code>s = \"Hello, I am 12! I like plankton but I don't like Baseball.\"index = 34 #points to the 't' in 'but'index_of_2nd_I = s.rfind('I', index)#returns = 36 and not 16 </code>Now I would expect rfind() to return the index of the 2nd I (16) but it returns 36. after looking it up in the docs I found out rfind does not stand for reverse find.I'm totally new to Python so is there a built in solution to reverse find? Like reversing the string with some python [::-1] magic and using find, etc? Or will I have to reverse iterate char by char through the string?", "simquery2_answer": "You can always do it this way...<code>var inputCommon = (function() {\n    return {\n        SetupToolTips: function() {\n            $(\".hasToolTip\").focus(function() {\n                $(this).next(\".tooltip\").fadeIn();\n            });\n            $(\".hasToolTip\").blur(function() {\n                $(this).next(\".tooltip\").fadeOut();\n            });\n        }\n    };})();\n</code>rather than using live.\n", "total_len": 100, "s1_total_len": 211, "s2_total_len": 351}
{"post_id": "7999935", "title": "Python datetime to string without microsecond component", "query": "I'm adding UTC time strings to Bitbucket API responses that currently only contain Amsterdam (!) time strings. For consistency with the UTC time strings returned elsewhere, the desired format is <code>2011-11-03 11:07:04</code> (followed by <code>+00:00</code>, but that's not germane).What's the best way to create such a string (without a microsecond component) from a <code>datetime</code> instance with a microsecond component?<code>&gt;&gt;&gt; import datetime&gt;&gt;&gt; print unicode(datetime.datetime.now())2011-11-03 11:13:39.278026</code>I'll add the best option that's occurred to me as a possible answer, but there may well be a more elegant solution.Edit: I should mention that I'm not actually printing the current time \u2013 I used <code>datetime.now</code> to provide a quick example. So the solution should not assume that any <code>datetime</code> instances it receives will include microsecond components.", "acce_answer": "<code>UPDATE training SET locations=1 WHERE locations='location 1'\n</code>\n", "acce_score": "549", "simquery1_title": "Convert UTC datetime string to local datetime I've never had to convert time to and from UTC. Recently had a request to have my app be timezone aware, and I've been running myself in circles. Lots of information on converting local time to UTC, which I found fairly elementary (maybe I'm doing that wrong as well), but I can not find any information on easily converting the UTC time to the end-users timezone.In a nutshell, and android app sends me (appengine app) data and within that data is a timestamp. To store that timestamp to utc time I am using:<code>datetime.utcfromtimestamp(timestamp)</code>That seems to be working. When my app stores the data, it is being store as 5 hours ahead (I am EST -5)The data is being stored on appengine's BigTable, and when retrieved it comes out as a string like so: <code>\"2011-01-21 02:37:21\"</code>How do I convert this string to a DateTime in the users correct time zone?Also, what is the recommended storage for a users timezone information?  (How do you typically store tz info ie: \"-5:00\" or \"EST\" etc etc ?) I'm sure the answer to my first question might contain a parameter the answers the second.  ", "simquery1_answer": "I have an object variable that has several properties.<code>MyVar = {\"prop1\" : 0, \"prop2\": 0....};\n</code>How do I write an event listener that listens for a change in any of the properties.Thanks for your suggestions.\n", "simquery2_title": "Convert python datetime to epoch with strftime I have a time in UTC from which I want the number of seconds since epoch.I am using strftime to convert it to the number of seconds. Taking 1st April 2012 as an example.<code>&gt;&gt;&gt;datetime.datetime(2012,04,01,0,0).strftime('%s')'1333234800'</code>1st of April 2012 UTC from epoch is 1333238400 but this above returns 1333234800 which is different by 1 hour. So it looks like that strftime is taking my system time into account and applies a timezone shift somewhere. I thought datetime was purely naive?How can I get around that? If possible avoiding to import other libraries unless standard. (I have portability concerns).", "simquery2_answer": "If you are adding the elements dynamically , You have to use the<code>$(document).ready(function (){\n     -- Your Function goes here\n})\n</code>why because for the first time when appending the fadeOut and something else, it has to be created first, then you can follow other logics like, removing or something like that..\nBy the way you have to use 'remove' obviously....Hope this helps......\n", "total_len": 296, "s1_total_len": 362, "s2_total_len": 309}
{"post_id": "8009882", "title": "How to read a large file - line by line?", "query": "I want to iterate over each line of an entire file. One way to do this is by reading the entire file, saving it to a list, then going over the line of interest. This method uses a lot of memory, so I am looking for an alternative.My code so far:<code>for each_line in fileinput.input(input_file):    do_something(each_line)    for each_line_again in fileinput.input(input_file):        do_something(each_line_again)</code>Executing this code gives an error message: <code>device active</code>.Any suggestions?The purpose is to calculate pair-wise string similarity, meaning for each line in file, I want to calculate the Levenshtein distance with every other line.Nov. 2022 Edit: A related question that was asked 8 months after this question has many useful answers and comments. To get a deeper understanding of python logic, do also read this related question How should I read a file line-by-line in Python?", "acce_answer": "We have a data service provider that is providing us with Dynamic Compression on a WCF Data Services site. We need to make use of that compression because the raw data that we are pulling is more than 5Gb daily. Using gzip that will fall dramatically.We have a client application which was created using the \"Add service reference\" wizard in Visual Studio 2010 which is based on the DataServiceContext class. I am able to specify the <code>Accept: gzip, deflate</code> header using the <code>SendingRequest</code> event, but how can I get the deserializer to decode the stream before it tries to parse the XML?\n", "acce_score": "596", "simquery1_title": "Python progression path - From apprentice to guru I've been learning, working, and playing with Python for a year and a half now. As a biologist slowly making the turn to bio-informatics, this language has been at the very core of all the major contributions I have made in the lab. I more or less fell in love with the way Python permits me to express beautiful solutions and also with the semantics of the language that allows such a natural flow from thoughts to workable code.What I would like to know is your answer to a kind of question I have seldom seen in this or other forums. This question seems central to me for anyone on the path to Python improvement but who wonders what his next steps should be.Let me sum up what I do NOT want to ask first ;)I don't want to know how to QUICKLY learn PythonNor do I want to find out the best way to get acquainted with the languageFinally, I don't want to know a 'one trick that does it all' approach.What I do want to know your opinion about, is:What are the steps YOU would recommend to a Python journeyman, from apprenticeship to guru status (feel free to stop wherever your expertise dictates it), in order that one IMPROVES CONSTANTLY, becoming a better and better Python coder, one step at a time. Some of the people on SO almost seem worthy of worship for their Python prowess, please enlighten us :)The kind of answers I would enjoy (but feel free to surprise the readership :P ), is formatted more or less like this:Read this (eg: python tutorial), pay attention to that kind of detailsCode for so manytime/problems/lines of codeThen, read this (eg: this or that book), but this time, pay attention to thisTackle a few real-life problemsThen, proceed to reading Y.Be sure to grasp these conceptsCode for X timeCome back to such and such basics or move further to...(you get the point :)I really care about knowing your opinion on what exactly one should pay attention to, at various stages, in order to progress CONSTANTLY (with due efforts, of course). If you come from a specific field of expertise, discuss the path you see as appropriate in this field.EDIT: Thanks to your great input, I'm back on the Python improvement track! I really appreciate!", "simquery1_answer": "EDIT:Based on your updated code, you should be using <code>.prev()</code> instead of <code>.siblings()</code>.<code>$(\".input-field\").focus(function() {\n    $(this).addClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").show();\n    return false;\n});\n$(\".input-field\").blur(function() {\n    $(this).removeClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").hide();\n    return false;\n});\n</code>\nhttp://api.jquery.com/prev/\nhttp://api.jquery.com/siblings/\nOriginal answer:Your code works fine: http://jsfiddle.net/D9qnk/My guess is that your are initially hiding the <code>.label-info</code> using <code>visibility: hidden;</code> instead of <code>display:none;</code>If that's the case, switch your css to use <code>display:none</code> instead.<code>.label-info {\n    display: none;\n}\u200b\n</code>Or if you want to use the <code>visibility</code> property, then change its value using <code>.css()</code>:<code>$(this).siblings(\".label-info\").css('visibility','visible');...$(this).siblings(\".label-info\").css('visibility','hidden');\n</code>\n", "simquery2_title": "Does Python support multithreading? Can it speed up execution time? I'm slightly confused about whether multithreading works in Python or not. I know there has been a lot of questions about this and I've read many of them, but I'm still confused. I know from my own experience and have seen others post their own answers and examples here on StackOverflow that multithreading is indeed possible in Python. So why is it that everyone keep saying that Python is locked by the GIL and that only one thread can run at a time? It clearly does work. Or is there some distinction I'm not getting here? Many posters/respondents also keep mentioning that threading is limited because it does not make use of multiple cores. But I would say they are still useful because they do work simultaneously and thus get the combined workload done faster. I mean why would there even be a Python thread module otherwise?Update:Thanks for all the answers so far. The way I understand it is that multithreading will only run in parallel for some IO tasks, but can only run one at a time for CPU-bound multiple core tasks.I'm not entirely sure what this means for me in practical terms, so I'll just give an example of the kind of task I'd like to multithread. For instance, let's say I want to loop through a very long list of strings and I want to do some basic string operations on each list item. If I split up the list, send each sublist to be processed by my loop/string code in a new thread, and send the results back in a queue, will these workloads run roughly at the same time? Most importantly will this theoretically speed up the time it takes to run the script? Another example might be if I can render and save four different pictures using PIL in four different threads, and have this be faster than processing the pictures one by one after each other? I guess this speed-component is what I'm really wondering about rather than what the correct terminology is.I also know about the multiprocessing module but my main interest right now is for small-to-medium task loads (10-30 secs) and so I think multithreading will be more appropriate because subprocesses can be slow to initiate. ", "simquery2_answer": "I think you are made mistake this chaage this <code>NSDocumentationDirectory</code> to <code>NSDocumentDirectory</code>\n", "total_len": 391, "s1_total_len": 860, "s2_total_len": 522}
{"post_id": "8023306", "title": "Get key by value in dictionary", "query": "I made a function which will look up ages in a <code>Dictionary</code> and show the matching name:<code>dictionary = {'george' : 16, 'amber' : 19}search_age = raw_input(\"Provide age\")for age in dictionary.values():    if age == search_age:        name = dictionary[age]        print name</code>I know how to compare and find the age I just don't know how to show the name of the person. Additionally, I am getting a <code>KeyError</code> because of line 5. I know it's not correct but I can't figure out how to make it search backwards.", "acce_answer": "Sometime I got a message on R<code>&gt; .Call(\"blablabla\")\nError in .Call(\"blablabla\") : C symbol name \"blablabla\" not in load table\n</code>Can I check what is loaded on the table of C symbol name?\nIs there R command showing the C symbol name on load table?\n", "acce_score": "927", "simquery1_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery1_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "simquery2_title": "Programmatically searching google in Python using custom search I have a snippet of code using the pygoogle python module that allows me to programmatically search for some term in google succintly:<code> g = pygoogle(search_term) g.pages = 1 results = g.get_urls()[0:10]</code>I just found out that this has been discontinued unfortunately and replaced by something called the google custom search. I looked at the other related questions on SO but didn't find anything I could use. I have two questions:1) Does google custom search allow me to do exactly what I am doing in the three lines above?2) If yes - where can I find example code to do exactly what I am doing above? If no then what is the alternative to do what I did using pygoogle?", "simquery2_answer": "I want to get the hyperlink of a cell (A1, for example) in Python. I have this code so far. Thanks<code>properties = {\n    \"requests\": [\n    {\n        \"cell\": {\n            \"HyperlinkDisplayType\": \"LINKED\"\n        },\n        \"fields\": \"userEnteredFormat.HyperlinkDisplayType\"\n    }    ]\n    }result = service.spreadsheets().values().get(\n    spreadsheetId=spreadsheet_id, range=rangeName, body=properties).execute()\nvalues = result.get('values', [])\n</code>\n", "total_len": 245, "s1_total_len": 1038, "s2_total_len": 321}
{"post_id": "8113782", "title": "Split string on whitespace in Python", "query": "I'm looking for the Python equivalent of <code>String str = \"many   fancy word \\nhello    \\thi\";String whiteSpaceRegex = \"\\\\s\";String[] words = str.split(whiteSpaceRegex);[\"many\", \"fancy\", \"word\", \"hello\", \"hi\"]</code>", "acce_answer": "Okay... after digging into it, it looks like you cannot do what you want using the find method, according to this post. Sergio usually knows what he is talking about. However one of the other responders, Benjamin, and the answer on this post offer a different approach that should work; using a scope.So rather than this:<code>@factures = Facture.find(:all, :conditions =&gt; {:facture_statut =&gt; 'Ouverte'})\n</code>You would need to add a scope to the model and then call the scope:<code>class Facture &lt; ActiveRecord::Base\n  scope :facture_statut lambda {|facture_statut| {:facture_statut =&gt; facture_statut}}\n  #rest of class\nend\n</code>And then call it like this:<code>Fracture.facture_statut('Ouverte')\n</code>\n", "acce_score": "631", "simquery1_title": "How do I tokenize a string sentence in NLTK? I am using nltk, so I want to create my own custom texts just like the default ones on nltk.books. However, I've just got up to the method like<code>my_text = ['This', 'is', 'my', 'text']</code>I'd like to discover any way to input my \"text\" as:<code>my_text = \"This is my text, this is a nice way to input text.\"</code>Which method, python's or from nltk allows me to do this. And more important, how can I dismiss punctuation symbols?", "simquery1_answer": "You have this in your manifest:<code>&lt;uses-permission android:name=\"com.myApp.permission.C2D_MESSAGE\" /&gt;\n</code>But you forgot this:<code> &lt;permission android:name=\"com.myApp.permission.C2D_MESSAGE\"\n        android:protectionLevel=\"signature\" /&gt;\n</code>\n", "simquery2_title": "Split string on whitespace in Python I'm looking for the Python equivalent of <code>String str = \"many   fancy word \\nhello    \\thi\";String whiteSpaceRegex = \"\\\\s\";String[] words = str.split(whiteSpaceRegex);[\"many\", \"fancy\", \"word\", \"hello\", \"hi\"]</code>", "simquery2_answer": "Okay... after digging into it, it looks like you cannot do what you want using the find method, according to this post. Sergio usually knows what he is talking about. However one of the other responders, Benjamin, and the answer on this post offer a different approach that should work; using a scope.So rather than this:<code>@factures = Facture.find(:all, :conditions =&gt; {:facture_statut =&gt; 'Ouverte'})\n</code>You would need to add a scope to the model and then call the scope:<code>class Facture &lt; ActiveRecord::Base\n  scope :facture_statut lambda {|facture_statut| {:facture_statut =&gt; facture_statut}}\n  #rest of class\nend\n</code>And then call it like this:<code>Fracture.facture_statut('Ouverte')\n</code>\n", "total_len": 296, "s1_total_len": 244, "s2_total_len": 294}
{"post_id": "8213522", "title": "When to use cla(), clf() or close() for clearing a plot", "query": "Matplotlib offers these functions:<code>cla()   # Clear axisclf()   # Clear figureclose() # Close a figure window</code>When should I use each function and what exactly does it do?", "acce_answer": "Example code:<code>int main()\n{\n    std::vector&lt;int&gt; v1{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n    std::cout &lt;&lt; \"Printing v1\" &lt;&lt; std::endl;\n    print(v1);\n    std::vector&lt;int&gt; v2(std::make_move_iterator(v1.begin()),\n                         std::make_move_iterator(v1.end()));\n    std::cout &lt;&lt; \"Printing v1\" &lt;&lt; std::endl;\n    print(v1);\n    std::cout &lt;&lt; \"Printing v2\" &lt;&lt; std::endl;\n    print(v2);    std::vector&lt;std::string&gt; v3{\"some\", \"stuff\", \"to\",\n                        \"put\", \"in\", \"the\", \"strings\"};\n    std::cout &lt;&lt; \"Printing v3\" &lt;&lt; std::endl;\n    print(v3);\n    std::vector&lt;std::string&gt; v4(std::make_move_iterator(v3.begin()),\n                                 std::make_move_iterator(v3.end()));\n    std::cout &lt;&lt; \"Printing v3\" &lt;&lt; std::endl;\n    print(v3);\n    std::cout &lt;&lt; \"Printing v4\" &lt;&lt; std::endl;\n    print(v4);\n}\n</code>Output:<code>Printing v1\n1 2 3 4 5 6 7 8 9 10\nPrinting v1\n1 2 3 4 5 6 7 8 9 10\nPrinting v2\n1 2 3 4 5 6 7 8 9 10\nPrinting v3\nsome stuff to put in the strings\nPrinting v3Printing v4\nsome stuff to put in the strings\n</code>Questions\nSince move operations on primitive types is just a copy, can I assume that <code>v1</code> will be left unchanged or is the state unspecified even with primitive types?\nI'm assuming the reason why primitive types don't have move semantics is because copying is just as fast or even faster, is this correct?", "acce_score": "726", "simquery1_title": "How to plot a gradient color line To state it in a general form, I'm looking for a way to join several points with a gradient color line using matplotlib, and I'm not finding it anywhere.To be more specific, I'm plotting a 2D random walk with a one color line. But, as the points have a relevant sequence, I would like to look at the plot and see where the data has moved. A gradient colored line would do the trick. Or a line with gradually changing transparency.I'm just trying to improve the vizualization of my data. Check out this beautiful image produced by the ggplot2 package of R. I'm looking for the same in matplotlib. Thanks.", "simquery1_answer": "I'm accessing a cross-domain webservice utilizing an.ajax jquery call from an html page.  While I can see the jsonp data using firebug, I am not able to load it into a variable or even display it (for debugging purposes).  Attempts to retrieve data using the jsonpCallback, success and complete functions always result in 'undefined' / null data.  Ultimately, I need to save the data to variables.  Any assistance will be greatly appreciated!<code>$.ajax({\n    data: {\n        User: UserValue,\n        GUID: GUIDValue\n    },\n    cache: false,\n    dataType: \"jsonp\", // tried json\n    type: \"GET\",\n    crossDomain: true,\n    jsonp: false,  // tried true\n    jsonpCallback: function (saveData) {\n        if (saveData == null) {\n            alert(\"DATA IS UNDEFINED!\");  // displays every time\n        }\n        alert(\"Success is \" + saveData);  // 'Success is undefined'\n    },\n    url: \"http://localhost/NotifMOD/NotifService.svc/GetAllMessages?callback=success?\",\n    async: false, // tried true\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n         console.log(textStatus, errorThrown);\n    },\n    complete: function (a, b) {\n        alert(a); //[object Object]\n        alert(b); // parseerror\n    }\n});\n</code>\n", "simquery2_title": "Imshow: extent and aspect I'm writing a software system that visualizes slices and projections through a 3D dataset.  I'm using <code>matplotlib</code> and specifically <code>imshow</code> to visualize the image buffers I get back from my analysis code.Since I'd like to annotate the images with plot axes, I use the extent keyword that <code>imshow</code> supplies to map the image buffer pixel coordinates to a data space coordinate system.Unfortuantely, <code>matplotlib</code> doesn't know about units.  Say (taking an artificial example) that I want to plot an image with dimensions of <code>1000 m X 1 km</code>.  In that case the extent would be something like <code>[0, 1000, 0, 1]</code>.  Even though the image array is square, since the aspect ratio implied by the extent keyword is 1000, the resulting plot axes also have an aspect ratio of 1000. Is it possible to force the aspect ratio of the plot while still keeping the automatically generated major tick marks and labels I get by using the extent keyword?", "simquery2_answer": "I've tried some examples on here but am tearing my hair out.I do a query and it returns JSON, inside the JSON are lots of hashes, eg.<code>{ \"gjwiegjeigj\": { ....}, \"gjeeigjwoeigj\": {...} ... }</code>I want to loop through each of these, and deserialize the contents into an object.I've created the object, myObject which has all the fields, but I am stuck on deserialising.I can deserialise straight from the base object using <code>JsonConvert.DeserializeObject</code> but I can't do that, I need to loop through and do that to the children.I want an array of my custom objects with all the fields taken from the Json as a result of this, I don't care about the title of each one (the garbage hash).Any ideas? I know I can loop through, which gives me lots of JTokens but that's where I get stuck.\n", "total_len": 642, "s1_total_len": 504, "s2_total_len": 492}
{"post_id": "8259001", "title": "Python argparse command line flags without arguments", "query": "How do I add an optional flag to my command line args?eg. so I can write <code>python myprog.py </code>or<code>python myprog.py -w</code>I tried <code>parser.add_argument('-w')</code>But I just get an error message saying <code>Usage [-w W]error: argument -w: expected one argument</code>which I take it means that it wants an argument value for the -w option. What's the way of just accepting a flag? I'm finding http://docs.python.org/library/argparse.html rather opaque on this question.", "acce_answer": "Set your image to <code>display: block</code>, that should fix it.\n", "acce_score": "491", "simquery1_title": "Argparse: Required arguments listed under \"optional arguments\"? I use the following simple code to parse some arguments; note that one of them is required. Unfortunately, when the user runs the script without providing the argument, the displayed usage/help text does not indicate that there is a non-optional argument, which I find very confusing. How can I get python to indicate that an argument is not optional?Here is the code:<code>import argparseif __name__ == '__main__':    parser = argparse.ArgumentParser(        description='Foo')    parser.add_argument('-i','--input', help='Input file name', required=True)    parser.add_argument('-o','--output', help='Output file name', default=\"stdout\")    args = parser.parse_args()    print (\"Input file: %s\" % args.input )    print (\"Output file: %s\" % args.output )</code>When running above code without providing the required argument, I get the following output:<code>usage: foo.py [-h] -i INPUT [-o OUTPUT]Foooptional arguments:    -h, --help            show this help message and exit    -i INPUT, --input INPUT                          Input file name    -o OUTPUT, --output OUTPUT                          Output file name</code>", "simquery1_answer": "The line number of the error is wrong. The problem is at the end, you never close the function you're passing into <code>ready</code> or the call to it. Add <code>});</code> at the end.If that's missing only because you quoted a\n  ...snippet of the beginning of the code...\n...then the answer is that there's nothing wrong with line 1 that's apparent from your question. Weird errors like that can sometimes be down to invisible characters in the source, but I would expect to see an illegal character error rather than unexpected end of input. Unexpected end of input is pretty much what it says: You have a control structure of some kind open and haven't closed it when the parser reaches the end of the code text.I find the Meteor JavaScript parser page is quite handy for diagnosing syntax errors.\n", "simquery2_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery2_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "total_len": 175, "s1_total_len": 481, "s2_total_len": 589}
{"post_id": "8270092", "title": "Remove all whitespace in a string", "query": "I want to eliminate all the whitespace from a string, on both ends, and in between words.I have this Python code:<code>def my_handle(self):    sentence = ' hello  apple  '    sentence.strip()</code>But that only eliminates the whitespace on both sides of the string. How do I remove all whitespace?", "acce_answer": "I am just wondering what is the format in Zxing. <code>String format = intent.getStringExtra(\"SCAN_RESULT_FORMAT\");</code>Do you think I can delete this line of code?\n", "acce_score": "1192", "simquery1_title": "Remove the first character of a string I would like to remove the first character of a string.For example, my string starts with a <code>:</code> and I want to remove that only. There are several occurrences of <code>:</code> in the string that shouldn't be removed.I am writing my code in Python.", "simquery1_answer": "Because your function isn't doing anything inside the while block, it grabs the CPU, and, for all practical purposes, never lets go of it, so other threads can do their work<code>private void checkingData()\n{\n    while (true)\n    {\n        // executes, immediately\n    }\n}\n</code>If you change it to the following, you should see more reasonable CPU consumption:<code>private void checkingData()\n{\n    while (true)\n    {\n        // read your sensor data         Thread.Sleep(1000);\n    }\n}\n</code>\n", "simquery2_title": "What kinds of patterns could I enforce on the code to make it easier to translate to another programming language? I am setting out to do a side project that has the goal of translating code from one programming language to another. The languages I am starting with are PHP and Python (Python to PHP should be easier to start with), but ideally I would be able to add other languages with (relative) ease. The plan is:This is geared towards web development. The original and target code will be be sitting on top of frameworks (which I will also have to write). These frameworks will embrace an MVC design pattern and follow strict coding conventions. This should make translation somewhat easier.I am also looking at IOC and dependency injection, as they might make the translation process easier and less error prone.I'll make use of Python's parser module, which lets me fiddle with the Abstract Syntax Tree. Apparently the closest I can get with PHP is token_get_all(), which is a start.From then on I can build the AST, symbol tables and control flow.Then I believe I can start outputting code. I don't need a perfect translation. I'll still have to review the generated code and fix problems. Ideally the translator should flag problematic translations.Before you ask &quot;What the hell is the point of this?&quot; The answer is... It'll be an interesting learning experience. If you have any insights on how to make this less daunting, please let me know.EDIT:I am more interested in knowing what kinds of patterns I could enforce on the code to make it easier to translate (ie: IoC, SOA ?) the code than how to do the translation.", "simquery2_answer": "Because of the quotes.<code>$(\"a[href='#']\").click(function(){\n  alert(\"test\");\n  return false;\n});\n</code>\n", "total_len": 134, "s1_total_len": 211, "s2_total_len": 408}
{"post_id": "8369219", "title": "How to read a text file into a string variable and strip newlines?", "query": "I have a text file that looks like:<code>ABCDEF</code>How can I read the file into a single-line string without newlines, in this case creating a string <code>'ABCDEF'</code>?For reading the file into a list of lines, but removing the trailing newline character from each line, see How to read a file without newlines?.", "acce_answer": "<code>&lt;?php$order = array(5, 3, 2);    // or $order = array(\"5\", \"3\", \"2\");\n$title = array(\"USA\", \"England\", \"China\");\n$att = array(\"Att 1\", \"Att 2\", \"Att 3\");\n$type = array(\"Type 1\", \"Type 2\", \"Type 3\");$records = array();\nforeach ($order as $i =&gt; $o) \n    $records[$o] = array(\"title\" =&gt; $title[$i], \"att\" =&gt; $att[$i], \"type\" =&gt; $type[$i]);ksort($records, SORT_NUMERIC);print_r($records);?&gt;\n</code>\n", "acce_score": "1324", "simquery1_title": "Replace all quotes in a string with escaped quotes? Given a string in python, such as:<code>s = 'This sentence has some \"quotes\" in it\\n'</code>I want to create a new copy of that string with any quotes escaped (for further use in Javascript). So, for example, what I want is to produce this:<code>'This sentence has some \\\"quotes\\\" in it\\n'</code>I tried using <code>replace()</code>, such as:<code>s.replace('\"', '\\\"')</code>but that returns the same string. So then I tried this:<code>s.replace('\"', '\\\\\"')</code>but that returns double-escaped quotes, such as:<code>'This sentence has some \\\\\"quotes\\\\\" in it.\\n'</code>How to replace <code>\"</code> with <code>\\\"</code>?UPDATE:I need as output from this copyable text that shows both the quotes and the newlines as escaped.  In other words, I want to be able to copy:<code>'This sentence has some \\\"quotes\\\" in it.\\n'</code>If I use the raw string and <code>print</code> the result I get the correctly escaped quote, but the escaped newline doesn't print. If I don't use <code>print</code> then I get my newlines but double-escaped quotes. How can I create a string I can copy that shows both newline and quote escaped?", "simquery1_answer": "Hi I want share text in LinkedIn through my app. My code is below here...This method when I click the btn linkedIn share..<code> - (void)linkedBtnEvent\n    {\n    if(oAuthLoginView != nil) {        oAuthLoginView.delegate = nil;\n        oAuthLoginView = nil;\n    }    oAuthLoginView = [[OAuthLoginView alloc] initWithNibName:nil bundle:nil];\n    oAuthLoginView.delegate=self;    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(loginViewDidFinish:)\n                                                 name:@\"loginViewDidFinish\"\n                                               object:self.oAuthLoginView];    [self presentViewController:self.oAuthLoginView animated:YES completion:nil];\n}\n</code>This are the method to handle share after login..<code>-(void) loginViewDidFinish:(NSNotification*)notification\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self];    [self profileApiCall];\n}- (void)profileApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(profileApiCallResult:didFinish:)\n                  didFailSelector:@selector(profileApiCallResult:didFail:)];    }- (void)profileApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    NSString *responseBody = [[NSString alloc] initWithData:data\n                                                   encoding:NSUTF8StringEncoding];    NSDictionary *profile = [responseBody objectFromJSONString];    if ( profile )\n    {\n        NSLog(@\"%@\", [[NSString alloc] initWithFormat:@\"%@ %@\",\n                      [profile objectForKey:@\"firstName\"], [profile objectForKey:@\"lastName\"]]);\n    }    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)profileApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)networkApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/network/updates?scope=self&amp;count=1&amp;type=STAT\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(networkApiCallResult:didFinish:)\n                  didFailSelector:@selector(networkApiCallResult:didFail:)];    }- (void)networkApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    if (isSharedLinked)\n    {\n        NSLog(@\"Shared Successfully\");\n        linkedBtn.enabled = NO;\n    }\n    else\n    {\n        isSharedLinked = YES;\n        [self performSelector:@selector(postTextLinkedIn) withObject:nil afterDelay:1];\n    }\n}- (void)networkApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)postTextLinkedIn\n{    \n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/shares\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            [[NSDictionary alloc] \n                             initWithObjectsAndKeys:\n                             @\"anyone\",@\"code\",nil], @\"visibility\", \n                            @\"Wow its working... Share the text in Linked In\", @\"comment\", nil];    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    NSString *updateString = [update JSONString];    [request setHTTPBodyWithString:updateString];\n    [request setHTTPMethod:@\"POST\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)\n                  didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    \n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}\n</code>It shows no error it always haow it share successfully in LinkedIn but no text share in that.. \nPlease help me to fix this issue... I cant figure what mistake I done..\n", "simquery2_title": "chr() equivalent returning a bytes object, in py3k Python 2.x has <code>chr()</code>, which converts a number in the range 0-255 to a byte string with one character with that numeric value, and <code>unichr()</code>, which converts a number in the range 0-0x10FFFF to a Unicode string with one character with that Unicode codepoint.  Python 3.x replaces <code>unichr()</code> with <code>chr()</code>, in keeping with its \"Unicode strings are default\" policy, but I can't find anything that does exactly what the old <code>chr()</code> did.  The <code>2to3</code> utility (from 2.6) leaves <code>chr</code> calls alone, which is not right in general :((This is for parsing and serializing a file format which is explicitly defined in terms of 8-bit bytes.)", "simquery2_answer": "The include expects a regex pattern. As @jgr pointed out this is true only for versions of elasticsearch &lt; 1.5.0. So for the example provided in query\nwould look something as below for versions &lt; 1.5.0 :<code>   \"aggs\": {\n      \"aggterm\": {\n         \"terms\": {\n            \"field\": \"type\",\n            \"include\" : \"billing|expenditure\"\n         }\n      }\n   }\n</code>If not the example you have in the OP should work\n", "total_len": 288, "s1_total_len": 1760, "s2_total_len": 346}
{"post_id": "8537916", "title": "How do I prepend to a short python list?", "query": "<code>list.append()</code> appends to the end of a list.  This explains that <code>list.prepend()</code> does not exist due to performance concerns for large lists.  For a short list, how do I prepend a value?", "acce_answer": "Since you are using a CSS Sprite, I would suggest placing the <code>&lt;a&gt;</code> inside the <code>&lt;div&gt;</code> (proper way to do it) and add some css:HTML<code>&lt;div class=\"icon-backbtn\"&gt;\n  &lt;a href=\"javascript:history.go(-1)\" title=\"Go Back\"&gt;&lt;/a&gt;\n&lt;/div&gt;\n</code>CSS<code>.icon-backbtn a {\n  display:block;\n  cursor:pointer;\n  text-decoration:none;\n  text-indent:-9999px;\n}\n</code>The CSS sets the link to be a block element, thus occupying the width and height of the div. The remaining styles are to prevent the regular link behavior for texts, since you are using an image.\n", "acce_score": "741", "simquery1_title": "Colon (:) in Python list index I'm new to Python. I see <code>:</code> used in list indices especially when it's associated with function calls. Python 2.7 documentation suggests that <code>lists.append</code> translates to <code>a[len(a):] = [x]</code>. Why does one need to suffix <code>len(a)</code> with a colon?I understand that <code>:</code> is used to identify keys in dictionary.", "simquery1_answer": "That's because you bind DataContext to the same value as you binding <code>IsEnabled</code>. So for <code>IsEnabled</code> it actually looking for MyVal.MyVal. Replace to:<code>IsEnabled=\"{Binding Converter={StaticResource NullCheckConverter}}\" \n</code>Also further if you have issues with binding, check in debug mode output window for binding errors.\n", "simquery2_title": "Create an empty list with certain size in Python How do I create an empty list that can hold 10 elements?After that, I want to assign values in that list. For example:<code>xs = list()for i in range(0, 9):   xs[i] = i</code>However, that gives <code>IndexError: list assignment index out of range</code>. Why?Editor's note:In Python, lists do not have a set capacity, but it is not possible to assign to elements that aren't already present. Answers here show code that creates a list with 10 &quot;dummy&quot; elements to replace later. However, most beginners encountering this problem really just want to build a list by adding elements to it. That should be done using the <code>.append</code> method, although there will often be problem-specific ways to create the list more directly. Please see Why does this iterative list-growing code give IndexError: list assignment index out of range? How can I repeatedly add elements to a list? for details.", "simquery2_answer": "Simply add the dependency to the <code>&lt;dependencies/&gt;</code> section of the plugin. That should do it.\n", "total_len": 280, "s1_total_len": 203, "s2_total_len": 269}
{"post_id": "8609192", "title": "What is the difference between null=True and blank=True in Django?", "query": "When we add a model field in Django we generally write:<code>models.CharField(max_length=100, null=True, blank=True)</code>The same is done with <code>ForeignKey</code>, <code>DecimalField</code> etc. What is the basic difference between:<code>null=True</code> only<code>blank=True</code> only<code>null=True</code> and <code>blank=True</code>in respect to different (<code>CharField</code>, <code>ForeignKey</code>, <code>ManyToManyField</code>, <code>DateTimeField</code>) fields? What are the advantages/disadvantages of using option 1, 2, or 3?", "acce_answer": "We had this problem yesterday. We found this question on Stack Overflow and tried moving the data folder from the website folder into a separate folder. This solved the problem immediately. You then need to change this setting in the Sitecore.config (or Web.config) file: <code>&lt;sc.variable name=\"dataFolder\" value=\"/Data\"/&gt;\n</code>to point at the new folder.\nWe have asked Sitecore support whether this is a known issue and they didn't have many ideas. Their only guess was that it could have been caused by Sitecore caching.\n", "acce_score": "1326", "simquery1_title": "What is the difference between null=True and blank=True in Django? When we add a model field in Django we generally write:<code>models.CharField(max_length=100, null=True, blank=True)</code>The same is done with <code>ForeignKey</code>, <code>DecimalField</code> etc. What is the basic difference between:<code>null=True</code> only<code>blank=True</code> only<code>null=True</code> and <code>blank=True</code>in respect to different (<code>CharField</code>, <code>ForeignKey</code>, <code>ManyToManyField</code>, <code>DateTimeField</code>) fields? What are the advantages/disadvantages of using option 1, 2, or 3?", "simquery1_answer": "We had this problem yesterday. We found this question on Stack Overflow and tried moving the data folder from the website folder into a separate folder. This solved the problem immediately. You then need to change this setting in the Sitecore.config (or Web.config) file: <code>&lt;sc.variable name=\"dataFolder\" value=\"/Data\"/&gt;\n</code>to point at the new folder.\nWe have asked Sitecore support whether this is a known issue and they didn't have many ideas. Their only guess was that it could have been caused by Sitecore caching.\n", "simquery2_title": "Django ORM - objects.filter() vs. objects.all().filter() - which one is preferred? Very often I see constructs like <code>MyModel.objects.all().filter(...)</code>which will return a QuerySet of the default Mananger. At first <code>all()</code> seems to be quite redundant, because<code>MyMode.objects.filter(...)</code>delivers the same result.However, this seems to be safe for the default Manager only, because of the following two statements in the Django documentation:Excerpt from the Chapter \"Adding extra manager methods\"  A custom Manager method can return anything you want. It doesn\u2019t have  to return a QuerySet.Definition of the <code>all()</code> manager method:  all()   Returns a copy of the current QuerySet (or QuerySet subclass).  This can be useful in situations where you might want to pass in  either a model manager or a QuerySet and do further filtering on the  result. After calling all() on either object, you\u2019ll definitely have a  QuerySet to work with.This seems a bit like a contradiction to me. On one hand Django offers the freedom to let a manager method return whatever object type is preferred and on the other hand it requires a QuerySet for the <code>all()</code> method. I'm aware that each manager has a <code>get_queryset</code> method which is called by <code>all()</code>. But who stops me from overriding <code>all()</code> in my custom manager? Although I agree it would be bad design to do so.So as far as I can see, the <code>all()</code> method does not guarantee to return a QuerySet. What exactly does <code>MyModel.objects</code> return? Does this statement call <code>all()</code>? or `get_queryset()?Do you prefer <code>MyModel.objects.filter(...)</code> or <code>MyModel.objects.all().filter(...)</code>. And if so, why?Have you ever encountered wonky managers that would mess with those methods in a undesirable way?", "simquery2_answer": "I have the following code in PHP,<code>&lt;?php\nob_start();\n$valid_passwords = array (\"matrixUlt\" =&gt; \"$ecurEh1FIVE\");\n$valid_users = array_keys($valid_passwords);\n$user = $pass = null;\nif(isset($_SERVER['PHP_AUTH_USER']) &amp;&amp; isset($_SERVER['PHP_AUTH_PW']))\n{\n    $user = $_SERVER['PHP_AUTH_USER'];\n    $pass = $_SERVER['PHP_AUTH_PW'];\n}\n$validated = (in_array($user, $valid_users)) &amp;&amp; ($pass == $valid_passwords[$user]);\nif(!$validated)\n{\nheader('WWW-Authenticate: Basic realm=\"You need to be authenticated to access the resource!\"');\nheader('HTTP/1.0 401 Unauthorized');\nexit(\"Not authorized\");\necho ob_get_clean();\n}\n</code>This works correctly in localhost when this [(\"matrixUlt\" => \"$ecurEh1FIVE\"] username:password is given. But keeps showing auth dialog in LIVE server / production enviroment. Any ideas why this is not working?\n", "total_len": 313, "s1_total_len": 311, "s2_total_len": 773}
{"post_id": "8802860", "title": "Checking whether a string starts with XXXX", "query": "I would like to know how to check whether a string starts with \"hello\" in Python.In Bash I usually do:<code>if [[ \"$string\" =~ ^hello ]]; then do something herefi</code>How do I achieve the same in Python?", "acce_answer": "I have a file with the following content (myfile.xml). I have to get all content coming under (including product node) a product with <code>id=1</code>.<code>&lt;products&gt;  \n  &lt;product id=\"1\"&gt;\n       &lt;category&gt;q&lt;/category&gt;  \n  &lt;/product&gt;    \n  &lt;product id=\"2\"&gt;      \n       &lt;category&gt;w&lt;/category&gt;    \n  &lt;/product&gt;   \n  &lt;product id=\"3\"&gt;       \n  &lt;category&gt;e&lt;/category&gt;   \n &lt;/product&gt;\n&lt;/products&gt;`\n</code>i.e. the result should be :<code> &lt;product id=\"1\"&gt; \n      &lt;category&gt;q&lt;/category&gt;\n  &lt;/product&gt; \n</code>How can I do this?I have the restriction that I should use <code>XmlTextReader</code> or <code>XPathNavigator</code> only for this, otherwise I could have used this : Getting data from xml by attribute vlaue\n", "acce_score": "529", "simquery1_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery1_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "simquery2_title": "Checking whether a string starts with XXXX I would like to know how to check whether a string starts with \"hello\" in Python.In Bash I usually do:<code>if [[ \"$string\" =~ ^hello ]]; then do something herefi</code>How do I achieve the same in Python?", "simquery2_answer": "I have a file with the following content (myfile.xml). I have to get all content coming under (including product node) a product with <code>id=1</code>.<code>&lt;products&gt;  \n  &lt;product id=\"1\"&gt;\n       &lt;category&gt;q&lt;/category&gt;  \n  &lt;/product&gt;    \n  &lt;product id=\"2\"&gt;      \n       &lt;category&gt;w&lt;/category&gt;    \n  &lt;/product&gt;   \n  &lt;product id=\"3\"&gt;       \n  &lt;category&gt;e&lt;/category&gt;   \n &lt;/product&gt;\n&lt;/products&gt;`\n</code>i.e. the result should be :<code> &lt;product id=\"1\"&gt; \n      &lt;category&gt;q&lt;/category&gt;\n  &lt;/product&gt; \n</code>How can I do this?I have the restriction that I should use <code>XmlTextReader</code> or <code>XPathNavigator</code> only for this, otherwise I could have used this : Getting data from xml by attribute vlaue\n", "total_len": 373, "s1_total_len": 349, "s2_total_len": 371}
{"post_id": "9031783", "title": "Hide all warnings in IPython", "query": "I need to produce a screencast of an IPython session, and to avoid confusing viewers, I want to disable all warnings emitted by <code>warnings.warn</code> calls from different packages. Is there a way to configure the ipythonrc file to automatically disable all such warnings?", "acce_answer": "<code>select distinct l.* \nfrom locations as l, workplaces as w, \n    (select distinct l.* \n     from locations as l, employees as e \n     where e.location_id = l.id and e.coordinator = 1) as tmp \nwhere l.workplace_id = w.id\nand tmp.workplace_id = w.id\n</code>Is that what you're looking for ?\n", "acce_score": "503", "simquery1_title": "Hide all warnings in IPython I need to produce a screencast of an IPython session, and to avoid confusing viewers, I want to disable all warnings emitted by <code>warnings.warn</code> calls from different packages. Is there a way to configure the ipythonrc file to automatically disable all such warnings?", "simquery1_answer": "<code>select distinct l.* \nfrom locations as l, workplaces as w, \n    (select distinct l.* \n     from locations as l, employees as e \n     where e.location_id = l.id and e.coordinator = 1) as tmp \nwhere l.workplace_id = w.id\nand tmp.workplace_id = w.id\n</code>Is that what you're looking for ?\n", "simquery2_title": "Disable all Pylint warnings for a file We are using Pylint within our build system.We have a Python package within our code base that has throwaway code, and I'd like to disable all warnings for a module temporarily so I can stop bugging the other devs with these superfluous messages. Is there an easy way to <code>pylint: disable</code> all warnings for a module?", "simquery2_answer": "<code>                         |--------|     \n//                     / |4  4  4 |     \n//                   |--------| 4 | \n//                 / |3  3  3 | 4 | \n//               |---------|3 |   |\n//             / | 2  2  2 |3 | /\n//            |---------|2 |__|\n//            | 1  1  1 |2 | /\n//            | 1  1  1 |__| \n//            | 1  1  1 | /\n//            |_________|\ndouble arr[4][3][3] = {{1,1,1,1,1,1,1,1,1},{2,2,2,2,2,2,2,2,2},{3,3,3,3,3,3,3,3,3},{4,4,4,4,4,4,4,4,4}};\n</code>I consider that this array consists of 4 layers.I want to create pointer to layer of array and traverse through layers of that array using pointer.I try :<code>double (*pp1)[sizeof(arr[0]) / sizeof(ar[0][0][0])]; \npp1 = arr[0]; \n</code>and get error from intelIsense:\nvalue of type (double (*)(3) can`t be assigned to double(*)(9)\n", "total_len": 178, "s1_total_len": 176, "s2_total_len": 417}
{"post_id": "9039961", "title": "Finding the average of a list", "query": "How do I find the mean average of a list in Python?<code>[1, 2, 3, 4]  \u27f6  2.5</code>", "acce_answer": " OK, so the following methods ARE dangerous.  Since they are used to attack systems by injecting code into them, used them at your own risk.\n    <code>array = eval(open(\"test.txt\", 'r').read().strip('array = '))</code> \n    <code>execfile('test.txt') # this is the fastest but most dangerous.</code>Safer methods.<code>import ast\narray = ast.literal_eval(open(\"test.txt\", 'r').read().strip('array = ')).\n  ...\narray = [float(value) for value in open('test.txt', 'r').read().strip('array = [').strip('\\n]').split(',')]\n</code>The eassiest way to serialize python objects so you can load them later is to use pickle. Assuming you dont want a human readable format since this adds major head, either-wise, csv is fast and json is flexible.<code>import pickle\nimport random\narray = random.sample(range(10**3), 20)\npickle.dump(array, open('test.obj', 'wb'))loaded_array = pickle.load(open('test.obj', 'rb'))\nassert array == loaded_array\n</code>pickle does have some overhead and if you need to serialize large objects you can specify the compression ratio, the default is 0 no compression, you can set it to pickle.HIGHEST_PROTOCOL <code>pickle.dump(array, open('test.obj', 'wb'), pickle.HIGHEST_PROTOCOL)</code> If you are working with large numerical or scientific data sets then use numpy.tofile/numpy.fromfile or scipy.io.savemat/scipy.io.loadmat they have little overhead, but again only if you are already using numpy/scipy.good luck.\n", "acce_score": "663", "simquery1_title": "How do I count the occurrences of a list item? Given a single item, how do I count occurrences of it in a list, in Python?A related but different problem is counting occurrences of each different element in a collection, getting a dictionary or list as a histogram result instead of a single integer. For that problem, see Using a dictionary to count the items in a list.", "simquery1_answer": "I'm not sure why you'd rule out using a <code>Queue&lt;T&gt;</code> internally, especially considering you're up for using a <code>LinkedList&lt;T&gt;</code> (they're in the same assembly). A <code>Queue&lt;T&gt;</code> would give you the greatest performance and memory usage. Your class could look something like this:<code>public class BoundedQueue&lt;T&gt;\n{\n    private Queue&lt;T&gt; _queue;\n    private int _maxSize;    public BoundedQueue(int maxSize)\n    {\n        if (maxSize &lt;= 0)\n            throw new ArgumentOutOfRangeException(\"maxSize\");        _queue = new Queue&lt;T&gt;(maxSize);\n        _maxSize = maxSize;\n    }    public int Count\n    {\n        get { return _queue.Count; }\n    }    /// &lt;summary&gt;\n    /// Adds a new item to the queue and, if the queue is at its\n    /// maximum capacity, also removes the oldest item\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;\n    /// True if an item was dequeued during this operation;\n    /// otherwise, false\n    /// &lt;/returns&gt;\n    public bool EnqueueDequeue(T value, out T dequeued)\n    {\n        dequeued = default(T);\n        bool dequeueOccurred = false;        if (_queue.Count == _maxSize)\n        {\n            dequeued = _queue.Dequeue();\n            dequeueOccurred = true;\n        }        _queue.Enqueue(value);        return dequeueOccurred;\n    }\n}\n</code>But maybe you had a good reason for ruling out the <code>Queue&lt;T&gt;</code> class that I just can't think of?\n", "simquery2_title": "How to count the frequency of the elements in an unordered list? Given an unordered list of values like<code>a = [5, 1, 2, 2, 4, 3, 1, 2, 3, 1, 1, 5, 2]</code>How can I get the frequency of each value that appears in the list, like so?<code># `a` has 4 instances of `1`, 4 of `2`, 2 of `3`, 1 of `4,` 2 of `5`b = [4, 4, 2, 1, 2] # expected output</code>", "simquery2_answer": "Got it.I am using IWindsorInstaller to implement packages:<code>public class TestDaoInstaller : IWindsorInstaller\n{\n    public void Install(IWindsorContainer container, IConfigurationStore store)\n    {\n        container.Register(\n            AllTypes.FromAssemblyNamed(\"Company.DataAccess\")\n                .BasedOn(typeof(IReadDao&lt;&gt;)).WithService.FromInterface(),\n            AllTypes.FromAssemblyNamed(\"Framework.DataAccess.NHibernate\")\n                .BasedOn(typeof(IReadDao&lt;&gt;)).WithService.Base());\n    }\n}\n</code>And at Framework.DataAccess, my container is now:<code>protected static IWindsorContainer DaoContainer\n{\n    get\n    {\n        if (_daoContainer == null)\n        {\n            lock (locker)\n            {\n                if (_daoContainer != null)\n                    return _daoContainer;                _daoContainer = new WindsorContainer(new XmlInterpreter());\n                IWindsorInstaller[] daoInstallers = _daoContainer.ResolveAll&lt;IWindsorInstaller&gt;();\n                foreach (IWindsorInstaller daoInstaller in daoInstallers)\n                    _daoContainer.Install(daoInstaller);             }\n        }        return _daoContainer;\n    }\n}\n</code>\n", "total_len": 476, "s1_total_len": 543, "s2_total_len": 491}
{"post_id": "9233027", "title": "UnicodeDecodeError: 'charmap' codec can't decode byte X in position Y: character maps to <undefined>", "query": "I'm trying to get a Python 3 program to do some manipulations with a text file filled with information. However, when trying to read the file I get the following error:<code>Traceback (most recent call last):    File &quot;SCRIPT LOCATION&quot;, line NUMBER, in &lt;module&gt;      text = file.read()  File &quot;C:\\Python31\\lib\\encodings\\cp1252.py&quot;, line 23, in decode      return codecs.charmap_decode(input,self.errors,decoding_table)[0]UnicodeDecodeError: 'charmap' codec can't decode byte 0x90 in position 2907500: character maps to `&lt;undefined&gt;`  </code>After reading this Q&amp;A, see How to determine the encoding of text if you need help figuring out the encoding of the file you are trying to open.", "acce_answer": "Your code would be like this :-JQuery:-<code>$(document).ready(function(){\n    $('a.delete').click(function(){\n        $(this).closest('.parentPanel').remove();\n    });});\n</code>EDIT: Changed <code>parentUntill()</code> to <code>closest()</code> as few of the mates informed and I do agree that <code>parentUntill()</code> selects the selecter 1step below the matched one. * Thanks nnnnnnThe changed Code:- I have added a class named <code>parentPanel</code><code>if($i &gt; $start_from){\n            echo \"&lt;div id=\\\"blog$i\\\" class=\\\"parentPanel\\\"&gt;&lt;h1 style=\\\"padding-top:30px; font-size:14px;\\\" id=\\\"shareContent\\\"&gt;&lt;a target=\\\"_blank\\\" href=\\\"$url\\\"&gt;$title&lt;/a&gt;&lt;br /&gt;&lt;/h1&gt;\n            $desc\n            &lt;br /&gt;\n            &lt;p&gt;&lt;em&gt;hahaquotes, DATED: $date, URL: &lt;a target=\\\"_blank\\\" href=\\\"$url\\\"&gt;$url&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n            &lt;div class=\\\"applyLink\\\" style=\\\"width:720px; padding-right:12px; margin-top:20px;\\\"&gt;\n            &lt;p&gt;&lt;a target=\\\"_blank\\\" href=\\\"$url\\\"&gt;READ&lt;/a&gt;&lt;span style=\\\"float:right; cursor:pointer;\\\"&gt;&lt;a class=\\\"delete\\\"&gt;DELETE&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;&lt;/div&gt;\";\n            if($i == $start_from + 4) break; \n            }\n            }\n</code>\n", "acce_score": "975", "simquery1_title": "How can I convert surrogate pairs to normal string in Python? This is a follow-up to How can I convert JSON-encoded data that contains Unicode surrogate pairs to string?. In that question, the OP had a <code>json.dumps()</code>-encoded file with an emoji represented as a surrogate pair - <code>\\ud83d\\ude4f</code>. They were having problems reading the file and translating the emoji correctly, and the correct answer was to <code>json.loads()</code> each line from the file, and the <code>json</code> module would handle the conversion from surrogate pair back to (I'm assuming UTF8-encoded) emoji.So here is my situation: say I have just a regular Python 3 unicode string with a surrogate pair in it:<code>emoji = &quot;This is \\ud83d\\ude4f, an emoji.&quot;</code>How do I process this string to get a representation of the emoji out of it? I'm looking to get something like this:<code>&quot;This is , an emoji.&quot;# or&quot;This is \\U0001f64f, an emoji.&quot;</code>I've tried:<code>print(emoji)print(emoji.encode(&quot;utf-8&quot;)) # also tried &quot;ascii&quot;, &quot;utf-16&quot;, and &quot;utf-16-le&quot;json.loads(emoji) # and `.encode()` with various codecs</code>Generally I get an error similar to <code>UnicodeEncodeError: XXX codec can't encode character '\\ud83d' in position 8: surrogates no allowed</code>.I'm running Python 3.5.1 on Linux, with <code>$LANG</code> set to <code>en_US.UTF-8</code>. I've run these samples both in the Python interpreter on the command line, and within IPython running in Sublime Text - there don't appear to be any differences.", "simquery1_answer": "I have an array, and I'd like to shuffle the array so that no element moves more than K places from its initial position in the array. So for example, if K is 2, and the original array is:<code>[1,2,3,4,5,6,7,8]</code>this is a valid permutation:<code>[1,3,2,5,4,8,6,7]</code>but this is not:<code>[1,2,5,4,6,8,3,7]</code>because the <code>3</code> has moved 4 places.Is there a way to do this so that it's a perfectly random shuffle (in other words, all permutations that satisfy this criteria are equally likely?)\n", "simquery2_title": "UnicodeDecodeError: 'ascii' codec can't decode byte 0xef in position 1 I'm having a few issues trying to encode a string to UTF-8. I've tried numerous things, including using <code>string.encode('utf-8')</code> and <code>unicode(string)</code>, but I get the error:  UnicodeDecodeError: 'ascii' codec can't decode byte 0xef in position 1: ordinal not in range(128)This is my string:<code>(\uff61\uff65\u03c9\uff65\uff61)\uff89</code>I don't see what's going wrong, any idea?Edit: The problem is that printing the string as it is does not show properly. Also, this error when I try to convert it:<code>Python 2.7.1+ (r271:86832, Apr 11 2011, 18:13:53)[GCC 4.5.2] on linux2Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.&gt;&gt;&gt; s = '(\\xef\\xbd\\xa1\\xef\\xbd\\xa5\\xcf\\x89\\xef\\xbd\\xa5\\xef\\xbd\\xa1)\\xef\\xbe\\x89'&gt;&gt;&gt; s1 = s.decode('utf-8')&gt;&gt;&gt; print s1Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;UnicodeEncodeError: 'ascii' codec can't encode characters in position 1-5: ordinal not in range(128)</code>", "simquery2_answer": "What is involved in mocking a LINQ web service data provider, which is made by a 3rd party, and is effectively a black box to me? Here is typical usage of that black box: (modified to protect the innocent, aka an NDA) <code>var conn = new RemoteServer (username,password);\nvar result = from row in conn.GetSomeData()\n    where row.this == \"Hello\" &amp;&amp; row.that != \"World\"\n    select new { row.this, row.that, row.theOther };\n</code>I so far know <code>result</code> is <code>IEnumerable&lt;T&gt;</code>.\nAnother usage example:<code>string something=\"xxx\";\nvar result = from row in conn.SubscribeAsync()\n    where row.this == something\n    select new MyObject(something) { row.that, row.theOther };\n</code>(This will keep pushing data, perhaps a few items each second, and I'll be wanting to mock carefully timed sequences.)I suppose my real question is, will it be as simple as:<code> class MockRemoteServer\n {\n     IEnumerable GetSomeData()\n     {\n          return new[]\n          {\n              new {this=\"1\",that=\"2\",theOther=\"special\"},\n              new {this=\"hello\",that=\"world\",theOther=\"something\"}\n          }\n     }\n }\n</code>Or do I need to implement a full-on LINQ data provider myself?\nIf so, any book or article recommendations on this? (My LINQ knowledge is currently based on a cover-to-cover read of Jon Skeet's C# In Depth, and not much else...)\n", "total_len": 752, "s1_total_len": 673, "s2_total_len": 817}
{"post_id": "9257094", "title": "How to change a string into uppercase?", "query": "How can I convert a string into uppercase in Python?When I tried to research the problem, I found something about <code>string.ascii_uppercase</code>, but it couldn't solve the problem:<code>&gt;&gt;&gt; s = 'sdsd'&gt;&gt;&gt; s.ascii_uppercaseTraceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;AttributeError: 'str' object has no attribute 'ascii_uppercase'</code>See How do I lowercase a string in Python? for the opposite.", "acce_answer": "Because <code>getcallback.closure()</code> is executing the function right away, you are not storing a reference to a function to call at a later time.\n", "acce_score": "804", "simquery1_title": "Can't use unichr in Python 3.1 I've been looking through the Python Cookbook (2nd Edition) to learn how to process strings and characters.I wanted to try converting a number into its Unicode equivalent. So I tried using the built-in function called 'unichr', which, according to the Cookbook, goes something like:<code>&gt;&gt;&gt; print repr(unichr(8224))</code>... and will output:<code>u'\\u2020'</code>However, the code failed. I thought it had something to do with print (because Python 3 uses print() instead of print &quot;&quot;), but that didn't work out as well. I tried several variations to the code, and it still failed. At long last, I just typed a simple line:<code>unichr(10000)</code>To my surprise, this error message kept popping up, no matter what value I put into the above function:<code> NameError: name 'unichr' is not defined</code>What could be the problem? Is there some specific module that I'm supposed to import?", "simquery1_answer": "I'd guess that your <code>category</code> column is a list of category values like \"12,34,45,78\" ?This is not good relational database design.  One reason it's not good is as you've discovered: it's incredibly slow to search for a substring that might appear in the middle of that list.Some people have suggested using fulltext search instead of the <code>LIKE</code> predicate with wildcards, but in this case it's simpler to create another table so you can list one category value per row, with a reference back to your <code>cute_news</code> table:<code>CREATE TABLE cute_news_category (\n  news_id INT NOT NULL,\n  category INT NOT NULL,\n  PRIMARY KEY (news_id, category),\n  FOREIGN KEY (news_id) REFERENCES cute_news(news_id)\n) ENGINE=InnoDB;\n</code>Then you can query and it'll go a lot faster:<code>SELECT n.`date`, n.title, c.category, n.url, n.comments \nFROM cute_news n\nJOIN cute_news_category c ON (n.news_id = c.news_id)\nWHERE c.category = 45 \nORDER BY n.`date` DESC\n</code>\n", "simquery2_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery2_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "total_len": 196, "s1_total_len": 578, "s2_total_len": 414}
{"post_id": "9304908", "title": "How can I filter a Django query with a list of values?", "query": "I'm sure this is a trivial operation, but I can't figure out how it's done.There's got to be something smarter than this:<code>ids = [1, 3, 6, 7, 9]for id in ids:    MyModel.objects.filter(pk=id)</code>I'm looking to get them all in one query with something like:<code>MyModel.objects.filter(pk=[1, 3, 6, 7, 9])</code>How can I filter a Django query with a list of values?", "acce_answer": "I think you are asking for code.\n try<code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {static NSString *CellIdentifier = @\"Cell\";\nUILabel *yourLabel = nil;UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\nif (cell == nil) {\n    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];\n    yourLabel = [[UILabel alloc] initWithFrame:CGRect\u2026\u2026];\n    [yourLabel setTag:9999];\n    [[cell contentView] addSubview:addressLabel];} if (!yourLabel)\n    yourLabel = (UILabel*)[cell viewWithTag:9999];return cell;}\n</code>\n", "acce_score": "441", "simquery1_title": "How can I filter a Django query with a list of values? I'm sure this is a trivial operation, but I can't figure out how it's done.There's got to be something smarter than this:<code>ids = [1, 3, 6, 7, 9]for id in ids:    MyModel.objects.filter(pk=id)</code>I'm looking to get them all in one query with something like:<code>MyModel.objects.filter(pk=[1, 3, 6, 7, 9])</code>How can I filter a Django query with a list of values?", "simquery1_answer": "I think you are asking for code.\n try<code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {static NSString *CellIdentifier = @\"Cell\";\nUILabel *yourLabel = nil;UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\nif (cell == nil) {\n    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];\n    yourLabel = [[UILabel alloc] initWithFrame:CGRect\u2026\u2026];\n    [yourLabel setTag:9999];\n    [[cell contentView] addSubview:addressLabel];} if (!yourLabel)\n    yourLabel = (UILabel*)[cell viewWithTag:9999];return cell;}\n</code>\n", "simquery2_title": "How to check if a pymongo cursor has query results I need to check if a <code>find</code> statement returns a non-empty query.What I was doing was the following:<code>query = collection.find({\"string\": field})if not query: #do something</code>Then I realized that my <code>if</code> statement was never executed because <code>find</code> returns a cursor, either the query is empty or not.Therefore I checked the documentation and I find two methods that can help me:<code>count(with_limit_and_skip=False)</code> which (from the description):  Returns the number of documents in the results set for this query.It seems a good way to check, but this means that I need to countall the results in cursor to know if it is zero or not, right? A little bit expensive?<code>retrieved</code> which (from the description):  The number of documents retrieved so far.I tested it on an empty query set and it returns zero, but it's notclear what it does and I don't know if it's right for me.So, which is the best way (best practice) to check if a <code>find()</code> query returns an empty set or not? Is one of the methods described above right for this purpose? And what about performance? Are there other ways to do it?Just to be clear: I need to know if the query is empty and I'd like to find the best way with the cursor with respect to performance and being pythonic.", "simquery2_answer": "I have some html like this <code>&lt;div&gt;111222333&lt;/div&gt;\n</code>I want to use js to make it to <code>&lt;div&gt;111&lt;strong&gt;222&lt;/strong&gt;333&lt;/div&gt;\n</code>or something thing like <code>&lt;div&gt;111&lt;strong class='aa'&gt;222&lt;/strong&gt;333&lt;/div&gt;\n</code>Can someone help me out?\n", "total_len": 334, "s1_total_len": 332, "s2_total_len": 498}
{"post_id": "9371238", "title": "Why is reading lines from stdin much slower in C++ than Python?", "query": "I wanted to compare reading lines of string input from stdin using Python and C++ and was shocked to see my C++ code run an order of magnitude slower than the equivalent Python code. Since my C++ is rusty and I'm not yet an expert Pythonista, please tell me if I'm doing something wrong or if I'm misunderstanding something.(TLDR answer: include the statement: <code>cin.sync_with_stdio(false)</code> or just use <code>fgets</code> instead.TLDR results: scroll all the way down to the bottom of my question and look at the table.)C++ code:<code>#include &lt;iostream&gt;#include &lt;time.h&gt;using namespace std;int main() {    string input_line;    long line_count = 0;    time_t start = time(NULL);    int sec;    int lps;    while (cin) {        getline(cin, input_line);        if (!cin.eof())            line_count++;    };    sec = (int) time(NULL) - start;    cerr &lt;&lt; &quot;Read &quot; &lt;&lt; line_count &lt;&lt; &quot; lines in &quot; &lt;&lt; sec &lt;&lt; &quot; seconds.&quot;;    if (sec &gt; 0) {        lps = line_count / sec;        cerr &lt;&lt; &quot; LPS: &quot; &lt;&lt; lps &lt;&lt; endl;    } else        cerr &lt;&lt; endl;    return 0;}// Compiled with:// g++ -O3 -o readline_test_cpp foo.cpp</code>Python Equivalent:<code>#!/usr/bin/env pythonimport timeimport syscount = 0start = time.time()for line in  sys.stdin:    count += 1delta_sec = int(time.time() - start_time)if delta_sec &gt;= 0:    lines_per_sec = int(round(count/delta_sec))    print(&quot;Read {0} lines in {1} seconds. LPS: {2}&quot;.format(count, delta_sec,       lines_per_sec))</code>Here are my results:<code>$ cat test_lines | ./readline_test_cppRead 5570000 lines in 9 seconds. LPS: 618889$ cat test_lines | ./readline_test.pyRead 5570000 lines in 1 seconds. LPS: 5570000</code>I should note that I tried this both under Mac\u00a0OS\u00a0X\u00a0v10.6.8 (Snow\u00a0Leopard) and Linux 2.6.32 (Red Hat Linux 6.2). The former is a MacBook Pro, and the latter is a very beefy server, not that this is too pertinent.<code>$ for i in {1..5}; do echo &quot;Test run $i at `date`&quot;; echo -n &quot;CPP:&quot;; cat test_lines | ./readline_test_cpp ; echo -n &quot;Python:&quot;; cat test_lines | ./readline_test.py ; done</code><code>Test run 1 at Mon Feb 20 21:29:28 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 2 at Mon Feb 20 21:29:39 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 3 at Mon Feb 20 21:29:50 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 4 at Mon Feb 20 21:30:01 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 5 at Mon Feb 20 21:30:11 EST 2012CPP:   Read 5570001 lines in 10 seconds. LPS: 557000Python:Read 5570000 lines in  1 seconds. LPS: 5570000</code>Tiny benchmark addendum and recapFor completeness, I thought I'd update the read speed for the same file on the same box with the original (synced) C++ code. Again, this is for a 100M line file on a fast disk. Here's the comparison, with several solutions/approaches:ImplementationLines per secondpython (default)3,571,428cin (default/naive)819,672cin (no sync)12,500,000fgets14,285,714wc (not fair comparison)54,644,808", "acce_answer": "Short answer: wire up $.ajax to respond to 401 (Unauthorized) status codes.Long answer:  We're consuming a RESTful api from a single page website.  when the server detects an unauthorized request, it just returns a 401.  The client will redirect to /login?#requested/resource.<code>/login</code> will prompt for authorization (redirect to google's oath server in our case) then add an authorization cookie and redirect to the originally requested <code>#requested/resource</code>we're also sending the auth cookie on every $.ajax request.Hopefully this is helpful.<code>define(\n    [\n        'jquery',\n        'jquery.cookie'\n    ],\n    function ($) {\n        var redirectToLogin = function () {\n            var locationhref = \"/login\";\n            if (location.hash &amp;&amp; location.hash.length &gt; 0) {\n                locationhref += \"?hash=\" + location.hash.substring(1);\n            }\n            location.href = locationhref;\n        };        var $doc = $(document);\n        $doc.ajaxSend(function (event, xhr) {\n            var authToken = $.cookie('access_token');\n            if (authToken) {\n                xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\n            }\n        });        $doc.ajaxError(function (event, xhr) {\n            if (xhr.status == 401)\n                redirectToLogin();\n        });\n    });\n</code>\n", "acce_score": "2147", "simquery1_title": "Why is reading lines from stdin much slower in C++ than Python? I wanted to compare reading lines of string input from stdin using Python and C++ and was shocked to see my C++ code run an order of magnitude slower than the equivalent Python code. Since my C++ is rusty and I'm not yet an expert Pythonista, please tell me if I'm doing something wrong or if I'm misunderstanding something.(TLDR answer: include the statement: <code>cin.sync_with_stdio(false)</code> or just use <code>fgets</code> instead.TLDR results: scroll all the way down to the bottom of my question and look at the table.)C++ code:<code>#include &lt;iostream&gt;#include &lt;time.h&gt;using namespace std;int main() {    string input_line;    long line_count = 0;    time_t start = time(NULL);    int sec;    int lps;    while (cin) {        getline(cin, input_line);        if (!cin.eof())            line_count++;    };    sec = (int) time(NULL) - start;    cerr &lt;&lt; &quot;Read &quot; &lt;&lt; line_count &lt;&lt; &quot; lines in &quot; &lt;&lt; sec &lt;&lt; &quot; seconds.&quot;;    if (sec &gt; 0) {        lps = line_count / sec;        cerr &lt;&lt; &quot; LPS: &quot; &lt;&lt; lps &lt;&lt; endl;    } else        cerr &lt;&lt; endl;    return 0;}// Compiled with:// g++ -O3 -o readline_test_cpp foo.cpp</code>Python Equivalent:<code>#!/usr/bin/env pythonimport timeimport syscount = 0start = time.time()for line in  sys.stdin:    count += 1delta_sec = int(time.time() - start_time)if delta_sec &gt;= 0:    lines_per_sec = int(round(count/delta_sec))    print(&quot;Read {0} lines in {1} seconds. LPS: {2}&quot;.format(count, delta_sec,       lines_per_sec))</code>Here are my results:<code>$ cat test_lines | ./readline_test_cppRead 5570000 lines in 9 seconds. LPS: 618889$ cat test_lines | ./readline_test.pyRead 5570000 lines in 1 seconds. LPS: 5570000</code>I should note that I tried this both under Mac\u00a0OS\u00a0X\u00a0v10.6.8 (Snow\u00a0Leopard) and Linux 2.6.32 (Red Hat Linux 6.2). The former is a MacBook Pro, and the latter is a very beefy server, not that this is too pertinent.<code>$ for i in {1..5}; do echo &quot;Test run $i at `date`&quot;; echo -n &quot;CPP:&quot;; cat test_lines | ./readline_test_cpp ; echo -n &quot;Python:&quot;; cat test_lines | ./readline_test.py ; done</code><code>Test run 1 at Mon Feb 20 21:29:28 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 2 at Mon Feb 20 21:29:39 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 3 at Mon Feb 20 21:29:50 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 4 at Mon Feb 20 21:30:01 EST 2012CPP:   Read 5570001 lines in 9 seconds. LPS: 618889Python:Read 5570000 lines in 1 seconds. LPS: 5570000Test run 5 at Mon Feb 20 21:30:11 EST 2012CPP:   Read 5570001 lines in 10 seconds. LPS: 557000Python:Read 5570000 lines in  1 seconds. LPS: 5570000</code>Tiny benchmark addendum and recapFor completeness, I thought I'd update the read speed for the same file on the same box with the original (synced) C++ code. Again, this is for a 100M line file on a fast disk. Here's the comparison, with several solutions/approaches:ImplementationLines per secondpython (default)3,571,428cin (default/naive)819,672cin (no sync)12,500,000fgets14,285,714wc (not fair comparison)54,644,808", "simquery1_answer": "Short answer: wire up $.ajax to respond to 401 (Unauthorized) status codes.Long answer:  We're consuming a RESTful api from a single page website.  when the server detects an unauthorized request, it just returns a 401.  The client will redirect to /login?#requested/resource.<code>/login</code> will prompt for authorization (redirect to google's oath server in our case) then add an authorization cookie and redirect to the originally requested <code>#requested/resource</code>we're also sending the auth cookie on every $.ajax request.Hopefully this is helpful.<code>define(\n    [\n        'jquery',\n        'jquery.cookie'\n    ],\n    function ($) {\n        var redirectToLogin = function () {\n            var locationhref = \"/login\";\n            if (location.hash &amp;&amp; location.hash.length &gt; 0) {\n                locationhref += \"?hash=\" + location.hash.substring(1);\n            }\n            location.href = locationhref;\n        };        var $doc = $(document);\n        $doc.ajaxSend(function (event, xhr) {\n            var authToken = $.cookie('access_token');\n            if (authToken) {\n                xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\n            }\n        });        $doc.ajaxError(function (event, xhr) {\n            if (xhr.status == 401)\n                redirectToLogin();\n        });\n    });\n</code>\n", "simquery2_title": "Does Python support multithreading? Can it speed up execution time? I'm slightly confused about whether multithreading works in Python or not. I know there has been a lot of questions about this and I've read many of them, but I'm still confused. I know from my own experience and have seen others post their own answers and examples here on StackOverflow that multithreading is indeed possible in Python. So why is it that everyone keep saying that Python is locked by the GIL and that only one thread can run at a time? It clearly does work. Or is there some distinction I'm not getting here? Many posters/respondents also keep mentioning that threading is limited because it does not make use of multiple cores. But I would say they are still useful because they do work simultaneously and thus get the combined workload done faster. I mean why would there even be a Python thread module otherwise?Update:Thanks for all the answers so far. The way I understand it is that multithreading will only run in parallel for some IO tasks, but can only run one at a time for CPU-bound multiple core tasks.I'm not entirely sure what this means for me in practical terms, so I'll just give an example of the kind of task I'd like to multithread. For instance, let's say I want to loop through a very long list of strings and I want to do some basic string operations on each list item. If I split up the list, send each sublist to be processed by my loop/string code in a new thread, and send the results back in a queue, will these workloads run roughly at the same time? Most importantly will this theoretically speed up the time it takes to run the script? Another example might be if I can render and save four different pictures using PIL in four different threads, and have this be faster than processing the pictures one by one after each other? I guess this speed-component is what I'm really wondering about rather than what the correct terminology is.I also know about the multiprocessing module but my main interest right now is for small-to-medium task loads (10-30 secs) and so I think multithreading will be more appropriate because subprocesses can be slow to initiate. ", "simquery2_answer": "I think you are made mistake this chaage this <code>NSDocumentationDirectory</code> to <code>NSDocumentDirectory</code>\n", "total_len": 1725, "s1_total_len": 1723, "s2_total_len": 522}
{"post_id": "9572490", "title": "Find index of last occurrence of a substring in a string", "query": "I want to find the position (or index) of the last occurrence of a certain substring in given input string <code>str</code>.For example, suppose the input string is <code>str = 'hello'</code> and the substring is <code>target = 'l'</code>, then it should output 3.How can I do this?", "acce_answer": "First of all make loader as field of your class and reuse it. Then add error listener:<code>addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);\n</code>Also you should check input data:<code>public function addImage(fname:String):void {\n    if(fname &amp;&amp; fname != \"\") array.push(fname);     \n}\n</code>When all images were loaded you should \"reset\" you loader:<code>array = [];\n</code>And it would be better if you will check the state of your loader to prevent unpredictable cases:<code>public function beginLoad():void {\n   if(state == ALREADY_LOADING) return;\n   count = 0;\n   loadImages(count);\n}\n</code>ps immutable fields such as <code>loader, map, array</code> mark const. It's not mistake but other developers will know that these fields are immutable.\n", "acce_score": "514", "simquery1_title": "Python Reverse Find in String I have a string and an arbitrary index into the string. I want find the first occurrence of a substring before the index.An example: I want to find the index of the 2nd I by using the index and <code>str.rfind()</code><code>s = \"Hello, I am 12! I like plankton but I don't like Baseball.\"index = 34 #points to the 't' in 'but'index_of_2nd_I = s.rfind('I', index)#returns = 36 and not 16 </code>Now I would expect rfind() to return the index of the 2nd I (16) but it returns 36. after looking it up in the docs I found out rfind does not stand for reverse find.I'm totally new to Python so is there a built in solution to reverse find? Like reversing the string with some python [::-1] magic and using find, etc? Or will I have to reverse iterate char by char through the string?", "simquery1_answer": "You can always do it this way...<code>var inputCommon = (function() {\n    return {\n        SetupToolTips: function() {\n            $(\".hasToolTip\").focus(function() {\n                $(this).next(\".tooltip\").fadeIn();\n            });\n            $(\".hasToolTip\").blur(function() {\n                $(this).next(\".tooltip\").fadeOut();\n            });\n        }\n    };})();\n</code>rather than using live.\n", "simquery2_title": "Remove the first character of a string I would like to remove the first character of a string.For example, my string starts with a <code>:</code> and I want to remove that only. There are several occurrences of <code>:</code> in the string that shouldn't be removed.I am writing my code in Python.", "simquery2_answer": "Because your function isn't doing anything inside the while block, it grabs the CPU, and, for all practical purposes, never lets go of it, so other threads can do their work<code>private void checkingData()\n{\n    while (true)\n    {\n        // executes, immediately\n    }\n}\n</code>If you change it to the following, you should see more reasonable CPU consumption:<code>private void checkingData()\n{\n    while (true)\n    {\n        // read your sensor data         Thread.Sleep(1000);\n    }\n}\n</code>\n", "total_len": 311, "s1_total_len": 351, "s2_total_len": 211}
{"post_id": "9573244", "title": "How to check if the string is empty?", "query": "Does Python have something like an empty string variable where you can do:<code>if myString == string.empty:</code>Regardless, what's the most elegant way to check for empty string values? I find hard coding <code>\"\"</code> every time for checking an empty string not as good.", "acce_answer": "I believe there is a bug that prevents the ContentType metadata property being used (see http://social.msdn.microsoft.com/Forums/en/sharepoint2010general/thread/cd059e1c-7af6-454c-8568-a22e7755ce8c)You need to create a new managed metadata property and map it to the ows_ContentType crawled property (I called mine CType), after this do a full crawl (you may need to delete the index first) to have the property available in the search index.Then edit the Search Core Results web part and add<code> &lt;Column Name=\"CType\"/&gt;\n</code>to Fetched Properties (under Display Properties) after <code>&lt;columns&gt;</code>Then update your xml to the following<code>&lt;xsl:choose&gt;\n    &lt;xsl:when test=\"ctype = 'LegalLinkedDocument'\"&gt;\n        &lt;img align=\"absmiddle\" src=\"_layouts/images/LegalLinkedDocument.gif\" border=\"0\" alt=\"{imageurl/@imageurldescription}\" /&gt;\n    &lt;/xsl:when&gt; \n    &lt;xsl:otherwise&gt;\n        &lt;img align=\"absmiddle\" src=\"{imageurl}\" border=\"0\" alt=\"{imageurl/@imageurldescription}\" /&gt;\n    &lt;/xsl:otherwise&gt;\n&lt;/xsl:choose&gt;\n</code>\n", "acce_score": "2047", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "efficiently checking that string consists of one character in Python What is an efficient way to check that a string <code>s</code> in Python consists of just one character, say <code>'A'</code>? Something like <code>all_equal(s, 'A')</code> which would behave like this:<code>all_equal(\"AAAAA\", \"A\") = Trueall_equal(\"AAAAAAAAAAA\", \"A\") = Trueall_equal(\"AAAAAfAAAAA\", \"A\") = False</code>Two seemingly inefficient ways would be to: first convert the string to a list and check each element, or second to use a regular expression. Are there more efficient ways or are these the best one can do in Python?  Thanks.", "simquery2_answer": "I have a HTML Select drop down box, which I have styled, the problem I am having is that I can not seem to style the background color of the options.    Below is a link to a demo as you can see the drop down options has a white background, which i am trying to change.http://cssdeck.com/labs/lnroxruaHere is my HTML Code:<code>&lt;div class=\"select-div\"&gt;\n    &lt;select name=\"pagination\"&gt;      &lt;option value=\"10\" selected=\"selected\"&gt;10&lt;/option&gt;\n      &lt;option value=\"20\"&gt;20&lt;/option&gt;\n      &lt;option value=\"30\"&gt;30&lt;/option&gt;\n      &lt;option value=\"40\"&gt;40&lt;/option&gt;\n      &lt;option value=\"50\"&gt;50&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;/div&gt;\n</code>CSS Styling<code>  select{\n    background:transparent;\n    width: 170px;\n    padding: 2px;\n    font-family:Arial, Helvetica, sans-serif;\n    font-size:11px;\n    font-weight:600;\n    color:#fff;\n    line-height: 1;\n    border: 0;\n    border-radius: 0;\n    height: 22px;\n    -webkit-appearance: none;    }    .select-div{\nwidth: 170px;\nheight: 22px;\noverflow: hidden;\nbackground: url(arrowhead.png) no-repeat right #363636;\nborder-top:#575757 1px solid;\n-webkit-border-radius: 4px 4px 4px 4px;\n -moz-border-radius: 4px 4px 4px 4px;\n      border-radius: 4px 4px 4px 4px;\n-webkit-box-shadow: inset 0 2px 4px rgba(107, 105, 105, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n -moz-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n      -moz-box-shadow:    0px 8px 3px -9px #000000;\n      -webkit-box-shadow: 0px 8px 3px -9px #000000;\n      box-shadow:         0px 8px 3px -9px #000000;\n   }\n</code>Thanks\n", "total_len": 444, "s1_total_len": 337, "s2_total_len": 951}
{"post_id": "9622163", "title": "Save plot to image file instead of displaying it", "query": "This displays the figure in a GUI:<code>import matplotlib.pyplot as pltplt.plot([1, 2, 3], [1, 4, 9])plt.show()</code>But how do I instead save the figure to a file (e.g. foo.png)?", "acce_answer": "To do this query, you can use django's <code>extra</code>:<code>titles = Title.objects.all()\nordered_query = titles.extra(select={\n                'ordering':\"(\n                    case when status='Default' then 1 \n                         when status='WIP' then 2\n                         when status='Complete' then 3\n                    end)\"\n                }).order_by('ordering', 'title')\n</code>\n", "acce_score": "1653", "simquery1_title": "Python saving multiple figures into one PDF file In python (for one figure created in a GUI) I was able to save the figure under .jpg and also .pdf by either using: <code>plt.savefig(filename1 +  '.pdf')</code>or<code>plt.savefig(filename1 +  '.jpg')</code>Using one file I would like to save multiple figures in either .pdf or .jpg (just like its done in math lab). Can anybody please help with this?", "simquery1_answer": "I am trying to write a currying function in JavaScript,the inner function does not update the value of the array args:<code>var myCurry=function(fn)\n{\n    var len=fn.length;\n    var _slice=Array.prototype.slice;\n    var args=_slice.call(arguments,1);\n    console.log(args.length);\n    return function next()\n    {\n        var rem=_slice.call(arguments,0)\n        args.concat(rem);\n        console.log(args.length);\n        if(len&lt;=args.length)\n            return fn.apply(null,args);\n        else\n            return next;\n    }\n}\n</code>I call it like this:<code> var _sum=myCurry(sum,2);\n var res=_sum(2);\n var res2=res(3,4);\n console.log(res2);\n</code>This returns the function next at all times,presumably because the array is not updated.How do I fix this error to ensure that the function work?\n", "simquery2_title": "Individual alpha values in scatter plot I'm wondering if it is possible to have individual alpha values for each point to be plotted using the <code>scatter</code> function of Matplotlib. I need to plot a set of points, each one with its alpha value. For example, I have this code to plot some points<code>def plot_singularities(points_x, p, alpha_point, file_path):    plt.figure()    plt.scatter(points_x, points_y, alpha=alpha_point)    plt.savefig(file_path + '.png', dpi=100)    plt.close()</code>All my <code>points_x</code>, <code>points_y</code> and <code>alpha_point</code> have n values. However, I can't assign an array to the <code>alpha</code> parameter in <code>scatter()</code>. How can I have a different alpha value for each point? I can loop and plot point by point with each specific alpha value, but this doesn't seem like a good approach.", "simquery2_answer": "Currently I've a string with a date and time. When I show the string it looks like: \n  2015-06-16 09:17:28 PM\nBut when I try to put it into the database it's telling me:\n  Additional information: SqlDateTime overflow. Must be between 1/1/1753\n  12:00:00 AM and 12/31/9999 11:59:59 PM.\nI've to convert the string. So there is now other way!What's the right way to do this? Obviously the value in database is datetime.This is my code (I've put it together actually it's from multiple classes):<code>    string time = date + \" \" + txtTime.Text;\n    DateTime temp = Convert.ToDateTime(time);\n    String query =\"insert into reserveringen (reserveringId,klantId,medewerkerId,aantalPersonen,begintijd,eindtijd)values(@reserveringId,@klantId,@medewerkerId,@aantalPersonen,@begintijd,@eindtijd)\";\n    SqlCommand comm = sqlCrud.returnSqlCommand(query);\n    comm.Parameters.AddWithValue(\"begintijd\",temp);\n</code>I already googled a lot.... but nothing works.Thanks\n", "total_len": 191, "s1_total_len": 365, "s2_total_len": 578}
{"post_id": "9663562", "title": "What is the difference between __init__ and __call__?", "query": "I want to know the difference between <code>__init__</code> and <code>__call__</code> methods.  For example:<code>class test:  def __init__(self):    self.a = 10  def __call__(self):     b = 20</code>", "acce_answer": "Currently your constructors are both defaulting to <code>private</code> because you have not included an access modifier. If the <code>Person</code> constructor is private and the <code>Resident</code> class is separate (ie, not nested in <code>Person</code> as Jon Skeet explains), even if it is inheriting from it, it will not have visibility of the constructor.Simply add a modifier to them, something like <code>public</code>, <code>protected</code> or <code>internal</code>:<code>protected Person(\n</code>Then you can call into <code>base</code> as normal:<code>public Resident() \n    : base() \n{\n}\n</code>\n", "acce_score": "757", "simquery1_title": "Prevent creating new attributes outside __init__ I want to be able to create a class (in Python) that once initialized with <code>__init__</code>, does not accept new attributes, but accepts modifications of existing attributes. There's several hack-ish ways I can see to do this, for example having a <code>__setattr__</code> method such as<code>def __setattr__(self, attribute, value):    if not attribute in self.__dict__:        print \"Cannot set %s\" % attribute    else:        self.__dict__[attribute] = value</code>and then editing <code>__dict__</code> directly inside <code>__init__</code>, but I was wondering if there is a 'proper' way to do this?", "simquery1_answer": "I have a solution for you if you have to do stuff with paperclip. Include this class in your lib folder as heroku_compliant_file.rb<code>class HerokuCompliantFile &lt; StringIO\n  def initialize(str,filename,content_type)\n    @original_filename = filename\n    @content_type = content_type\n    super(str)\n  end\nend\n</code>In your model containing the paperclip - <code>def insert_a_hunk_of_string_into_paperclip(some_object)\n  f = HerokuCompliantFile.new(some_object.render,\"myfile_#{Process.pid}\",\"application/pdf\")\n  self.paperclip_model = f\n  save\nend\n</code>\n", "simquery2_title": "py.test: how to get the current test's name from the setup method? I am using py.test and wonder if/how it is possible to retrieve the name of the currently executed test within the <code>setup</code> method that is invoked before running each test. Consider this code:<code>class TestSomething(object):    def setup(self):        test_name = ...    def teardown(self):        pass    def test_the_power(self):        assert \"foo\" != \"bar\"    def test_something_else(self):        assert True</code>Right before <code>TestSomething.test_the_power</code> becomes executed, I would like to have access to this name in <code>setup</code> as outlined in the code via <code>test_name = ...</code> so that <code>test_name</code> == <code>\"TestSomething.test_the_power\"</code>.Actually, in <code>setup</code>, I allocate some resource for each test. In the end, looking at the resources that have been created by various unit tests, I would like to be able to see which one was created by which test. Best thing would be to just use the test name upon creation of the resource.", "simquery2_answer": "I'm doing a hopping window aggregation on a 4 hr window advancing every 5 mins. As the hopping windows are overlapping, I'm getting duplicate keys with different aggregated value.<code>TimeWindows.of(240 * 60 * 1000L).advanceBy(5 * 60* 1000L)\n</code>How do I eliminate duplicate keys with repeating data or pick only the keys that holds the latest value.\n", "total_len": 259, "s1_total_len": 358, "s2_total_len": 392}
{"post_id": "9708902", "title": "In practice, what are the main uses for the \"yield from\" syntax in Python 3.3?", "query": "I'm having a hard time wrapping my brain around PEP 380.What are the situations where <code>yield from</code> is useful?What is the classic use case?Why is it compared to micro-threads?So far I have used generators, but never really used coroutines (introduced by PEP-342). Despite some similarities, generators and coroutines are basically two different concepts. Understanding coroutines (not only generators) is the key to understanding the new syntax.IMHO coroutines are the most obscure Python feature, most books make it look useless and uninteresting.Thanks for the great answers, but special thanks to agf and his comment linking to David Beazley presentations.", "acce_answer": "Profile data is collected per method. Given that <code>doAThing()</code> is final in your case, there is only one method for all subclasses. Thus the profile for <code>field.act()</code> is likely to be spoiled by other Foos if <code>doAThing()</code> is actually called for them many times.Currently (as of JDK8u60) type profiles do not take the context into account.\nThere is a bug report JDK-8015416 to fix this some time in future.\n", "acce_score": "650", "simquery1_title": "__init__ vs __enter__ in context managers As far as I understand, <code>__init__()</code> and <code>__enter__()</code> methods of the context manager are called exactly once each, one after another, leaving no chance for any other code to be executed in between. What is the purpose of separating them into two methods, and what should I put into each?Edit: sorry, wasn't paying attention to the docs.Edit 2: actually, the reason I got confused is because I was thinking of <code>@contextmanager</code> decorator. A context manager created using <code>@contextmananger</code> can only be used once (the generator will be exhausted after the first use), so often they are written with the constructor call inside <code>with</code> statement; and if that was the only way to use <code>with</code> statement, my question would have made sense. Of course, in reality, context managers are more general than what <code>@contextmanager</code> can create; in particular context managers can, in general, be reused. I hope I got it right this time?", "simquery1_answer": "You could use a log link function to do this. Try using <code>glm()</code> specifying a log link.\n", "simquery2_title": "In practice, what are the main uses for the \"yield from\" syntax in Python 3.3? I'm having a hard time wrapping my brain around PEP 380.What are the situations where <code>yield from</code> is useful?What is the classic use case?Why is it compared to micro-threads?So far I have used generators, but never really used coroutines (introduced by PEP-342). Despite some similarities, generators and coroutines are basically two different concepts. Understanding coroutines (not only generators) is the key to understanding the new syntax.IMHO coroutines are the most obscure Python feature, most books make it look useless and uninteresting.Thanks for the great answers, but special thanks to agf and his comment linking to David Beazley presentations.", "simquery2_answer": "Profile data is collected per method. Given that <code>doAThing()</code> is final in your case, there is only one method for all subclasses. Thus the profile for <code>field.act()</code> is likely to be spoiled by other Foos if <code>doAThing()</code> is actually called for them many times.Currently (as of JDK8u60) type profiles do not take the context into account.\nThere is a bug report JDK-8015416 to fix this some time in future.\n", "total_len": 318, "s1_total_len": 286, "s2_total_len": 316}
{"post_id": "9733638", "title": "How to POST JSON data with Python Requests?", "query": "I need to POST a JSON from a client to a server. I'm using Python 2.7.1 and simplejson. The client is using Requests. The server is CherryPy. I can GET a hard-coded JSON from the server (code not shown), but when I try to POST a JSON to the server, I get \"400 Bad Request\".Here is my client code:<code>data = {'sender':   'Alice',    'receiver': 'Bob',    'message':  'We did it!'}data_json = simplejson.dumps(data)payload = {'json_payload': data_json}r = requests.post(\"http://localhost:8080\", data=payload)</code>Here is the server code.<code>class Root(object):    def __init__(self, content):        self.content = content        print self.content  # this works    exposed = True    def GET(self):        cherrypy.response.headers['Content-Type'] = 'application/json'        return simplejson.dumps(self.content)    def POST(self):        self.content = simplejson.loads(cherrypy.request.body.read())</code>Any ideas?", "acce_answer": "<code>import java.util.Scanner;\npublic class TableMultiplication {\npublic static void main(String[] args) {\n    int table,count,total;\n    //Reading user data from console\n    Scanner sc = new Scanner(System.in);\n    //reading  data for table \n    System.out.println(\"Enter Your Table:\");\n    table = sc.nextInt();\n    //reading input for how much  want to count\n    System.out.println(\"Enter Your Count to Table:\");\n    count = sc.nextInt();\n     //iterate upto the user required to count and multiplay the table and store in the total and finally display\n    for (int i = 1; i &lt; count; i++) {        total = table*i;\n        System.out.println(table+\"*\"+i+\"=\"+total);    }//for\n}//main\n}//TableMultiplication \n</code>\n", "acce_score": "1040", "simquery1_title": "Django CSRF check failing with an Ajax POST request I could use some help complying with Django's CSRF protection mechanism via my AJAX post. I've followed the directions here:http://docs.djangoproject.com/en/dev/ref/contrib/csrf/I've copied the AJAX sample code they have on that page exactly:http://docs.djangoproject.com/en/dev/ref/contrib/csrf/#ajaxI put an alert printing the contents of <code>getCookie('csrftoken')</code> before the <code>xhr.setRequestHeader</code> call and it is indeed populated with some data. I'm not sure how to verify that the token is correct, but I'm encouraged that it's finding and sending something.But Django is still rejecting my AJAX post.Here's my JavaScript:<code>$.post(\"/memorize/\", data, function (result) {    if (result != \"failure\") {        get_random_card();    }    else {        alert(\"Failed to save card data.\");    }});</code>Here's the error I'm seeing from Django:  [23/Feb/2011 22:08:29] \"POST /memorize/ HTTP/1.1\" 403 2332I'm sure I'm missing something, and maybe it's simple, but I don't know what it is.  I've searched around SO and saw some information about turning off the CSRF check for my view via the <code>csrf_exempt</code> decorator, but I find that unappealing.  I've tried that out and it works, but I'd rather get my POST to work the way Django was designed to expect it, if possible.Just in case it's helpful, here's the gist of what my view is doing:<code>def myview(request):    profile = request.user.profile    if request.method == 'POST':        \"\"\"        Process the post...        \"\"\"        return HttpResponseRedirect('/memorize/')    else: # request.method == 'GET'        ajax = request.GET.has_key('ajax')        \"\"\"        Some irrelevent code...        \"\"\"        if ajax:            response = HttpResponse()            profile.get_stack_json(response)            return response        else:            \"\"\"            Get data to send along with the content of the page.            \"\"\"        return render_to_response('memorize/memorize.html',                \"\"\" My data \"\"\"                context_instance=RequestContext(request))</code>Thanks for your replies!", "simquery1_answer": "My basic DWR code that works fine on tomcat doesn't work in GAE. According to http://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine, dwr.3.0.0.RC1.jar is supported by GAE.I don't see any servlet parameter to disable threading in the DwrServlet (http://directwebremoting.org/dwr/documentation/server/configuration/servlet/index.html)Any help is appreciated.Thank youThe error I'm getting is<code>runserver:\n     [java] 2011-06-06 15:18:19.144 java[1170:903] [Java CocoaComponent compatibility mode]: Enabled\n     [java] 2011-06-06 15:18:19.146 java[1170:903] [Java CocoaComponent compatibility mode]: Setting timeout for SWT to 0.100000\n     [java] Jun 6, 2011 10:18:20 PM com.google.apphosting.utils.jetty.JettyLogger info\n     [java] INFO: Logging to JettyLogger(null) via com.google.apphosting.utils.jetty.JettyLogger\n     [java] Jun 6, 2011 10:18:20 PM com.google.apphosting.utils.config.AppEngineWebXmlReader readAppEngineWebXml\n     [java] INFO: Successfully processed /Users/mbustany/parents-portal/prototype/mo/geolocation-appengine/build/WEB-INF/appengine-web.xml\n     [java] Jun 6, 2011 10:18:20 PM com.google.apphosting.utils.config.AbstractConfigXmlReader readConfigXml\n     [java] INFO: Successfully processed /Users/mbustany/parents-portal/prototype/mo/geolocation-appengine/build/WEB-INF/web.xml\n     [java] Jun 6, 2011 10:18:20 PM com.google.apphosting.utils.jetty.JettyLogger info\n     [java] INFO: jetty-6.1.x\n     [java] Jun 6, 2011 10:18:20 PM com.google.apphosting.utils.jetty.JettyLogger info\n     [java] INFO: Started SelectChannelConnector@localhost:8080\n     [java] Jun 6, 2011 10:18:20 PM com.google.appengine.tools.development.DevAppServerImpl start\n     [java] INFO: The server is running at http://localhost:8080/\n     [java] Jun 6, 2011 10:18:32 PM org.directwebremoting.impl.StartupUtil logStartup\n     [java] INFO: Starting: DwrServlet v3.0.0.116.rc1 on Google App Engine Development/1.5.0 / JDK 1.6.0_24 from Apple Inc. at \n     [java] Jun 6, 2011 10:18:33 PM org.directwebremoting.impl.DefaultContainer invoke\n     [java] SEVERE:   - Exception during auto-wire: \n     [java] java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)\n     [java]     at java.security.AccessController.checkPermission(AccessController.java:546)\n     [java]     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:166)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkAccess(DevAppServerFactory.java:191)\n     [java]     at java.lang.ThreadGroup.checkAccess(ThreadGroup.java:299)\n     [java]     at java.lang.Thread.init(Thread.java:336)\n     [java]     at java.lang.Thread.&lt;init&gt;(Thread.java:626)\n     [java]     at java.util.concurrent.Executors$DefaultThreadFactory.newThread(Executors.java:542)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addThread(ThreadPoolExecutor.java:672)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addIfUnderCorePoolSize(ThreadPoolExecutor.java:697)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.prestartCoreThread(ThreadPoolExecutor.java:1381)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:222)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleWithFixedDelay(ScheduledThreadPoolExecutor.java:443)\n     [java]     at org.directwebremoting.impl.PurgingDownloadManager.setScheduledThreadPoolExecutor(PurgingDownloadManager.java:71)\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java]     at java.lang.reflect.Method.invoke(Method.java:597)\n     [java]     at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:100)\n     [java]     at org.directwebremoting.impl.DefaultContainer.invoke(DefaultContainer.java:282)\n     [java]     at org.directwebremoting.impl.DefaultContainer.initializeBean(DefaultContainer.java:260)\n     [java]     at org.directwebremoting.impl.DefaultContainer.setupFinished(DefaultContainer.java:177)\n     [java]     at org.directwebremoting.impl.StartupUtil.setupDefaultContainer(StartupUtil.java:264)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:188)\n     [java]     at org.directwebremoting.servlet.DwrServlet.createContainer(DwrServlet.java:97)\n     [java]     at org.directwebremoting.servlet.DwrServlet.init(DwrServlet.java:64)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n     [java]     at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:58)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:94)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n     [java]     at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n     [java]     at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n     [java]     at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n     [java]     at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n     [java]     at com.google.apphosting.utils.jetty.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:70)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:351)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at org.mortbay.jetty.Server.handle(Server.java:326)\n     [java]     at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n     [java]     at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n     [java]     at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n     [java]     at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n     [java]     at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n     [java]     at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n     [java]     at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n     [java] Jun 6, 2011 10:18:33 PM org.directwebremoting.servlet.DwrServlet init\n     [java] SEVERE: init failed\n     [java] org.directwebremoting.extend.ContainerConfigurationException: java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:193)\n     [java]     at org.directwebremoting.servlet.DwrServlet.createContainer(DwrServlet.java:97)\n     [java]     at org.directwebremoting.servlet.DwrServlet.init(DwrServlet.java:64)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n     [java]     at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:58)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:94)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n     [java]     at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n     [java]     at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n     [java]     at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n     [java]     at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n     [java]     at com.google.apphosting.utils.jetty.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:70)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:351)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at org.mortbay.jetty.Server.handle(Server.java:326)\n     [java]     at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n     [java]     at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n     [java]     at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n     [java]     at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n     [java]     at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n     [java]     at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n     [java]     at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n     [java] Caused by: java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)\n     [java]     at java.security.AccessController.checkPermission(AccessController.java:546)\n     [java]     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:166)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkAccess(DevAppServerFactory.java:191)\n     [java]     at java.lang.ThreadGroup.checkAccess(ThreadGroup.java:299)\n     [java]     at java.lang.Thread.init(Thread.java:336)\n     [java]     at java.lang.Thread.&lt;init&gt;(Thread.java:626)\n     [java]     at java.util.concurrent.Executors$DefaultThreadFactory.newThread(Executors.java:542)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addThread(ThreadPoolExecutor.java:672)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addIfUnderCorePoolSize(ThreadPoolExecutor.java:697)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.prestartCoreThread(ThreadPoolExecutor.java:1381)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:222)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleWithFixedDelay(ScheduledThreadPoolExecutor.java:443)\n     [java]     at org.directwebremoting.impl.DefaultScriptSessionManager.afterContainerSetup(DefaultScriptSessionManager.java:70)\n     [java]     at org.directwebremoting.impl.AbstractContainer.callInitializingBeans(AbstractContainer.java:55)\n     [java]     at org.directwebremoting.impl.AbstractContainer.callInitializingBeans(AbstractContainer.java:39)\n     [java]     at org.directwebremoting.impl.DefaultContainer.setupFinished(DefaultContainer.java:180)\n     [java]     at org.directwebremoting.impl.StartupUtil.setupDefaultContainer(StartupUtil.java:264)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:188)\n     [java]     ... 33 more\n     [java] Jun 6, 2011 10:18:33 PM com.google.appengine.tools.development.ApiProxyLocalImpl log\n     [java] SEVERE: javax.servlet.ServletContext log: unavailable\n     [java] org.directwebremoting.extend.ContainerConfigurationException: java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:193)\n     [java]     at org.directwebremoting.servlet.DwrServlet.createContainer(DwrServlet.java:97)\n     [java]     at org.directwebremoting.servlet.DwrServlet.init(DwrServlet.java:64)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n     [java]     at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:58)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:94)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n     [java]     at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n     [java]     at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n     [java]     at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n     [java]     at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n     [java]     at com.google.apphosting.utils.jetty.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:70)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:351)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at org.mortbay.jetty.Server.handle(Server.java:326)\n     [java]     at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n     [java]     at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n     [java]     at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n     [java]     at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n     [java]     at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n     [java]     at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n     [java]     at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n     [java] Caused by: java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)\n     [java]     at java.security.AccessController.checkPermission(AccessController.java:546)\n     [java]     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:166)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkAccess(DevAppServerFactory.java:191)\n     [java]     at java.lang.ThreadGroup.checkAccess(ThreadGroup.java:299)\n     [java]     at java.lang.Thread.init(Thread.java:336)\n     [java]     at java.lang.Thread.&lt;init&gt;(Thread.java:626)\n     [java]     at java.util.concurrent.Executors$DefaultThreadFactory.newThread(Executors.java:542)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addThread(ThreadPoolExecutor.java:672)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addIfUnderCorePoolSize(ThreadPoolExecutor.java:697)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.prestartCoreThread(ThreadPoolExecutor.java:1381)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:222)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleWithFixedDelay(ScheduledThreadPoolExecutor.java:443)\n     [java]     at org.directwebremoting.impl.DefaultScriptSessionManager.afterContainerSetup(DefaultScriptSessionManager.java:70)\n     [java]     at org.directwebremoting.impl.AbstractContainer.callInitializingBeans(AbstractContainer.java:55)\n     [java]     at org.directwebremoting.impl.AbstractContainer.callInitializingBeans(AbstractContainer.java:39)\n     [java]     at org.directwebremoting.impl.DefaultContainer.setupFinished(DefaultContainer.java:180)\n     [java]     at org.directwebremoting.impl.StartupUtil.setupDefaultContainer(StartupUtil.java:264)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:188)\n     [java]     ... 33 more\n     [java] \n     [java] Jun 6, 2011 10:18:33 PM com.google.apphosting.utils.jetty.JettyLogger warn\n     [java] WARNING: /dwr/engine.js\n     [java] org.directwebremoting.extend.ContainerConfigurationException: java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:193)\n     [java]     at org.directwebremoting.servlet.DwrServlet.createContainer(DwrServlet.java:97)\n     [java]     at org.directwebremoting.servlet.DwrServlet.init(DwrServlet.java:64)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\n     [java]     at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n     [java]     at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:58)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:94)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n     [java]     at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n     [java]     at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n     [java]     at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n     [java]     at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n     [java]     at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n     [java]     at com.google.apphosting.utils.jetty.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:70)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:351)\n     [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java]     at org.mortbay.jetty.Server.handle(Server.java:326)\n     [java]     at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n     [java]     at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n     [java]     at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n     [java]     at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n     [java]     at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n     [java]     at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n     [java]     at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n     [java] Caused by: java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)\n     [java]     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)\n     [java]     at java.security.AccessController.checkPermission(AccessController.java:546)\n     [java]     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:166)\n     [java]     at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkAccess(DevAppServerFactory.java:191)\n     [java]     at java.lang.ThreadGroup.checkAccess(ThreadGroup.java:299)\n     [java]     at java.lang.Thread.init(Thread.java:336)\n     [java]     at java.lang.Thread.&lt;init&gt;(Thread.java:626)\n     [java]     at java.util.concurrent.Executors$DefaultThreadFactory.newThread(Executors.java:542)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addThread(ThreadPoolExecutor.java:672)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.addIfUnderCorePoolSize(ThreadPoolExecutor.java:697)\n     [java]     at java.util.concurrent.ThreadPoolExecutor.prestartCoreThread(ThreadPoolExecutor.java:1381)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:222)\n     [java]     at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleWithFixedDelay(ScheduledThreadPoolExecutor.java:443)\n     [java]     at org.directwebremoting.impl.DefaultScriptSessionManager.afterContainerSetup(DefaultScriptSessionManager.java:70)\n     [java]     at org.directwebremoting.impl.AbstractContainer.callInitializingBeans(AbstractContainer.java:55)\n     [java]     at org.directwebremoting.impl.AbstractContainer.callInitializingBeans(AbstractContainer.java:39)\n     [java]     at org.directwebremoting.impl.DefaultContainer.setupFinished(DefaultContainer.java:180)\n     [java]     at org.directwebremoting.impl.StartupUtil.setupDefaultContainer(StartupUtil.java:264)\n     [java]     at org.directwebremoting.impl.StartupUtil.createAndSetupDefaultContainer(StartupUtil.java:188)\n     [java]     ... 33 more\n</code>And the simple html file is:<code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=us-ascii\"/&gt;\n    &lt;script type='text/javascript' src='../dwr/engine.js'&gt;&lt;/script&gt;\n    &lt;script type='text/javascript' src='../dwr/util.js'&gt;&lt;/script&gt;\n    &lt;script type='text/javascript' src='../dwr/interface/IPAddress.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;\n    &lt;input value=\"Fetch\" type=\"button\" onclick=\"fetch()\"/&gt;\n    &lt;br/&gt;\n    Reply: &lt;span id=\"ipaddress\"&gt;&lt;/span&gt;\n&lt;/p&gt;&lt;script lang=\"javascript\"&gt;\n    function fetch() {\n        IPAddress.getDate(function(data) {\n            dwr.util.setValue(\"ipaddress\", data);\n        });\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code>\n", "simquery2_title": "Using MultipartPostHandler to POST form-data with Python Problem: When POSTing data with Python's urllib2, all data is URL encoded and sent as Content-Type: application/x-www-form-urlencoded.  When uploading files, the Content-Type should instead be set to multipart/form-data and the contents be MIME-encoded.To get around this limitation some sharp coders created a library called MultipartPostHandler which creates an OpenerDirector you can use with urllib2 to mostly automatically POST with multipart/form-data. A copy of this library is here: MultipartPostHandler doesn't work for Unicode files I am new to Python and am unable to get this library to work. I wrote out essentially the following code. When I capture it in a local HTTP proxy, I can see that the data is still URL encoded and not multi-part MIME-encoded. Please help me figure out what I am doing wrong or a better way to get this done. Thanks :-)<code>FROM_ADDR = 'my@email.com'try:    data = open(file, 'rb').read()except:    print \"Error: could not open file %s for reading\" % file    print \"Check permissions on the file or folder it resides in\"    sys.exit(1)# Build the POST requesturl = \"http://somedomain.com/?action=analyze\"       post_data = {}post_data['analysisType'] = 'file'post_data['executable'] = datapost_data['notification'] = 'email'post_data['email'] = FROM_ADDR# MIME encode the POST payloadopener = urllib2.build_opener(MultipartPostHandler.MultipartPostHandler)urllib2.install_opener(opener)request = urllib2.Request(url, post_data)request.set_proxy('127.0.0.1:8080', 'http') # For testing with Burp Proxy# Make the request and capture the responsetry:    response = urllib2.urlopen(request)    print response.geturl()except urllib2.URLError, e:    print \"File upload failed...\"</code>EDIT1: Thanks for your response. I'm aware of the ActiveState httplib solution to this (I linked to it above). I'd rather abstract away the problem and use a minimal amount of code to continue using urllib2 how I have been. Any idea why the opener isn't being installed and used?", "simquery2_answer": "i would start with a canSee(Monster monster) or canBeSeenBy(Monster monster) method and see what happens. you may end up with a Visibilility class or end up using the http://en.wikipedia.org/wiki/Visitor_pattern. an extreme example is uncle bobs triple dispatch:<code>// visitor with triple dispatch. from a post to comp.object by robert martin http://www.oma.com\n/*\nIn this case, we are actually using a triple dispatch, because we have two\ntypes to resolve.  The first dispatch is the virtual Collides function which\nresolves the type of the object upon which Collides is called.  The second\ndispatch is the virtual Accept function which resolves the type of the\nobject passed into Collides.  Now that we know the type of both objects, we\ncan call the appropriate global function to calculate the collision.  This\nis done by the third and final dispatch to the Visit function.\n*/\ninterface AbstractShape\n    {\n    boolean Collides(final AbstractShape shape);\n    void Accept(ShapeVisitor visitor);\n    }\ninterface ShapeVisitor\n    {\n    abstract public void Visit(Rectangle rectangle);\n    abstract public void Visit(Triangle triangle);\n    }\nclass Rectangle implements AbstractShape\n    {\n    public boolean Collides(final AbstractShape shape)\n        {\n        RectangleVisitor visitor=new RectangleVisitor(this);\n        shape.Accept(visitor);\n        return visitor.result();\n        }\n    public void Accept(ShapeVisitor visitor)\n        { visitor.Visit(this); } // visit Rectangle\n    }\nclass Triangle implements AbstractShape\n    {\n    public boolean Collides(final AbstractShape shape)\n        {\n        TriangleVisitor visitor=new TriangleVisitor(this);\n        shape.Accept(visitor);\n        return visitor.result();\n        }\n    public void Accept(ShapeVisitor visitor)\n        { visitor.Visit(this); } // visit Triangle\n    }class collision\n    { // first dispatch\n    static boolean Collides(final Triangle t,final Triangle t2) { return true; }\n    static boolean Collides(final Rectangle r,final Triangle t) { return true; }\n    static boolean Collides(final Rectangle r,final Rectangle r2) { return true; }\n    }\n// visitors.\nclass TriangleVisitor implements ShapeVisitor\n    {\n    TriangleVisitor(final Triangle triangle)\n        { this.triangle=triangle; }\n    public void Visit(Rectangle rectangle)\n        { result=collision.Collides(rectangle,triangle); }\n    public void Visit(Triangle triangle)\n        { result=collision.Collides(triangle,this.triangle); }\n    boolean result() {return result; }\n    private boolean result=false;\n    private final Triangle triangle;\n    }\nclass RectangleVisitor implements ShapeVisitor\n    {\n    RectangleVisitor(final Rectangle rectangle)\n        { this.rectangle=rectangle; }\n    public void Visit(Rectangle rectangle)\n        { result=collision.Collides(rectangle,this.rectangle); }\n    public void Visit(Triangle triangle)\n        { result=collision.Collides(rectangle,triangle); }\n    boolean result() {return result; }\n    private boolean result=false;\n    private final Rectangle rectangle;\n    }\npublic class MartinsVisitor\n    {\n    public static void main (String[] args)\n        {\n        Rectangle rectangle=new Rectangle();\n        ShapeVisitor visitor=new RectangleVisitor(rectangle);\n        AbstractShape shape=new Triangle();\n        shape.Accept(visitor);\n        }\n    }\n</code>\n", "total_len": 505, "s1_total_len": 9473, "s2_total_len": 1436}
{"post_id": "9835762", "title": "How do I find the duplicates in a list and create another list with them?", "query": "How do I find the duplicates in a list of integers and create another list of the duplicates?", "acce_answer": "it should be no different than your desktop Ubuntu process. See here\nSSH to your EC2 server\nexecute the following (to set timezone to <code>Australia/Adelaide</code>)<code>$ echo \"Australia/Adelaide\" | sudo tee /etc/timezone\nAustralia/Adelaide\n$ sudo dpkg-reconfigure --frontend noninteractive tzdataCurrent default time zone: 'Australia/Adelaide'\nLocal time is now:      Sat May  8 21:19:24 CST 2010.\nUniversal Time is now:  Sat May  8 11:49:24 UTC 2010.\n</code>\nUpdateYou can use <code>tzselect</code> utility to browse through. See here: http://manpages.ubuntu.com/manpages/precise/man1/tzselect.1.htmlIt's an interactive software. My Ubuntu (11.10) has it.You could also refer this Wikipedia articleBrazil<code>Brazil/Acre\nBrazil/DeNoronha\nBrazil/East\nBrazil/West\n</code>\n", "acce_score": "683", "simquery1_title": "Case insensitive unique model fields in Django? I have basically a username is unique (case insensitive), but the case matters when displaying as provided by the user. I have the following requirements:field is CharField compatiblefield is unique, but case insensitivefield needs to be searchable ignoring case (avoid using iexact, easily forgotten)field is stored with case intact preferably enforced on database levelpreferably avoid storing an extra fieldIs this possible in Django? The only solution I came up with is \"somehow\" override the Model manager, use an extra field, or always use 'iexact' in searches.I'm on Django 1.3 and PostgreSQL 8.4.2.", "simquery1_answer": "You could switch to the smaller \"Helvetica-Narrow\" font, use this function that overrides <code>savePlot()</code>'s behavior when printing to a pdf:<code>my.savePlot &lt;- function(filename, type) {\n   if (type == \"pdf\") {\n      dev.copy(pdf, filename, width  = par(\"din\")[1],\n                              height = par(\"din\")[2],\n                              family = \"Helvetica-Narrow\")\n      invisible(dev.off())\n   } else {\n      savePlot(filename, type)\n   }\n}\n</code>\n", "simquery2_title": "List of all unique characters in a string? I want to append characters to a string, but want to make sure all the letters in the final list are unique.Example: <code>\"aaabcabccd\"</code> \u2192 <code>\"abcd\"</code>Now of course I have two solutions in my mind. One is using a <code>list</code> that will map the characters with their ASCII codes. So whenever I encounter a letter it will set the index to <code>True</code>. Afterwards I will scan the list and append all the ones that were set. It will have a time complexity of O(n).Another solution would be using a <code>dict</code> and following the same procedure. After mapping every char, I will do the operation for each key in the dictionary. This will have a linear running time as well.Since I am a Python newbie, I was wondering which would be more space efficient. Which one could be implemented more efficiently?PS: Order is not important while creating the list.", "simquery2_answer": "You should instead do: <code>(obj &amp;&amp; obj.Name) ? obj.Name.toString(): \"Object not defined\"</code>Your condition<code>(obj) ? obj.Name.toString(): \"Object not defined\"\n</code>checks only if <code>obj</code> is defined, it does not check if <code>obj.Name</code> is defined before calling <code>.toString()</code> on it.\n", "total_len": 314, "s1_total_len": 304, "s2_total_len": 323}
{"post_id": "9942594", "title": "UnicodeEncodeError: 'ascii' codec can't encode character u'\\xa0' in position 20: ordinal not in range(128)", "query": "I'm having problems dealing with unicode characters from text fetched from different web pages (on different sites). I am using BeautifulSoup. The problem is that the error is not always reproducible; it sometimes works with some pages, and sometimes, it barfs by throwing a <code>UnicodeEncodeError</code>. I have tried just about everything I can think of, and yet I have not found anything that works consistently without throwing some kind of Unicode-related error.One of the sections of code that is causing problems is shown below:<code>agent_telno = agent.find('div', 'agent_contact_number')agent_telno = '' if agent_telno is None else agent_telno.contents[0]p.agent_info = str(agent_contact + ' ' + agent_telno).strip()</code>Here is a stack trace produced on SOME strings when the snippet above is run:<code>Traceback (most recent call last):  File \"foobar.py\", line 792, in &lt;module&gt;    p.agent_info = str(agent_contact + ' ' + agent_telno).strip()UnicodeEncodeError: 'ascii' codec can't encode character u'\\xa0' in position 20: ordinal not in range(128)</code>I suspect that this is because some pages (or more specifically, pages from some of the sites) may be encoded, whilst others may be unencoded. All the sites are based in the UK and provide data meant for UK consumption - so there are no issues relating to internalization or dealing with text written in anything other than English.Does anyone have any ideas as to how to solve this so that I can CONSISTENTLY fix this problem?", "acce_answer": "You can use manipulators <code>std::left</code>, <code>std::right</code>, and <code>std::internal</code> to choose where the fill characters go.For your specific case, something like this could do:<code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;const char* C_TEXT = \"Constant text \";\nconst size_t MAXWIDTH = 10;void print(const std::string&amp; var_text, int num)\n{\n    std::cout &lt;&lt; C_TEXT\n              // align output to left, fill goes to right\n              &lt;&lt; std::left &lt;&lt; std::setw(MAXWIDTH) &lt;&lt; std::setfill('.')\n              &lt;&lt; var_text &lt;&lt; \": \" &lt;&lt; num &lt;&lt; '\\n';\n}int main()\n{\n    print(\"1234567890\", 42);\n    print(\"12345\", 101);\n}\n</code>Output:<code>Constant text 1234567890: 42\nConstant text 12345.....: 101\n</code>EDIT:\nAs mentioned in the link, <code>std::internal</code> works only with integer, floating point and monetary output. For example with negative integers, it'll insert fill characters between negative sign and left-most digit.This:<code>int32_t i = -1;\nstd::cout &lt;&lt; std::internal\n          &lt;&lt; std::setfill('0')\n          &lt;&lt; std::setw(11)  // max 10 digits + negative sign\n          &lt;&lt; i &lt;&lt; '\\n';\ni = -123;\nstd::cout &lt;&lt; std::internal\n          &lt;&lt; std::setfill('0')\n          &lt;&lt; std::setw(11)\n          &lt;&lt; i;\n</code>will output<code>-0000000001\n-0000000123\n</code>\n", "acce_score": "1483", "simquery1_title": "Python SSL certificate verify error I'm using requests to access a RESTful API.  Everything seems to work.  I can authenticate, pull back a session token and even unit test the methods in my class I wrote for the API.  Then I tried to run my code.First, here is the call I'm making.  The headers are static session-related items that get set in init().  The body is build dynamically from data in a file and passed in to this function.  All of the data is valid.<code>response = requests.post(url, headers=(Requestheader), data=json.dumps((Requestbody)))</code>When I run the code, it updates well over 100 records with the metadata I supply.  Somewhere around item 150 I get the following:  ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED]  certificate verify failed: self signed certificate in certificate  chain (_ssl.c:1045)My first step was to call the vendor and find out if ALL of their web servers had properly signed certs figuring they were load balancing me and I found a misconfigured server.  They tell me this is not the case.Then I Googled the message and found that there is a verify kwarg, so I tried:<code>response = requests.post(url, headers=Requestheader, data=json.dumps(Requestbody), verify=False)</code>I know this isn't ideal long-term, but I wanted to test it to see if The behavior is the same.  It did the same thing.  It ran for a while and threw the ssl error.  I thought the idea of verify=False is that it wouldn't check.The vendor suggested I check the url I'm using, but it's fine.  I would think if there were a proxy server or real man-in-the-middle attack causing problems I wouldn't see success so many times before a failure.  I thought maybe it is a session timeout, but that should throw a 401 status and my activity level is too high for an inactivity timeout.  I'm a python noob and not a security professional.  Suggestions appreciated.", "simquery1_answer": "I am using Traefik inside of Kubernetes and there is an AWS layer 4 level legacy network load balancer in front. I am trying to add the original requestor ip address into the Traefik access logs, but I cannot get it working.\nHere is the relevant Traefik configuration (in Helm yaml format):\n<code>  proxyProtocol:\n    enabled: true\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12  forwardedHeaders:\n    enabled: true\n    # trustedIPs is required when enabled\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12\n</code>\nAnd here is the access logs configuration:\n<code>  accessLogs:\n    enabled: true\n    ## Path to the access logs file. If not provided, Traefik defaults it to stdout.\n    # filePath: &quot;&quot;\n    format: common  # choices are: common, json\n    ## for JSON logging, finer-grained control over what is logged. Fields can be\n    ## retained or dropped, and request headers can be retained, dropped or redacted\n    fields:\n      # choices are keep, drop\n      defaultMode: keep\n      names: {}\n        # ClientUsername: drop\n      headers:\n        # choices are keep, drop, redact\n        defaultMode: keep\n        names:\n          &quot;X-Forwarded-For&quot;: keep\n          &quot;X-Real-IP&quot;: keep\n</code>\nMy access logs with this configuration look like the following though. No headers or X-Forwarded-For IP shown:", "simquery2_title": "How can I convert surrogate pairs to normal string in Python? This is a follow-up to How can I convert JSON-encoded data that contains Unicode surrogate pairs to string?. In that question, the OP had a <code>json.dumps()</code>-encoded file with an emoji represented as a surrogate pair - <code>\\ud83d\\ude4f</code>. They were having problems reading the file and translating the emoji correctly, and the correct answer was to <code>json.loads()</code> each line from the file, and the <code>json</code> module would handle the conversion from surrogate pair back to (I'm assuming UTF8-encoded) emoji.So here is my situation: say I have just a regular Python 3 unicode string with a surrogate pair in it:<code>emoji = &quot;This is \\ud83d\\ude4f, an emoji.&quot;</code>How do I process this string to get a representation of the emoji out of it? I'm looking to get something like this:<code>&quot;This is , an emoji.&quot;# or&quot;This is \\U0001f64f, an emoji.&quot;</code>I've tried:<code>print(emoji)print(emoji.encode(&quot;utf-8&quot;)) # also tried &quot;ascii&quot;, &quot;utf-16&quot;, and &quot;utf-16-le&quot;json.loads(emoji) # and `.encode()` with various codecs</code>Generally I get an error similar to <code>UnicodeEncodeError: XXX codec can't encode character '\\ud83d' in position 8: surrogates no allowed</code>.I'm running Python 3.5.1 on Linux, with <code>$LANG</code> set to <code>en_US.UTF-8</code>. I've run these samples both in the Python interpreter on the command line, and within IPython running in Sublime Text - there don't appear to be any differences.", "simquery2_answer": "I have an array, and I'd like to shuffle the array so that no element moves more than K places from its initial position in the array. So for example, if K is 2, and the original array is:<code>[1,2,3,4,5,6,7,8]</code>this is a valid permutation:<code>[1,3,2,5,4,8,6,7]</code>but this is not:<code>[1,2,5,4,6,8,3,7]</code>because the <code>3</code> has moved 4 places.Is there a way to do this so that it's a perfectly random shuffle (in other words, all permutations that satisfy this criteria are equally likely?)\n", "total_len": 971, "s1_total_len": 944, "s2_total_len": 673}
{"post_id": "10214827", "title": "Find which version of package is installed with pip", "query": "Using pip, is it possible to figure out which version of a package is currently installed?I know about <code>pip install XYZ --upgrade</code> but I am wondering if there is anything like <code>pip info XYZ</code>.  If not what would be the best way to tell what version I am currently using.", "acce_answer": "Check the link between your tables. If properly linked, you cab try the following formula:<code>IF {jobs.eeo_sub_code} = '2' OR {positions.position_group_code} = 'EEO2'\n  THEN 'EEO2' \nELSE IF  {jobs.eeo_sub_code} = '3' OR {positions.position_group_code} = 'EEO3' \n  THEN 'EEO3'\nELSE IF  {jobs.eeo_sub_code} = '4' OR {positions.position_group_code} = 'EEO4' \n  THEN 'EEO4'//...And so forth\n</code>\n", "acce_score": "1088", "simquery1_title": "Python and pip, list all versions of a package that's available? Given the name of a Python package that can be installed with pip, is there any way to find out a list of all the possible versions of it that pip could install? Right now it's trial and error.I'm trying to install a version for a third party library, but the newest version is too new, there were backwards incompatible changes made. So I'd like to somehow have a list of all the versions that pip knows about, so that I can test them.", "simquery1_answer": "You can use named buffers for this instead of the default unnamed buffer:  <code>\"lY</code> then <code>\"lp</code> to yank resp. paste from register <code>l</code>, then let the <code>dd</code> use the default buffer.\n", "simquery2_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery2_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "total_len": 253, "s1_total_len": 184, "s2_total_len": 319}
{"post_id": "10377998", "title": "How can I iterate over files in a given directory?", "query": "I need to iterate through all <code>.asm</code> files inside a given directory and do some actions on them. How can this be done in a efficient way?", "acce_answer": "<code>git remote add origin http://abc.com/def/ghi.git</code> tells git the url that remote 'origin' points to.\n", "acce_score": "872", "simquery1_title": "How can I iterate over files in a given directory? I need to iterate through all <code>.asm</code> files inside a given directory and do some actions on them. How can this be done in a efficient way?", "simquery1_answer": "<code>git remote add origin http://abc.com/def/ghi.git</code> tells git the url that remote 'origin' points to.\n", "simquery2_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery2_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "total_len": 87, "s1_total_len": 85, "s2_total_len": 575}
{"post_id": "10458437", "title": "What is the difference between dict.items() and dict.iteritems() in Python2?", "query": "Are there any applicable differences between <code>dict.items()</code> and <code>dict.iteritems()</code>?From the Python docs:  <code>dict.items()</code>: Return a copy of the dictionary\u2019s list of (key, value) pairs.    <code>dict.iteritems()</code>: Return an iterator over the dictionary\u2019s (key, value) pairs.If I run the code below, each seems to return a reference to the same object. Are there any subtle differences that I am missing?<code>#!/usr/bin/pythond={1:'one',2:'two',3:'three'}print 'd.items():'for k,v in d.items():   if d[k] is v: print '\\tthey are the same object'    else: print '\\tthey are different'print 'd.iteritems():'   for k,v in d.iteritems():   if d[k] is v: print '\\tthey are the same object'    else: print '\\tthey are different'   </code>Output:<code>d.items():    they are the same object    they are the same object    they are the same objectd.iteritems():    they are the same object    they are the same object    they are the same object</code>", "acce_answer": "There is a hack, yes. Set your container to <code>display: table;</code>, and on the text, for instance in a p, set that to <code>display: table-cell; vertical-align: middle;</code>. This will vertically align it.You can combine this with <code>text-align</code> and <code>padding</code> to center horizontally.http://jsfiddle.net/E9QF3/\n", "acce_score": "774", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "Given parallel lists, how can I sort one while permuting (rearranging) the other in the same way? Suppose I have:<code>list1 = [3, 2, 4, 1, 1]list2 = ['three', 'two', 'four', 'one', 'one2']</code>Calling <code>list1.sort()</code> will sort it, resulting in <code>[1, 1, 2, 3, 4]</code>. However, can I get <code>list2</code> to be rearranged in sync with that, to get a result like this?<code>list1 = [1, 1, 2, 3, 4]list2 = ['one', 'one2', 'two', 'three', 'four']</code>Sometimes, people phrase the problem differently: given two lists, they would like to use one to determine the sort order for the other - i.e., sort <code>list2</code> in the order described by the corresponding values in <code>list1</code>. The trick is that this is equivalent to sorting the &quot;key&quot; values (<code>list1</code>), and then rearranging <code>list2</code> in the same way. In other words, exactly what is described here. Some answers for the other question, though, discard the &quot;sorted keys&quot; afterwards.See also: How can I sort a list, according to where its elements appear in another list? - this is another common way that people want to sort one list &quot;based on&quot; another. Before attempting to close duplicate questions, take special care to check exactly what the OP wants. A key clue: do the lists need to be the same length?", "simquery2_answer": "Looks like the answer was that <code>ItemConverterType</code> is for converting items in an array.  Double-annotating the property with <code>JsonProperty</code> and <code>JsonConverter</code> attributes works:<code>[JsonProperty(PropertyName=\"id\")]\n[JsonConverter(typeof(IdConverter))]\npublic string Id { get; set; }\n</code>\n", "total_len": 419, "s1_total_len": 1245, "s2_total_len": 485}
{"post_id": "10487278", "title": "How to declare and add items to an array in Python?", "query": "I'm trying to add items to an array in python.I run <code>array = {}</code>Then, I try to add something to this array by doing:<code>array.append(valueToBeInserted)</code>There doesn't seem to be a <code>.append</code> method for this.  How do I add items to an array?", "acce_answer": "\nput <code>JTable</code> in <code>JScrollPane</code>  (<code>BorderLayout.CENTER</code>) \ncreate another <code>JPanel</code> with <code>GridLayout</code> and put there 4. buttons, change for <code>1st JButton</code> on the left side <code>setVisible(false)</code> (<code>BorderLayout.SOUTH</code>) \nthese tow <code>JPanels</code> put to the <code>JTabbedPanes Tab</code> ", "acce_score": "472", "simquery1_title": "How to add element in Python to the end of list using list.insert? There is a list, for example, <code>a=[1,2,3,4]</code>I can use <code>a.append(some_value)</code>to add element at the end of list, and <code>a.insert(exact_position, some_value)</code>to insert element on any other position in list but not at the end as<code>a.insert(-1, 5)</code>will return [1,2,3,5,4].So how to add an element to the end of list using list.insert(position, value)?", "simquery1_answer": "Thanks for your help.I managed to fix it using the code snippet below.<code>        // Sort the list in alphabetical order (surname first, then forename)\n        function sortEmployees(list){\n            var rows = list;            rows.sort(function(a, b) {\n                // Get 'TD' element\n                var A = $(a).children('td').eq(0).text().toUpperCase();\n                var B = $(b).children('td').eq(0).text().toUpperCase();                //Split Full Name\n                var aName = A.split(' ');\n                var bName = B.split(' ');                // Get Forename and Surname\n                var aForename = aName[0];\n                var aSurname = aName[1];\n                var bForename = bName[0];\n                var bSurname = bName[1];                //Comparisons\n                if (aSurname &lt; bSurname) return -1;                if (aSurname &gt; bSurname) return 1;                if (aSurname === bSurname) {\n                  if (aForename &lt; bForename) return -1;\n                  if (aForename &gt; bForename) return 1;\n                  return 0; // They're equal.\n                }            });            return rows;\n        }\n</code>\n", "simquery2_title": "How to remove multiple items from a list in just one statement? In python, I know how to remove items from a list:<code>item_list = ['item', 5, 'foo', 3.14, True]item_list.remove('item')item_list.remove(5)</code>The above code removes the values 5 and 'item' from <code>item_list</code>.But when there is a lot of stuff to remove, I have to write many lines of:<code>item_list.remove(&quot;something_to_remove&quot;)</code>If I know the index of what I am removing, I use:<code>del item_list[x]</code>where x is the index of the item I want to remove.If I know the index of all of the numbers that I want to remove, I'll use some sort of loop to <code>del</code> the items at the indices.But what if I don't know the indices of the items I want to remove?I tried <code>item_list.remove('item', 'foo')</code>, but I got an error saying that <code>remove</code> only takes one argument.Is there a way to remove multiple items from a list in a single statement?P.S. I've used <code>del</code> and <code>remove</code>. Can someone explain the difference between these two, or are they the same?", "simquery2_answer": "Youre not loading values to model, change <code>if</code> to:<code>if($model-&gt;load(Yii::$app-&gt;request-&gt;post())) {\n</code>\n", "total_len": 235, "s1_total_len": 475, "s2_total_len": 377}
{"post_id": "10660435", "title": "How do I split the definition of a long string over multiple lines?", "query": "I have a very long query. I would like to split it in several lines in Python. A way to do it in JavaScript would be using several sentences and joining them with a <code>+</code> operator (I know, maybe it's not the most efficient way to do it, but I'm not really concerned about performance in this stage, just code readability). Example:<code>var long_string = 'some text not important. just garbage to' +                      'illustrate my example';</code>I tried doing something similar in Python, but it didn't work, so I used <code>\\</code> to split the long string. However, I'm not sure if this is the only/best/pythonicest way of doing it. It looks awkward.Actual code:<code>query = 'SELECT action.descr as &quot;action&quot;, '\\    'role.id as role_id,'\\    'role.descr as role'\\    'FROM '\\    'public.role_action_def,'\\    'public.role,'\\    'public.record_def, '\\    'public.action'\\    'WHERE role.id = role_action_def.role_id AND'\\    'record_def.id = role_action_def.def_id AND'\\    'action.id = role_action_def.action_id AND'\\    'role_action_def.account_id = ' + account_id + ' AND'\\    'record_def.account_id=' + account_id + ' AND'\\    'def_id=' + def_id</code>", "acce_answer": "Anyone know anything about troubleshooting a PHP Curl problem?  I have been using RollingCurl with great success on my OSX laptop, however when I upload to my Ubuntu server the same code fails to yield a result.So there is clearly something wrong server side, the error logs are clean.  I have no idea what to check... any help? Anyone!?  Thank you so much in advance, Stu<code>![http://rolling-curl.googlecode.com/svn/trunk/Ubuntu 12.04 result \nArray ( \\[url\\] =&gt; \\[content_type\\] =&gt; \\[http_code\\] =&gt; 0 \\[header_size\\] =&gt; 0 \\[request_size\\] =&gt; 0 \\[filetime\\] =&gt; 0 \\[ssl_verify_result\\] =&gt; 0 \\[redirect_count\\] =&gt; 0 \\[total_time\\] =&gt; 0 \\[namelookup_time\\] =&gt; 0 \\[connect_time\\] =&gt; 0 \\[pretransfer_time\\] =&gt; 0 \\[size_upload\\] =&gt; 0 \\[size_download\\] =&gt; 0 \\[speed_download\\] =&gt; 0 \\[speed_upload\\] =&gt; 0 \\[download_content_length\\] =&gt; -1 \\[upload_content_length\\] =&gt; -1 \\[starttransfer_time\\] =&gt; 0 \\[redirect_time\\] =&gt; 0 \\[certinfo\\] =&gt; Array ( ) \\[redirect_url\\] =&gt; )Local OSX Leoard result\nArray ( \\[url\\] =&gt; http://www.google.co.uk/ \\[content_type\\] =&gt; text/html; charset=ISO-8859-1 \\[http_code\\] =&gt; 200 \\[header_size\\] =&gt; 1535 \\[request_size\\] =&gt; 108 \\[filetime\\] =&gt; -1 \\[ssl_verify_result\\] =&gt; 0 \\[redirect_count\\] =&gt; 1 \\[total_time\\] =&gt; 0.597785 \\[namelookup_time\\] =&gt; 0.033881 \\[connect_time\\] =&gt; 0.070866 \\[pretransfer_time\\] =&gt; 0.070939 \\[size_upload\\] =&gt; 0 \\[size_download\\] =&gt; 43439 \\[speed_download\\] =&gt; 72666 \\[speed_upload\\] =&gt; 0 \\[download_content_length\\] =&gt; 221 \\[upload_content_length\\] =&gt; 0 \\[starttransfer_time\\] =&gt; 0.171418 \\[redirect_time\\] =&gt; 0.147887 )][1] \n</code>\n", "acce_score": "1909", "simquery1_title": "Extracting an information from web page by machine learning I would like to extract a specific type of information from web pages in Python. Let's say postal address. It has thousands of forms, but still, it is somehow recognizable. As there is a large number of forms, it would be probably very difficult to write regular expression or even something like a grammar and to use a parser generator for parsing it out.So I think the way I should go is machine learning. If I understand it well, I should be able to make a sample of data where I will point out what should be the result and then I have something which can learn from this how to recognize the result by itself. This is all I know about machine learning. Maybe I could use some natural language processing, but probably not much as all the libraries work with English mostly and I need this for Czech.Questions:Can I solve this problem easily by machine learning? Is it a good way to go?Are there any simple examples which would allow me to start? I am machine learning noob and I need something practical for start; closer to my problem is better; simpler is better.There are plenty of Python libraries for machine learning. Which one would suit my problem best?Lots of such libs have not very easy-to-use docs as they come from scientific environment. Are there any good sources (books, articles, quickstarts) bridging the gap, i.e. focused on newbies who know totally nothing about machine learning? Every docs I open start with terms I don't understand such as network, classification, datasets, etc.Update:As you all mentioned I should show a piece of data I am trying to get out of the web, here is an example. I am interested in cinema showtimes. They look like this (three of them):<code>&lt;div class=\"Datum\" rel=\"d_0\"&gt;27. \u010dervna \u2013 st\u0159eda, 20.00&lt;/div&gt;&lt;input class=\"Datum_cas\" id=\"2012-06-27\" readonly=\"\"&gt;&lt;a href=\"index.php?den=0\" rel=\"0\" class=\"Nazev\"&gt;Zah\u00e1jen\u00ed letn\u00edho kina &lt;/a&gt;&lt;div style=\"display: block;\" class=\"ajax_box d-0\"&gt;&lt;span class=\"ajax_box Orig_nazev\"&gt;z\u00e1bava \u2022 hudba \u2022 film \u2022 letn\u00ed bar&lt;/span&gt;&lt;span class=\"Tech_info\"&gt;Sv\u011bt podle Fagi&lt;/span&gt;&lt;span class=\"Popis\"&gt;Facebookov\u00e1  komiksov\u00e1 Fagi v pod\u00e1n\u00ed divadla DNO. Divok\u00e9 p\u00edsn\u011b, co neza\u0159ad\u00edte, ale slu\u0161n\u011b si na n\u011b za\u0159\u00e1d\u00edte. Slovn\u00ed smy\u010dky, co se na nich jde ob\u011bsit. Kabaret, improvizace, p\u00edsn\u011b, humor, zb\u011bsilost i v srdci.&lt;br&gt;Koncert Tres Quatros Kvintet. Instrument\u00e1ln\u00ed muzika s pevn\u00fdm funkov\u00fdm groovem, jazzov\u00fdmi standardy a neodmysliteln\u00fdmi improvizacemi.&lt;/span&gt;&lt;input class=\"Datum_cas\" id=\"ajax_0\" type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"Datum\" rel=\"d_1\"&gt;27. \u010dervna \u2013 st\u0159eda, 21.30&lt;/div&gt;&lt;input class=\"Datum_cas\" id=\"2012-06-27\" readonly=\"\"&gt;&lt;a href=\"index.php?den=1\" rel=\"1\" class=\"Nazev\"&gt;Soul Kitchen&lt;/a&gt;&lt;div style=\"display: block;\" class=\"ajax_box d-1\"&gt;&lt;span class=\"ajax_box Orig_nazev\"&gt;Soul Kitchen&lt;/span&gt;&lt;span class=\"Tech_info\"&gt;Komedie, N\u011bmecko, 2009, 99 min., \u010des. a angl. tit.&lt;/span&gt;&lt;span class=\"Rezie\"&gt;RE\u017dIE: Fatih Akin &lt;/span&gt;&lt;span class=\"Hraji\"&gt;HRAJ\u00cd: Adam Bousdoukos, Moritz Bleibtreu, Birol \u00dcnel, Wotan Wilke M\u00f6hring&lt;/span&gt;&lt;span class=\"Popis\"&gt;Posledn\u00ed film mil\u00e1\u010dka publika Fatiho Akina, je turbulentn\u00edm vyzn\u00e1n\u00edm l\u00e1sky multikulturn\u00edmu Hamburku. S humorem zde Akin vykresluje p\u0159\u00edb\u011bh \u0158eka \u017eij\u00edc\u00edho v N\u011bmecku, kter\u00fd z mal\u00e9ho bufetu vytvo\u0159\u00ed origin\u00e1ln\u00ed restauraci, je\u017e se brzy stane obl\u00edbenou hudebn\u00ed sc\u00e9nou. \"Soul Kitchen\" je skv\u011bl\u00e1 komedie o p\u0159\u00e1telstv\u00ed, l\u00e1sce, rozchodu a boji o domov, kter\u00fd je t\u0159eba v dne\u0161n\u00edm nevypo\u010ditateln\u00e9m sv\u011bt\u011b chr\u00e1nit v\u00edc ne\u017e kdykoliv p\u0159edt\u00edm. Zvl\u00e1\u0161tn\u00ed cena poroty na festivalu v Ben\u00e1tk\u00e1ch&lt;/span&gt;&lt;input class=\"Datum_cas\" id=\"ajax_1\" type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"Datum\" rel=\"d_2\"&gt;28. \u010dervna \u2013 \u010dtvrtek, 21:30&lt;/div&gt;&lt;input class=\"Datum_cas\" id=\"2012-06-28\" readonly=\"\"&gt;&lt;a href=\"index.php?den=2\" rel=\"2\" class=\"Nazev\"&gt;Rodina je z\u00e1klad st\u00e1tu&lt;/a&gt;&lt;div style=\"display: block;\" class=\"ajax_box d-2\"&gt;&lt;span class=\"Tech_info\"&gt;Drama, \u010cesko, 2011, 103 min.&lt;/span&gt;&lt;span class=\"Rezie\"&gt;RE\u017dIE: Robert Sedl\u00e1\u010dek&lt;/span&gt;&lt;span class=\"Hraji\"&gt;HRAJ\u00cd: Igor Chmela, Eva Vrbkov\u00e1, Martin Finger, Monika A. Fingerov\u00e1, Simona Bab\u010d\u00e1kov\u00e1, Ji\u0159\u00ed Vyor\u00e1lek, Jan Fi\u0161ar, Jan Buda\u0159, Marek Tacl\u00edk, Marek Daniel&lt;/span&gt;&lt;span class=\"Popis\"&gt;Kdy\u017e v\u00e1m ho\u0159\u00ed p\u016fda pod nohama, nen\u00ed nad rodinn\u00fd v\u00fdlet. B\u00fdval\u00fd u\u010ditel d\u011bjepisu, kter\u00fd dos\u00e1hl vysok\u00e9ho mana\u017eersk\u00e9ho postu ve v\u00fdznamn\u00e9m finan\u010dn\u00edm \u00fastavu, si \u0159adu let spokojen\u011b \u017eije spole\u010dn\u011b se svou rodinou v luxusn\u00ed vile na okraji Prahy. Bezstarostn\u00fd \u017eivot ale netrv\u00e1 v\u011b\u010dn\u011b a na povrch za\u010dnou vyplouvat machinace s pen\u011bzi klient\u016f t\u00fdkaj\u00edc\u00ed se cel\u00e9ho veden\u00ed banky. Libor se n\u00e1sledn\u011b ocit\u00e1 pod dohledem policejn\u00edch vy\u0161et\u0159ovatel\u016f, kte\u0159\u00ed mu za\u010dnou tvrd\u011b \u0161lapat na paty. Sna\u017e\u00ed se uniknout p\u0159ed hroz\u00edc\u00edm v\u011bzen\u00edm a odd\u00e1lit osv\u011btlen\u00ed cel\u00e9 situace sv\u00e9 nic netu\u0161\u00edc\u00ed man\u017eelce. Rozhodne se tak pro netradi\u010dn\u00ed \u00fat\u011bk, kdy pod z\u00e1minkou spole\u010dn\u00e9 dovolen\u00e9 odveze celou rodinu na ji\u017en\u00ed Moravu\u2026  Rodinn\u00fd v\u00fdlet nebo zoufal\u00fd \u00faprk p\u0159ed spravedlnost\u00ed? Igor Chmela, Eva Vrbkov\u00e1 a Simona Bab\u010d\u00e1kov\u00e1 v rodinn\u00e9m dramatu a neoby\u010dejn\u00e9 road-movie inspirovan\u00e9 skute\u010dnost\u00ed.&lt;/span&gt;</code>Or like this:<code>&lt;strong&gt;POSEL&amp;nbsp;&amp;nbsp; 18.10.-22.10 v 18:30 &lt;/strong&gt;&lt;br&gt;Drama. \u010cR/90\u00b4. Re\u017eie: Vladim\u00edr Mich\u00e1lek Hraj\u00ed: Mat\u011bj H\u00e1dek, Eva Leinbergerov\u00e1, Ji\u0159\u00ed Vyor\u00e1vek&lt;br&gt;T\u0159ic\u00e1tn\u00edk Petr miluje kolo a sv\u00e9 v\u00e1\u0161ni pod\u0159izuje cel\u00fd sv\u016fj \u017eivot. Nepl\u00e1nuje, neplat\u00ed \u00fa\u010dty, ne\u0159e\u0161\u00ed nic, co m\u016f\u017ee&lt;br&gt;po\u010dkat  do z\u00edtra. Budov\u00e1n\u00ed spole\u010dn\u00e9ho \u017eivota s p\u0159\u00e9telkyn\u00ed je mu proti srsti  stejn\u011b jako d\u011blat kari\u00e9ru. Aby mohl jezdit na kole, rad\u011bji pracuje jako  posl\u00ed\u010dek. Jeho \u017eivot je ne\u0159\u00edzen\u00e1 st\u0159ela, ve kter\u00e9 neplat\u00ed \u017e\u00e1dn\u00e1  pravidla. Ale probl\u00e9my se na sebe na kup\u00ed a je st\u00e1le t\u011b\u017e\u0161\u00ed p\u0159ed nimi  ujet \u2026&lt;br&gt; &lt;br&gt;&lt;strong&gt;VE ST\u00cdNU&amp;nbsp; 18.10.-24.10. ve 20:30 a 20.10.-22.10. t\u00e9\u017e v 16:15&lt;/strong&gt;&lt;br&gt;Krimi. \u010cR/98\u00b4. Re\u017eie: D.Vond\u0159\u00ed\u010dek Hraj\u00ed: I.Trojan, S.Koch, S.Norisov\u00e1, J.\u0160t\u011bpni\u010dka, M.Tacl\u00edk&lt;br&gt;Kapit\u00e1n  Hakl (Ivan Trojan) vy\u0161et\u0159uje kr\u00e1de\u017e v klenotnictv\u00ed. Z b\u011b\u017en\u00e9 vloupa\u010dky  se ale vlivem z\u00e1kulisn\u00edch intrik tajn\u00e9 policie za\u010d\u00edn\u00e1 st\u00e1vat politick\u00e1  kauza. Z na\u0159\u00edzen\u00ed St\u00e1tn\u00ed bezpe\u010dnosti p\u0159eb\u00edr\u00e1 Haklovo vy\u0161et\u0159ov\u00e1n\u00ed major  Zenke (Sebastian Koch), policejn\u00ed specialista z NDR, pod jeho\u017e veden\u00edm  se vy\u0161et\u0159ov\u00e1n\u00ed ub\u00edr\u00e1 jin\u00fdm sm\u011brem, ne\u017e Haklovi napov\u00edd\u00e1 instinkt  zku\u0161en\u00e9ho kriminalisty. Na vlastn\u00ed p\u011bst pokra\u010duje ve vy\u0161et\u0159ov\u00e1n\u00ed. M\u016f\u017ee  jedin\u00fd spravedliv\u00fd obst\u00e1t v boji s dob\u0159e propojenou s\u00edt\u00ed komunistick\u00e9  policie?&amp;nbsp; Protivn\u00edk je siln\u00fd a Hakl se brzy p\u0159esv\u011bd\u010duje, \u017ee v\u011b\u0159it nelze  nikomu a ni\u010demu. Ka\u017ed\u00fd m\u00e1 sv\u016fj st\u00edn minulosti, sv\u00e9 slab\u00e9 m\u00edsto, kter\u00e9  dok\u00e1\u017ee z ob\u011bt\u00ed ud\u011blat vin\u00edky a z vin\u00edk\u016f hrdiny. &lt;br&gt;&lt;br&gt;&lt;strong&gt;ASTERIX A OBELIX VE SLU\u017dB\u00c1CH JEJ\u00cdHO VELI\u010cENSTVA&amp;nbsp; ve 3D&amp;nbsp;&amp;nbsp;&amp;nbsp; 20.10.-21.10. ve 13:45 &lt;/strong&gt;&lt;br&gt;Dobrodru\u017en\u00e1 fantazy. Fr./124\u00b4. \u010cESK\u00dd DABING. Re\u017eie: Laurent Tirard&lt;br&gt;Hraj\u00ed: G\u00e9rard Depardieu, Edouard Baer, Fabrice Luchini&lt;br&gt;Pod  veden\u00edm Julia Caesara napadly proslul\u00e9 \u0159\u00edmsk\u00e9 legie Brit\u00e1nii. Jedn\u00e9  mal\u00e9 vesni\u010dce se v\u0161ak da\u0159\u00ed state\u010dn\u011b odol\u00e1vat, ale ka\u017ed\u00fdm dnem je slab\u0161\u00ed a  slab\u0161\u00ed. Britsk\u00e1 kr\u00e1lovna proto vyslala sv\u00e9ho v\u011brn\u00e9ho d\u016fstojn\u00edka  Anticlimaxe, aby vyhledal pomoc u Gal\u016f v druh\u00e9 malink\u00e9 vesni\u010dce ve  Francii vyhl\u00e1\u0161en\u00e9 sv\u00fdm d\u016fmysln\u00fdm bojem proti \u0158\u00edman\u016fm\u2026 Kdy\u017e Anticlimax  popsal zoufalou situaci sv\u00fdch lid\u00ed, Galov\u00e9 mu darovali barel sv\u00e9ho  kouzeln\u00e9ho lektvaru a Ast\u00e9rix a Ob\u00e9lix jsou pov\u011b\u0159eni doprovodit ho dom\u016f.  Jakmile doraz\u00ed do Brit\u00e1nie, Anticlimax jim p\u0159edstav\u00ed m\u00edstn\u00ed zvyky ve  v\u0161\u00ed par\u00e1d\u011b a v\u0161ichni to po\u0159\u00e1dn\u011b rozto\u010d\u00ed! Vyto\u010den\u00fd Caesar se v\u0161ak  rozhodne naverbovat Norman\u010fany, hr\u016fzu nah\u00e1n\u011bj\u00edc\u00ed bojovn\u00edky Severu, aby  jednou prov\u017edy skoncovali s Brity. &lt;br&gt;&lt;br&gt;</code>Or it can look like anything similar to this. No special rules in HTML markup, no special rules in order, etc.", "simquery1_answer": "I had the same problem.  It was easy to reproduce on only one of our testing devices, reading an iCloud document.  Reinstalling the app did not affect the bug.I was using a NSMetadataQuery to get the file URLs.  My receiver for the NSMetadataQueryDidFinishGatheringNotification looked like this:<code>- (void)queryDidFinishGathering:(NSNotification *)notification\n{\n    NSMetadataQuery *query = [notification object];\n    [query disableUpdates];\n    [query stopQuery]; //  &lt;--- This was the problem    NSMetadataItem *item = [query resultAtIndex:0];\n    NSURL *url = [item valueForAttribute:NSMetadataItemURLKey];\n    UIDocument *doc = [[CustomDocument alloc] initWithFileURL:url];\n    [doc openWithCompletionHandler:^(BOOL success) {\n         // EXC_BAD_ACCESS before completion block is called :'(\n    }];    [query enableUpdates];\n}\n</code>Removing the <code>stopQuery</code> call fixed everything!\n", "simquery2_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery2_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "total_len": 1073, "s1_total_len": 3443, "s2_total_len": 1038}
{"post_id": "10695139", "title": "Sort a list of tuples by 2nd item (integer value)", "query": "I have a list of tuples that looks something like this:<code>[('abc', 121),('abc', 231),('abc', 148), ('abc',221)]</code>I want to sort this list in ascending order by the integer value inside the tuples. Is it possible?", "acce_answer": "how can i retrieve the first 10 rows of the firstnames (which is <code>prepodFamIO</code> ) found in the prepod table and the sum of the hours in a semester which is greatest the hours are found in plany table(which is <code>PAuditTime</code> ,given that the two information are in different tables.i know if i want to select the first 10 rows of the first names i can run this query<code>select * from prepod \nlimit 30;\n</code>or<code>select * from prepod \nwhere rownum &lt;= 30;\n</code>and if i want to select the sum of hours which is greatest<code>SELECT MAX(PAuditTime)\n AS LargestNumber\n FROM plany\n order by PAuditTime;\n</code>but how can i put them in one query ....i am using sql in access and ms sql thanks\nthis is a snapshot of my database but im only interested in tables plany and prepod", "acce_score": "537", "simquery1_title": "How to sort a list of strings numerically? I know that this sounds trivial but I did not realize that the <code>sort()</code> function of Python was weird. I have a list of \"numbers\" that are actually in string form, so I first convert them to ints, then attempt a sort.<code>list1=[\"1\",\"10\",\"3\",\"22\",\"23\",\"4\",\"2\",\"200\"]for item in list1:    item=int(item)list1.sort()print list1</code>Gives me:<code>['1', '10', '2', '200', '22', '23', '3', '4']</code>What I want is <code>['1','2','3','4','10','22','23','200']</code>I've looked around for some of the algorithms associated with sorting numeric sets, but the ones I found all involve sorting alphanumeric sets. I know this is probably a no brainer problem but google and my textbook don't offer anything more or less useful than the <code>.sort()</code> function.", "simquery1_answer": "I got this working as follows -<code>LPWSTR pwsPath = L\"Microsoft-Windows-Diagnostics-Performance/Operational\";\nLPWSTR pwsQuery = L\"Event/System[EventID=100]\";hResults = EvtQuery(NULL, pwsPath, pwsQuery,\n                    EvtQueryChannelPath | EvtQueryReverseDirection);\n</code>The channel name can be found by going to Properties on an eventlog and using it's Full Name.The error 15000 was due to me trying to open the log file with the given flags rather than the channel name.\n", "simquery2_title": "Is there a built in function for string natural sort? I have a list of strings for which I would like to perform a natural alphabetical sort.For instance, the following list is naturally sorted (what I want):<code>['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']</code>And here's the &quot;sorted&quot; version of the above list (what I get using <code>sorted()</code>):<code>['Elm11', 'Elm12', 'Elm2', 'elm0', 'elm1', 'elm10', 'elm13', 'elm9']</code>I'm looking for a sort function which behaves like the first one.", "simquery2_answer": "I'm trying to make this site more accessible by adding keyboard navigation and actions.What I'm trying to do is on focus, by tabbing, of a member of the <code>.dataCard</code> class and then on press of certain keys, trigger certain css animations.\nOn press of left arrow key, trigger the <code>.left</code> class addition and animation\nOn press of right arrow key or delete, trigger <code>.right</code> class addition and animation\nHere is my code, why isn't it working?<code>$('.dataCard').focus(function(){\n    $(this).keydown(function(event){\n        if(event.target === this){\n            if(event.which === '37'){\n                $('.dataCard').not('.focused, .greeting, .spelling').addClass('animated').addClass('left');\n            }\n            else if(event.which === '39' || event.which === '46'){\n                $('.dataCard').not('.focused, .greeting, .spelling').addClass('animated').addClass('right');\n            }\n        }\n    });\n});\n</code>\n", "total_len": 328, "s1_total_len": 400, "s2_total_len": 450}
{"post_id": "10715965", "title": "Create a Pandas Dataframe by appending one row at a time", "query": "How do I create an empty <code>DataFrame</code>, then add rows, one by one?I created an empty <code>DataFrame</code>:<code>df = pd.DataFrame(columns=('lib', 'qty1', 'qty2'))</code>Then I can add a new row at the end and fill a single field with:<code>df = df._set_value(index=len(df), col='qty1', value=10.0)</code>It works for only one field at a time. What is a better way to add new row to <code>df</code>?", "acce_answer": "I have two dict's like this,<code>in_dict = {\n    '1': 'active_rate',\n    '2': 'purchase_per_active'\n}formula = {\n    'total_purchase': 'B1*B2'\n}\n</code>I need to find the integers in the value of <code>formula</code> dict <code>'B1*B2'</code> and then get the value for integer corresponding to the integers from the <code>in_dict</code> dictionary and finally replace <code>B1</code> with <code>active_rate</code> and <code>B2</code> with <code>purchase_per_active</code>.\nSTEP 1: Extract numbers from <code>formula</code> dict. e.g <code>['1','2']</code> in our case.\nSTEP 2: Search for the keys in <code>in_dict</code> dict and get the corresponding values.\nSTEP 3: Replace in the <code>formula</code> dict for values generated in STEP 2. \nSo, final <code>formula</code> dict should be like<code>formula = {\n    'total_purchase': 'active_rate*purchase_per_active'\n}\n</code>The code so far <code>for key, value in formula.items():\n    numbers = re.findall(\"\\d+\", value)               # ['1','2']\n    values = [in_dict.get(num) for num in numbers]   # ['active_rate', 'purchase_per_active']\n</code>Now, how to replace the <code>'B1'</code> with <code>'active_rate'</code> and <code>'B2'</code> with <code>'purchase_per_active'</code>?The example shown here is just for sample. The code nature should be generic.\n", "acce_score": "1344", "simquery1_title": "shuffling/permutating a DataFrame in pandas What's a simple and efficient way to shuffle a dataframe in pandas, by rows or by columns? I.e. how to write a function <code>shuffle(df, n, axis=0)</code> that takes a dataframe, a number of shuffles <code>n</code>, and an axis (<code>axis=0</code> is rows, <code>axis=1</code> is columns) and returns a copy of the dataframe that has been shuffled <code>n</code> times. Edit: key is to do this without destroying the row/column labels of the dataframe. If you just shuffle <code>df.index</code> that loses all that information. I want the resulting <code>df</code> to be the same as the original except with the order of rows or order of columns different.Edit2: My question was unclear. When I say shuffle the rows, I mean shuffle each row independently. So if you have two columns <code>a</code> and <code>b</code>, I want each row shuffled on its own, so that you don't have the same associations between <code>a</code> and <code>b</code> as you do if you just re-order each row as a whole. Something like: <code>for 1...n:  for each col in df: shuffle columnreturn new_df</code>But hopefully more efficient than naive looping. This does not work for me:<code>def shuffle(df, n, axis=0):        shuffled_df = df.copy()        for k in range(n):            shuffled_df.apply(np.random.shuffle(shuffled_df.values),axis=axis)        return shuffled_dfdf = pandas.DataFrame({'A':range(10), 'B':range(10)})shuffle(df, 5)</code>", "simquery1_answer": "After your comments you need to change your code from:<code>long t;\nvoid* v;\nv = (void *)t;\nfor(...)\n  //stuff\n</code>to:<code>long t;\nfor(...) {\n  void* v;\n  v = (void*) t;\n  //stuff\n}\n</code>Basically what was happening in the prior case is that t is uninitialized and thus its value is undefined. Then it is copied into a variable v and passed into the pthread. If it is inside the for loop, than t has been initialized.\n", "simquery2_title": "Testing if a pandas DataFrame exists In my code, I have several variables which can either contain a pandas DataFrame or nothing at all.  Let's say I want to test and see if a certain DataFrame has been created yet or not.  My first thought would be to test for it like this:<code>if df1:    # do something</code>However, that code fails in this way:<code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code>Fair enough.  Ideally, I would like to have a presence test that works for either a DataFrame or Python None.  Here is one way this can work:<code>if not isinstance(df1, type(None)):    # do something</code>However, testing for type is really slow.<code>t = timeit.Timer('if None: pass')t.timeit()# approximately 0.04t = timeit.Timer('if isinstance(x, type(None)): pass', setup='x=None')t.timeit()# approximately 0.4</code>Ouch.  Along with being slow, testing for NoneType isn't very flexible, either.  A different solution would be to initialize <code>df1</code> as an empty DataFrame, so that the type would be the same in both the null and non-null cases.  I could then just test using <code>len()</code>, or <code>any()</code>, or something like that.  Making an empty DataFrame seems kind of silly and wasteful, though.Another solution would be to have an indicator variable: <code>df1_exists</code>, which is set to False until <code>df1</code> is created.  Then, instead of testing <code>df1</code>, I would be testing <code>df1_exists</code>.  But this doesn't seem all that elegant, either.Is there a better, more Pythonic way of handling this issue?  Am I missing something, or is this just an awkward side effect all the awesome things about pandas? ", "simquery2_answer": "\r\n\r\n<code>url = \"www.w3schools.com/html/html5_video.asp\"\r\n\r\nVIDEO_LINKS = [];\r\nVIDEO_LIST = [];\r\n\r\nfunction fillVideo(callback) {\r\n  request(url, function(err, res, body) {\r\n    if (body) {\r\n      $ = cheerio.load(body);\r\n    }\r\n    links = $('source');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('src');\r\n      if (value.slice(-3) == \"mp4\" ||\r\n        value.slice(-4) == \"webm\" ||\r\n        value.slice(-3) == \"ogv\") {\r\n        VIDEO_LINKS.push(value);\r\n        VIDEO_LIST.push($(link).text());\r\n\r\n      }\r\n\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writeVideo() {\r\n\r\n  for (j = 0; j &lt; VIDEO_LIST.length; j++) {\r\n    request(VIDEO_LINKS[j]).pipe(fs.createWriteStream(VIDEO_LIST[j]));\r\n  }\r\n}\r\n\r\nfillVideo(writeVideo);</code>\r\n\r\n\r\n\r\n\r\n<code>//www.electronicinfo.ca/printable-pdfs\r\n\r\nPDF_LINKS = [];\r\nPDF_LIST = [];\r\n\r\nfunction fillPDF(callback) {\r\n  request(url, function(err, res, body) {\r\n    $ = cheerio.load(body);\r\n    links = $('a');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('href');\r\n      if (value.slice(-3) == \"pdf\") {\r\n        PDF_LINKS.push(value);\r\n        PDF_LIST.push($(link).text());\r\n      }\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writePDF() {\r\n  for (j = 0; j &lt; PDF_LIST.length; j++) {\r\n    request(PDF_LINKS[j]).pipe(fs.createWriteStream(PDF_LIST[j]));\r\n  }\r\n}\r\n\r\nfillPDF(writePDF);</code>\r\n\r\n\r\nHi, This is code that used to work, I changed literally nothing, from about 5 minutes ago, the only thing I changed was duplicating it, and changing variable names. My question is how to fix this code? I know the error is that body is empty, but I dont know how to fix it, i would appeciate any help...\n", "total_len": 606, "s1_total_len": 579, "s2_total_len": 1115}
{"post_id": "11041405", "title": "Why dict.get(key) instead of dict[key]?", "query": "Today, I came across the <code>dict</code> method <code>get</code> which, given a key in the dictionary, returns the associated value.For what purpose is this function useful? If I wanted to find a value associated with a key in a dictionary, I can just do <code>dict[key]</code>, and it returns the same thing:<code>dictionary = {\"Name\": \"Harry\", \"Age\": 17}dictionary[\"Name\"]dictionary.get(\"Name\")</code>", "acce_answer": "This exception can have many reasons(f.e. <code>int.Parse(\"abc\")</code>). You can execute that line in a quick-watch-window of the debugger in visual studio. Then you can retrieve the <code>rows</code> which contains all row errors via <code>DataTable.GetErrors</code>:<code>row.Table.GetErrors() \n</code>Then you're able to inspect these rows. Have a look at the <code>DataRow.RowError</code> property. There you'll find the detailed error and column which causes the exception.All in the quick watch window, otherwise you cannot debug that exception.\n", "acce_score": "1046", "simquery1_title": "Requests -- how to tell if you're getting a 404 I'm using the Requests library and accessing a website to gather data from it with the following code: <code>r = requests.get(url)</code>I want to add error testing for when an improper URL is entered and a 404 error is returned. If I intentionally enter an invalid URL, when I do this:<code>print r</code>I get this:<code>&lt;Response [404]&gt;</code>EDIT:I want to know how to test for that. The object type is still the same. When I do <code>r.content</code> or <code>r.text</code>, I simply get the HTML of a custom 404 page. ", "simquery1_answer": "You have the problem when you are doing the SET.\nthe SET for \"RGWsn\" and \"EndianIP\" is fine, but at other places, the spaces are causing the problem.<code>SET IP01 = 10.128.%RGWsn%.0\n</code>With this you are creating a variable \"IP01 \" and setting its value to \" 10.128.%RGWsn%.0\"\nNotice the spaces here.You should be doing <code>SET IP01=10.128.%RGWsn%.0\n</code>Similarly for IP02 and IP03.Take a look at this similar problem.\n", "simquery2_title": "Python request with authentication (access_token) I am trying to use an API query in Python. From the command line I can use <code>curl</code> like so:<code>curl --header &quot;Authorization:access_token myToken&quot; https://website.example/id</code>This gives some JSON output. <code>myToken</code> is a hexadecimal variable that remains constant throughout.I would like to make this call from python so that I can loop through different ids and analyze the output. Before authentication was needed I had done that with <code>urllib2</code>. I have also taken a look at the <code>requests</code> module but couldn't figure out how to authenticate with it.", "simquery2_answer": "Remove this Inner itemclicklistener- <code>gameList.setOnItemClickListener(new OnItemClickListener(){    @Override\n public void onItemClick(AdapterView&lt;?&gt; paren, View view,\n      int position, long id) {\n        Log.i(\"Value\", List_Data.get(position));    }\n});\n</code>\n", "total_len": 276, "s1_total_len": 339, "s2_total_len": 247}
{"post_id": "11218477", "title": "How can I use pickle to save a dict (or any other Python object)?", "query": "I have looked through the information that the Python docs give, but I'm still a little confused. Could somebody post sample code that would write a new file then use pickle to dump a dictionary into it?", "acce_answer": "I am new to OpenCV, I have to perform some camera calibration functions.\nCan anybody tell me what are the uses of <code>CvLevMarq()</code> class in OpenCV and how to use it?.\n", "acce_score": "677", "simquery1_title": "What is the difference between pickle and shelve? I am learning about object serialization for the first time. I tried reading and 'googling' for differences in the modules pickle and shelve but I am not sure I understand it. When to use which one? Pickle can turn every python object into stream of bytes which can be persisted into a file. Then why do we need the module shelve? Isn't pickle faster?", "simquery1_answer": "You want to keep the selector, so adding/removing it won't work.  Instead of writing a hard and fast CSS selectors (or two), perhaps you can just use the original selector to apply new CSS rule to that element based on some criterion:<code>$(\".test\").hover(\n  if(some evaluation) {\n    $(this).css('border':0);\n  }\n);\n</code>\n", "simquery2_title": "Saving and loading multiple objects in pickle file? I have a class that serves players in a game, creates them and other things. I need to save these player objects in a file to use it later.  I've tried the pickle module but I don't know how to save multiple objects and again loading them? Is there a way to do that or should I use other classes such as lists and save and load my objects in a list? Is there a better way?", "simquery2_answer": "How can I execute the OK.sendToAll(...) from span exactly if it was executed from Section - Perfect? OK is actually SimpleOKRTC third party library, if I execute it inside that videoAdded section then it works correctly but when I am trying to execute it from  its not doing correctAny idea please?<code>&lt;span onclick=\"func_OK();\"&gt;TEST&lt;/span&gt;&lt;script src=\"/js/blatest_third_party_SimpleOKRTC_for_example.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar OK = new SimpleOKRTC({\n  autoRequestMedia: true,\n  detectSpeakingEvents: true,\n});// Section - Perfect\nOK.on('videoAdded', function (video, peer) {  \n  OK.sendToAll(\"bla bla\"); // works\n});    // But now \nfunction func_OK() {\n  OK.sendToAll(\"bla bla\"); // does not work same way like 'videoAdded'\n}\n&lt;/script&gt;\n</code>\n", "total_len": 117, "s1_total_len": 191, "s2_total_len": 357}
{"post_id": "11248073", "title": "How do I remove all packages installed by pip?", "query": "How do I uninstall all packages installed by pip from my currently activated virtual environment?", "acce_answer": "If you want to make your ViewController act as delegate for both accelerometer and GPS, state in its header file that it obeys both delegate protocols:<code>@interface ViewController : UIViewController &lt;CLLocationManagerDelegate, UIAccelerometerDelegate&gt; {\n    CLLocationManager *myLocationManager; // an instance variable\n}\n // ... your definitions\n@end\n</code>then somewhere in your ViewController<code>[UIAccelerometer sharedAccelerometer].delegate = self;\nmyLocationManager = [[CLLocationManager alloc] init];\nmyLocationManager.delegate = self;\n</code>then somewhere else in your ViewController, put the delegate methods for both protocols<code>- (void)accelerometer:(UIAccelerometer *)accelerometer didAccelerate:(UIAcceleration *)acceleration {\n    // ... your code\n}- (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations {\n   // ... your code\n</code>}and that should work, although there may be typos, I have not compiled this. Plus, in my experience, location manager code tends to get quite big. You may be much better off putting it in a class of its own, to be instantiated by the ViewController.Can anyone explain why the only method in the UIAccelerometerDelegate protocol is deprecated?\n", "acce_score": "1160", "simquery1_title": "Bypass confirmation prompt for pip uninstall I'm trying to uninstall all django packages in my superuser environment to ensure that all my webapp dependencies are installed to my virtualenv.<code>sudo susudo pip freeze | grep -E '^django-' | xargs pip -q uninstall</code>But pip wants to confirm every package uninstall, and there doesn't seem to be a <code>-y</code> option for pip. Is there a better way to uninstall a batch of python modules? Is <code>rm -rf .../site-packages/</code> a proper way to go? Is there an easy_install alternative?Alternatively, would it be better to force pip to install all dependencies to the virtualenv rather than relying on the system python modules to meet those dependencies, e.g. <code>pip --upgrade install</code>, but forcing even equally old versions to be installed to override any system modules. I tried activating my virtualenv and then <code>pip install --upgrade -r requirements.txt</code> and that does seem to install the dependencies, even those existing in my system path, but I can't be sure if that's because my system modules were old. And <code>man pip</code> doesn't seem to guarantee this behavior (i.e. installing the same version of a package that already exists in the system site-packages).", "simquery1_answer": "I think spinner have no hintBut i have small solutionyour code is<code>users.add(json.getString(Config.TAG_NAME));//this will add name to user array list\n</code>before add user names to arraylist, put below codeie.add your hint to your array<code>users.add(\"your hint\");\neg:users.add(\"select name\");\n</code>i think it will help you\n", "simquery2_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery2_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "total_len": 343, "s1_total_len": 399, "s2_total_len": 319}
{"post_id": "11277432", "title": "How can I remove a key from a Python dictionary?", "query": "I want to remove a key from a dictionary if it is present. I currently use this code:<code>if key in my_dict:    del my_dict[key]</code>Without the <code>if</code> statement, the code will raise <code>KeyError</code> if the key is not present. How can I handle this more simply?See Delete an element from a dictionary for more general approaches to the problem of removing a key from a dict (including ones which produce a modified copy).", "acce_answer": "Because you have your weeklyPay as a double, the toString method is printing it as 42.0 and because you are comparing it to a string, it is not evaluating the 42 in the string.Try this:<code>assertEquals(\"Manager 1has weekly pay of 42.0\", new Manager(1, 42).toString());\n</code>\n", "acce_score": "2790", "simquery1_title": "How can I remove a key from a Python dictionary? I want to remove a key from a dictionary if it is present. I currently use this code:<code>if key in my_dict:    del my_dict[key]</code>Without the <code>if</code> statement, the code will raise <code>KeyError</code> if the key is not present. How can I handle this more simply?See Delete an element from a dictionary for more general approaches to the problem of removing a key from a dict (including ones which produce a modified copy).", "simquery1_answer": "Because you have your weeklyPay as a double, the toString method is printing it as 42.0 and because you are comparing it to a string, it is not evaluating the 42 in the string.Try this:<code>assertEquals(\"Manager 1has weekly pay of 42.0\", new Manager(1, 42).toString());\n</code>\n", "simquery2_title": "Delete an element from a dictionary How do I delete an item from a dictionary in Python?Without modifying the original dictionary, how do I obtain another dict with the item removed?See also How can I remove a key from a Python dictionary? for the specific issue of removing an item (by key) that may not already be present.", "simquery2_answer": "We have been searching a WYSIWYG editor for our Spring Project and we decided on CKEditor but we also needed an plugin for to insert iamge from localhost so I tried to implement CKFinder for Java. But I couldn't event make work CKFinder's example app work.The screen:\nhttp://imgur.com/ZortmThe debug output:<code>java.lang.NullPointerException\n    at com.ckfinder.connector.ConnectorServlet.getResponse(ConnectorServlet.java:114)\n    at com.ckfinder.connector.ConnectorServlet.doGet(ConnectorServlet.java:76)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code>\n", "total_len": 213, "s1_total_len": 211, "s2_total_len": 728}
{"post_id": "11285613", "title": "Selecting multiple columns in a Pandas dataframe", "query": "How do I select columns <code>a</code> and <code>b</code> from <code>df</code>, and save them into a new dataframe <code>df1</code>?<code>index  a   b   c1      2   3   42      3   4   5</code>Unsuccessful attempt:<code>df1 = df['a':'b']df1 = df.ix[:, 'a':'b']</code>", "acce_answer": "I have added a DLL as a resource to my project. I need to get the file path to this DLL as I am using <code>CSharpCodeProvider</code> to compile something. One can only pass referenced assemblies as file paths to the <code>ReferencedAssemblies</code> properties of it.I can quite easily get a byte array for my resource DLL. At the moment I write the byte array to a temp file and delete if after compilation... Isn't there better ? To me it makes sense that this file must be somewhere and easily accessible, not only as stream of bytes.Thanks !\n", "acce_score": "1684", "simquery1_title": "Selecting multiple columns in a Pandas dataframe How do I select columns <code>a</code> and <code>b</code> from <code>df</code>, and save them into a new dataframe <code>df1</code>?<code>index  a   b   c1      2   3   42      3   4   5</code>Unsuccessful attempt:<code>df1 = df['a':'b']df1 = df.ix[:, 'a':'b']</code>", "simquery1_answer": "I have added a DLL as a resource to my project. I need to get the file path to this DLL as I am using <code>CSharpCodeProvider</code> to compile something. One can only pass referenced assemblies as file paths to the <code>ReferencedAssemblies</code> properties of it.I can quite easily get a byte array for my resource DLL. At the moment I write the byte array to a temp file and delete if after compilation... Isn't there better ? To me it makes sense that this file must be somewhere and easily accessible, not only as stream of bytes.Thanks !\n", "simquery2_title": "Combine pandas DataFrame query() method with isin() So I want to use <code>isin()</code> method with <code>df.query()</code>, to select rows with <code>id</code> in a list: <code>id_list</code>. Similar question was asked before, but they used typical <code>df[df['id'].isin(id_list)]</code> method. I'm wondering if there is a way to use <code>df.query()</code> instead.<code>df = pd.DataFrame({'a': list('aabbccddeeff'), 'b': list('aaaabbbbcccc'),                   'c': np.random.randint(5, size=12),                   'd': np.random.randint(9, size=12)})id_list = [\"a\", \"b\", \"c\"]</code>And this yields an error<code>df.query('a == id_list')</code>", "simquery2_answer": "You are appending a new <code>&lt;text&gt;</code> in the update select. Since you are updating the text in the combined selection, you do not even need to update the text value. You can just remove this part:<code>   city.append(\"text\")\n                .datum(function (d) {\n                    return {\n                        id: d.id,\n                        value: d.values[d.values.length - 1]\n                    };\n                })\n                .attr(\"transform\", function (d) {\n                    return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\";\n                })\n                .attr(\"x\", 3)\n                .attr(\"dy\", \"0.35em\")\n                .style(\"font\", \"10px sans-serif\")\n                .text(function (d) {\n                    return d.id;\n                });\n</code>You also need to update the  text:<code> city.select(\"text\").datum(function (d) {\n        return {\n            id: d.id,\n            value: d.values[d.values.length - 1]\n        };\n    })\n    .text(function (d) {\n        return d.id;\n    })\n</code>here is the updated code:\n\r\n\r\n<code>    &lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\r\n    &lt;style&gt;\r\n        .axis--x path {\r\n            display: none;\r\n        }\r\n            \r\n        .line {\r\n            fill: none;\r\n            stroke: steelblue;\r\n            stroke-width: 1.5px;\r\n        }\r\n            \r\n    &lt;/style&gt;\r\n    &lt;button&gt;Click me&lt;/button&gt;\r\n    &lt;svg width=\"960\" height=\"500\"&gt;&lt;/svg&gt;\r\n    &lt;!--&lt;script src=\"d3.v4.js\"&gt;&lt;/script&gt;--&gt;\r\n            \r\n    &lt;script&gt;\r\n        var svg = d3.select(\"svg\"),\r\n            margin = {\r\n                top: 20,\r\n                right: 80,\r\n                bottom: 30,\r\n                left: 50\r\n            },\r\n            width = svg.attr(\"width\") - margin.left - margin.right,\r\n            height = svg.attr(\"height\") - margin.top - margin.bottom,\r\n            g = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n            \r\n        var parseTime = d3.timeParse(\"%Y%m%d\");\r\n            \r\n        var x = d3.scaleTime().range([0, width]),\r\n            y = d3.scaleLinear().range([height, 0]),\r\n            z = d3.scaleOrdinal(d3.schemeCategory10);\r\n            \r\n        var line = d3.line()\r\n            .curve(d3.curveBasis)\r\n            .x(function (d) {\r\n                return x(d.date);\r\n            })\r\n            .y(function (d) {\r\n                return y(d.temperature);\r\n            });\r\n            \r\n        var data = [{\r\n            \"date\": \"1136156400000\",\r\n            \"Old York\": 63.4,\r\n            \"San Francisco\": 62.7,\r\n            \"Austin\": 72.2\r\n        }, {\r\n            \"date\": \"1167692400000\",\r\n            \"Old York\": 58.0,\r\n            \"San Francisco\": 59.9,\r\n            \"Austin\": 67.7\r\n        }, {\r\n            \"date\": \"1199228400000\",\r\n            \"Old York\": 53.3,\r\n            \"San Francisco\": 59.1,\r\n            \"Austin\": 69.4\r\n        }, {\r\n            \"date\": \"1230850800000\",\r\n            \"Old York\": 55.7,\r\n            \"San Francisco\": 58.8,\r\n            \"Austin\": 68.0\r\n        }, {\r\n            \"date\": \"1262386800000\",\r\n            \"Old York\": 62.3,\r\n            \"San Francisco\": 55.1,\r\n            \"Austin\": 71.9\r\n        }];\r\n            \r\n        var data2 = [{\r\n            \"date\": \"1136156400000\",\r\n            \"New York\": 263.4,\r\n            \"San Francisco\": 262.7,\r\n            \"Austin\": 372.2\r\n        }, {\r\n            \"date\": \"1167692400000\",\r\n            \"New York\": 458.0,\r\n            \"San Francisco\": 259.9,\r\n            \"Austin\": -367.7\r\n        }, {\r\n            \"date\": \"1199228400000\",\r\n            \"New York\": 153.3,\r\n            \"San Francisco\": 259.1,\r\n            \"Austin\": 369.4\r\n        }, {\r\n            \"date\": \"1230850800000\",\r\n            \"New York\": 155.7,\r\n            \"San Francisco\": 258.8,\r\n            \"Austin\": 368.0\r\n        }, {\r\n            \"date\": \"1262386800000\",\r\n            \"New York\": 162.3,\r\n            \"San Francisco\": 255.1,\r\n            \"Austin\": 371.9\r\n        }];\r\n    \r\n    \r\n        // d3.tsv(\"data.tsv\", type, function (error, data) {\r\n        //     if (error) throw error;\r\n    \r\n        data.columns = [\"date\", \"Old York\", \"San Francisco\", \"Austin\"];\r\n    \r\n        var cities = data.columns.slice(1).map(function (id) {\r\n            return {\r\n                id: id,\r\n                values: data.map(function (d) {\r\n                    return {\r\n                        date: d.date,\r\n                        temperature: d[id]\r\n                    };\r\n                })\r\n            };\r\n        });\r\n    \r\n        x.domain(d3.extent(data, function (d) {\r\n            return d.date;\r\n        }));\r\n    \r\n        y.domain([\r\n            d3.min(cities, function (c) {\r\n                return d3.min(c.values, function (d) {\r\n                    return d.temperature;\r\n                });\r\n            }),\r\n            d3.max(cities, function (c) {\r\n                return d3.max(c.values, function (d) {\r\n                    return d.temperature;\r\n                });\r\n            })\r\n        ]);\r\n        g.append(\"g\")\r\n            .attr(\"class\", \"axis axis--x\")\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .call(d3.axisBottom(x));\r\n        g.append(\"g\")\r\n            .attr(\"class\", \"axis axis--y\")\r\n            .call(d3.axisLeft(y))\r\n            .append(\"text\")\r\n            .attr(\"transform\", \"rotate(-90)\")\r\n            .attr(\"y\", 6)\r\n            .attr(\"dy\", \"0.71em\")\r\n            .attr(\"fill\", \"#000\")\r\n            .text(\"Temperature, \u00baF\");\r\n    \r\n        update();\r\n        d3.select(\"button\").on(\"click\", function () {\r\n            // cities.splice(0, 1);\r\n            data = data2;\r\n            data.columns = [\"date\", \"New York\", \"San Francisco\", \"Austin\"];\r\n            //            console.log(JSON.stringify(cities));\r\n            update();\r\n        });\r\n    \r\n        function update() {\r\n    //        data.columns = [\"date\", \"New York\", \"San Francisco\", \"Austin\"];\r\n            cities = data.columns.slice(1).map(function (id) {\r\n                return {\r\n                    id: id,\r\n                    values: data.map(function (d) {\r\n                        return {\r\n                            date: d.date,\r\n                            temperature: d[id]\r\n                        };\r\n                    })\r\n                };\r\n            });\r\n    \r\n    \r\n            x.domain(d3.extent(data, function (d) {\r\n                return d.date;\r\n            }));\r\n            y.domain([\r\n                d3.min(cities, function (c) {\r\n                    return d3.min(c.values, function (d) {\r\n                        return d.temperature;\r\n                    });\r\n                }),\r\n                d3.max(cities, function (c) {\r\n                    return d3.max(c.values, function (d) {\r\n                        return d.temperature;\r\n                    });\r\n                })\r\n            ]);\r\n            z.domain(cities.map(function (c) {\r\n                return c.id;\r\n            }));\r\n    \r\n            var city = g.selectAll(\".city\")\r\n                .data(cities);        \r\n    \r\n            // var text = g.selectAll(\".text\")\r\n            //     .data(texts);\r\n    \r\n            city.exit().remove();\r\n    \r\n            var cityEnter = city.enter().append(\"g\")\r\n                .attr(\"class\", \"city\");\r\n    \r\n            cityEnter.append(\"path\")\r\n                .attr(\"class\", \"line\")\r\n                .attr(\"d\", function (d) {\r\n                    return line(d.values);\r\n                })\r\n                .style(\"stroke\", function (d) {\r\n                    return z(d.id);\r\n                });\r\n    \r\n    \r\n            city = cityEnter.merge(city);\r\n    \r\n            cityEnter.append(\"text\")\r\n            //        city.append(\"text\")\r\n                .datum(function (d) {\r\n                    return {\r\n                        id: d.id,\r\n                        value: d.values[d.values.length - 1]\r\n                    };\r\n                })\r\n                .attr(\"transform\", function (d) {\r\n                    return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\";\r\n                })\r\n                .attr(\"x\", 3)\r\n                .attr(\"dy\", \"0.35em\")\r\n                .style(\"font\", \"10px sans-serif\")\r\n                .text(function (d) {\r\n                    return d.id;\r\n                });\r\n    \r\n    \r\n            city.select(\"path\")\r\n            //            .transition().duration(1000)\r\n                .attr(\"d\", function (d) {\r\n                    return line(d.values);\r\n                });\r\n    \r\n            city.select(\"text\").datum(function (d) {\r\n                return {\r\n                    id: d.id,\r\n                    value: d.values[d.values.length - 1]\r\n                };\r\n            })\r\n            .text(function (d) {\r\n                return d.id;\r\n            })\r\n            //            .transition().duration(1000)\r\n                .attr(\"transform\", function (d) {\r\n                    return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\";\r\n                });\r\n    \r\n            svg.select(\".axis--y\")\r\n            //            .transition().duration(1000)\r\n                .call(d3.axisLeft(y));\r\n        }\r\n    \r\n    &lt;/script&gt;</code>\r\n\r\n\r", "total_len": 251, "s1_total_len": 249, "s2_total_len": 3151}
{"post_id": "11346283", "title": "Renaming column names in Pandas", "query": "I want to change the column labels of a Pandas DataFrame from<code>['$a', '$b', '$c', '$d', '$e']</code>to<code>['a', 'b', 'c', 'd', 'e']</code>", "acce_answer": "Ajax is asynchronous, so you'll have to wait for a response and some data to come back before you can do anything with it. When you're trying to use the content after the ajax function, it's not done yet, and there is no content. You'll have to do that inside the callback when there is actual content to append and the ajax call is completed :<code>$(document).ready(function() {\n    $(\"body\").click(function(){ \n        var content=\"\",\n            url =  \"http://api.twitter.com/1/statuses/user_timeline/codinghorror.json\";\n        $.getJSON(url + \"?callback=?\", null, function(tweets,after) {\n            for(key in tweets) {\n                if (tweets.hasOwnProperty(key)) {\n                    content+=tweets[key].text + \"&lt;hr /&gt;\";\n                }\n            }\n            $(\"#tweet-list\").html(content); \n        });\n    });\n});\n</code>\n", "acce_score": "2848", "simquery1_title": "pandas groupby without turning grouped by column into index The default behavior of pandas groupby is to turn the group by columns into index and remove them from the list of columns of the dataframe. For instance, say I have a dataFrame with these columns <code>col1|col2|col3|col4</code>if I apply a groupby say with columns <code>col2</code> and <code>col3</code> this way<code>df.groupby(['col2','col3']).sum()</code>The dataframe <code>df</code> no longer has the <code>['col2','col3']</code> in the list of columns. They are automatically turned into the indices of the resulting dataframe. My question is how can I perform groupby on a column and yet keep that column in the dataframe?  ", "simquery1_answer": "I am trying to figure out the proper syntax to returned two scanned strings so that I can use them in main using pointers.<code>void get_user_info(char* user_string_one[20] , char* user_string_two[20]) {\nchar string_one[20] = \"\";\nchar string_two[20] = \"\";string_one = \"hello\";\nstring_two = \"goodbye\";*user_string_one = string_one;\n*user_string_two = string_two;return;\n}int main(void) {\nchar user_string_one[20] = \"\";\nchar user_string_two[20] = \"\";get_user_info(user_string_one[20], user_string_two[20]);printf(\"%s %s\\n\", user_string_one, user_string_two);return 0;\n}\n</code>I am sure I am making a really simple mistake, I just can't seem to figure it out. \n", "simquery2_title": "Find unique values in a Pandas dataframe, irrespective of row or column location I have a Pandas dataframe and I want to find all the unique values in that dataframe...irrespective of row/columns. If I have a 10 x 10 dataframe, and suppose they have 84 unique values, I need to find them - Not the count.I can create a set and add the values of each rows by iterating over the rows of the dataframe. But, I feel that it may be inefficient (cannot justify that). Is there an efficient way to find it? Is there a predefined function?", "simquery2_answer": "The method should be virtual.\nIn java methods are virtual by default.<code>class A {\n  public:\n    virtual void talk() { printf(\"A\\n\"); }\n};class B: public A {\n  public:\n      virtual void talk() override { printf(\"B\\n\"); } //override key word is in C++  0x and above\n};\n</code>\n", "total_len": 314, "s1_total_len": 418, "s2_total_len": 220}
{"post_id": "11520492", "title": "Difference between del, remove, and pop on lists", "query": "Is there any difference between these three methods to remove an element from a list?<code>&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; a.remove(2)&gt;&gt;&gt; a[1, 3]&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; del a[1]&gt;&gt;&gt; a[1, 3]&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; a.pop(1)2&gt;&gt;&gt; a[1, 3]</code>", "acce_answer": "<code>routes.MapRoute()</code> builds RouteValueDictionary from defaults. So you may deserialize/build <code>Dictionary&lt;string,object&gt;</code> from your xml and pass it to <code>routes.MapRoute()</code>. Same with constraints paramenter.Update: defaults built as dictionary<code>var defaults = new Dictionary&lt;string, object&gt; {{\"controller\", \"Account\"}, {\"action\", \"Login\"}};routes.MapRoute(\n  \"Default\", // Route name\n  \"{controller}/{action}\", // URL with parameters\n  defaults\n);\n</code>\n", "acce_score": "1186", "simquery1_title": "Is the use of del bad? I commonly use <code>del</code> in  my code to delete objects:<code>&gt;&gt;&gt; array = [4, 6, 7, 'hello', 8]&gt;&gt;&gt; del(array[array.index('hello')])&gt;&gt;&gt; array[4, 6, 7, 8]&gt;&gt;&gt; </code>But I have heard many people say that the use of <code>del</code> is unpythonic. Is using <code>del</code> bad practice?<code>&gt;&gt;&gt; array = [4, 6, 7, 'hello', 8]&gt;&gt;&gt; array[array.index('hello'):array.index('hello')+1] = ''&gt;&gt;&gt; array[4, 6, 7, 8]&gt;&gt;&gt; </code>If not, why are there many ways to accomplish the same thing in python? Is one better than the others?Option 1: using <code>del</code><code>&gt;&gt;&gt; arr = [5, 7, 2, 3]&gt;&gt;&gt; del(arr[1])&gt;&gt;&gt; arr[5, 2, 3]&gt;&gt;&gt; </code>Option 2: using <code>list.remove()</code><code>&gt;&gt;&gt; arr = [5, 7, 2, 3]&gt;&gt;&gt; arr.remove(7)&gt;&gt;&gt; arr[5, 2, 3]&gt;&gt;&gt; </code>Option 3: using <code>list.pop()</code><code>&gt;&gt;&gt; arr = [5, 7, 2, 3]&gt;&gt;&gt; arr.pop(1)7&gt;&gt;&gt; arr[5, 2, 3]&gt;&gt;&gt; </code>Option 4: using slicing<code>&gt;&gt;&gt; arr = [5, 7, 2, 3]&gt;&gt;&gt; arr[1:2] = ''&gt;&gt;&gt; arr[5, 2, 3]&gt;&gt;&gt; </code>I am sorry if this question appears to be opinion-based, but I am looking for a reasonable answer to my question, and I will add a bounty after 2 days if I don't get a suitable answer.Edit:Since there are many alternates to using <code>del</code> to delete certain parts of objects, the one unique factor left of <code>del</code> is its ability to remove objects completely:<code>&gt;&gt;&gt; a = 'hello'&gt;&gt;&gt; b = a&gt;&gt;&gt; del(a)&gt;&gt;&gt; aTraceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;NameError: name 'a' is not defined&gt;&gt;&gt; b'hello'&gt;&gt;&gt; </code>However, what is the point of using it to 'undefine' objects?Also, why does the following code change both variables:<code>&gt;&gt;&gt; a = []&gt;&gt;&gt; b = a&gt;&gt;&gt; a.append(9)&gt;&gt;&gt; a[9]&gt;&gt;&gt; b[9]&gt;&gt;&gt; </code>But the <code>del</code> statement does not achieve the same effect?<code>&gt;&gt;&gt; a = []&gt;&gt;&gt; b = a&gt;&gt;&gt; del(a)&gt;&gt;&gt; aTraceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;NameError: name 'a' is not defined&gt;&gt;&gt; b[]&gt;&gt;&gt; </code>", "simquery1_answer": "You can do something like this:<code>&lt;#assign junk = \"repeatMe\" /&gt;&lt;#list 0..1 as x&gt;${junk}&lt;/#list&gt;\n</code>\n", "simquery2_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery2_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "total_len": 310, "s1_total_len": 1007, "s2_total_len": 1245}
{"post_id": "11707586", "title": "How do I expand the output display to see more columns of a Pandas DataFrame?", "query": "Is there a way to widen the display of output in either interactive or script-execution mode?Specifically, I am using the <code>describe()</code> function on a Pandas <code>DataFrame</code>.  When the <code>DataFrame</code> is five columns (labels) wide, I get the descriptive statistics that I want.  However, if the <code>DataFrame</code> has any more columns, the statistics are suppressed and something like this is returned:<code>&gt;&gt; Index: 8 entries, count to max&gt;&gt; Data columns:&gt;&gt; x1          8  non-null values&gt;&gt; x2          8  non-null values&gt;&gt; x3          8  non-null values&gt;&gt; x4          8  non-null values&gt;&gt; x5          8  non-null values&gt;&gt; x6          8  non-null values&gt;&gt; x7          8  non-null values</code>The &quot;8&quot; value is given whether there are 6 or 7 columns.  What does the &quot;8&quot; refer to?I have already tried dragging the IDLE window larger, as well as increasing the &quot;Configure IDLE&quot; width options, to no avail.", "acce_answer": "I think this is what you want<code>^\\s*([A-Z]+)\\s+([A-Z]+)\n</code>See it here on Regexr, you find the first code of a row in group 1 and the second in group 2. <code>\\s</code> is a whitespace character, it includes e.g. spaces, tabs and newline characters.In Perl it is something like this:<code>($code1, $code2) = $line =~ /^\\s*([A-Z]+)\\s+([A-Z]+)/i;\n</code>I think you are reading the text file row by row, so you don't need the modifiers <code>s</code> and <code>m</code>, and <code>g</code> is also not needed.In case the codes are not only ASCII letters, then replace <code>[A-Z]</code> with <code>\\p{L}</code>. <code>\\p{L}</code> is a Unicode property that will match every letter in every language.\n", "acce_score": "958", "simquery1_title": "Testing if a pandas DataFrame exists In my code, I have several variables which can either contain a pandas DataFrame or nothing at all.  Let's say I want to test and see if a certain DataFrame has been created yet or not.  My first thought would be to test for it like this:<code>if df1:    # do something</code>However, that code fails in this way:<code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code>Fair enough.  Ideally, I would like to have a presence test that works for either a DataFrame or Python None.  Here is one way this can work:<code>if not isinstance(df1, type(None)):    # do something</code>However, testing for type is really slow.<code>t = timeit.Timer('if None: pass')t.timeit()# approximately 0.04t = timeit.Timer('if isinstance(x, type(None)): pass', setup='x=None')t.timeit()# approximately 0.4</code>Ouch.  Along with being slow, testing for NoneType isn't very flexible, either.  A different solution would be to initialize <code>df1</code> as an empty DataFrame, so that the type would be the same in both the null and non-null cases.  I could then just test using <code>len()</code>, or <code>any()</code>, or something like that.  Making an empty DataFrame seems kind of silly and wasteful, though.Another solution would be to have an indicator variable: <code>df1_exists</code>, which is set to False until <code>df1</code> is created.  Then, instead of testing <code>df1</code>, I would be testing <code>df1_exists</code>.  But this doesn't seem all that elegant, either.Is there a better, more Pythonic way of handling this issue?  Am I missing something, or is this just an awkward side effect all the awesome things about pandas? ", "simquery1_answer": "\r\n\r\n<code>url = \"www.w3schools.com/html/html5_video.asp\"\r\n\r\nVIDEO_LINKS = [];\r\nVIDEO_LIST = [];\r\n\r\nfunction fillVideo(callback) {\r\n  request(url, function(err, res, body) {\r\n    if (body) {\r\n      $ = cheerio.load(body);\r\n    }\r\n    links = $('source');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('src');\r\n      if (value.slice(-3) == \"mp4\" ||\r\n        value.slice(-4) == \"webm\" ||\r\n        value.slice(-3) == \"ogv\") {\r\n        VIDEO_LINKS.push(value);\r\n        VIDEO_LIST.push($(link).text());\r\n\r\n      }\r\n\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writeVideo() {\r\n\r\n  for (j = 0; j &lt; VIDEO_LIST.length; j++) {\r\n    request(VIDEO_LINKS[j]).pipe(fs.createWriteStream(VIDEO_LIST[j]));\r\n  }\r\n}\r\n\r\nfillVideo(writeVideo);</code>\r\n\r\n\r\n\r\n\r\n<code>//www.electronicinfo.ca/printable-pdfs\r\n\r\nPDF_LINKS = [];\r\nPDF_LIST = [];\r\n\r\nfunction fillPDF(callback) {\r\n  request(url, function(err, res, body) {\r\n    $ = cheerio.load(body);\r\n    links = $('a');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('href');\r\n      if (value.slice(-3) == \"pdf\") {\r\n        PDF_LINKS.push(value);\r\n        PDF_LIST.push($(link).text());\r\n      }\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writePDF() {\r\n  for (j = 0; j &lt; PDF_LIST.length; j++) {\r\n    request(PDF_LINKS[j]).pipe(fs.createWriteStream(PDF_LIST[j]));\r\n  }\r\n}\r\n\r\nfillPDF(writePDF);</code>\r\n\r\n\r\nHi, This is code that used to work, I changed literally nothing, from about 5 minutes ago, the only thing I changed was duplicating it, and changing variable names. My question is how to fix this code? I know the error is that body is empty, but I dont know how to fix it, i would appeciate any help...\n", "simquery2_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery2_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "total_len": 558, "s1_total_len": 1115, "s2_total_len": 1038}
{"post_id": "11774265", "title": "How do you access the query string in Flask routes?", "query": "How do you access query parameters or the query string in Flask routes? It's not obvious from the Flask documentation.The example route <code>/data</code> below illustrates the context that I would like to access that data. If someone requests something like <code>example.com/data?abc=123</code>, I would like access to the string <code>?abc=123</code> or to be able to retrieve the value of parameters like <code>abc</code>.<code>@app.route(&quot;/data&quot;)def data():    # query_string = ???    return render_template(&quot;data.html&quot;)</code>", "acce_answer": "Let's say I have a few controllers.  Each controller can at some point create new objects which will need to be stored on the server.  For example I can have a RecipeCreationViewController which manages a form.  When this form is submitted, a new Recipe object is created and needs to be saved on the server.What's the best way to design the classes to minimize complexity and coupling while keeping the code as clean and readable as possible?SingletonNormally I would create a singleton NetworkAdapter that each controller can access directly in order to save objects.Example:<code>[[[NetworkAdapter] sharedAdapter] saveObject:myRecipe];\n</code>But I've realized that having classes call singletons on their own makes for coupled code which is hard to debug since the access to the singleton is hidden in the implementation and not obvious from the interface.Direct ReferenceThe alternative is to have each controller hold a reference to the NetworkAdapter and have this be passed in by the class that creates the controller.For example:<code>[self.networkAdapter saveObject:myRecipe];\n</code>DelegationThe other approach that came to mind is delegation.  The NetworkAdapter can implement a \"RemoteStorageDelegate\" protocol and each controller can have a remoteStorageDelegate which it can call methods like saveObject: on.  The advantage being that the controllers don't know about the details of a NetworkAdapter, only that the object that implements the protocol knows  how to save objects.For example:<code>[self.remoteStorageDelegate saveObject:myRecipe];\n</code>Direct in ModelYet another approach would be to have the model handle saving to the network directly.  I'm not sure if this is a good idea though.For example:<code>[myRecipe save];\n</code>What do you think of these?  Are there any other patterns that make more sense for this?\n", "acce_score": "619", "simquery1_title": "Django return redirect() with parameters In my view function I want to call another view and pass data to it :<code>return redirect('some-view-name', backend, form.cleaned_data)</code>, where backend is of registration.backends object, and form.cleaned_data is a dict of form data (but both must be either sent as *args or **kwargs to prevent raising <code>Don't mix *args and **kwargs in call to reverse()!</code> error). From what I've found in the docs :<code>def my_view(request):    ...    return redirect('some-view-name', foo='bar')</code>It looks like I need to provide 'some-view-name' argument, but is it just the name of the view function, or the name of the url ? So I would like to make it similar to the way it's done in django-registration, where :<code>to, args, kwargs = backend.post_registration_redirect(request, new_user)return redirect(to, *args, **kwargs)def post_registration_redirect(self, request, user):    return ('registration_complete', (), {})</code>Ok so now, can I call directly my view function or do I need to provide a url for it ? And what more important, how my funciotn call (and a url if needed) should look like ? Both backend, and cleaned_data are just passed through this view for a later usage. I've tried this, but it's improper :  <code>url(r'^link/$', some-view-name)   def some-view-name(request, *args):</code>As well as this :<code>return redirect('some_url', backend=backend, dataform.cleaned_data) url(r'^link/$', some-view-name)    def some-view-name(request, backend, data):</code>still NoReverseMatch . But in django-registration, I've seen something like this :<code>url(r'^register/$',register,{'backend': 'registration.backends.default.DefaultBackend'}, name='registration_register'),def register(request, backend, success_url=None, form_class=None,             disallowed_url='registration_disallowed',             template_name='user/login_logout_register/registration_form.html',             extra_context=None):</code>", "simquery1_answer": "So I have the following assembly language code which I need to convert into C. I am confused on a few lines of the code.I understand that this is a <code>for</code> loop. I have added my comments on each line.I think the <code>for</code> loop goes like this<code>for (int i = 1; i &gt; 0; i &lt;&lt; what?) {\n    //Calculate result\n}\n</code>What is the test condition? And how do I change it?Looking at the assembly code, what does the variable 'n' do?This is Intel x86 so the format is movl = source, dest<code>  movl 8(%ebp), %esi     //Get x\n  movl 12(%ebp), %ebx    //Get n\n  movl $-1, %edi         //This should be result\n  movl $1, %edx          //The i of the loop\n.L2:\n  movl %edx, %eax\n  andl %esi, %eax\n  xorl %eax, %edi        //result = result ^ (i &amp; x)\n  movl %ebx, %ecx        //Why do we do this? As we never use $%ebx or %ecx again\n  sall %cl, %edx         //Where did %cl come from?\n  testl %edx, %edx       //Tests if i != what? - condition of the for loop\n  jne .L2                //Loop again\n  movl %edi, %eax        //Otherwise return result.\n</code>\n", "simquery2_title": "Using Google OAuth2 with Flask Can anyone point me to a complete example for authenticating with Google accounts using OAuth2 and Flask, and not on App Engine?I am trying to have users give access to Google Calendar, and then use that access to retrieve information from the calendar and process it further. I also need to store and later refresh the OAuth2 tokens.I have looked at Google's oauth2client library and can get the dance started to retrieve the authorization code, but I'm a little lost from there. Looking at Google's OAuth 2.0 Playground I understand that I need to request the refresh token and access token, but the provided examples in the library are for App Engine and Django only.I have also tried using Flask's OAuth module that contains references to OAuth2, but I don't see any way to exchange the authorization code there either.I could probably hand code the requests, but would much prefer to use or adapt an existing python module that makes requests easy, properly handles possible responses and maybe even assists in storage of tokens.Is there such a thing?", "simquery2_answer": "I need to make a jar out of my Java project, and I need it to also contain the class files of one of the dependencies, but not all of them. I've used <code>maven-assembly-plugin</code> which includes all the files and creates a huge jar, but I only need<code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n    &lt;version&gt;1.10.45&lt;/version&gt;\n&lt;/dependency&gt;\n</code>I've also tried the maven shade plugin but with no result: I somehow end up including all the dependencies or excluding all of them<code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;artifactSet&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;org.apache.spark:*&lt;/exclude&gt;\n                        &lt;exclude&gt;com.google.code.gson:*&lt;/exclude&gt;\n                        &lt;exclude&gt;edu.stanford.nlp:*&lt;/exclude&gt;\n                        &lt;exclude&gt;log4j:*&lt;/exclude&gt;\n                        &lt;exclude&gt;com.optimaize.languagedetector:*&lt;/exclude&gt;\n                        &lt;exclude&gt;info.debatty:*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/artifactSet&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code>\n", "total_len": 584, "s1_total_len": 938, "s2_total_len": 845}
{"post_id": "11875770", "title": "How to overcome \"datetime.datetime not JSON serializable\"?", "query": "I have a basic dict as follows:<code>sample = {}sample['title'] = \"String\"sample['somedate'] = somedatetimehere</code>When I try to do <code>jsonify(sample)</code> I get:<code>TypeError: datetime.datetime(2012, 8, 8, 21, 46, 24, 862000) is not JSON serializable</code>What can I do such that my dictionary sample can overcome the error above?Note: Though it may not be relevant, the dictionaries are generated from the retrieval of records out of <code>mongodb</code> where when I print out <code>str(sample['somedate'])</code>, the output is <code>2012-08-08 21:46:24.862000</code>.", "acce_answer": "I've created a github repo for this specific post which can be found at https://github.com/CrazyInCode/WebApiNServiceBusWhat I'm trying to do is to write tests for my WebApi application. In my specs tests I'm...\nCreating a HttpClient to consume the WebApi\nCalling my WebApi via the HttpClient\nSerializing the result into a list\nAssuring that a call to NServiceBus has been made\nAll this can be found here.I'm also using StructureMap which I guess scans my ApiControllers. It appears that also NServiceBus scans my ApiControllers, cause when I try to run my tests I get the error:<code>Multiple types were found that match the controller named 'values'. This can happen if the route that services this request ('api/{controller}/{id}') found multiple controllers defined with the same name but differing namespaces, which is not supported. The request for 'values' has found the following matching controllers: WebApiNServiceBus.Proj.Controllers.ValuesController WebApiNServiceBus.Proj.Controllers.ValuesController\n</code>It's not simple to actually spot the error. I have to...\nPut an breakpoint at line 21 and 26 in Global.cs (Specs project)\nDebug the test and make sure the test stop at the first breakpoint\nBrowse <code>http://localhost:81/ValService/api/values/assets</code> which will just load...\nContinue the test and make sure the test stops at last breakpoint\nSee the results in the web browser\nIf I remove all lines which contain IBus, and perform the above steps - the test passes. Clearly NServiceBus has something to do with the test failing.As I previously stated, it appears that NServiceBus scans my assemblies for controllers. To prevent this, I have tried adding this line in Global.cs to specify what NServiceBus should scan - but without success.<code>Configure.With(Enumerable.Empty&lt;Assembly&gt;());\n</code>The main components in the solution is WebApi, NServiceBus, StructureMap, FakeItEasy and SpecFlow.I'm stuck. How can I make my test pass?Edit: Perhaps the solution is to make WebApi not register Controllers - just leave it up to NServiceBus? How can I try this?\n", "acce_score": "1303", "simquery1_title": "How to JSON serialize sets? I have a Python <code>set</code> that contains objects with <code>__hash__</code> and <code>__eq__</code> methods in order to make certain no duplicates are included in the collection.I need to json encode this result <code>set</code>, but passing even an empty <code>set</code> to the <code>json.dumps</code> method raises a <code>TypeError</code>.<code>  File \"/usr/lib/python2.7/json/encoder.py\", line 201, in encode    chunks = self.iterencode(o, _one_shot=True)  File \"/usr/lib/python2.7/json/encoder.py\", line 264, in iterencode    return _iterencode(o, 0)  File \"/usr/lib/python2.7/json/encoder.py\", line 178, in default    raise TypeError(repr(o) + \" is not JSON serializable\")TypeError: set([]) is not JSON serializable</code>I know I can create an extension to the <code>json.JSONEncoder</code> class that has a custom <code>default</code> method, but I'm not even sure where to begin in converting over the <code>set</code>.  Should I create a dictionary out of the <code>set</code> values within the default method, and then return the encoding on that?  Ideally, I'd like to make the default method able to handle all the datatypes that the original encoder chokes on (I'm using Mongo as a data source so dates seem to raise this error too)Any hint in the right direction would be appreciated.EDIT:Thanks for the answer!  Perhaps I should have been more precise.I utilized (and upvoted) the answers here to get around the limitations of the <code>set</code> being translated, but there are internal keys that are an issue as well.The objects in the <code>set</code> are complex objects that translate to <code>__dict__</code>, but they themselves can also contain values for their properties that could be ineligible for the basic types in the json encoder.There's a lot of different types coming into this <code>set</code>, and the hash basically calculates a unique id for the entity, but in the true spirit of NoSQL there's no telling exactly what the child object contains.One object might contain a date value for <code>starts</code>, whereas another may have some other schema that includes no keys containing \"non-primitive\" objects.That is why the only solution I could think of was to extend the <code>JSONEncoder</code> to replace the <code>default</code> method to turn on different cases - but I'm not sure how to go about this and the documentation is ambiguous.  In nested objects, does the value returned from <code>default</code> go by key, or is it just a generic include/discard that looks at the whole object?  How does that method accommodate nested values?  I've looked through previous questions and can't seem to find the best approach to case-specific encoding (which unfortunately seems like what I'm going to need to do here).", "simquery1_answer": "Unfortunately, that is not possible.Usually, what I do is to use <code>std::unique_ptr</code> (sometimes <code>std::shared_ptr</code>, when it is not possible to use <code>std::unique_ptr</code>) :<code>typedef std::unique_ptr&lt; D &gt; Dptr;\nDptr make_D()\n{\n    Dptr p( nulptr );    if(is_tuesday())\n        p.reset( new D1 );\n    else\n        p.reset( new D2 );    return p;\n}\n</code>\n", "simquery2_title": "Order of Serializer Validation in Django REST Framework SituationWhile working with validation in the Django REST Framework's <code>ModelSerializer</code>, I have noticed that the <code>Meta.model</code> fields are always validated, even when it does not necessarily make sense to do so. Take the following example for a <code>User</code> model's serialization:I have an endpoint that creates a user. As such, there is a <code>password</code> field and a <code>confirm_password</code> field. If the two fields do not match, the user cannot be created. Likewise, if the requested <code>username</code> already exists, the user cannot be created.The user POSTs improper values for each of the fields mentioned aboveAn implementation of <code>validate</code> has been made in the serializer (see below), catching the non-matching <code>password</code> and <code>confirm_password</code> fieldsImplementation of <code>validate</code>:<code>def validate(self, data):    if data['password'] != data.pop('confirm_password'):        raise serializers.ValidationError(\"Passwords do not match\")    return data</code>ProblemEven when the <code>ValidationError</code> is raised by <code>validate</code>, the <code>ModelSerializer</code> still queries the database to check to see if the <code>username</code> is already in use. This is evident in the error-list that gets returned from the endpoint; both the model and non-field errors are present.Consequently, I would like to know how to prevent model validation until after non-field validation has finished, saving me a call to my database.Attempt at solutionI have been trying to go through the DRF's source to figure out where this is happening, but I have been unsuccessful in locating what I need to override in order to get this to work.", "simquery2_answer": "I have a <code>div1</code> which animates background position on hover direction of mouse by jquery. But it's working properly. it's going not right direction and I want it to work on every single mouse hover on the <code>div</code>.Find jsfiddlecode:<code>$(function() {\n    $(\".mainCont\").hover(function(e) {\n            // $(this).addClass(\"hoverOnce\");\n        var edge = closestEdge(e.pageX, e.pageY, $(this).width(), $(this).height());\n    }, function(){\n           $(this).removeClass('top right bottom left');\n         // $(this).removeClass(\"hoverOnce\"); \n    });\n});function closestEdge(x,y,w,h) {\n        var topEdgeDist = distMetric(x,y,w/2,0);\n        var bottomEdgeDist = distMetric(x,y,w/2,h);\n        var leftEdgeDist = distMetric(x,y,0,h/2);\n        var rightEdgeDist = distMetric(x,y,w,h/2);\n        var min = Math.min(topEdgeDist,bottomEdgeDist,leftEdgeDist,rightEdgeDist);\n        switch (min) {\n            case leftEdgeDist:\n                $(\".hoverOnce\").addClass(\"left\");\n            case rightEdgeDist:\n                $(\".hoverOnce\").addClass(\"right\");\n            case topEdgeDist:\n                $(\".hoverOnce\").addClass(\"top\");\n            case bottomEdgeDist:\n                $(\".hoverOnce\").addClass(\"bottom\");\n        }\n}function distMetric(x,y,x2,y2) {\n    var xDiff = x - x2;\n    var yDiff = y - y2;\n    return (xDiff * xDiff) + (yDiff * yDiff);\n}\n</code>\n", "total_len": 755, "s1_total_len": 880, "s2_total_len": 853}
{"post_id": "11880430", "title": "How to write inline if statement for print?", "query": "I need to print some stuff only when a boolean variable is set to <code>True</code>. So, after looking at this, I tried with a simple example:<code>&gt;&gt;&gt; a = 100&gt;&gt;&gt; b = True&gt;&gt;&gt; print a if b  File \"&lt;stdin&gt;\", line 1    print a if b             ^SyntaxError: invalid syntax  </code>Same thing if I write <code>print a if b==True</code>.What am I missing here?", "acce_answer": "A pretty straightforward question, maybe - \nI often see a celery task process running on my system that I cannot find when I use <code>celery.task.control.inspect()</code>'s <code>active()</code> method. Often this process will be running for hours, and I worry that it's a zombie of some sort. Usually it's using up a lot of memory, too.Is there a way to look up a task by linux pid? Does celery or the AMPQ result backend save that?If not, any other way to figure out which particular task is the one that's sitting around eating up memory? ---- updated:What can I do when <code>active()</code> tells me that there are no tasks running on a particular box, but the box's memory is in full use, and htop is showing that these worker pool threads are the ones using it, but at the same time using 0% CPU? if it turns out this is related to some quirk of my current rackspace setup and nobody can answer, I'll still accept Loren's.Thanks~\n", "acce_score": "560", "simquery1_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery1_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "simquery2_title": "How can I print a single backslash? When I write <code>print('\\')</code> or <code>print(&quot;\\&quot;)</code> or <code>print(&quot;'\\'&quot;)</code>, Python doesn't print the backslash <code>\\</code> symbol. Instead it errors for the first two and prints <code>''</code> for the third. What should I do to print a backslash?This question is about producing a string that has a single backslash in it. This is particularly tricky because it cannot be done with raw strings. For the related question about why such a string is represented with two backslashes, see Why do backslashes appear twice?. For including literal backslashes in other strings, see using backslash in python (not to escape).", "simquery2_answer": "I have a table that looks similar to this here:<code>id  Continent       Country    State        Area                    Sub Area                   City77  North America   USA     California  California Desert                                           Ridgecrest\n78  North America   USA     California  California Desert                                           Thousand Palms\n79  North America   USA     California  California Desert                                           Yucca Valley\n80  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Agate Bay\n82  North America   USA     California  California Desert                                           Yucca Valley\n83  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Alpine Meadows\n185 North America   USA     California  Lake Tahoe Area                                             Twin Bridges\n188 North America   USA     California  Central Coast California    Santa Cruz County               Aptos\n189 North America   USA     California  Central Coast California    Santa Cruz County               Ben Lomond\n</code>I am trying to request data such way that if I search for \"California\"(State) then only the name of area (next column) and not sub area or cities. Same ways if searched for 'California Desert'(Area) sub Area should show.. (PS at some place I don't have sub areas so it should display sub area where ever applicable if one doesnt have it, move to next which is city)<code>if($result = $con-&gt;query(\"SELECT * FROM MasterData WHERE state LIKE '%\".$_POST['search'].\"%' OR city LIKE '%\".$_POST['search'].\"%'\")){\nif($count = $result-&gt;num_rows) {while($rows = $result-&gt;fetch_object()) {\necho $rows-&gt;city, '&lt;/br&gt;';\n    }\n$result-&gt;free();\n}\n</code>\n", "total_len": 387, "s1_total_len": 414, "s2_total_len": 630}
{"post_id": "12065885", "title": "Filter dataframe rows if value in column is in a set list of values", "query": "I have a Python pandas DataFrame <code>rpt</code>:<code>rpt&lt;class 'pandas.core.frame.DataFrame'&gt;MultiIndex: 47518 entries, ('000002', '20120331') to ('603366', '20091231')Data columns:STK_ID                    47518  non-null valuesSTK_Name                  47518  non-null valuesRPT_Date                  47518  non-null valuessales                     47518  non-null values</code>I can filter the rows whose stock id is <code>'600809'</code> like this: <code>rpt[rpt['STK_ID'] == '600809']</code><code>&lt;class 'pandas.core.frame.DataFrame'&gt;MultiIndex: 25 entries, ('600809', '20120331') to ('600809', '20060331')Data columns:STK_ID                    25  non-null valuesSTK_Name                  25  non-null valuesRPT_Date                  25  non-null valuessales                     25  non-null values</code>and I want to get all the rows of some stocks together, such as <code>['600809','600141','600329']</code>. That means I want a syntax like this: <code>stk_list = ['600809','600141','600329']rst = rpt[rpt['STK_ID'] in stk_list] # this does not works in pandas </code>Since pandas not accept above command, how to achieve the target? ", "acce_answer": "I have a background worker that calls a form, holding a gif animation.  The purpose is to display the animation while process is underway but it should close when the process is done.  But it does not close even after completion of the process.  Please help.\nThanks<code>Private Sub BackgroundWorker1_DoWork(ByVal sender As System.Object, ByVal e As System.ComponentModel.DoWorkEventArgs) Handles BackgroundWorker1.DoWork\n    frmAnimation.ShowDialog()\nEnd SubPrivate Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click\n    BackgroundWorker1.RunWorkerAsync()\n    Dim sqldatasourceenumerator1 As SqlDataSourceEnumerator = SqlDataSourceEnumerator.Instance\n    datatable1 = sqldatasourceenumerator1.GetDataSources()\n    DataGridView1.DataSource = datatable1    'I have tried CancelAsync, but did not work    BackgroundWorker1.CancelAsync()\n    frmAnimation.Dispose()\nEnd Sub\n</code>\n", "acce_score": "580", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "How to query MultiIndex index columns values in pandas Code example:<code>In [171]: A = np.array([1.1, 1.1, 3.3, 3.3, 5.5, 6.6])In [172]: B = np.array([111, 222, 222, 333, 333, 777])In [173]: C = randint(10, 99, 6)In [174]: df = pd.DataFrame(zip(A, B, C), columns=['A', 'B', 'C'])In [175]: df.set_index(['A', 'B'], inplace=True)In [176]: dfOut[176]:           CA   B      1.1 111  20    222  313.3 222  24    333  655.5 333  226.6 777  74 </code>Now, I want to retrieve A values:Q1: in range [3.3, 6.6] - expected return value: [3.3, 5.5, 6.6] or [3.3, 3.3, 5.5, 6.6] in case last inclusive, and [3.3, 5.5] or [3.3, 3.3, 5.5] if not.Q2: in range [2.0, 4.0] - expected return value: [3.3] or [3.3, 3.3]  Same for any other MultiIndex dimension, for example B values:Q3: in range [111, 500] with repetitions, as number of data rows in range - expected return value: [111, 222, 222, 333, 333]    More formal:Let us assume T is a table with columns A, B and C. The table includes n rows. Table cells are numbers, for example A double, B and C integers. Let's create a DataFrame of table T, let us name it DF. Let's set columns A and B indexes of DF (without duplication, i.e. no separate columns A and B as indexes, and separate as data), i.e. A and B in this case MultiIndex.  Questions:  How to write a query on the index, for example, to query the index A (or B), say in the labels interval [120.0, 540.0]? Labels 120.0 and 540.0 exist. I must clarify that I am interested only in the list of indices as a response to the query!How to the same, but in case of the labels 120.0 and 540.0 do not exist, but there are labels by value lower than 120, higher than 120 and less than 540, or higher than 540?In case the answer for Q1 and Q2 was unique index values, now the same, but with repetitions, as number of data rows in index range.I know the answers to the above questions in the case of columns which are not indexes, but in the indexes case, after a long research in the web and experimentation with the functionality of pandas, I did not succeed. The only method (without additional programming) I see now is to have a duplicate of A and B as data columns in addition to index.", "simquery2_answer": "Have only one view model and then have separate collections for each viewmodel. Have necessary collection items to bind to pivot items.View<code>&lt;phone:Pivot x:Name=\"TutoPivot\" \n        SelectionChanged=\"PivotSelectionChanged\"&gt;\n        &lt;!--Pivot item one--&gt;\n        &lt;phone:PivotItem Header=\"{Binding Collection1.Title}\"&gt;\n            &lt;!--Double line list with text wrapping--&gt;\n            &lt;phone:LongListSelector Margin=\"0,0,-12,0\"\n                SelectionChanged=\"LongListSelector_SelectionChanged\"\n                LayoutMode=\"Grid\"\n                GridCellSize=\"150,150\"\n                ItemsSource=\"{Binding Collection1.Items}\"\n                ItemTemplate=\"{StaticResource NewSoundTemplate}\"\n                                    /&gt;\n</code>ViewModel:<code>public class MainModel\n{\n    public ItemViewModel Collection1 { get; set; }\n    public void LoadData()\n    {\n        Collection1=CreateCollection();\n</code>Make the appropriate  data context.Tutorial: Data bound and pivot tutorial\n", "total_len": 712, "s1_total_len": 1245, "s2_total_len": 1076}
{"post_id": "12096252", "title": "Use a list of values to select rows from a Pandas dataframe", "query": "Let\u2019s say I have the following Pandas dataframe:<code>df = DataFrame({'A' : [5,6,3,4], 'B' : [1,2,3, 5]})df     A   B0    5   11    6   22    3   33    4   5</code>I can subset based on a specific value:<code>x = df[df['A'] == 3]x     A   B2    3   3</code>But how can I subset based on a list of values? - something like this:<code>list_of_values = [3,6]y = df[df['A'] in list_of_values]</code>To get:<code>     A    B1    6    22    3    3</code>", "acce_answer": "I'm learning how to write custom control and manage and raise events.\nI'have create a pointless custom control, a line you can add on main and decide size and color. I've made also an event to replace OnClick (I'm just learning) and I've called it MyClick. Here's the code<code>public class EditedLine : UserControl\n{\n    public delegate void LineClickEventHandler(object sender, EditedLineClickEventArgs e);    [Description(\"Occurs when control is clicked\")]\n    public event LineClickEventHandler MyClick;    private Color _color;\n    private float _size;    public EditedLine()\n    {\n        _color = Color.Black;\n        _size = 3;\n    }\n    public EditedLine(Color color, float size)\n    {\n        _color = color;\n        _size = size;\n    }    public Color LineColor\n    {\n        get { return _color; }\n        set { _color = value; }\n    }\n    public float LineSize\n    {\n        get { return _size; }\n        set { _size = value; }\n    }    protected override void OnPaint(PaintEventArgs e)\n    {\n        base.OnPaint(e);\n        e.Graphics.DrawLine(new Pen(_color, _size), new Point(0, 0), new Point(this.Size.Width, 0));\n    }\n    protected override void OnClick(EventArgs e)\n    {\n        base.OnClick(e);\n        OnLineClick(new EditedLineClickEventArgs());\n    }    protected virtual void OnLineClick(EditedLineClickEventArgs e)\n    {\n        if (MyClick != null)\n        {\n            MyClick(this, e);\n        }\n    }\n}\n</code>}luckly everythings is working. I can see my control in the control toolbox and I can add to my project, even the event is working.\nBut, if inside MyClick i try to change the color of the Line, nothing happens.\nI have to use this Proprieties intead of the ones before:<code>    public Color LineColor\n    {\n        get { return _color; }\n        set { _color = value; this.Refresh();  }\n    }\n    public float LineSize\n    {\n        get { return _size; }\n        set { _size = value; this.Refresh();  }\n    }\n</code>So I'm asking myself if there is a better way to refresh the control. If I'm redrawing a single line is easy to be done, but if it is a more complex control? I thought to do a 'Redraw' private method but I don't know how to access the 'Graphic' object of the EditedLine istance. Is 'INotifyPropertyChanged' useful? But the 'Graphic' still remains my biggest problem\n", "acce_score": "1275", "simquery1_title": "How to query MultiIndex index columns values in pandas Code example:<code>In [171]: A = np.array([1.1, 1.1, 3.3, 3.3, 5.5, 6.6])In [172]: B = np.array([111, 222, 222, 333, 333, 777])In [173]: C = randint(10, 99, 6)In [174]: df = pd.DataFrame(zip(A, B, C), columns=['A', 'B', 'C'])In [175]: df.set_index(['A', 'B'], inplace=True)In [176]: dfOut[176]:           CA   B      1.1 111  20    222  313.3 222  24    333  655.5 333  226.6 777  74 </code>Now, I want to retrieve A values:Q1: in range [3.3, 6.6] - expected return value: [3.3, 5.5, 6.6] or [3.3, 3.3, 5.5, 6.6] in case last inclusive, and [3.3, 5.5] or [3.3, 3.3, 5.5] if not.Q2: in range [2.0, 4.0] - expected return value: [3.3] or [3.3, 3.3]  Same for any other MultiIndex dimension, for example B values:Q3: in range [111, 500] with repetitions, as number of data rows in range - expected return value: [111, 222, 222, 333, 333]    More formal:Let us assume T is a table with columns A, B and C. The table includes n rows. Table cells are numbers, for example A double, B and C integers. Let's create a DataFrame of table T, let us name it DF. Let's set columns A and B indexes of DF (without duplication, i.e. no separate columns A and B as indexes, and separate as data), i.e. A and B in this case MultiIndex.  Questions:  How to write a query on the index, for example, to query the index A (or B), say in the labels interval [120.0, 540.0]? Labels 120.0 and 540.0 exist. I must clarify that I am interested only in the list of indices as a response to the query!How to the same, but in case of the labels 120.0 and 540.0 do not exist, but there are labels by value lower than 120, higher than 120 and less than 540, or higher than 540?In case the answer for Q1 and Q2 was unique index values, now the same, but with repetitions, as number of data rows in index range.I know the answers to the above questions in the case of columns which are not indexes, but in the indexes case, after a long research in the web and experimentation with the functionality of pandas, I did not succeed. The only method (without additional programming) I see now is to have a duplicate of A and B as data columns in addition to index.", "simquery1_answer": "Have only one view model and then have separate collections for each viewmodel. Have necessary collection items to bind to pivot items.View<code>&lt;phone:Pivot x:Name=\"TutoPivot\" \n        SelectionChanged=\"PivotSelectionChanged\"&gt;\n        &lt;!--Pivot item one--&gt;\n        &lt;phone:PivotItem Header=\"{Binding Collection1.Title}\"&gt;\n            &lt;!--Double line list with text wrapping--&gt;\n            &lt;phone:LongListSelector Margin=\"0,0,-12,0\"\n                SelectionChanged=\"LongListSelector_SelectionChanged\"\n                LayoutMode=\"Grid\"\n                GridCellSize=\"150,150\"\n                ItemsSource=\"{Binding Collection1.Items}\"\n                ItemTemplate=\"{StaticResource NewSoundTemplate}\"\n                                    /&gt;\n</code>ViewModel:<code>public class MainModel\n{\n    public ItemViewModel Collection1 { get; set; }\n    public void LoadData()\n    {\n        Collection1=CreateCollection();\n</code>Make the appropriate  data context.Tutorial: Data bound and pivot tutorial\n", "simquery2_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery2_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "total_len": 864, "s1_total_len": 1076, "s2_total_len": 1245}
{"post_id": "34819221", "title": "Why is python setup.py saying invalid command 'bdist_wheel' on Travis CI?", "query": "My Python package has a <code>setup.py</code> which builds fine locally on Ubuntu Trusty and on a fresh Vagrant Ubuntu Trusty VM when I provision it like this:<code>sudo apt-get install python python-dev --force-yes --assume-yes --fix-brokencurl --silent --show-error --retry 5 https://bootstrap.pypa.io/get-pip.py | sudo python2.7sudo -H pip install setuptools wheel virtualenv --upgrade</code>But when I do the same on a Travis CI Trusty Beta VM:<code>- sudo apt-get install python python-dev --force-yes --assume-yes --fix-broken- curl --silent --show-error --retry 5 https://bootstrap.pypa.io/get-pip.py | sudo python2.7- sudo -H pip install setuptools wheel virtualenv --upgrade</code>I get:<code>python2.7 setup.py bdist_wheelusage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]   or: setup.py --help [cmd1 cmd2 ...]   or: setup.py --help-commands   or: setup.py cmd --helperror: invalid command 'bdist_wheel'</code>This Why can I not create a wheel in python? is related but note I am installing wheel and upgrading setuptools.", "acce_answer": "<code>import os\nimport json\nimport xmltodict\nwith os.scandir('C:/ARP_project/') as entries:\n    for entry in entries:\n        name=(entry.name)\n        print(name)\n        base = os.path.splitext(name)[0]\n        jsname= \"C:/ARP_Json/\"+ base+\".json\" # created Variable for json file name\n        f= open(jsname,\"w+\")\n        with open(\"C:/ARP_project/\"+name, 'r') as f:\n            xmlString = f.read()\n        jsonString = json.dumps(xmltodict.parse(xmlString), indent=4) \n        with open(jsname, 'w') as f:\n            f.write(jsonString)  \n</code>\n", "acce_score": "878", "simquery1_title": "Why is python setup.py saying invalid command 'bdist_wheel' on Travis CI? My Python package has a <code>setup.py</code> which builds fine locally on Ubuntu Trusty and on a fresh Vagrant Ubuntu Trusty VM when I provision it like this:<code>sudo apt-get install python python-dev --force-yes --assume-yes --fix-brokencurl --silent --show-error --retry 5 https://bootstrap.pypa.io/get-pip.py | sudo python2.7sudo -H pip install setuptools wheel virtualenv --upgrade</code>But when I do the same on a Travis CI Trusty Beta VM:<code>- sudo apt-get install python python-dev --force-yes --assume-yes --fix-broken- curl --silent --show-error --retry 5 https://bootstrap.pypa.io/get-pip.py | sudo python2.7- sudo -H pip install setuptools wheel virtualenv --upgrade</code>I get:<code>python2.7 setup.py bdist_wheelusage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]   or: setup.py --help [cmd1 cmd2 ...]   or: setup.py --help-commands   or: setup.py cmd --helperror: invalid command 'bdist_wheel'</code>This Why can I not create a wheel in python? is related but note I am installing wheel and upgrading setuptools.", "simquery1_answer": "<code>import os\nimport json\nimport xmltodict\nwith os.scandir('C:/ARP_project/') as entries:\n    for entry in entries:\n        name=(entry.name)\n        print(name)\n        base = os.path.splitext(name)[0]\n        jsname= \"C:/ARP_Json/\"+ base+\".json\" # created Variable for json file name\n        f= open(jsname,\"w+\")\n        with open(\"C:/ARP_project/\"+name, 'r') as f:\n            xmlString = f.read()\n        jsonString = json.dumps(xmltodict.parse(xmlString), indent=4) \n        with open(jsname, 'w') as f:\n            f.write(jsonString)  \n</code>\n", "simquery2_title": "How to Install pip for python 3.7 on Ubuntu 18? I've installed Python 3.7 on my Ubuntu 18.04 machine. Following this instructions in case it's relevant:Download : Python 3.7 from Python Website [1] ,on Desktop and manuallyunzip it, on Desktop Installation : Open Terminal (ctrl +shift+T)<code>Go to the Extracted folder$ cd ~/Desktop/Python-3.7.0$ ./configure$ make$ sudo make install</code>Making Python 3.7 default Python :<code>$ sudo vim ~/.bashrcpress ion the last and new line - Typealias python= python3.7press Esctype - to save and exit vim:wqnow type$ source ~/.bashrc</code>From here: https://www.quora.com/How-can-I-upgrade-Python-3-6-to-3-7-in-Ubuntu-18-04I've downloaded several modules through <code>pip install module</code> but when I try to import them, I get a <code>ModuleNotFoundError: No module names 'xx'</code>So I did some research and apparently when used pip to install, it installed in the modules in previous version of Python.Somewhere (probably a question in SO) I found a suggestion to install the module using <code>python3.7 -m pip install module</code> but then I get <code>/usr/local/bin/python3.7: no module named pip</code>.Now I'm stuck, pip is installed, but apparently not for Python 3.7. I'm assuming that if I can install pip for Python 3.7, I can run the pip install command and get the modules I need.If that is the case, how can I install pip for python 3.7, since it's already installed?This is the best I have come up with:I have installed python 3.7 successfully and I can install modules using pip (or pip3) but those modules are installed in Python 3.6 (Comes with ubuntu). Therefore I can't import those modules in python 3.7 (get a module not found)Python 3.7 doesn't recognize pip/pip3, so I can't install through pip/pip3I need python 3.7", "simquery2_answer": "I want to return an object when I have a certain prop in the parameter of my function, and a <code>string</code> when not.\nI can't use functions overloads because it is used in a type that is shared with React components, in React.useCallback.\nI tried:\n<code>type FileType = {\n    name: string\n    content: string\n}// This is a type that I use in many part of my code. I would like the result of onSave to depend on the props it receive\ntype Props = {\n    onSave: &lt;T extends FileType | undefined&gt;(data: {\n        id: string\n        file: T\n    }) =&gt; T extends FileType ? FileType : string\n}const isFile = (o: unknown): o is FileType =&gt; {\n    return o !== undefined\n}\n// Here you can read the error\nconst insert: Props['onSave'] = prop =&gt; isFile(prop.file) ? prop.file : prop.id)// Here is how the function is written in my code. But React doesn't exist in this playground\n// const insert = React.useCallback&lt;Props['onSave']&gt;(prop =&gt; isFile(prop.file) ? prop.file : prop.id, [])</code>\nthe error:\n<code>Type 'string | (T &amp; FileType)' is not assignable to type 'T extends FileType ? FileType : string'.\n  Type 'string' is not assignable to type 'T extends FileType ? FileType : string'.\n</code>\nPlayground Link: Provided\n", "total_len": 551, "s1_total_len": 549, "s2_total_len": 910}
{"post_id": "45310254", "title": "Fixed digits after decimal with f-strings", "query": "Is there an easy way with Python f-strings to fix the number of digits after the decimal point? (Specifically f-strings, not other string formatting options like .format or %)For example, let's say I want to display 2 digits after the decimal place. How do I do that? Let's say that<code>a = 10.1234</code>", "acce_answer": "What you are doing in you code is you are assigning a <code>string</code> value to an existing method <code>print</code>. In <code>python</code> you can reassign any any value to anything, since <code>python</code> is one of the 'Dynamically typed languages'. So, <code>print</code> became a <code>string</code> variable. Now, what you are doing is calling <code>print</code> like a method with <code>()</code> , so <code>print</code> which is of type <code>str</code>, is not a method so you cannot call like that, that is why you are getting the error <code>'str' object is not callable</code>.Try the following:<code>diameter = float(input(\"Enter a diameter: \"))\nprint (diameter)\nradius = (diameter/2)\nprint(\"The radius is equal to : \", radius)\n</code>I hope it helps.\n", "acce_score": "856", "simquery1_title": "How to convert a string to a number if it has commas in it as thousands separators? I have a string that represents a number which uses commas to separate thousands.  How can I convert this to a number in python?<code>&gt;&gt;&gt; int(&quot;1,000,000&quot;)</code>Generates a <code>ValueError</code>.I could replace the commas with empty strings before I try to convert it, but that feels wrong somehow.  Is there a better way?For <code>float</code> values, see How can I convert a string with dot and comma into a float in Python, although the techniques are essentially the same.", "simquery1_answer": "I am currently developing an application for an angle measurement device (goniometer).\nA <code>DataGridView</code> component is used for configuring nominal values (and tolerances) for the measured angles. The user shall be able to enter the angles in various ways, such as 2\u00b0 (for degrees) or 120' (for minutes of arc) or 7200\" (for arcseconds). For this I created a parser which will convert a valid string to the angular value (a double, in degree) or fail if the string is not valid.As I understand the correct point of time to invoke the parser is during handling of the <code>CellParsing</code> event. But how do I correctly handle the case when parsing has failed?According to MSDN sample code I get the idea that I should leave the <code>ParsingApplied</code> property of the <code>DataGridViewCellParsingEventArgs</code> (which is passed to the <code>CellParsing</code> handler) set to <code>false</code>. If I do this (and leave the <code>Value</code> property unchanged) a <code>FormatException</code> is thrown by conversion attempts that are then done by the framework which raises the <code>DataError</code> event.\nInstead of a <code>FormatException</code> which contains a rather unspecific error message I would like to have an exception which contains information about the specific error which caused my parser implementation to fail so that I can show a specific error message in the <code>DataError</code> event. I assumed that I can throw a <code>FormatException</code> myself from within the <code>CellParsing</code> handler but this exception is not caught by the framework and thus does not result in raising the <code>DataError</code> event (in fact the outmost exception handler terminates the application).\n", "simquery2_title": "Python add leading zeroes using str.format Can you display an integer value with leading zeroes using the <code>str.format</code> function?Example input:<code>\"{0:some_format_specifying_width_3}\".format(1)\"{0:some_format_specifying_width_3}\".format(10)\"{0:some_format_specifying_width_3}\".format(100)</code>Desired output: <code>\"001\"\"010\"\"100\"</code>I know that both <code>zfill</code> and <code>%</code>-based formatting (e.g. <code>'%03d' % 5</code>) can accomplish this. However, I would like a solution that uses <code>str.format</code> in order to keep my code clean and consistent (I'm also formatting the string with datetime attributes) and also to expand my knowledge of the Format Specification Mini-Language.", "simquery2_answer": "If you want to display an image attached to a link, try this ...<code>echo $this-&gt;Html-&gt;link($this-&gt;Html-&gt;image(\"products.gif\"), array('controller'=&gt;'products', 'action' =&gt; 'productMoreDetails'));\n</code>\n", "total_len": 325, "s1_total_len": 579, "s2_total_len": 303}
{"post_id": "12309269", "title": "How do I write JSON data to a file?", "query": "How do I write JSON data stored in the dictionary <code>data</code> to a file?<code>f = open('data.json', 'wb')f.write(data)</code>This gives the error:TypeError: must be string or buffer, not dict", "acce_answer": "It's in the docs... and in the code. Basically besides one difference you've already seen (<code>List</code> implementation choice), they also use a different <code>Map</code> implementation. So:\n<code>ArrayListMultimap</code> uses <code>HashMap</code> for map and <code>ArrayList</code> cor collection, which means that iteration order of such methods as <code>entries()</code>, <code>asMap().keySet()</code> or <code>asMap.entrySet()</code> is undefined. It's plain and simple implementation of <code>ListMultimap</code> and you should start with this one.\n<code>LinkedListMultimap</code> uses <code>LinkedList</code> for collection and specialized data structure (custom linked list) to maintain iteration order of methods mentioned above:\n  Order is maintained using a linked list containing all key-value\n  pairs. In    addition, a series of disjoint linked lists of\n  \"siblings\", each containing    the values for a specific key, is used\n  to implement ValueForKeyIterator in constant time.\nAdditionally it uses few other structures to maintain \"linked list\"-like behavior:<code>private transient Node&lt;K, V&gt; head; // the head for all keys\nprivate transient Node&lt;K, V&gt; tail; // the tail for all keys\nprivate transient Multiset&lt;K&gt; keyCount; // the number of values for each key\nprivate transient Map&lt;K, Node&lt;K, V&gt;&gt; keyToKeyHead; // the head for a given key\nprivate transient Map&lt;K, Node&lt;K, V&gt;&gt; keyToKeyTail; // the tail for a given key\n</code>\nAlso, memory footprint is a implication of backing collections used in these <code>Multimap</code> implementations - see this comparision (may not be 100% up to date). Personally, when I need efficient, mutable <code>ListMultimap</code> with defined iteration order of keys, I use \"custom\" <code>ListMultimap</code> (created with <code>MultimapBuilder</code>, which is in Guava since v16.0):<code>ListMultimap&lt;String, Integer&gt; treeListMultimap = \n    MultimapBuilder.linkedHashKeys().arrayListValues().build();\n</code>Before v16.0 creating custom <code>Multimap</code>s was more verbose (using <code>Multimaps.newListMultimap</code>):<code>/**\n * Creates {@link ListMultimap} preserving insertion order of keys and values \n * (it's backed by {@link LinkedHashMap} and {@link ArrayList}).\n */\npublic static &lt;K, V&gt; ListMultimap&lt;K, V&gt; newLinkedArrayListMultimap() {\n  return Multimaps.newListMultimap(\n      Maps.&lt;K, Collection&lt;V&gt;&gt;newLinkedHashMap(),\n      new Supplier&lt;List&lt;V&gt;&gt;() {\n          @Override\n          public List&lt;V&gt; get() {\n            return Lists.newArrayList();\n          }\n      });\n}\n</code>\n", "acce_score": "1662", "simquery1_title": "Making object JSON serializable with regular encoder The regular way of JSON-serializing custom non-serializable objects is to subclass <code>json.JSONEncoder</code> and then pass a custom encoder to <code>json.dumps()</code>.It usually looks like this:<code>class CustomEncoder(json.JSONEncoder):    def default(self, obj):        if isinstance(obj, Foo):            return obj.to_json()        return json.JSONEncoder.default(self, obj)print(json.dumps(obj, cls=CustomEncoder))</code>What I'm trying to do, is to make something serializable with the default encoder. I looked around but couldn't find anything.My thought is that there would be some field in which the encoder looks at to determine the json encoding. Something similar to <code>__str__</code>. Perhaps a <code>__json__</code> field.Is there something like this in python?I want to make one class of a module I'm making to be JSON serializable to everyone that uses the package without them worrying about implementing their own [trivial] custom encoders.", "simquery1_answer": "I know this is an odd question but I have tried searching for this on the Internet everywhere but I just can't find an answer...So I have created a standard CRUD on a nested resource<code>Route::resource('clients', 'ManageClientsController');\nRoute::resource('clients.users', 'ManageClientUsersController');\n</code>All the CRUD activities is working as expected however there is some kind of glitch that I have found and I can't seem to solve it.Every time I saved an edit form (or update a record) in the ManageClientUsersController I then press the link that goes to the show() method from the index() method just to check if everything is updated and the result is as expected... however... when I press the back button on the browser (I am using Chrome) the back button takes me to the edit form page... where the expected is supposed to the index() method... weird.Not sure what is going on here. My guess is something todo with sessions?Many thanks\n", "simquery2_title": "Can I get JSON to load into an OrderedDict? Ok so I can use an OrderedDict in <code>json.dump</code>. That is, an OrderedDict can be used as an input to JSON.But can it be used as an output? If so how? In my case I'd like to <code>load</code> into an OrderedDict so I can keep the order of the keys in the file.If not, is there some kind of workaround?", "simquery2_answer": "I have the following simple piece of code which is intended to detect that a given IPv4 address indeed only has numeric values (that is after the dots have been stripped):<code>import edu.gcc.processing.exceptions.net.IPAddressNumericException;//Get the IP address\n  String address = \"239.255.255.255\";//Check to see if this is a number      \n  try {\n    String IPNumbers = address.replace(\".\", \"\");\n    Integer.parseInt(IPNumbers);            \n  } catch (NumberFormatException e) {\n    System.out.print(e.getMessage());\n  }\n</code>For some reason, the <code>NumberFormatException</code> is fired, and I get this error:<code>For input string: \"239255255255\"\n</code>Could someone please help me understand this? The <code>parseInt()</code> method works on smaller numbers, such as <code>127001</code>.Thank you for your time.\n", "total_len": 866, "s1_total_len": 486, "s2_total_len": 352}
{"post_id": "12330522", "title": "How to read a file without newlines?", "query": "In Python, calling e.g. <code>temp = open(filename,'r').readlines()</code> results in a list in which each element is a line from the file. However, these strings have a newline character at the end, which I don't want.How can I get the data without the newlines?", "acce_answer": "I use <code>\"%within[]%\" &lt;- function(x,y){x&gt;=y[1] &amp; x&lt;=y[2]}</code> (meaning <code>x</code> is in the compact set <code>y</code>) a lot in R code but I am pretty sure It is awfully slow. Do you have something quicker ? It needs to work for everything where <code>&gt;</code> is defined.EDIT: <code>x</code> could be a vector and <code>y</code> a 2 elments vector in ascending order...EDIT2: It is strange that nobody (to my knowledge) wrote a package <code>rOperator</code> implementing quick <code>C</code> operators like <code>%w/i[]%, %w/i[[%, ...</code>EDIT3: I realized that my question was too general as making assumption on <code>x,y</code> would modify any result, I think we should close it, thanks for your input.\n", "acce_score": "638", "simquery1_title": "python: read lines from compressed text files Is it possible to read a line from a gzip-compressed text file using Python without extracting the file completely? I have a <code>text.gz</code> file which is around 200 MB. When I extract it, it becomes 7.4 GB. And this is not the only file I have to read. For the total process, I have to read 10 files. Although this will be a sequential job, I think it will a smart thing to do it without extracting the whole information. How can this be done using Python? I need to read the text file line-by-line.", "simquery1_answer": "I have one question about echoing specific <code>$categ</code> from subpages on home page. For example, this pece of code:<code>&lt;?php foreach ($categories as $name =&gt; $value) { echo $categ[$name]; }  ?&gt; \n</code>echos all categories on subpage, for example on <code>../library_books/</code>echos:<code>category1 \"library books1\" -&gt; \"book1\" \"book2\" \"book3\",...\ncategory2 \"library books2\" -&gt; \"book1\" \"book2\" \"book3\",...\ncategory3 \"library books3\" -&gt; \"book1\" \"book2\" \"book3\",...\n</code>How can I echo for example category2 <code>library books2</code> with only 1 subcategory for example: <code>book2</code> on home page <code>domain.com</code>Thanks\n", "simquery2_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery2_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "total_len": 319, "s1_total_len": 372, "s2_total_len": 414}
{"post_id": "12444716", "title": "How do I set the figure title and axes labels font size?", "query": "I am creating a figure in Matplotlib like this:<code>from matplotlib import pyplot as pltfig = plt.figure()plt.plot(data)fig.suptitle('test title')plt.xlabel('xlabel')plt.ylabel('ylabel')fig.savefig('test.jpg')</code>I want to specify font sizes for the figure title and the axis labels. I need all three to be different font sizes, so setting a global font size (<code>mpl.rcParams['font.size']=x</code>) is not what I want. How do I set font sizes for the figure title and the axis labels individually?", "acce_answer": "You could use rplace instead of SubString<code>if (message.StartsWith(\"&lt;BID&gt;\"))\n{\n    MessageBox.Show(\"Bid received for zone \" + message.Replace(\"&lt;BID&gt;\",\"\"));\n}\n</code>\n", "acce_score": "868", "simquery1_title": "Parallel Coordinates plot in Matplotlib Two and three dimensional data can be viewed relatively straight-forwardly using traditional plot types.  Even with four dimensional data, we can often find a way to display the data.  Dimensions above four, though, become increasingly difficult to display.  Fortunately, parallel coordinates plots provide a mechanism for viewing results with higher dimensions.Several plotting packages provide parallel coordinates plots, such as Matlab, R, VTK type 1 and VTK type 2, but I don't see how to create one using Matplotlib.  Is there a built-in parallel coordinates plot in Matplotlib?  I certainly don't see one in the gallery.  If there is no built-in-type, is it possible to build a parallel coordinates plot using standard features of Matplotlib?Edit:Based on the answer provided by Zhenya below, I developed the following generalization that supports an arbitrary number of axes.  Following the plot style of the example I posted in the original question above, each axis gets its own scale.  I accomplished this by normalizing the data at each axis point and making the axes have a range of 0 to 1.  I then go back and apply labels to each tick-mark that give the correct value at that intercept.The function works by accepting an iterable of data sets.  Each data set is considered a set of points where each point lies on a different axis.  The example in <code>__main__</code> grabs random numbers for each axis in two sets of 30 lines.  The lines are random within ranges that cause clustering of lines; a behavior I wanted to verify.This solution isn't as good as a built-in solution since you have odd mouse behavior and I'm faking the data ranges through labels, but until Matplotlib adds a built-in solution, it's acceptable.<code>#!/usr/bin/pythonimport matplotlib.pyplot as pltimport matplotlib.ticker as tickerdef parallel_coordinates(data_sets, style=None):    dims = len(data_sets[0])    x    = range(dims)    fig, axes = plt.subplots(1, dims-1, sharey=False)    if style is None:        style = ['r-']*len(data_sets)    # Calculate the limits on the data    min_max_range = list()    for m in zip(*data_sets):        mn = min(m)        mx = max(m)        if mn == mx:            mn -= 0.5            mx = mn + 1.        r  = float(mx - mn)        min_max_range.append((mn, mx, r))    # Normalize the data sets    norm_data_sets = list()    for ds in data_sets:        nds = [(value - min_max_range[dimension][0]) /                 min_max_range[dimension][2]                 for dimension,value in enumerate(ds)]        norm_data_sets.append(nds)    data_sets = norm_data_sets    # Plot the datasets on all the subplots    for i, ax in enumerate(axes):        for dsi, d in enumerate(data_sets):            ax.plot(x, d, style[dsi])        ax.set_xlim([x[i], x[i+1]])    # Set the x axis ticks     for dimension, (axx,xx) in enumerate(zip(axes, x[:-1])):        axx.xaxis.set_major_locator(ticker.FixedLocator([xx]))        ticks = len(axx.get_yticklabels())        labels = list()        step = min_max_range[dimension][2] / (ticks - 1)        mn   = min_max_range[dimension][0]        for i in xrange(ticks):            v = mn + i*step            labels.append('%4.2f' % v)        axx.set_yticklabels(labels)    # Move the final axis' ticks to the right-hand side    axx = plt.twinx(axes[-1])    dimension += 1    axx.xaxis.set_major_locator(ticker.FixedLocator([x[-2], x[-1]]))    ticks = len(axx.get_yticklabels())    step = min_max_range[dimension][2] / (ticks - 1)    mn   = min_max_range[dimension][0]    labels = ['%4.2f' % (mn + i*step) for i in xrange(ticks)]    axx.set_yticklabels(labels)    # Stack the subplots     plt.subplots_adjust(wspace=0)    return pltif __name__ == '__main__':    import random    base  = [0,   0,  5,   5,  0]    scale = [1.5, 2., 1.0, 2., 2.]    data = [[base[x] + random.uniform(0., 1.)*scale[x]            for x in xrange(5)] for y in xrange(30)]    colors = ['r'] * 30    base  = [3,   6,  0,   1,  3]    scale = [1.5, 2., 2.5, 2., 2.]    data.extend([[base[x] + random.uniform(0., 1.)*scale[x]                 for x in xrange(5)] for y in xrange(30)])    colors.extend(['b'] * 30)    parallel_coordinates(data, style=colors).show()</code>Edit 2:Here is an example of what comes out of the above code when plotting Fisher's Iris data.  It isn't quite as nice as the reference image from Wikipedia, but it is passable if all you have is Matplotlib and you need multi-dimensional plots.", "simquery1_answer": "<code>/usr/bin/env: node: No such file or directory\n</code>This means <code>bosh</code> has been written to use an odd little idiom for shell scripts:<code>#!/usr/bin/env node\n</code>This runs the <code>env(1)</code> program, which will search its <code>PATH</code> for the <code>node</code> executable and execute it with a modified environment -- but, without environment modifications, it just runs <code>node</code>. It's a bit silly, but it is also the easiest way to write a script that doesn't hardcode the path to its interpreter.You don't have a <code>node</code> program executable on your system. Perhaps <code>node</code> isn't yet installed. (I have a vague memory that old versions were actually named <code>nodejs</code> -- but I cannot find documentation to support this memory.)To make sure <code>node</code> is installed, run:<code>apt-get update &amp;&amp; apt-get install -u nodejs\n</code>If the <code>nodejs</code> package is already installed, then perhaps the executable name is different. Run <code>dpkg -L nodejs | grep bin</code>, and look for the executable name in the output. If you don't see <code>/usr/bin/node</code>, I'll help walk you through setting up a symbolic link.\n", "simquery2_title": "Imshow: extent and aspect I'm writing a software system that visualizes slices and projections through a 3D dataset.  I'm using <code>matplotlib</code> and specifically <code>imshow</code> to visualize the image buffers I get back from my analysis code.Since I'd like to annotate the images with plot axes, I use the extent keyword that <code>imshow</code> supplies to map the image buffer pixel coordinates to a data space coordinate system.Unfortuantely, <code>matplotlib</code> doesn't know about units.  Say (taking an artificial example) that I want to plot an image with dimensions of <code>1000 m X 1 km</code>.  In that case the extent would be something like <code>[0, 1000, 0, 1]</code>.  Even though the image array is square, since the aspect ratio implied by the extent keyword is 1000, the resulting plot axes also have an aspect ratio of 1000. Is it possible to force the aspect ratio of the plot while still keeping the automatically generated major tick marks and labels I get by using the extent keyword?", "simquery2_answer": "I've tried some examples on here but am tearing my hair out.I do a query and it returns JSON, inside the JSON are lots of hashes, eg.<code>{ \"gjwiegjeigj\": { ....}, \"gjeeigjwoeigj\": {...} ... }</code>I want to loop through each of these, and deserialize the contents into an object.I've created the object, myObject which has all the fields, but I am stuck on deserialising.I can deserialise straight from the base object using <code>JsonConvert.DeserializeObject</code> but I can't do that, I need to loop through and do that to the children.I want an array of my custom objects with all the fields taken from the Json as a result of this, I don't care about the title of each one (the garbage hash).Any ideas? I know I can loop through, which gives me lots of JTokens but that's where I get stuck.\n", "total_len": 230, "s1_total_len": 1704, "s2_total_len": 492}
{"post_id": "12453580", "title": "How to concatenate (join) items in a list to a single string", "query": "How do I concatenate a list of strings into a single string?For example, given <code>['this', 'is', 'a', 'sentence']</code>, how do I get <code>&quot;this-is-a-sentence&quot;</code>?For handling a few strings in separate variables, see How do I append one string to another in Python?.For the opposite process - creating a list from a string - see How do I split a string into a list of characters? or How do I split a string into a list of words? as appropriate.", "acce_answer": "You can do it with the function I made below.<code>&lt;?php\n$page = '\n    &lt;body&gt;\n        &lt;div id=\"main\"&gt;\n            &lt;img src=\"...\" /&gt;\n            &lt;img src=\"...\" /&gt;\n            &lt;img src=\"...\" /&gt;\n            &lt;img src=\"...\" /&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n';echo $page = wrapImg ( $page, 0 );function wrapImg ( $page, $offset )\n{\n    if ( FALSE !== ( $startImg = strpos( $page, '&lt;img', $offset ) )\n      &amp;&amp; FALSE !== ( $endImg = strpos( $page, '/&gt;', $startImg ) )\n    ) {\n        $before = '&lt;div class=\"photo\"&gt;';\n        $after = '&lt;/div&gt;';        $start = substr( $page, 0, $startImg );\n        $img = substr( $page, $startImg, $endImg+2-$startImg );\n        $end = substr( $page, $endImg+2);        $page = $start . $before . $img . $after . $end;\n        $length = ($startImg + strlen( $before . $img . $after )-1);        $page = wrapImg ( $page, $length );\n    }    return $page;\n}\n?&gt;\n</code>The result will be :<code>    &lt;body&gt;\n        &lt;div id=\"main\"&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n</code>\n", "acce_score": "1104", "simquery1_title": "How to concatenate (join) items in a list to a single string How do I concatenate a list of strings into a single string?For example, given <code>['this', 'is', 'a', 'sentence']</code>, how do I get <code>&quot;this-is-a-sentence&quot;</code>?For handling a few strings in separate variables, see How do I append one string to another in Python?.For the opposite process - creating a list from a string - see How do I split a string into a list of characters? or How do I split a string into a list of words? as appropriate.", "simquery1_answer": "You can do it with the function I made below.<code>&lt;?php\n$page = '\n    &lt;body&gt;\n        &lt;div id=\"main\"&gt;\n            &lt;img src=\"...\" /&gt;\n            &lt;img src=\"...\" /&gt;\n            &lt;img src=\"...\" /&gt;\n            &lt;img src=\"...\" /&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n';echo $page = wrapImg ( $page, 0 );function wrapImg ( $page, $offset )\n{\n    if ( FALSE !== ( $startImg = strpos( $page, '&lt;img', $offset ) )\n      &amp;&amp; FALSE !== ( $endImg = strpos( $page, '/&gt;', $startImg ) )\n    ) {\n        $before = '&lt;div class=\"photo\"&gt;';\n        $after = '&lt;/div&gt;';        $start = substr( $page, 0, $startImg );\n        $img = substr( $page, $startImg, $endImg+2-$startImg );\n        $end = substr( $page, $endImg+2);        $page = $start . $before . $img . $after . $end;\n        $length = ($startImg + strlen( $before . $img . $after )-1);        $page = wrapImg ( $page, $length );\n    }    return $page;\n}\n?&gt;\n</code>The result will be :<code>    &lt;body&gt;\n        &lt;div id=\"main\"&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n            &lt;div class=\"photo\"&gt;&lt;img src=\"...\" /&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n</code>\n", "simquery2_title": "Replace all quotes in a string with escaped quotes? Given a string in python, such as:<code>s = 'This sentence has some \"quotes\" in it\\n'</code>I want to create a new copy of that string with any quotes escaped (for further use in Javascript). So, for example, what I want is to produce this:<code>'This sentence has some \\\"quotes\\\" in it\\n'</code>I tried using <code>replace()</code>, such as:<code>s.replace('\"', '\\\"')</code>but that returns the same string. So then I tried this:<code>s.replace('\"', '\\\\\"')</code>but that returns double-escaped quotes, such as:<code>'This sentence has some \\\\\"quotes\\\\\" in it.\\n'</code>How to replace <code>\"</code> with <code>\\\"</code>?UPDATE:I need as output from this copyable text that shows both the quotes and the newlines as escaped.  In other words, I want to be able to copy:<code>'This sentence has some \\\"quotes\\\" in it.\\n'</code>If I use the raw string and <code>print</code> the result I get the correctly escaped quote, but the escaped newline doesn't print. If I don't use <code>print</code> then I get my newlines but double-escaped quotes. How can I create a string I can copy that shows both newline and quote escaped?", "simquery2_answer": "Hi I want share text in LinkedIn through my app. My code is below here...This method when I click the btn linkedIn share..<code> - (void)linkedBtnEvent\n    {\n    if(oAuthLoginView != nil) {        oAuthLoginView.delegate = nil;\n        oAuthLoginView = nil;\n    }    oAuthLoginView = [[OAuthLoginView alloc] initWithNibName:nil bundle:nil];\n    oAuthLoginView.delegate=self;    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(loginViewDidFinish:)\n                                                 name:@\"loginViewDidFinish\"\n                                               object:self.oAuthLoginView];    [self presentViewController:self.oAuthLoginView animated:YES completion:nil];\n}\n</code>This are the method to handle share after login..<code>-(void) loginViewDidFinish:(NSNotification*)notification\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self];    [self profileApiCall];\n}- (void)profileApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(profileApiCallResult:didFinish:)\n                  didFailSelector:@selector(profileApiCallResult:didFail:)];    }- (void)profileApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    NSString *responseBody = [[NSString alloc] initWithData:data\n                                                   encoding:NSUTF8StringEncoding];    NSDictionary *profile = [responseBody objectFromJSONString];    if ( profile )\n    {\n        NSLog(@\"%@\", [[NSString alloc] initWithFormat:@\"%@ %@\",\n                      [profile objectForKey:@\"firstName\"], [profile objectForKey:@\"lastName\"]]);\n    }    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)profileApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)networkApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/network/updates?scope=self&amp;count=1&amp;type=STAT\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(networkApiCallResult:didFinish:)\n                  didFailSelector:@selector(networkApiCallResult:didFail:)];    }- (void)networkApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    if (isSharedLinked)\n    {\n        NSLog(@\"Shared Successfully\");\n        linkedBtn.enabled = NO;\n    }\n    else\n    {\n        isSharedLinked = YES;\n        [self performSelector:@selector(postTextLinkedIn) withObject:nil afterDelay:1];\n    }\n}- (void)networkApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)postTextLinkedIn\n{    \n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/shares\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            [[NSDictionary alloc] \n                             initWithObjectsAndKeys:\n                             @\"anyone\",@\"code\",nil], @\"visibility\", \n                            @\"Wow its working... Share the text in Linked In\", @\"comment\", nil];    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    NSString *updateString = [update JSONString];    [request setHTTPBodyWithString:updateString];\n    [request setHTTPMethod:@\"POST\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)\n                  didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    \n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}\n</code>It shows no error it always haow it share successfully in LinkedIn but no text share in that.. \nPlease help me to fix this issue... I cant figure what mistake I done..\n", "total_len": 684, "s1_total_len": 682, "s2_total_len": 1760}
{"post_id": "12608788", "title": "Changing the tick frequency on the x or y axis", "query": "I am trying to fix how python plots my data. Say:<code>x = [0, 5, 9, 10, 15]y = [0, 1, 2, 3, 4]matplotlib.pyplot.plot(x, y)matplotlib.pyplot.show()</code>The x axis' ticks are plotted in intervals of 5. Is there a way to make it show intervals of 1?", "acce_answer": "I am unable to retrieve values from different tables using inner join, The output always doesn't retrieve anything.. Also, there is no error message and I'm unable to determine what went wrong in my code.. Can someone please help? I would appreciate it very much. Here is a part of my code..<code>&lt;?php\n    $con=mysql_connect(\"localhost\",\"root\",\"\");\n    mysql_select_db(\"student_records\",$con);\n    if(isset($_COOKIE['username']))\n    {\n        if($_COOKIE['username']!='admin')\n        {\n            $tbl6=mysql_query(\"SELECT A.LName, A.FName, A.MName, B.YearLevel\n            FROM student as A INNER JOIN stud_course as B ON A.StudNo=B.StudNo INNER JOIN course as C ON B.CourseCode=C.CourseCode INNER JOIN religion as D ON A.ReligionID=D.ReligionID\n            WHERE A.StudNo = '\".mysql_real_escape_string($_COOKIE['username']).\"' \");\n            while($row=mysql_fetch_array($tbl6))\n            {\n                echo \"&lt;td&gt;\".$row['LName'].\"&lt;/td&gt;&lt;td&gt;\".$row['FName'].\"&lt;/td&gt;&lt;td&gt;\".$row['MName'].\"&lt;/td&gt;&lt;td&gt;\".$row['Course'].\"&lt;/td&gt;&lt;td&gt;\".$row['YearLevel'].\"&lt;/td&gt;&lt;td&gt;\".$row['EAdd'].\"&lt;/td&gt;&lt;td&gt;\".$row['ReligionName'].\"&lt;/td&gt;&lt;/tr&gt;\";            }\n        }\n    }\n    ?&gt;\n</code>\n", "acce_score": "741", "simquery1_title": "Changing the tick frequency on the x or y axis I am trying to fix how python plots my data. Say:<code>x = [0, 5, 9, 10, 15]y = [0, 1, 2, 3, 4]matplotlib.pyplot.plot(x, y)matplotlib.pyplot.show()</code>The x axis' ticks are plotted in intervals of 5. Is there a way to make it show intervals of 1?", "simquery1_answer": "I am unable to retrieve values from different tables using inner join, The output always doesn't retrieve anything.. Also, there is no error message and I'm unable to determine what went wrong in my code.. Can someone please help? I would appreciate it very much. Here is a part of my code..<code>&lt;?php\n    $con=mysql_connect(\"localhost\",\"root\",\"\");\n    mysql_select_db(\"student_records\",$con);\n    if(isset($_COOKIE['username']))\n    {\n        if($_COOKIE['username']!='admin')\n        {\n            $tbl6=mysql_query(\"SELECT A.LName, A.FName, A.MName, B.YearLevel\n            FROM student as A INNER JOIN stud_course as B ON A.StudNo=B.StudNo INNER JOIN course as C ON B.CourseCode=C.CourseCode INNER JOIN religion as D ON A.ReligionID=D.ReligionID\n            WHERE A.StudNo = '\".mysql_real_escape_string($_COOKIE['username']).\"' \");\n            while($row=mysql_fetch_array($tbl6))\n            {\n                echo \"&lt;td&gt;\".$row['LName'].\"&lt;/td&gt;&lt;td&gt;\".$row['FName'].\"&lt;/td&gt;&lt;td&gt;\".$row['MName'].\"&lt;/td&gt;&lt;td&gt;\".$row['Course'].\"&lt;/td&gt;&lt;td&gt;\".$row['YearLevel'].\"&lt;/td&gt;&lt;td&gt;\".$row['EAdd'].\"&lt;/td&gt;&lt;td&gt;\".$row['ReligionName'].\"&lt;/td&gt;&lt;/tr&gt;\";            }\n        }\n    }\n    ?&gt;\n</code>\n", "simquery2_title": "How can I make a blank subplot in matplotlib? I am making a group of subplot (say, 3 x 2) in matplotlib, but I have fewer than 6 datasets. How can I make the remaining subplot blank?The arrangement looks like this:<code>+----+----+| 0,0| 0,1|+----+----+| 1,0| 1,1|+----+----+| 2,0| 2,1|+----+----+</code>This may go on for several pages, but on the final page, there are, for example, 5 datasets to the 2,1 box will be empty. However, I have declared the figure as:<code>cfig,ax = plt.subplots(3,2)</code>So in the space for subplot 2,1 there is a default set of axes with ticks and labels. How can I programatically render that space blank and devoid of axes? ", "simquery2_answer": "I have an element positioned fixed at the top of the screen, with a z-index of 100. When I scroll up the page in Chrome (V. 21.0.1180.82 on OS X and V. 21.0.1180.83 m on Windows) I notice a rendering problem which looks like this:UPDATE:\nI noticed that the rendering problem appears every time when the fixed element passes a new <code>&lt;section&gt;...&lt;/section&gt;</code> during scrolling up. Chrome seems to have some issues related to HTML5 tags like <code>&lt;section&gt;...&lt;/section&gt;</code> or <code>&lt;nav&gt;...&lt;/nav&gt;</code>. Changing those to <code>&lt;div&gt;...&lt;/div&gt;</code> solves the rendering problem, anyway I would still like to continue using HTML5 tags.Does anybody know a \"hack\" to solve this problem?Until then I will try to create a reproducible code sample and file a bug to chromium.\n", "total_len": 571, "s1_total_len": 569, "s2_total_len": 468}
{"post_id": "12836128", "title": "Convert list to tuple in Python", "query": "I'm trying to convert a list to a tuple.Most solutions on Google offer the following code:<code>l = [4,5,6]tuple(l)</code>However, the code results in an error message when I run it:TypeError: 'tuple' object is not callableHow can I fix this problem?", "acce_answer": "I've found that at times you need to use the parent form in order to access child inputs. No idea why. In this case, give the form an id:<code>&lt;form id=\"hotmail\"&gt; \n    &lt;!-- Form stuff --&gt;\n&lt;/form&gt;\n</code>Since you have only one hidden input, you could use jQuery to access it like so:<code>var selectedValue = $(\"#dropdown option:selected\").val();\n$(\"#hotmail input[type=hidden]\").val(selectedValue);\n</code>\n", "acce_score": "675", "simquery1_title": "Understanding the map function The Python 2 documentation says:Built-in Functions: <code>map(function, iterable, ...)</code>Apply function to every item of iterable and return a list of theresults. If additional iterable arguments are passed, function musttake that many arguments and is applied to the items from alliterables in parallel.If one iterable is shorter than another it is assumed to be extendedwith None items.If function is <code>None</code>, the identity function is assumed; if there aremultiple arguments, <code>map()</code> returns a list consisting of tuplescontaining the corresponding items from all iterables (a kind oftranspose operation).The iterable arguments may be a sequence or any iterable object; theresult is always a list.What role does this play in making a Cartesian product?<code>content = map(tuple, array)</code>What effect does putting a tuple anywhere in there have? I also noticed that without the map function the output is <code>abc</code> and with it, it's <code>a, b, c</code>.I want to fully understand this function. The reference definitions is also hard to understand. Too much fancy fluff.", "simquery1_answer": "I'm trying to get the field values \u200b\u200busing as JSON query variables, but with variable nothing works.\nI try this:<code>var a='ptmedia';var c='2.90';var v='ver';var n='name';\n$.getJSON('http://example.com?callback=?',function(d){\n    var q=d.app.a.v;\n    if(c&lt;q){alert('Some text'+d.n+'some text');}\n});\n</code>but i did something wrong...\n", "simquery2_title": "Parse a tuple from a string? Say I have a string that's of the same form a tuple should be, for example, <code>\"(1,2,3,4,5)\"</code>. What's the easiest way to convert that into an actual tuple? An example of what I want to do is:<code>tup_string = \"(1,2,3,4,5)\"tup = make_tuple(tup_string)</code>Just running <code>tuple()</code> on the string make the whole thing one big tuple, whereas what I'd like to do is comprehend the string as a tuple. I know I can use a regex for this, but I was hoping there's a less costly way. Ideas?", "simquery2_answer": "You have to use GetKeyboardLayoutList function.For example, to output in console all keyboard input languages you can use this code:<code>UINT uLayouts;\nHKL  *lpList = NULL;\nwchar_t szBuf[512];uLayouts = GetKeyboardLayoutList(0, NULL);\nlpList   = (HKL*)LocalAlloc(LPTR, (uLayouts * sizeof(HKL)));\nuLayouts = GetKeyboardLayoutList(uLayouts, lpList);for(int i = 0; i &lt; uLayouts; ++i)\n{\n    GetLocaleInfo(MAKELCID(((UINT)lpList[i] &amp; 0xffffffff), \n    SORT_DEFAULT), LOCALE_SLANGUAGE, szBuf, 512);\n    wprintf(L\"%s\\n\", szBuf);\n    memset(szBuf, 0, 512);\n}if(lpList)\n    LocalFree(lpList);\n</code>\n", "total_len": 215, "s1_total_len": 398, "s2_total_len": 422}
{"post_id": "12943819", "title": "How to prettyprint a JSON file?", "query": "How do I pretty-print a JSON file in Python?", "acce_answer": "I have multiple projects with common in-house JavaScript library dependencies. I want to share these dependencies across multiple projects.Unfortunately we are using TFS. I'd like something like svn:externals, whereby I can link a particular folder to a different folder elsewhere in the source control tree. So I want to have<code>ProjectA\n  app\n  js\n    lib [should link to SharedProject/lib]ProjectB\n  app\n  js\n    lib [should link to SharedProject/lib]SharedProject\n  lib\n    library1.js\n    library2.js\n</code>I don't want to link across workspaces...I don't want a crazy custom per-developer setup. I just want developers to check out one project, and it knows \"Oh, there are shared resources in this other project. I'll get those too.\" I don't care about it always getting a specific version; I'm just tired of copying files across projects.Is this remotely possible in TFS? I have Googled and found nothing conclusive.\n", "acce_score": "1844", "simquery1_title": "Making object JSON serializable with regular encoder The regular way of JSON-serializing custom non-serializable objects is to subclass <code>json.JSONEncoder</code> and then pass a custom encoder to <code>json.dumps()</code>.It usually looks like this:<code>class CustomEncoder(json.JSONEncoder):    def default(self, obj):        if isinstance(obj, Foo):            return obj.to_json()        return json.JSONEncoder.default(self, obj)print(json.dumps(obj, cls=CustomEncoder))</code>What I'm trying to do, is to make something serializable with the default encoder. I looked around but couldn't find anything.My thought is that there would be some field in which the encoder looks at to determine the json encoding. Something similar to <code>__str__</code>. Perhaps a <code>__json__</code> field.Is there something like this in python?I want to make one class of a module I'm making to be JSON serializable to everyone that uses the package without them worrying about implementing their own [trivial] custom encoders.", "simquery1_answer": "I know this is an odd question but I have tried searching for this on the Internet everywhere but I just can't find an answer...So I have created a standard CRUD on a nested resource<code>Route::resource('clients', 'ManageClientsController');\nRoute::resource('clients.users', 'ManageClientUsersController');\n</code>All the CRUD activities is working as expected however there is some kind of glitch that I have found and I can't seem to solve it.Every time I saved an edit form (or update a record) in the ManageClientUsersController I then press the link that goes to the show() method from the index() method just to check if everything is updated and the result is as expected... however... when I press the back button on the browser (I am using Chrome) the back button takes me to the edit form page... where the expected is supposed to the index() method... weird.Not sure what is going on here. My guess is something todo with sessions?Many thanks\n", "simquery2_title": "Can I get JSON to load into an OrderedDict? Ok so I can use an OrderedDict in <code>json.dump</code>. That is, an OrderedDict can be used as an input to JSON.But can it be used as an output? If so how? In my case I'd like to <code>load</code> into an OrderedDict so I can keep the order of the keys in the file.If not, is there some kind of workaround?", "simquery2_answer": "I have the following simple piece of code which is intended to detect that a given IPv4 address indeed only has numeric values (that is after the dots have been stripped):<code>import edu.gcc.processing.exceptions.net.IPAddressNumericException;//Get the IP address\n  String address = \"239.255.255.255\";//Check to see if this is a number      \n  try {\n    String IPNumbers = address.replace(\".\", \"\");\n    Integer.parseInt(IPNumbers);            \n  } catch (NumberFormatException e) {\n    System.out.print(e.getMessage());\n  }\n</code>For some reason, the <code>NumberFormatException</code> is fired, and I get this error:<code>For input string: \"239255255255\"\n</code>Could someone please help me understand this? The <code>parseInt()</code> method works on smaller numbers, such as <code>127001</code>.Thank you for your time.\n", "total_len": 261, "s1_total_len": 486, "s2_total_len": 352}
{"post_id": "13035764", "title": "Remove pandas rows with duplicate indices", "query": "How to remove rows with duplicate index values?In the weather DataFrame below, sometimes a scientist goes back and corrects observations -- not by editing the erroneous rows, but by appending a duplicate row to the end of a file.I'm reading some automated weather data from the web (observations occur every 5 minutes, and compiled into monthly files for each weather station.) After parsing a file, the DataFrame looks like:<code>                      Sta  Precip1hr  Precip5min  Temp  DewPnt  WindSpd  WindDir  AtmPressDate                                                                                      2001-01-01 00:00:00  KPDX          0           0     4       3        0        0     30.312001-01-01 00:05:00  KPDX          0           0     4       3        0        0     30.302001-01-01 00:10:00  KPDX          0           0     4       3        4       80     30.302001-01-01 00:15:00  KPDX          0           0     3       2        5       90     30.302001-01-01 00:20:00  KPDX          0           0     3       2       10      110     30.28</code>Example of a duplicate case:<code>import pandas as pdimport datetimestartdate = datetime.datetime(2001, 1, 1, 0, 0)enddate = datetime.datetime(2001, 1, 1, 5, 0)index = pd.date_range(start=startdate, end=enddate, freq='H')data1 = {'A' : range(6), 'B' : range(6)}data2 = {'A' : [20, -30, 40], 'B' : [-50, 60, -70]}df1 = pd.DataFrame(data=data1, index=index)df2 = pd.DataFrame(data=data2, index=index[:3])df3 = df2.append(df1)df3                       A   B2001-01-01 00:00:00   20 -502001-01-01 01:00:00  -30  602001-01-01 02:00:00   40 -702001-01-01 03:00:00    3   32001-01-01 04:00:00    4   42001-01-01 05:00:00    5   52001-01-01 00:00:00    0   02001-01-01 01:00:00    1   12001-01-01 02:00:00    2   2</code>And so I need <code>df3</code> to eventually become:<code>                       A   B2001-01-01 00:00:00    0   02001-01-01 01:00:00    1   12001-01-01 02:00:00    2   22001-01-01 03:00:00    3   32001-01-01 04:00:00    4   42001-01-01 05:00:00    5   5</code>I thought that adding a column of row numbers (<code>df3['rownum'] = range(df3.shape[0])</code>) would help me select the bottom-most row for any value of the <code>DatetimeIndex</code>, but I am stuck on figuring out the <code>group_by</code> or <code>pivot</code> (or ???) statements to make that work.", "acce_answer": "You should use <code>td</code> inside <code>tr</code> to contain actual value. Then target the last <code>tr</code> inside <code>tbody</code> and use <code>after()</code> like the following:\r\n\r\n<code>var newRow = '&lt;tr&gt;&lt;td&gt;abc&lt;/td&gt;&lt;/tr&gt;';\r\n $('#itemTable tbody tr:last').after(newRow); </code>\r\n<code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table id='itemTable'&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;&lt;td&gt;zxcv&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n    &lt;tfoot&gt;\r\n        &lt;tr&gt;&lt;td&gt;asdfghjk&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;/tfoot&gt;\r\n&lt;/table&gt;</code>\r\n\r\n\r", "acce_score": "440", "simquery1_title": "Get column by number in Pandas What's the difference between:<code>Maand['P_Sanyo_Gesloten']Out[119]: Time2012-08-01 00:00:11    02012-08-01 00:05:10    02012-08-01 00:10:11    02012-08-01 00:20:10    02012-08-01 00:25:10    02012-08-01 00:30:09    02012-08-01 00:40:10    02012-08-01 00:50:09    02012-08-01 01:05:10    02012-08-01 01:10:10    02012-08-01 01:15:10    02012-08-01 01:25:10    02012-08-01 01:30:10    02012-08-01 01:35:09    02012-08-01 01:40:10    0...2012-08-30 22:35:09    02012-08-30 22:45:10    02012-08-30 22:50:09    02012-08-30 22:55:10    02012-08-30 23:00:09    02012-08-30 23:05:10    02012-08-30 23:10:09    02012-08-30 23:15:10    02012-08-30 23:20:09    02012-08-30 23:25:10    02012-08-30 23:35:09    02012-08-30 23:40:10    02012-08-30 23:45:09    02012-08-30 23:50:10    02012-08-30 23:55:11    0Name: P_Sanyo_Gesloten, Length: 7413, dtype: int64</code>And<code>Maand[[1]]Out[120]: &amp;ltclass 'pandas.core.frame.DataFrame'&amp;gtDatetimeIndex: 7413 entries, 2012-08-01 00:00:11 to 2012-08-30 23:55:11Data columns (total 1 columns):P_Sanyo_Gesloten    7413  non-null valuesdtypes: int64(1)</code>How can I get column by its index number? And not by an index string?", "simquery1_answer": "A C++ declaration (in the simplest case) consists of two parts:\na declaration specifier, and a declarator.  Everything up to\neither what is being declared or the first \"operator\" (e.g. <code>*</code>\nor <code>&amp;</code>) is part of the declaration specifier, where order\ndoesn't matter.  So you're free to write things like:<code>int const unsigned static i;\n</code>(if you don't care what your co-worker think of your code).C has deprecated putting the storage class specifier (<code>static</code>,\n<code>extern</code>, etc.) anywhere but in the first position, and this was\na generally accepted convention since the earliest days of C.\nFor the rest: \nI've always seen the modifier precede the basic type (e.g.\n<code>unsigned int</code>), when the basic type appears.  Most of the\nplaces I've worked will use simply <code>unsigned</code>, rather than\n<code>unsigned int</code>.\nI've also always seen the <code>signed</code>/<code>unsigned</code> precede any\nlength modifiers: <code>unsigned long</code>, rather than <code>long unsigned</code>.\nThe position of <code>const</code> or <code>volatile</code> tends to vary.  Most of\nthe more experienced programmers I know put it at the very end\nof the declaration specifier, but this is a somewhat recent\ndevelopment, and a lot of people continue to use the older\nconvention, and put it immediately after the storage class\nspecifier.\nFor all but the storage class specifiers, this is fairly\narbitrary; about the only other rule I'd say is universal is to\nnot split up the actual type information, as I did in my\nexample.\n", "simquery2_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery2_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "total_len": 1327, "s1_total_len": 1269, "s2_total_len": 1245}
{"post_id": "13081532", "title": "Return JSON response from Flask view", "query": "I have a function that analyzes a CSV file with Pandas and produces a dict with summary information. I want to return the results as a response from a Flask view. How do I return a JSON response?<code>@app.route(\"/summary\")def summary():    d = make_summary()    # send it back as json</code>", "acce_answer": "You can <code>cd</code> to <code>YOUR_ENV/lib/pythonxx/site-packages/</code> and have a look, but is there any convenient ways? <code>pip freeze</code> list all the packages installed including the system environment's. \n", "acce_score": "665", "simquery1_title": "How to redirect with messages to display them in Django Templates? I have a view that validates and saves a form. After the form is saved, I'd like redirect back to a list_object view with a success message &quot;form for customer xyz was successfully updated...&quot;HttpResponseRedirect doesn't seem like it would work, because it only has an argument for the url, no way to pass dictionary with it.I've tried modifying my wrapper for object_list to take a dict as a parameter that has the necessary context.  I the return a call to this wrapper from inside the view that saves the form.  However, when the page is rendered, the url is '/customer_form/' rather than '/list_customers/'.  I tried modifying the request object, before passing it to the object_list wrapper, but that did not work.Thanks.", "simquery1_answer": "Assuming you are splitting on <code>--</code> and you want a two dimensional array, try the following.<code>foreach ($the_array as $key =&gt; $value) {\n    // split key into new indexes\n    $indexes = explode('--', $key);    if (count($indexes) == 2) {\n        // create new dimension and set value\n        $the_array[$indexes[0]][$indexes[1]] = $value;        // remove old index\n        unset($the_array[$key]);\n    }\n}\n</code>Note: This converts on the original array and ensures the key contains <code>--</code>\n", "simquery2_title": "Catching a 500 server error in Flask I love Flask's error catching.  It's beautifully simple:<code>@app.errorhandler(404)def pageNotFound(error):    return \"page not found\"</code>works like charm.  But it doesn't work for the 500 error code.  I want to catch Python errors when something goes wrong an exception is raised in the code.  Is that possible?I should note that if I explicitly call <code>return abort(500)</code> in a view then the 500 errorhandler does work.  So this is explicitly for when the Python code fails.Is this possible?", "simquery2_answer": "See the documentation:<code>String getUidEntry(String mobile)\n{\n    Cursor c = db.query(\"TEST\", new String[] { \"UID\" },\n                        \"MOBILE = ?\", new String[] { mobile },\n                        null, null, null);\n    if (c.moveToFirst())\n        return c.getString(0);\n    else\n        return \"\"; // not found\n}\n</code>\n", "total_len": 152, "s1_total_len": 346, "s2_total_len": 258}
{"post_id": "13295735", "title": "How to replace NaN values by Zeroes in a column of a Pandas Dataframe?", "query": "I have a Pandas Dataframe as below:<code>      itm Date                  Amount 67    420 2012-09-30 00:00:00   6521168    421 2012-09-09 00:00:00   2942469    421 2012-09-16 00:00:00   2987770    421 2012-09-23 00:00:00   3099071    421 2012-09-30 00:00:00   6130372    485 2012-09-09 00:00:00   7178173    485 2012-09-16 00:00:00     NaN74    485 2012-09-23 00:00:00   1107275    485 2012-09-30 00:00:00  11370276    489 2012-09-09 00:00:00   6473177    489 2012-09-16 00:00:00     NaN</code>When I try to apply a function to the Amount column, I get the following error:<code>ValueError: cannot convert float NaN to integer</code>I have tried applying a function using .isnan from the Math ModuleI have tried the pandas .replace attributeI tried the .sparse data attribute from pandas 0.9I have also tried if NaN == NaN statement in a function.I have also looked at this article How do I replace NA values with zeros in an R dataframe? whilst looking at some other articles.All the methods I have tried have not worked or do not recognise NaN.Any Hints or solutions would be appreciated.", "acce_answer": "Fixed it by using:<code>*{\n    font-family:        Arial, Helvetica, sans-serif;\n    font-size:          12px;\n    font-weight:        normal;\n}\n</code>So by adding font-weight at the \"root\" of the CSS sheet.\nThanks all for the possibilities!\n", "acce_score": "624", "simquery1_title": "Get column by number in Pandas What's the difference between:<code>Maand['P_Sanyo_Gesloten']Out[119]: Time2012-08-01 00:00:11    02012-08-01 00:05:10    02012-08-01 00:10:11    02012-08-01 00:20:10    02012-08-01 00:25:10    02012-08-01 00:30:09    02012-08-01 00:40:10    02012-08-01 00:50:09    02012-08-01 01:05:10    02012-08-01 01:10:10    02012-08-01 01:15:10    02012-08-01 01:25:10    02012-08-01 01:30:10    02012-08-01 01:35:09    02012-08-01 01:40:10    0...2012-08-30 22:35:09    02012-08-30 22:45:10    02012-08-30 22:50:09    02012-08-30 22:55:10    02012-08-30 23:00:09    02012-08-30 23:05:10    02012-08-30 23:10:09    02012-08-30 23:15:10    02012-08-30 23:20:09    02012-08-30 23:25:10    02012-08-30 23:35:09    02012-08-30 23:40:10    02012-08-30 23:45:09    02012-08-30 23:50:10    02012-08-30 23:55:11    0Name: P_Sanyo_Gesloten, Length: 7413, dtype: int64</code>And<code>Maand[[1]]Out[120]: &amp;ltclass 'pandas.core.frame.DataFrame'&amp;gtDatetimeIndex: 7413 entries, 2012-08-01 00:00:11 to 2012-08-30 23:55:11Data columns (total 1 columns):P_Sanyo_Gesloten    7413  non-null valuesdtypes: int64(1)</code>How can I get column by its index number? And not by an index string?", "simquery1_answer": "A C++ declaration (in the simplest case) consists of two parts:\na declaration specifier, and a declarator.  Everything up to\neither what is being declared or the first \"operator\" (e.g. <code>*</code>\nor <code>&amp;</code>) is part of the declaration specifier, where order\ndoesn't matter.  So you're free to write things like:<code>int const unsigned static i;\n</code>(if you don't care what your co-worker think of your code).C has deprecated putting the storage class specifier (<code>static</code>,\n<code>extern</code>, etc.) anywhere but in the first position, and this was\na generally accepted convention since the earliest days of C.\nFor the rest: \nI've always seen the modifier precede the basic type (e.g.\n<code>unsigned int</code>), when the basic type appears.  Most of the\nplaces I've worked will use simply <code>unsigned</code>, rather than\n<code>unsigned int</code>.\nI've also always seen the <code>signed</code>/<code>unsigned</code> precede any\nlength modifiers: <code>unsigned long</code>, rather than <code>long unsigned</code>.\nThe position of <code>const</code> or <code>volatile</code> tends to vary.  Most of\nthe more experienced programmers I know put it at the very end\nof the declaration specifier, but this is a somewhat recent\ndevelopment, and a lot of people continue to use the older\nconvention, and put it immediately after the storage class\nspecifier.\nFor all but the storage class specifiers, this is fairly\narbitrary; about the only other rule I'd say is universal is to\nnot split up the actual type information, as I did in my\nexample.\n", "simquery2_title": "Combine Date and Time columns using pandas I have a pandas dataframe with the following columns:<code>data = {'Date': ['01-06-2013', '02-06-2013', '02-06-2013', '02-06-2013', '02-06-2013', '03-06-2013', '03-06-2013', '03-06-2013', '03-06-2013', '04-06-2013'],        'Time': ['23:00:00', '01:00:00', '21:00:00', '22:00:00', '23:00:00', '01:00:00', '21:00:00', '22:00:00', '23:00:00', '01:00:00']}df = pd.DataFrame(data)         Date      Time0  01-06-2013  23:00:001  02-06-2013  01:00:002  02-06-2013  21:00:003  02-06-2013  22:00:004  02-06-2013  23:00:005  03-06-2013  01:00:006  03-06-2013  21:00:007  03-06-2013  22:00:008  03-06-2013  23:00:009  04-06-2013  01:00:00</code>How do I combine data['Date'] &amp; data['Time']  to get the following? Is there a way of doing it using <code>pd.to_datetime</code>?<code>Date01-06-2013 23:00:0002-06-2013 01:00:0002-06-2013 21:00:0002-06-2013 22:00:0002-06-2013 23:00:0003-06-2013 01:00:0003-06-2013 21:00:0003-06-2013 22:00:0003-06-2013 23:00:0004-06-2013 01:00:00</code>", "simquery2_answer": "Probably the most sophisticated JavaScript refactoring library for Emacs is Magnar Sveen's <code>js2-refactor</code>. Its list of supported refactorings includes\n  <code>rv</code> is <code>rename-var</code>: Renames the variable on point and all occurrences in its lexical scope.\nwhich sounds a lot like what you're looking for. It also supports a number of other very useful common rafactoring actions.Assuming you're on Emacs 24, I recommend installing it using the MELPA repository. If you're still on Emacs 23 you'll have to upgrade or manually install <code>package.el</code> before you can MELPA.\n", "total_len": 608, "s1_total_len": 1269, "s2_total_len": 882}
{"post_id": "13413590", "title": "How to drop rows of Pandas DataFrame whose value in a certain column is NaN", "query": "I have this <code>DataFrame</code> and want only the records whose <code>EPS</code> column is not <code>NaN</code>:<code>&gt;&gt;&gt; df                 STK_ID  EPS  cashSTK_ID RPT_Date                   601166 20111231  601166  NaN   NaN600036 20111231  600036  NaN    12600016 20111231  600016  4.3   NaN601009 20111231  601009  NaN   NaN601939 20111231  601939  2.5   NaN000001 20111231  000001  NaN   NaN</code>...i.e. something like <code>df.drop(....)</code> to get this resulting dataframe:<code>                  STK_ID  EPS  cashSTK_ID RPT_Date                   600016 20111231  600016  4.3   NaN601939 20111231  601939  2.5   NaN</code>How do I do that?", "acce_answer": "I have created a registration program which insert username password into mysql database. I am now trying to check the username exixts or not. I wrote the following program. its not working. it showing \"mysql_num_rows() expects parameter 1 to be resource.\"\nI really need your expert suggestionregistration.php<code>&lt;?php \nrequire 'jcon.php';\nif(isset($_POST[\"username\"], $_POST[\"firstname\"],$_POST[\"password\"])){\n    $username=$_POST[\"username\"];\n    $firstname=$_POST[\"firstname\"];\n    $password=$_POST[\"password\"];\n}\n$query = mysql_query(\"SELECT * FROM member WHERE username='$username'\");\nif(mysql_num_rows($query) != 0)\n{\necho \"Username already exists\";\n}\nelse{\n$sql=\"INSERT INTO member (username, firstname, password)\nVALUES ('$username', '$firstname','$password')\";}\nif(!mysqli_query($con,$sql)){\n    die('Error: ' . mysqli_error($con));\n}\necho \"Dear {$firstname} ! you have been successfully registered. \"\n?&gt;\n</code>\n", "acce_score": "1387", "simquery1_title": "Get column by number in Pandas What's the difference between:<code>Maand['P_Sanyo_Gesloten']Out[119]: Time2012-08-01 00:00:11    02012-08-01 00:05:10    02012-08-01 00:10:11    02012-08-01 00:20:10    02012-08-01 00:25:10    02012-08-01 00:30:09    02012-08-01 00:40:10    02012-08-01 00:50:09    02012-08-01 01:05:10    02012-08-01 01:10:10    02012-08-01 01:15:10    02012-08-01 01:25:10    02012-08-01 01:30:10    02012-08-01 01:35:09    02012-08-01 01:40:10    0...2012-08-30 22:35:09    02012-08-30 22:45:10    02012-08-30 22:50:09    02012-08-30 22:55:10    02012-08-30 23:00:09    02012-08-30 23:05:10    02012-08-30 23:10:09    02012-08-30 23:15:10    02012-08-30 23:20:09    02012-08-30 23:25:10    02012-08-30 23:35:09    02012-08-30 23:40:10    02012-08-30 23:45:09    02012-08-30 23:50:10    02012-08-30 23:55:11    0Name: P_Sanyo_Gesloten, Length: 7413, dtype: int64</code>And<code>Maand[[1]]Out[120]: &amp;ltclass 'pandas.core.frame.DataFrame'&amp;gtDatetimeIndex: 7413 entries, 2012-08-01 00:00:11 to 2012-08-30 23:55:11Data columns (total 1 columns):P_Sanyo_Gesloten    7413  non-null valuesdtypes: int64(1)</code>How can I get column by its index number? And not by an index string?", "simquery1_answer": "A C++ declaration (in the simplest case) consists of two parts:\na declaration specifier, and a declarator.  Everything up to\neither what is being declared or the first \"operator\" (e.g. <code>*</code>\nor <code>&amp;</code>) is part of the declaration specifier, where order\ndoesn't matter.  So you're free to write things like:<code>int const unsigned static i;\n</code>(if you don't care what your co-worker think of your code).C has deprecated putting the storage class specifier (<code>static</code>,\n<code>extern</code>, etc.) anywhere but in the first position, and this was\na generally accepted convention since the earliest days of C.\nFor the rest: \nI've always seen the modifier precede the basic type (e.g.\n<code>unsigned int</code>), when the basic type appears.  Most of the\nplaces I've worked will use simply <code>unsigned</code>, rather than\n<code>unsigned int</code>.\nI've also always seen the <code>signed</code>/<code>unsigned</code> precede any\nlength modifiers: <code>unsigned long</code>, rather than <code>long unsigned</code>.\nThe position of <code>const</code> or <code>volatile</code> tends to vary.  Most of\nthe more experienced programmers I know put it at the very end\nof the declaration specifier, but this is a somewhat recent\ndevelopment, and a lot of people continue to use the older\nconvention, and put it immediately after the storage class\nspecifier.\nFor all but the storage class specifiers, this is fairly\narbitrary; about the only other rule I'd say is universal is to\nnot split up the actual type information, as I did in my\nexample.\n", "simquery2_title": "python pandas replacing strings in dataframe with numbers Is there any way to use the mapping function or something better to replace values in an entire dataframe?I only know how to perform the mapping on series.I would like to replace the strings in the 'tesst' and 'set' column with a numberfor example set = 1, test =2Here is a example of my dataset: (Original dataset is very large)<code>ds_r  respondent  brand engine  country  aware  aware_2  aware_3  age tesst   set0          a  volvo      p      swe      1        0        1   23   set   set1          b  volvo   None      swe      0        0        1   45   set   set2          c    bmw      p       us      0        0        1   56  test  test3          d    bmw      p       us      0        1        1   43  test  test4          e    bmw      d  germany      1        0        1   34   set   set5          f   audi      d  germany      1        0        1   59   set   set6          g  volvo      d      swe      1        0        0   65  test   set7          h   audi      d      swe      1        0        0   78  test   set8          i  volvo      d       us      1        1        1   32   set   set</code>Final result should be<code> ds_r  respondent  brand engine  country  aware  aware_2  aware_3  age  tesst  set0          a  volvo      p      swe      1        0        1   23      1    11          b  volvo   None      swe      0        0        1   45      1    12          c    bmw      p       us      0        0        1   56      2    23          d    bmw      p       us      0        1        1   43      2    24          e    bmw      d  germany      1        0        1   34      1    15          f   audi      d  germany      1        0        1   59      1    16          g  volvo      d      swe      1        0        0   65      2    17          h   audi      d      swe      1        0        0   78      2    18          i  volvo      d       us      1        1        1   32      1    1</code>", "simquery2_answer": "On the assumption that you're going to call <code>get</code> at least once, the first option would be preferable.The second option has the disadvantage that you may need to split many times, which can take quite a performance toll if you're calling <code>get</code> a lot.The third option has the disadvantage that you'll likely need to have either 2 variables (a string and an array), only one of which will be used at a time, or have the type be an <code>Object</code>, which would then be either a string or an array. Neither of these options are particularly good design.If you're often not calling <code>get</code> at least once, or if you need access to the original string, the third option might make sense (at least from a performance point of view, the first option is still a better design), but I'd be fairly concerned about your design if this is the case.\n", "total_len": 638, "s1_total_len": 1269, "s2_total_len": 793}
{"post_id": "13628791", "title": "Determine whether integer is between two other integers", "query": "How do I determine whether a given integer is between two other integers (e.g. greater than/equal to <code>10000</code> and less than/equal to <code>30000</code>)?", "acce_answer": "<code>&lt;%\n    MyObject mo = ((MyControllerSession) session.getAttribute(\"cpSession\")).myMethod();\n%&gt;\n</code>\n", "acce_score": "625", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "How are strings compared? I'm wondering how Python does string comparison, more specifically how it determines the outcome when a less than <code>&lt;</code> or greater than <code>&gt;</code> operator is used.For instance if I put <code>print('abc' &lt; 'bac')</code> I get <code>True</code>. I understand that it compares corresponding characters in the string, however its unclear as to why there is more, for lack of a better term, &quot;weight&quot; placed on the fact that <code>a</code> is less than<code>b</code> (first position) in first string rather than the fact that <code>a</code> is less than <code>b</code> in the second string (second position).Many people ask this question when the strings contain representations of numbers, and want to compare the numbers by numeric value. The straightforward solution is to convert the values first. See How do I parse a string to a float or int? . If there are multiple numbers in a list or other collection, see How can I collect the results of a repeated calculation in a list, dictionary etc. (or make a copy of a list with each element modified)? for batch conversion.If you are trying to compare strings that contain digit sequences, treating the digits as if they were numeric (sometimes called &quot;natural sort&quot;), see Is there a built in function for string natural sort? .", "simquery2_answer": "Others have already answered with the cause of the problem - the space between <code>= ~</code>, which should have been <code>=~</code> without the space.A valuable lesson is to always add <code>use strict</code> to your scripts; if you'd done so, you would have received a warning like:<code>Use of uninitialized value $_ in substitution (s///) at (eval 11) line 4.\n</code>That would have helped you to figure out that the substitution operator was being used on <code>$_</code> rather than on <code>$data_dir</code> - because instead of the binding operator <code>=~</code> binding it to <code>$data_dir</code>, you had <code>= ~</code>.So, lesson to learn: always <code>use strict</code> - it'll help catch things like this, where you could have a single character wrong, and save you a lot of time.Incidentally, when working with file paths and desiring portability between platforms, using File::Spec is often a good idea.\n", "total_len": 107, "s1_total_len": 337, "s2_total_len": 566}
{"post_id": "13784192", "title": "Creating an empty Pandas DataFrame, and then filling it", "query": "I'm starting from the pandas DataFrame documentation here: Introduction to data structuresI'd like to iteratively fill the DataFrame with values in a time series kind of calculation. I'd like to initialize the DataFrame with columns A, B, and timestamp rows, all 0 or all NaN.I'd then add initial values and go over this data calculating the new row from the row before, say <code>row[A][t] = row[A][t-1]+1</code> or so.I'm currently using the code as below, but I feel it's kind of ugly and there must be a  way to do this with a DataFrame directly or just a better way in general.Note: I'm using Python 2.7.<code>import pandas as pdimport datetime as dtimport scipy as sbase = dt.datetime.today().date()dates = [ base - dt.timedelta(days=x) for x in range(9, -1, -1) ]valdict = {}symbols = ['A','B', 'C']for symb in symbols:    valdict[symb] = pd.Series( s.zeros(len(dates)), dates )for thedate in dates:    if thedate &gt; dates[0]:        for symb in valdict:            valdict[symb][thedate] = 1 + valdict[symb][thedate - dt.timedelta(days=1)]</code>", "acce_answer": "How would I get the ID of every descendant of an element in .svg.I tried:<code>var test = $(svgDoc).find('#main').each(function() {console.log(this.id)});\n</code>But this only printed main.EDIT: svgDoc has the element with id = main and I want all the descendents of main, not of svgDoc.\n", "acce_score": "827", "simquery1_title": "\"Large data\" workflows using pandas I have tried to puzzle out an answer to this question for many months while learning pandas.  I use SAS for my day-to-day work and it is great for it's out-of-core support.  However, SAS is horrible as a piece of software for numerous other reasons.One day I hope to replace my use of SAS with python and pandas, but I currently lack an out-of-core workflow for large datasets.  I'm not talking about \"big data\" that requires a distributed network, but rather files too large to fit in memory but small enough to fit on a hard-drive.My first thought is to use <code>HDFStore</code> to hold large datasets on disk and pull only the pieces I need into dataframes for analysis.  Others have mentioned MongoDB as an easier to use alternative.  My question is this:What are some best-practice workflows for accomplishing the following:Loading flat files into a permanent, on-disk database structureQuerying that database to retrieve data to feed into a pandas data structureUpdating the database after manipulating pieces in pandasReal-world examples would be much appreciated, especially from anyone who uses pandas on \"large data\".Edit -- an example of how I would like this to work:Iteratively import a large flat-file and store it in a permanent, on-disk database structure.  These files are typically too large to fit in memory.In order to use Pandas, I would like to read subsets of this data (usually just a few columns at a time) that can fit in memory.I would create new columns by performing various operations on the selected columns.I would then have to append these new columns into the database structure.I am trying to find a best-practice way of performing these steps. Reading links about pandas and pytables it seems that appending a new column could be a problem.Edit -- Responding to Jeff's questions specifically:I am building consumer credit risk models. The kinds of data include phone, SSN and address characteristics; property values; derogatory information like criminal records, bankruptcies, etc... The datasets I use every day have nearly 1,000 to 2,000 fields on average of mixed data types: continuous, nominal and ordinal variables of both numeric and character data.  I rarely append rows, but I do perform many operations that create new columns.Typical operations involve combining several columns using conditional logic into a new, compound column. For example, <code>if var1 &gt; 2 then newvar = 'A' elif var2 = 4 then newvar = 'B'</code>.  The result of these operations is a new column for every record in my dataset.Finally, I would like to append these new columns into the on-disk data structure.  I would repeat step 2, exploring the data with crosstabs and descriptive statistics trying to find interesting, intuitive relationships to model.A typical project file is usually about 1GB.  Files are organized into such a manner where a row consists of a record of consumer data.  Each row has the same number of columns for every record.  This will always be the case.It's pretty rare that I would subset by rows when creating a new column.  However, it's pretty common for me to subset on rows when creating reports or generating descriptive statistics.  For example, I might want to create a simple frequency for a specific line of business, say Retail credit cards.  To do this, I would select only those records where the line of business = retail in addition to whichever columns I want to report on.  When creating new columns, however, I would pull all rows of data and only the columns I need for the operations.The modeling process requires that I analyze every column, look for interesting relationships with some outcome variable, and create new compound columns that describe those relationships.  The columns that I explore are usually done in small sets.  For example, I will focus on a set of say 20 columns just dealing with property values and observe how they relate to defaulting on a loan.  Once those are explored and new columns are created, I then move on to another group of columns, say college education, and repeat the process.  What I'm doing is creating candidate variables that explain the relationship between my data and some outcome.  At the very end of this process, I apply some learning techniques that create an equation out of those compound columns.It is rare that I would ever add rows to the dataset.  I will nearly always be creating new columns (variables or features in statistics/machine learning parlance).", "simquery1_answer": "Use HTTP POST, and post content as Form-based File Upload (mime type: multipart/form-data). This system is standard on web for sending forms and/or uploading files.Use HTTP chunked post mode, so that size doesn't need to be known beforehand, and you can stream any file in small parts. You still have to make some code on server (e.g. in PHP) to accept the file and do what is needed.Use HttpURLConnection to initiate connection. Then use my attached class to send the data. It will create proper headers, etc, and you'll use it as OutputStream to write your raw data to it, then call close, and you're done. You can overrite its onHandleResult to handle resulting error code.<code>public class FormDataWriter extends FilterOutputStream{\n   private final HttpURLConnection con;   /**\n    * @param formName name of form in which data are sent\n    * @param fileName\n    * @param fileSize   size of file, or -1 to use chunked encoding\n    */\n   FormDataWriter(HttpURLConnection con, String formName, String fileName, long fileSize) throws IOException{\n      super(null);\n      this.con = con;\n      con.setDoOutput(true);      String boundary = generateBoundary();\n      con.setRequestProperty(HTTP.CONTENT_TYPE, \"multipart/form-data; charset=UTF-8; boundary=\"+boundary);\n      {\n         StringBuilder sb = new StringBuilder();\n         writePartHeader(boundary, formName, fileName==null ? null : \"filename=\\\"\"+fileName+\"\\\"\",\n               \"application/octet-stream\", sb);\n         headerBytes = sb.toString().getBytes(\"UTF-8\");         sb = new StringBuilder();\n         sb.append(\"\\r\\n\");\n         sb.append(\"--\"+boundary+\"--\\r\\n\");\n         footerBytes = sb.toString().getBytes();\n      }\n      if(fileSize!=-1) {\n         fileSize += headerBytes.length + footerBytes.length;\n         con.setFixedLengthStreamingMode((int)fileSize);\n      }else\n         con.setChunkedStreamingMode(0x4000);\n      out = con.getOutputStream();\n   }   private byte[] headerBytes, footerBytes;   private String generateBoundary() {\n      StringBuilder sb = new StringBuilder();\n      Random rand = new Random();\n      int count = rand.nextInt(11) + 30;\n      int N = 10+26+26;\n      for(int i=0; i&lt;count; i++) {\n         int r = rand.nextInt(N);\n         sb.append((char)(r&lt;10 ? '0'+r : r&lt;36 ? 'a'+r-10 : 'A'+r-36));\n      }\n      return sb.toString();\n   }   private void writePartHeader(String boundary, String name, String extraContentDispositions, String contentType, StringBuilder sb) {\n      sb.append(\"--\"+boundary+\"\\r\\n\");\n      sb.append(\"Content-Disposition: form-data; charset=UTF-8; name=\\\"\"+name+\"\\\"\");\n      if(extraContentDispositions!=null)\n         sb.append(\"; \").append(extraContentDispositions);\n      sb.append(\"\\r\\n\");\n      if(contentType!=null)\n         sb.append(\"Content-Type: \"+contentType+\"\\r\\n\");\n      sb.append(\"\\r\\n\");\n   }   @Override\n   public void write(byte[] buffer, int offset, int length) throws IOException{\n      if(headerBytes!=null) {\n         out.write(headerBytes);\n         headerBytes = null;\n      }\n      out.write(buffer, offset, length);\n   }   @Override\n   public void close() throws IOException{\n      flush();\n      if(footerBytes!=null) {\n         out.write(footerBytes);\n         footerBytes = null;\n      }\n      super.close();\n      int code = con.getResponseCode();\n      onHandleResult(code);\n   }\n   protected void onHandleResult(int code) throws IOException{\n      if(code!=200 &amp;&amp; code!=201)\n         throw new IOException(\"Upload error code: \"+code);\n   }\n}\n</code>\n", "simquery2_title": "In Python, when should I use a function instead of a method? The Zen of Python states that there should only be one way to do things- yet frequently I run into the problem of deciding when to use a function versus when to use a method.Let's take a trivial example- a ChessBoard object. Let's say we need some way to get all the legal King moves available on the board. Do we write ChessBoard.get_king_moves() or get_king_moves(chess_board)?Here are some related questions I looked at:Why does python use &#39;magic methods&#39;?Is there a reason Python strings don&#39;t have a string length method?The answers I got were largely inconclusive:  Why does Python use methods for some functionality (e.g. list.index()) but functions for other (e.g. len(list))?    The major reason is history. Functions were used for those operations that were generic for a group of types and which were  intended to work even for objects that didn\u2019t have methods at all  (e.g. tuples). It is also convenient to have a function that can  readily be applied to an amorphous collection of objects when you use  the functional features of Python (map(), apply() et al).    In fact, implementing len(), max(), min() as a built-in function is actually less code than implementing them as methods for each type.  One can quibble about individual cases but it\u2019s a part of Python, and  it\u2019s too late to make such fundamental changes now. The functions have  to remain to avoid massive code breakage.While interesting, the above doesn't really say much as to what strategy to adopt.  This is one of the reasons - with custom methods, developers would be  free to choose a different method name, like getLength(), length(),  getlength() or whatsoever. Python enforces strict naming so that the  common function len() can be used.Slightly more interesting. My take is that functions are in a sense, the Pythonic version of interfaces.Lastly, from Guido himself:      Talking about the Abilities/Interfaces made me think about some of our    \"rogue\" special method names.  In the Language Reference, it says, \"A    class can implement certain operations that are invoked by special    syntax (such as arithmetic operations or subscripting and slicing) by    defining methods with special names.\"  But there are all these methods    with special names like <code>__len__</code> or <code>__unicode__</code> which seem to be    provided for the benefit of built-in functions, rather than for    support of syntax.  Presumably in an interface-based Python, these    methods would turn into regularly-named methods on an ABC, so that    <code>__len__</code> would become<code>class container:  ...  def len(self):    raise NotImplemented</code>        Though, thinking about it some more, I don't see why all syntactic    operations wouldn't just invoke the appropriate normally-named method    on a specific ABC.  \"<code>&lt;</code>\", for instance, would presumably invoke    \"<code>object.lessthan</code>\" (or perhaps \"<code>comparable.lessthan</code>\").  So another    benefit would be the ability to wean Python away from this    mangled-name oddness, which seems to me an HCI improvement.      Hm. I'm not sure I agree (figure that :-).    There are two bits of \"Python rationale\" that I'd like to explain  first.    First of all, I chose len(x) over x.len() for HCI reasons (<code>def  __len__()</code> came much later). There are two intertwined reasons actually, both HCI:    (a) For some operations, prefix notation just reads better than  postfix -- prefix (and infix!) operations have a long tradition in  mathematics which likes notations where the visuals help the  mathematician thinking about a problem. Compare the easy with which we  rewrite a formula like <code>x*(a+b)</code> into <code>x*a + x*b</code> to the clumsiness of  doing the same thing using a raw OO notation.    (b) When I read code that says <code>len(x)</code> I know that it is asking for  the length of something. This tells me two things: the result is an  integer, and the argument is some kind of container. To the contrary,  when I read <code>x.len()</code>, I have to already know that <code>x</code> is some kind of  container implementing an interface or inheriting from a class that  has a standard <code>len()</code>. Witness the confusion we occasionally have when  a class that is not implementing a mapping has a <code>get()</code> or <code>keys()</code>  method, or something that isn't a file has a <code>write()</code> method.    Saying the same thing in another way, I see 'len' as a built-in  operation. I'd hate to lose that. I can't say for sure whether you meant that or not, but 'def len(self): ...' certainly sounds like you  want to demote it to an ordinary method. I'm strongly -1 on that.    The second bit of Python rationale I promised to explain is the reason  why I chose special methods to look <code>__special__</code> and not merely  <code>special</code>. I was anticipating lots of operations that classes might want  to override, some standard (e.g. <code>__add__</code> or <code>__getitem__</code>), some not so  standard (e.g. pickle's <code>__reduce__</code> for a long time had no support in C  code at all). I didn't want these special operations to use ordinary  method names, because then pre-existing classes, or classes written by  users without an encyclopedic memory for all the special methods,  would be liable to accidentally define operations they didn't mean to  implement, with possibly disastrous consequences. Ivan Krsti\u0107  explained this more concise in his message, which arrived after I'd  written all this up.    --   --Guido van Rossum (home page: http://www.python.org/~guido/)My understanding of this is that in certain cases, prefix notation just makes more sense (ie, Duck.quack makes more sense than quack(Duck) from a linguistic standpoint.) and again, the functions allow for \"interfaces\".In such a case, my guess would be to implement get_king_moves based solely on Guido's first point. But that still leaves a lot of open questions regarding say, implementing a stack and queue class with similar push and pop methods- should they be functions or methods? (here I would guess functions, because I really want to signal a push-pop interface)TLDR: Can someone explain what the strategy for deciding when to use functions vs. methods should be?", "simquery2_answer": "on first look..<code>int head_win ()\n    {\n    int heads=0;\n    heads++;\n    return heads;\n    }\n    int tails_win ()\n    {\n    int tails=0;\n    tails++;\n    return tails;\n    }\n</code>head_win() will return always 1 and tails_win() too..<code>int head_win();       this doesn t mean nothing..\n</code>you have to declare a variable :<code>int wins = head_win();\n</code>\n", "total_len": 428, "s1_total_len": 2027, "s2_total_len": 1746}
{"post_id": "13842088", "title": "Set value for particular cell in pandas DataFrame using index", "query": "I have created a Pandas DataFrame<code>df = DataFrame(index=['A','B','C'], columns=['x','y'])</code>and have got this    x    yA  NaN  NaNB  NaN  NaNC  NaN  NaNNow, I would like to assign a value to particular cell, for example to row <code>C</code> and column <code>x</code>.I would expect to get this result:    x    yA  NaN  NaNB  NaN  NaNC  10  NaNwith this code:<code>df.xs('C')['x'] = 10</code>However, the contents of <code>df</code> has not changed. The dataframe contains yet again only <code>NaN</code>s.Any suggestions?", "acce_answer": "If you don't have I just have <code>.project</code> and <code>.classpath</code> files in the directory, the only way that works (for me at least) with the latest version of Eclipse is:\nCreate a new Android project <code>File</code> -> <code>New</code> -> <code>Project...</code> -> <code>Android</code> -> <code>Android Application Project</code> -> <code>Next &gt;</code>\nFill in the values on this page and the following according to your application's needsGet your existing code into the project you just createdRight click the <code>src</code> file in the Package Explorer\n<code>General</code> -> <code>File System</code> -> <code>Next &gt;</code>\n<code>Browse</code> to your project, select the necessary files, hit <code>Finish</code>After this, you should have a project with all your existing code as well as new <code>.project</code> and <code>.classpath</code> files.\n", "acce_score": "756", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "Testing if a pandas DataFrame exists In my code, I have several variables which can either contain a pandas DataFrame or nothing at all.  Let's say I want to test and see if a certain DataFrame has been created yet or not.  My first thought would be to test for it like this:<code>if df1:    # do something</code>However, that code fails in this way:<code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code>Fair enough.  Ideally, I would like to have a presence test that works for either a DataFrame or Python None.  Here is one way this can work:<code>if not isinstance(df1, type(None)):    # do something</code>However, testing for type is really slow.<code>t = timeit.Timer('if None: pass')t.timeit()# approximately 0.04t = timeit.Timer('if isinstance(x, type(None)): pass', setup='x=None')t.timeit()# approximately 0.4</code>Ouch.  Along with being slow, testing for NoneType isn't very flexible, either.  A different solution would be to initialize <code>df1</code> as an empty DataFrame, so that the type would be the same in both the null and non-null cases.  I could then just test using <code>len()</code>, or <code>any()</code>, or something like that.  Making an empty DataFrame seems kind of silly and wasteful, though.Another solution would be to have an indicator variable: <code>df1_exists</code>, which is set to False until <code>df1</code> is created.  Then, instead of testing <code>df1</code>, I would be testing <code>df1_exists</code>.  But this doesn't seem all that elegant, either.Is there a better, more Pythonic way of handling this issue?  Am I missing something, or is this just an awkward side effect all the awesome things about pandas? ", "simquery2_answer": "\r\n\r\n<code>url = \"www.w3schools.com/html/html5_video.asp\"\r\n\r\nVIDEO_LINKS = [];\r\nVIDEO_LIST = [];\r\n\r\nfunction fillVideo(callback) {\r\n  request(url, function(err, res, body) {\r\n    if (body) {\r\n      $ = cheerio.load(body);\r\n    }\r\n    links = $('source');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('src');\r\n      if (value.slice(-3) == \"mp4\" ||\r\n        value.slice(-4) == \"webm\" ||\r\n        value.slice(-3) == \"ogv\") {\r\n        VIDEO_LINKS.push(value);\r\n        VIDEO_LIST.push($(link).text());\r\n\r\n      }\r\n\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writeVideo() {\r\n\r\n  for (j = 0; j &lt; VIDEO_LIST.length; j++) {\r\n    request(VIDEO_LINKS[j]).pipe(fs.createWriteStream(VIDEO_LIST[j]));\r\n  }\r\n}\r\n\r\nfillVideo(writeVideo);</code>\r\n\r\n\r\n\r\n\r\n<code>//www.electronicinfo.ca/printable-pdfs\r\n\r\nPDF_LINKS = [];\r\nPDF_LIST = [];\r\n\r\nfunction fillPDF(callback) {\r\n  request(url, function(err, res, body) {\r\n    $ = cheerio.load(body);\r\n    links = $('a');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('href');\r\n      if (value.slice(-3) == \"pdf\") {\r\n        PDF_LINKS.push(value);\r\n        PDF_LIST.push($(link).text());\r\n      }\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writePDF() {\r\n  for (j = 0; j &lt; PDF_LIST.length; j++) {\r\n    request(PDF_LINKS[j]).pipe(fs.createWriteStream(PDF_LIST[j]));\r\n  }\r\n}\r\n\r\nfillPDF(writePDF);</code>\r\n\r\n\r\nHi, This is code that used to work, I changed literally nothing, from about 5 minutes ago, the only thing I changed was duplicating it, and changing variable names. My question is how to fix this code? I know the error is that body is empty, but I dont know how to fix it, i would appeciate any help...\n", "total_len": 435, "s1_total_len": 1245, "s2_total_len": 1115}
{"post_id": "13851535", "title": "How to delete rows from a pandas DataFrame based on a conditional expression", "query": "I have a pandas DataFrame and I want to delete rows from it where the length of the string in a particular column is greater than 2.I expect to be able to do this (per this answer):<code>df[(len(df['column name']) &lt; 2)]</code>but I just get the error:<code>KeyError: u'no item named False'</code>What am I doing wrong?(Note: I know I can use <code>df.dropna()</code> to get rid of rows that contain any <code>NaN</code>, but I didn't see how to remove rows based on a conditional expression.)", "acce_answer": "It seems you set your context variable to null and then you create an <code>AlertDialog</code> with that variable. So, it is giving you a <code>NullPointerException</code>. Instead of doing:<code>Context context = null;\n</code>try doing this:<code>Context context = SectionFragmentCocina.this.getActivity();\n</code>\n", "acce_score": "631", "simquery1_title": "How to delete rows from a pandas DataFrame based on a conditional expression I have a pandas DataFrame and I want to delete rows from it where the length of the string in a particular column is greater than 2.I expect to be able to do this (per this answer):<code>df[(len(df['column name']) &lt; 2)]</code>but I just get the error:<code>KeyError: u'no item named False'</code>What am I doing wrong?(Note: I know I can use <code>df.dropna()</code> to get rid of rows that contain any <code>NaN</code>, but I didn't see how to remove rows based on a conditional expression.)", "simquery1_answer": "It seems you set your context variable to null and then you create an <code>AlertDialog</code> with that variable. So, it is giving you a <code>NullPointerException</code>. Instead of doing:<code>Context context = null;\n</code>try doing this:<code>Context context = SectionFragmentCocina.this.getActivity();\n</code>\n", "simquery2_title": "Testing if a pandas DataFrame exists In my code, I have several variables which can either contain a pandas DataFrame or nothing at all.  Let's say I want to test and see if a certain DataFrame has been created yet or not.  My first thought would be to test for it like this:<code>if df1:    # do something</code>However, that code fails in this way:<code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code>Fair enough.  Ideally, I would like to have a presence test that works for either a DataFrame or Python None.  Here is one way this can work:<code>if not isinstance(df1, type(None)):    # do something</code>However, testing for type is really slow.<code>t = timeit.Timer('if None: pass')t.timeit()# approximately 0.04t = timeit.Timer('if isinstance(x, type(None)): pass', setup='x=None')t.timeit()# approximately 0.4</code>Ouch.  Along with being slow, testing for NoneType isn't very flexible, either.  A different solution would be to initialize <code>df1</code> as an empty DataFrame, so that the type would be the same in both the null and non-null cases.  I could then just test using <code>len()</code>, or <code>any()</code>, or something like that.  Making an empty DataFrame seems kind of silly and wasteful, though.Another solution would be to have an indicator variable: <code>df1_exists</code>, which is set to False until <code>df1</code> is created.  Then, instead of testing <code>df1</code>, I would be testing <code>df1_exists</code>.  But this doesn't seem all that elegant, either.Is there a better, more Pythonic way of handling this issue?  Am I missing something, or is this just an awkward side effect all the awesome things about pandas? ", "simquery2_answer": "\r\n\r\n<code>url = \"www.w3schools.com/html/html5_video.asp\"\r\n\r\nVIDEO_LINKS = [];\r\nVIDEO_LIST = [];\r\n\r\nfunction fillVideo(callback) {\r\n  request(url, function(err, res, body) {\r\n    if (body) {\r\n      $ = cheerio.load(body);\r\n    }\r\n    links = $('source');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('src');\r\n      if (value.slice(-3) == \"mp4\" ||\r\n        value.slice(-4) == \"webm\" ||\r\n        value.slice(-3) == \"ogv\") {\r\n        VIDEO_LINKS.push(value);\r\n        VIDEO_LIST.push($(link).text());\r\n\r\n      }\r\n\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writeVideo() {\r\n\r\n  for (j = 0; j &lt; VIDEO_LIST.length; j++) {\r\n    request(VIDEO_LINKS[j]).pipe(fs.createWriteStream(VIDEO_LIST[j]));\r\n  }\r\n}\r\n\r\nfillVideo(writeVideo);</code>\r\n\r\n\r\n\r\n\r\n<code>//www.electronicinfo.ca/printable-pdfs\r\n\r\nPDF_LINKS = [];\r\nPDF_LIST = [];\r\n\r\nfunction fillPDF(callback) {\r\n  request(url, function(err, res, body) {\r\n    $ = cheerio.load(body);\r\n    links = $('a');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('href');\r\n      if (value.slice(-3) == \"pdf\") {\r\n        PDF_LINKS.push(value);\r\n        PDF_LIST.push($(link).text());\r\n      }\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writePDF() {\r\n  for (j = 0; j &lt; PDF_LIST.length; j++) {\r\n    request(PDF_LINKS[j]).pipe(fs.createWriteStream(PDF_LIST[j]));\r\n  }\r\n}\r\n\r\nfillPDF(writePDF);</code>\r\n\r\n\r\nHi, This is code that used to work, I changed literally nothing, from about 5 minutes ago, the only thing I changed was duplicating it, and changing variable names. My question is how to fix this code? I know the error is that body is empty, but I dont know how to fix it, i would appeciate any help...\n", "total_len": 246, "s1_total_len": 244, "s2_total_len": 1115}
{"post_id": "13890935", "title": "Does Python's time.time() return the local or UTC timestamp?", "query": "Does <code>time.time()</code> in the Python time module return the system's time or the time in UTC?", "acce_answer": "Given that this worked before, but it's not anymore, I'm guessing that you're probably just using the wrong password.Try the following to reset your password in the Rails console:<code>User.find_by_email('user@example.com').update_attribute(:password, 'your_new_password')\n</code>Then, try logging back in and see what happens.\n", "acce_score": "674", "simquery1_title": "Convert python datetime to epoch with strftime I have a time in UTC from which I want the number of seconds since epoch.I am using strftime to convert it to the number of seconds. Taking 1st April 2012 as an example.<code>&gt;&gt;&gt;datetime.datetime(2012,04,01,0,0).strftime('%s')'1333234800'</code>1st of April 2012 UTC from epoch is 1333238400 but this above returns 1333234800 which is different by 1 hour. So it looks like that strftime is taking my system time into account and applies a timezone shift somewhere. I thought datetime was purely naive?How can I get around that? If possible avoiding to import other libraries unless standard. (I have portability concerns).", "simquery1_answer": "If you are adding the elements dynamically , You have to use the<code>$(document).ready(function (){\n     -- Your Function goes here\n})\n</code>why because for the first time when appending the fadeOut and something else, it has to be created first, then you can follow other logics like, removing or something like that..\nBy the way you have to use 'remove' obviously....Hope this helps......\n", "simquery2_title": "Parsing time string in Python I have a date time string that I don't know how to parse it in Python.The string is like this:<code>Tue May 08 15:14:45 +0800 2012</code>I tried <code>datetime.strptime(\"Tue May 08 15:14:45 +0800 2012\",\"%a %b %d %H:%M:%S %z %Y\")</code>but Python raises <code>'z' is a bad directive in format '%a %b %d %H:%M:%S %z %Y'</code>According to Python doc:  %z    UTC offset in the form +HHMM or -HHMM (empty string if the the object is naive).What is the right format to parse this time string?", "simquery2_answer": "<code>&lt;?php\nif (comments_open()) {\n    echo '&lt;p&gt;';\n    comments_popup_link( '&lt;span class=\"one-comment\"&gt;leave a comment&lt;/span&gt;', '&lt;span    class=\"one-    comment\"&gt;1 comment&lt;/span&gt;', '&lt;span class=\"more-comments\"&gt;% comments&lt;/span&gt;', '');\n    echo '&lt;/p&gt;';\n} else {\n?&gt;\n    &lt;a href=\"&lt;?php echo comments_link(); ?&gt;\"&gt;&lt;?php echo comments_number('&lt;span   class=\"zerocomments\"&gt;kommentarer&lt;/span&gt;', '&lt;span class=\"onecomment\"&gt;1 kommentar&lt;/span&gt;',    '&lt;span class=\"morecomments\"&gt;% kommentarer&lt;/span&gt;'); ?&gt;&lt;/a&gt;\n&lt;?php\n}\n?&gt;\n</code>The best way to echo HTML when it contains PHP functions is to break back out of PHP, as done above.I'm not sure exactly what you're trying to do, but the rest is up to you. :)\n", "total_len": 135, "s1_total_len": 309, "s2_total_len": 530}
{"post_id": "14058453", "title": "Making Python loggers output all messages to stdout in addition to log file", "query": "Is there a way to make Python logging using the <code>logging</code> module automatically output things to stdout in addition to the log file where they are supposed to go? For example, I'd like all calls to <code>logger.warning</code>, <code>logger.critical</code>, <code>logger.error</code> to go to their intended places but in addition always be copied to <code>stdout</code>. This is to avoid duplicating messages like:<code>mylogger.critical(&quot;something failed&quot;)print(&quot;something failed&quot;)</code>", "acce_answer": "You must <code>return false;</code> at the end of your function:<code>$('button').click(function() {\n  var new_task = $('#input').val();\n  $('#list').append('&lt;li&gt;'+new_task+'&lt;/li&gt;');\n  return false;   // This is new line of code\n});\n</code>\n", "acce_score": "675", "simquery1_title": "Making Python loggers output all messages to stdout in addition to log file Is there a way to make Python logging using the <code>logging</code> module automatically output things to stdout in addition to the log file where they are supposed to go? For example, I'd like all calls to <code>logger.warning</code>, <code>logger.critical</code>, <code>logger.error</code> to go to their intended places but in addition always be copied to <code>stdout</code>. This is to avoid duplicating messages like:<code>mylogger.critical(&quot;something failed&quot;)print(&quot;something failed&quot;)</code>", "simquery1_answer": "You must <code>return false;</code> at the end of your function:<code>$('button').click(function() {\n  var new_task = $('#input').val();\n  $('#list').append('&lt;li&gt;'+new_task+'&lt;/li&gt;');\n  return false;   // This is new line of code\n});\n</code>\n", "simquery2_title": "Elegant setup of Python logging in Django I have yet to find a way of setting up Python logging with Django that I'm happy with. My requirements are fairly simple:Different log handlers for different events - that is, I want to be able to log to different filesEasy access to loggers in my modules. The module should be able to find its logger with little effort.Should be easily applicable to command-line modules. Parts of the system are stand-alone command line or daemon processes. Logging should be easily usable with these modules.My current setup is to use a <code>logging.conf</code> file and setup logging in each module I log from. It doesn't feel right. Do you have a logging setup that you like? Please detail it: how do you setup the configuration (do you use <code>logging.conf</code> or set it up in code), where/when do you initiate the loggers, and how do you get access to them in your modules, etc.", "simquery2_answer": "IE has trouble with opacity and anti-aliasing. It helps to set a <code>background-color</code> on the element you're fading.\nAlso, <code>fadeTo</code> act a little different: you might have better luck with <code>.fadeIn()</code> and <code>.fadeOut()</code>.\n", "total_len": 244, "s1_total_len": 242, "s2_total_len": 296}
{"post_id": "14132789", "title": "Relative imports for the billionth time", "query": "I've been here:http://www.python.org/dev/peps/pep-0328/http://docs.python.org/2/tutorial/modules.html#packagesPython packages: relative importspython relative import example code does not workRelative imports in python 2.5Relative imports in PythonPython: Disabling relative importand plenty of URLs that I did not copy, some on SO, some on other sites, back when I thought I'd have the solution quickly.The forever-recurring question is this: how do I solve this &quot;Attempted relative import in non-package&quot; message?<code>ImportError: attempted relative import with no known parent package</code>I built an exact replica of the package on pep-0328:<code>package/    __init__.py    subpackage1/        __init__.py        moduleX.py        moduleY.py    subpackage2/        __init__.py        moduleZ.py    moduleA.py</code>The imports were done from the console.I did make functions named spam and eggs in their appropriate modules.  Naturally, it didn't work.  The answer is apparently in the 4th URL I listed, but it's all alumni to me. There was this response on one of the URLs I visited:Relative imports use a module's name attribute to determine that module's position in the package hierarchy. If the module's name does not contain any package information (e.g. it is set to 'main') then relative imports are resolved as if the module were a top level module, regardless of where the module is actually located on the file system.The above response looks promising, but it's all hieroglyphs to me.  So my question, how do I make Python not return to me &quot;Attempted relative import in non-package&quot;? has an answer that involves -m, supposedly.Can somebody please tell me why Python gives that error message, what it means by &quot;non-package&quot;, why and how do you define a 'package', and the precise answer put in terms easy enough for a kindergartener to understand.", "acce_answer": "A lot of professionals use templating libraries. It's a more object oriented way of doing what you are talking about. The idea is that you can break content down into even smaller reusable pieces along with a few methods for adding dynamic content, and then it's really pretty simple to construct a web page.Consider making a php class like the following, if you want to roll your own:<code>&lt;?phpclass Link\n{\npublic $relation;\npublic $type;\npublic $href;public function __construct($relation, $type, $href)\n{\n    $this-&gt;relation = $relation;\n    $this-&gt;type = $type;\n    $this-&gt;href = $href;\n}public function __toString()\n{\n    return \"&lt;link rel='$this-&gt;relation' type='$this-&gt;type' href='$this-&gt;href'&gt;\";\n}\n}class Anchor\n{\npublic $href;\npublic $content;public function __construct($href, $content)\n{\n    $this-&gt;href = $href;\n    $this-&gt;content = $content;\n}public function __toString()\n{\n    return \"&lt;a href='$this-&gt;href'&gt;$this-&gt;content&lt;/a&gt;\";\n}\n}class Script\n{\npublic $source;\npublic $type;public function __construct($source, $type)\n{\n    $this-&gt;source = $source;\n    $this-&gt;type = $type;\n}public function __toString()\n{\n    return \"&lt;script src='$this-&gt;source' type='$this-&gt;type'&gt;&lt;/script&gt;\";\n}\n}class Option\n{\npublic $value;\npublic $text;public function __construct($value, $text)\n{\n    $this-&gt;value = $value;\n    $this-&gt;text = $text;\n}public function __toString()\n{\n    return \"&lt;option value='$this-&gt;value'&gt;$this-&gt;text&lt;/option&gt;\";\n}\n}class Select\n{\npublic $options;\npublic $name;public function __construct($name, $options)\n{\n    $this-&gt;name = $name;\n    $this-&gt;options = $options;\n}   public function __toString()\n{\n    $result = \"&lt;select id='$this-&gt;name'&gt;\";\n    foreach($this-&gt;options as $option)\n        $result.=$option;\n    $result.= \"&lt;/select&gt;\";\n    return $result;\n}\n}class Div\n{\npublic $id;\npublic $class;\npublic $content;public function __construct($id, $class, $content)\n{\n    $this-&gt;id = $id;\n    $this-&gt;class = $class;\n    $this-&gt;content = $content;\n}public function __toString()\n{\n    return \"&lt;div id='$this-&gt;id' class='$this-&gt;class'&gt;$this-&gt;content&lt;/div&gt;\";\n}\n}\nclass HeaderItem\n{\npublic $title;\npublic $links;public function __construct($title, $links)\n{\n    $this-&gt;title = $title;\n    $this-&gt;links = $links;  \n}public function __toString()\n{\n    $result = \"&lt;head&gt;\".\"&lt;title&gt;$this-&gt;title&lt;/title&gt;\";\n    foreach($this-&gt;links as $link)\n        $result.= $link;\n    $result.= \"&lt;/head&gt;\";\n    return $result;\n}\n}class Document\n{\npublic $header;\npublic $body;public function __construct($header, $body)\n{\n    $this-&gt;header = $header;\n    $this-&gt;body = $body;\n}public function __toString()\n{\n    return \"&lt;!DOCTYPE HTML&gt;$this-&gt;header&lt;html&gt;&lt;body&gt;$this-&gt;body&lt;/body&gt;&lt;/html&gt;\";\n}}\n?&gt;\n</code>\n", "acce_score": "1599", "simquery1_title": "How can I access the current executing module or class name in Python? I would like to be able to dynamically retrieve the current executing module or class name from within an imported module.  Here is some code:foo.py:<code>def f():    print __name__</code>bar.py:<code>from foo import fdef b(): f()</code>This obviously does not work as <code>__name__</code> is the name of the module that contains the function.  What I would like to be access inside the <code>foo</code> module is the name of the current executing module that is using <code>foo</code>.  So in the case above it would be <code>bar</code> but if any other module imported <code>foo</code> I would like <code>foo</code> to dynamically have access to the name of that module.Edit: The <code>inspect</code> module looks quite promising but it is not exactly what I was looking for.  What I was hoping for was some sort of global or environment-level variable that I could access that would contain the name of the current executing module.  Not that I am unwilling to traverse the stack to find that information - I just thought that Python may have exposed that data already.Edit: Here is how I am trying to use this.  I have two different Django applications that both need to log errors to file.  Lets say that they are called \"AppOne\" and \"AppTwo\".  I also have a place to which I would like to log these files: \"<code>/home/hare/app_logs</code>\".  In each application at any given point I would like to be able to import my logger module and call the log function which writes the log string to file.  However what I would like to do is create a directory under <code>app_logs</code> that is the name of the current application (\"AppOne\" or \"AppTwo\") so that each application's log files will go in their respective logging directories.In order to do this I thought that the best way would be for the logger module to have access to some sort of global variable that denotes the current application's name as it is responsible for knowing the location of the parent logging directory and creating the application's logging directory if it does not yet exist.", "simquery1_answer": "Broken pipe usually doesn't come deterministically. You get a Broken pipe if a write operation on a pipe or socket fails because the other end has closed the connection. So if your FastCGI gets a Broken pipe, it means that the webserver has closed to connection too early. In some cases this is not an problem, it can be ignored silently.As a quick hack, try to catch and ignore the <code>socket.error</code> with <code>Broken pipe</code>. You may have to add an <code>except:</code> clause to many more places.\n", "simquery2_title": "Relative imports for the billionth time I've been here:http://www.python.org/dev/peps/pep-0328/http://docs.python.org/2/tutorial/modules.html#packagesPython packages: relative importspython relative import example code does not workRelative imports in python 2.5Relative imports in PythonPython: Disabling relative importand plenty of URLs that I did not copy, some on SO, some on other sites, back when I thought I'd have the solution quickly.The forever-recurring question is this: how do I solve this &quot;Attempted relative import in non-package&quot; message?<code>ImportError: attempted relative import with no known parent package</code>I built an exact replica of the package on pep-0328:<code>package/    __init__.py    subpackage1/        __init__.py        moduleX.py        moduleY.py    subpackage2/        __init__.py        moduleZ.py    moduleA.py</code>The imports were done from the console.I did make functions named spam and eggs in their appropriate modules.  Naturally, it didn't work.  The answer is apparently in the 4th URL I listed, but it's all alumni to me. There was this response on one of the URLs I visited:Relative imports use a module's name attribute to determine that module's position in the package hierarchy. If the module's name does not contain any package information (e.g. it is set to 'main') then relative imports are resolved as if the module were a top level module, regardless of where the module is actually located on the file system.The above response looks promising, but it's all hieroglyphs to me.  So my question, how do I make Python not return to me &quot;Attempted relative import in non-package&quot;? has an answer that involves -m, supposedly.Can somebody please tell me why Python gives that error message, what it means by &quot;non-package&quot;, why and how do you define a 'package', and the precise answer put in terms easy enough for a kindergartener to understand.", "simquery2_answer": "A lot of professionals use templating libraries. It's a more object oriented way of doing what you are talking about. The idea is that you can break content down into even smaller reusable pieces along with a few methods for adding dynamic content, and then it's really pretty simple to construct a web page.Consider making a php class like the following, if you want to roll your own:<code>&lt;?phpclass Link\n{\npublic $relation;\npublic $type;\npublic $href;public function __construct($relation, $type, $href)\n{\n    $this-&gt;relation = $relation;\n    $this-&gt;type = $type;\n    $this-&gt;href = $href;\n}public function __toString()\n{\n    return \"&lt;link rel='$this-&gt;relation' type='$this-&gt;type' href='$this-&gt;href'&gt;\";\n}\n}class Anchor\n{\npublic $href;\npublic $content;public function __construct($href, $content)\n{\n    $this-&gt;href = $href;\n    $this-&gt;content = $content;\n}public function __toString()\n{\n    return \"&lt;a href='$this-&gt;href'&gt;$this-&gt;content&lt;/a&gt;\";\n}\n}class Script\n{\npublic $source;\npublic $type;public function __construct($source, $type)\n{\n    $this-&gt;source = $source;\n    $this-&gt;type = $type;\n}public function __toString()\n{\n    return \"&lt;script src='$this-&gt;source' type='$this-&gt;type'&gt;&lt;/script&gt;\";\n}\n}class Option\n{\npublic $value;\npublic $text;public function __construct($value, $text)\n{\n    $this-&gt;value = $value;\n    $this-&gt;text = $text;\n}public function __toString()\n{\n    return \"&lt;option value='$this-&gt;value'&gt;$this-&gt;text&lt;/option&gt;\";\n}\n}class Select\n{\npublic $options;\npublic $name;public function __construct($name, $options)\n{\n    $this-&gt;name = $name;\n    $this-&gt;options = $options;\n}   public function __toString()\n{\n    $result = \"&lt;select id='$this-&gt;name'&gt;\";\n    foreach($this-&gt;options as $option)\n        $result.=$option;\n    $result.= \"&lt;/select&gt;\";\n    return $result;\n}\n}class Div\n{\npublic $id;\npublic $class;\npublic $content;public function __construct($id, $class, $content)\n{\n    $this-&gt;id = $id;\n    $this-&gt;class = $class;\n    $this-&gt;content = $content;\n}public function __toString()\n{\n    return \"&lt;div id='$this-&gt;id' class='$this-&gt;class'&gt;$this-&gt;content&lt;/div&gt;\";\n}\n}\nclass HeaderItem\n{\npublic $title;\npublic $links;public function __construct($title, $links)\n{\n    $this-&gt;title = $title;\n    $this-&gt;links = $links;  \n}public function __toString()\n{\n    $result = \"&lt;head&gt;\".\"&lt;title&gt;$this-&gt;title&lt;/title&gt;\";\n    foreach($this-&gt;links as $link)\n        $result.= $link;\n    $result.= \"&lt;/head&gt;\";\n    return $result;\n}\n}class Document\n{\npublic $header;\npublic $body;public function __construct($header, $body)\n{\n    $this-&gt;header = $header;\n    $this-&gt;body = $body;\n}public function __toString()\n{\n    return \"&lt;!DOCTYPE HTML&gt;$this-&gt;header&lt;html&gt;&lt;body&gt;$this-&gt;body&lt;/body&gt;&lt;/html&gt;\";\n}}\n?&gt;\n</code>\n", "total_len": 1569, "s1_total_len": 635, "s2_total_len": 1567}
{"post_id": "14405063", "title": "How can I see normal print output created during pytest run?", "query": "Sometimes I want to just insert some print statements in my code, and see what gets printed out when I exercise it. My usual way to \"exercise\" it is with existing pytest tests. But when I run these, I don't seem able to see any standard output (at least from within PyCharm, my IDE).Is there a simple way to see standard output during a pytest run?", "acce_answer": "Use <code>ACTION_DIAL</code> for your <code>Intent</code> action:<code>startActivity(new Intent(Intent.ACTION_DIAL, Uri.parse(\"tel:123456789\")));\n</code>\n", "acce_score": "801", "simquery1_title": "Running pytest test functions inside a jupyter notebook I'm working on a presentation about python testing options, and one of the technologies I want to demo is pytest. I'm planning to do the presentation from an jupyter/ipython notebook. Ideally I'd like to be able to define a test function in a cell and then use pytest to run just that function; that way I can demonstrate individual features of pytest, etc.Is there an existing way to do this? None of the interactive features I saw in the pytest api seem to fit the bill, but I'm certainly no pytest expert. I'd be happy to write a plugin to do it, so any advice on the best approach in that direction would be great. I did see pytest-ipynb, but it does not seem to do what I need. If that assessment is wrong, advice on how to use that would be great, too.", "simquery1_answer": "I know this question is old and there is a lot of code here, but I tested it several and none worked for me. I'm trying to make it available to view or download a PDF file (whichever works) in a php code. In Microsoft Edge works without any problem any code, but already in Google Chrome or in Firefox simply no code works in its most current versions. If someone can lend a hand, thank you very much!<code>$url = 'pdf/'.$file.'.pdf';\n$content = file_get_contents($url);header('Content-Type: application/pdf');\nheader('Content-Length: ' . strlen($content));\nheader('Content-Disposition: inline; filename=\"PDF.pdf\"');\nheader('Cache-Control: private, max-age=0, must-revalidate');\nheader('Pragma: public');\nini_set('zlib.output_compression','0');ob_clean();\nflush();$fp = fopen ('pdf/'.$file.'.pdf', 'r');while (!feof($fp)) {\n   $buff = fread($fp, 1024);\n   print $buff;\n}\nexit;die($content);\n</code>\n", "simquery2_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery2_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "total_len": 164, "s1_total_len": 478, "s2_total_len": 589}
{"post_id": "14463277", "title": "How to disable Python warnings?", "query": "I am working with code that throws a lot of (for me at the moment) useless warnings using the <code>warnings</code> library. Reading (/scanning) the documentation I only found a way to disable warnings for single functions. But I don't want to change so much of the code.Is there a flag like <code>python -no-warning foo.py</code>?What would you recommend?", "acce_answer": "I'm working with omega sub-theme and i'm having trouble to make susy, sass and compass work properly.Every single time i go to terminal and execute <code>$ compass watch</code> i get the next result:\n  LoadError on line 51 of /Library/Ruby/Site/1.8/rubygems/core_ext/kernel_require.rb: no such file to load -- rgbapng\n  Run with --trace to see the full backtrace\nI have trie diferent version of Ruby using RVM and still have the same problem.The next is the result of the <code>--trace</code> command:\n  /Library/Ruby/Site/1.8/rubygems/core_ext/kernel_require.rb:51:in <code>require'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/data.rb:161:in</code>require'\n    /Users/----/----/----/sites/all/themes/----/config.rb:21:in <code>get_binding'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/serialization.rb:20:in</code>get_binding'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/serialization.rb:23:in <code>parse_string'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/serialization.rb:15:in</code>_parse'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/serialization.rb:14:in <code>open'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/serialization.rb:14:in</code>_parse'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/file_data.rb:7:in <code>new_from_file'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/inheritance.rb:204:in</code>with_defaults'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/file_data.rb:6:in <code>new_from_file'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/helpers.rb:42:in</code>configuration_for'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/configuration/helpers.rb:97:in <code>add_project_configuration'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/commands/project_base.rb:31:in</code>add_project_configuration'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/commands/project_base.rb:25:in <code>configure!'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/commands/project_base.rb:15:in</code>initialize'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/commands/update_project.rb:37:in <code>initialize'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/exec/sub_command_ui.rb:42:in</code>new'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/exec/sub_command_ui.rb:42:in <code>perform!'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/lib/compass/exec/sub_command_ui.rb:15:in</code>run!'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/bin/compass:30\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/bin/compass:44:in <code>call'\n    /Library/Ruby/Gems/1.8/gems/compass-0.12.2/bin/compass:44\n    /usr/bin/compass:23:in</code>load'\n    /usr/bin/compass:23\nThanks for any help in advance.\n", "acce_score": "834", "simquery1_title": "In Python, how does one catch warnings as if they were exceptions? A third-party library (written in C) that I use in my python code is issuing warnings. I want to be able to use the <code>try</code> <code>except</code> syntax to properly handle these warnings. Is there a way to do this?", "simquery1_answer": "I am developing a Google Chrome extension, and I need to detect redirects so I can perform a certain action (the action is irrelevant, this question simply pertains to the redirect). Thus far I have this code in my background.js:<code>chrome.webRequest.onBeforeRedirect.addListener(function (url, tabId) {\n    console.log(\"This is a redirect\");\n    chrome.tabs.sendMessage(tabId, {\"message\": url}, function(response){});\n}, {urls: [\"&lt;all_urls&gt;\"]});\n</code>However, neither the <code>console.log</code> or <code>sendMessage</code> method is getting called. I tried going to wikipedia.com, google.net, and several other sites that I know redirect the user. Why isn't the extension picking this up?(And yes, I have put \"webRequest\" in my permissions under my manifest.json file.)Thanks in advance, please let me know if you need any other code.EDIT: Thanks to @ze it's working now, but now it's working a little too well. In other words, it's starting to fire now multiple times per page, and when I begin to type the url of a redirect site into the chrome search bar, it also gives me the redirect message. How do I only get it to fire once, when I actually push enter to navigate to the redirect site (and not while i'm still typing)? Here's the new code:<code>chrome.webRequest.onBeforeRedirect.addListener(function (details) {\n    if(details.frameId === 0){\n        alert(\"This is a redirect.\");      \n        // chrome.tabs.sendMessage(details.tabId, {\"message\": details.url}, function(response){});\n    }\n}, {urls: [\"&lt;all_urls&gt;\"]});\n</code>\n", "simquery2_title": "Disable all Pylint warnings for a file We are using Pylint within our build system.We have a Python package within our code base that has throwaway code, and I'd like to disable all warnings for a module temporarily so I can stop bugging the other devs with these superfluous messages. Is there an easy way to <code>pylint: disable</code> all warnings for a module?", "simquery2_answer": "<code>                         |--------|     \n//                     / |4  4  4 |     \n//                   |--------| 4 | \n//                 / |3  3  3 | 4 | \n//               |---------|3 |   |\n//             / | 2  2  2 |3 | /\n//            |---------|2 |__|\n//            | 1  1  1 |2 | /\n//            | 1  1  1 |__| \n//            | 1  1  1 | /\n//            |_________|\ndouble arr[4][3][3] = {{1,1,1,1,1,1,1,1,1},{2,2,2,2,2,2,2,2,2},{3,3,3,3,3,3,3,3,3},{4,4,4,4,4,4,4,4,4}};\n</code>I consider that this array consists of 4 layers.I want to create pointer to layer of array and traverse through layers of that array using pointer.I try :<code>double (*pp1)[sizeof(arr[0]) / sizeof(ar[0][0][0])]; \npp1 = arr[0]; \n</code>and get error from intelIsense:\nvalue of type (double (*)(3) can`t be assigned to double(*)(9)\n", "total_len": 1375, "s1_total_len": 498, "s2_total_len": 417}
{"post_id": "14770735", "title": "How do I change the figure size with subplots?", "query": "How do I increase the figure size for this figure?This does nothing:<code>fig.figsize(15, 15)</code>", "acce_answer": "You need to use a <code>SELECT</code> and <code>INNER JOIN</code> then to filter on GameID 2 you can use a <code>WHERE</code> clause.<code>SELECT ID_Winner, Name, Lastname, Player_FK\nFROM Winner\nINNER JOIN Player on Player.ID_Pplayer = Winner.Player_FK\nINNER JOIN Game ON Game.ID_game = Player.Game_FK\nWHERE Game.ID_game = 2\n</code>\n", "acce_score": "621", "simquery1_title": "Row and column headers in matplotlib's subplots What's the best practise to add a row and a column header to a grid of subplots generated in a loop in <code>matplotlib</code>? I can think of a couple, but not particularly neat:For columns, with a counter to your loop you can use <code>set_title()</code> for the first row only. For rows this doesn't work. You would have to draw <code>text</code> outside of the plots.You add an extra row of subplots on top and an extra column of subplots on the left, and draw text in the middle of that subplot. Can you suggest a better alternative?", "simquery1_answer": "I don't know if there is a more direct way, but you can simplify the syntax by using <code>map</code> instead of for-loop to iterate over each word.And you can use <code>build_analyzer()</code>, which handles both preprocessing and tokenization, then there is no need to call <code>lower()</code> explicitly.<code>analyzer = vectorizer.build_analyzer()\noutput_corpus = [map(lambda x: vectorizer.vocabulary_.get(x), analyzer(line)) for line in corpus]\n# For Python 3.x it should be\n# [list(map(lambda x: vectorizer.vocabulary_.get(x), analyzer(line))) for line in corpus]\n</code>output_corpus:<code>[[9, 3, 7, 2, 1], [9, 3, 7, 6, 6, 1], [0, 7, 8, 4], [3, 9, 7, 2, 1, 9, 3, 5]]\n</code>EditThanks to @user3914041, just using list comprehension might be preferable in this case. It avoids <code>lambda</code> thus can be slightly faster than <code>map</code>. (According to Python List Comprehension Vs. Map and my simple tests.)<code>output_corpus = [[vectorizer.vocabulary_.get(x) for x in analyzer(line)] for line in corpus]\n</code>\n", "simquery2_title": "How can I make a blank subplot in matplotlib? I am making a group of subplot (say, 3 x 2) in matplotlib, but I have fewer than 6 datasets. How can I make the remaining subplot blank?The arrangement looks like this:<code>+----+----+| 0,0| 0,1|+----+----+| 1,0| 1,1|+----+----+| 2,0| 2,1|+----+----+</code>This may go on for several pages, but on the final page, there are, for example, 5 datasets to the 2,1 box will be empty. However, I have declared the figure as:<code>cfig,ax = plt.subplots(3,2)</code>So in the space for subplot 2,1 there is a default set of axes with ticks and labels. How can I programatically render that space blank and devoid of axes? ", "simquery2_answer": "I have an element positioned fixed at the top of the screen, with a z-index of 100. When I scroll up the page in Chrome (V. 21.0.1180.82 on OS X and V. 21.0.1180.83 m on Windows) I notice a rendering problem which looks like this:UPDATE:\nI noticed that the rendering problem appears every time when the fixed element passes a new <code>&lt;section&gt;...&lt;/section&gt;</code> during scrolling up. Chrome seems to have some issues related to HTML5 tags like <code>&lt;section&gt;...&lt;/section&gt;</code> or <code>&lt;nav&gt;...&lt;/nav&gt;</code>. Changing those to <code>&lt;div&gt;...&lt;/div&gt;</code> solves the rendering problem, anyway I would still like to continue using HTML5 tags.Does anybody know a \"hack\" to solve this problem?Until then I will try to create a reproducible code sample and file a bug to chromium.\n", "total_len": 167, "s1_total_len": 521, "s2_total_len": 468}
{"post_id": "15112125", "title": "How to test multiple variables for equality against a single value?", "query": "I'm trying to make a function that will compare multiple variables to an integer and output a string of three letters. I was wondering if there was a way to translate this into Python. So say:<code>x = 0y = 1z = 3mylist = []if x or y or z == 0:    mylist.append(&quot;c&quot;)if x or y or z == 1:    mylist.append(&quot;d&quot;)if x or y or z == 2:    mylist.append(&quot;e&quot;)if x or y or z == 3:     mylist.append(&quot;f&quot;)</code>which would return a list of:<code>[&quot;c&quot;, &quot;d&quot;, &quot;f&quot;]</code>", "acce_answer": "The reason for doing this is to allow the javascript thread an opportunity to trigger any other events that may be waiting in the queue.Javascript is single-threaded. If an event is triggered, it can only run when the currently running code has finished.Using <code>setTimeout</code> with a zero time delay effectively tells the JS interpreter that the <code>callback</code> function call is part of a new context and that your current code block is finished. This means that JS will take the opportunity before calling <code>callback()</code> to check to see if any other events need to be handled.Although this may delay <code>callback()</code> itself from being called immediately, this can be good for your site's overall performance:Other events that may need to be handled include click events and other UI triggers. If you don't give them a chance to execute, it may make your user interface appear sluggish or non-responsive.\n", "acce_score": "831", "simquery1_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery1_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "simquery2_title": "Why does (1 in [1,0] == True) evaluate to False? When I was looking at answers to this question, I found I didn't understand my own answer.I don't really understand how this is being parsed. Why does the second example return False?<code>&gt;&gt;&gt; 1 in [1,0]             # This is expectedTrue&gt;&gt;&gt; 1 in [1,0] == True     # This is strangeFalse&gt;&gt;&gt; (1 in [1,0]) == True   # This is what I wanted it to beTrue&gt;&gt;&gt; 1 in ([1,0] == True)   # But it's not just a precedence issue!                           # It did not raise an exception on the second example.Traceback (most recent call last):  File \"&lt;pyshell#4&gt;\", line 1, in &lt;module&gt;    1 in ([1,0] == True)TypeError: argument of type 'bool' is not iterable</code>Thanks for any help. I think I must be missing something really obvious.I think this is subtly different to the linked duplicate:Why does the expression 0 &lt; 0 == 0 return False in Python?.Both questions are to do with human comprehension of the expression. There seemed to be two ways (to my mind) of evaluating the expression. Of course neither were correct, but in my example, the last interpretation is impossible.Looking at <code>0 &lt; 0 == 0</code> you could imagine each half being evaluated and making sense as an expression:<code>&gt;&gt;&gt; (0 &lt; 0) == 0True&gt;&gt;&gt; 0 &lt; (0 == 0)True</code>So the link answers why this evaluates <code>False</code>:<code>&gt;&gt;&gt; 0 &lt; 0 == 0False</code>But with my example <code>1 in ([1,0] == True)</code> doesn't make sense as an expression, so instead of there being two (admittedly wrong) possible interpretations, only one seems possible:<code>&gt;&gt;&gt; (1 in [1,0]) == True</code>", "simquery2_answer": "I using Bing Translate with GET (curl) method and everything work fine.But now i need using POST mothod, add new line:<code>$postData = array('text'=&gt;'home', 'to'=&gt;'it', 'from'=&gt;'en');\ncurl_setopt($ch, CURLOPT_POST, TRUE);   \ncurl_setopt($ch, CURLOPT_POSTFIELDS, $postData);\n</code>And now get error:\"Error Status Code: 'InternalServerError'Details: The server encountered an error processing the request. Please see the server logs for more details.\"\nBING does not support POST?\n", "total_len": 414, "s1_total_len": 629, "s2_total_len": 666}
{"post_id": "15221473", "title": "How do I update/upgrade pip itself from inside my virtual environment?", "query": "I'm able to update pip-managed packages, but how do I update pip itself? According to <code>pip --version</code>, I currently have pip 1.1 installed in my virtualenv and I want to update to the latest version. What's the command for that? Do I need to use distribute or is there a native pip or virtualenv command? I've already tried <code>pip update</code> and <code>pip update pip</code> with no success.", "acce_answer": "I want to retrieve values in milliseconds from a variable of type timeval. Below is my attempt:<code>timeval* time;\nlong int millis = (time-&gt;tv_sec * 1000) + (time-&gt;tv_usec / 1000);\nprintf(\"Seconds : %ld, Millis : %ld\", time-&gt;tv_sec, millis);Output =&gt; Seconds : 1378441469, Millis : -243032358\n</code>Issue is I am getting millisecond values in minus. What is wrong with this snippets?\n", "acce_score": "875", "simquery1_title": "Bypass confirmation prompt for pip uninstall I'm trying to uninstall all django packages in my superuser environment to ensure that all my webapp dependencies are installed to my virtualenv.<code>sudo susudo pip freeze | grep -E '^django-' | xargs pip -q uninstall</code>But pip wants to confirm every package uninstall, and there doesn't seem to be a <code>-y</code> option for pip. Is there a better way to uninstall a batch of python modules? Is <code>rm -rf .../site-packages/</code> a proper way to go? Is there an easy_install alternative?Alternatively, would it be better to force pip to install all dependencies to the virtualenv rather than relying on the system python modules to meet those dependencies, e.g. <code>pip --upgrade install</code>, but forcing even equally old versions to be installed to override any system modules. I tried activating my virtualenv and then <code>pip install --upgrade -r requirements.txt</code> and that does seem to install the dependencies, even those existing in my system path, but I can't be sure if that's because my system modules were old. And <code>man pip</code> doesn't seem to guarantee this behavior (i.e. installing the same version of a package that already exists in the system site-packages).", "simquery1_answer": "I think spinner have no hintBut i have small solutionyour code is<code>users.add(json.getString(Config.TAG_NAME));//this will add name to user array list\n</code>before add user names to arraylist, put below codeie.add your hint to your array<code>users.add(\"your hint\");\neg:users.add(\"select name\");\n</code>i think it will help you\n", "simquery2_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery2_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "total_len": 281, "s1_total_len": 399, "s2_total_len": 589}
{"post_id": "15411107", "title": "Delete a dictionary item if the key exists", "query": "Is there any other way to delete an item in a dictionary only if the given key exists, other than:<code>if key in mydict:    del mydict[key]</code>The scenario is that I'm given a collection of keys to be removed from a given dictionary, but I am not certain if all of them exist in the dictionary. Just in case I miss a more efficient solution.", "acce_answer": "I have a fairly simple question about the code organization of rails controllers:If we have an app store platform (i.e. Google Play) which consists of Developers (They create/upload the apps), Admins (Review and approve the apps) and Users (Who consume the apps via the store).The developers do everything through the developers platform, so it would make sense to have a developers namespace to group related items. The same logic would seem to make sense for the admin, give them an admin panel under an admin namespace.Now here's the question - I have two namespaces, <code>Admin</code> and <code>Developer</code> - if, a developer can change an app's state from :draft to :pending (for review) and the admin can change the state from pending to :approved/:rejected, where is the recommended place to store apps_controller.rb?There seems to be three ways to handle this and I'm not quite sure which is the most 'correct', either for practical reasons or conventional reasons.The three options I can think of are:1) In both the <code>Admin</code> &amp; <code>Developer</code> namespace (and populate the store from developer::apps)?2) Only in the <code>Developers</code> namespace3) The apps_controller should not live in either namespace.\n", "acce_score": "420", "simquery1_title": "Why doesn't django's model.save() call full_clean()? I'm just curious if anyone knows if there's good reason why django's orm doesn't call 'full_clean' on a model unless it is being saved as part of a model form.    Note that full_clean() will not be called automatically when you call your model\u2019s save() method. You\u2019ll need to call it manually when you want to run one-step model validation for your own manually created models.  django's full clean doc(NOTE: quote updated for Django 1.6... previous django docs had a caveat about ModelForms as well.)Are there good reasons why people wouldn't want this behavior? I'd think if you took the time to add validation to a model, you'd want that validation run every time the model is saved.I know how to get everything to work properly, I'm just looking  for an explanation.", "simquery1_answer": "You can mark both <code>ActivityID</code> and <code>ActivityName</code> properties with <code>Key</code> annotation or you can use fluent API as described by @taylonr.Edit:This should work - composite key defined with annotations requires explicit column order:<code>public class ActivityType\n{\n    [Key, Column(Order = 0)]\n    public int ActivityID { get; set; }    [Key, Column(Order = 1)]\n    [Required(ErrorMessage = \"A ActivityName is required\")]\n    [StringLength(50, ErrorMessage = \"Activity Name must not exceed 50 characters\")]\n    public string ActivityName { get; set; }}\n</code>\n", "simquery2_title": "How to store a dictionary on a Django Model? I need to store some data in a Django model. These data are not equal to all instances of the model.At first I thought about subclassing the model, but I\u2019m trying to keep the application flexible. If I use subclasses, I\u2019ll need to create a whole class each time I need a new kind of object, and that\u2019s no good. I\u2019ll also end up with a lot of subclasses only to store a pair of extra fields.I really feel that a dictionary would be the best approach, but there\u2019s nothing in the Django documentation about storing a dictionary in a Django model (or I can\u2019t find it).Any clues?", "simquery2_answer": "Something like this should do it:<code>\"(?:[^/:\"]+|/(?!/))(?:/[^/\"]+)*\"\n</code>\n", "total_len": 396, "s1_total_len": 371, "s2_total_len": 187}
{"post_id": "15589517", "title": "How to crop an image in OpenCV using Python", "query": "How can I crop images, like I've done before in PIL, using OpenCV. Working example on PIL<code>im = Image.open('0.png').convert('L')im = im.crop((1, 1, 98, 33))im.save('_0.png')</code>But how I can do it on OpenCV? This is what I tried:<code>im = cv.imread('0.png', cv.CV_LOAD_IMAGE_GRAYSCALE)(thresh, im_bw) = cv.threshold(im, 128, 255, cv.THRESH_OTSU)im = cv.getRectSubPix(im_bw, (98, 33), (1, 1))cv.imshow('Img', im)cv.waitKey(0)</code>But it doesn't work.I think I incorrectly used <code>getRectSubPix</code>. If this is the case, please explain how I can correctly use this function.", "acce_answer": "The dynamically generated routes using the <code>@link</code> or <code>@action</code> decorators are hard-coded to look like <code>/someclass/&lt;pk&gt;/&lt;methodname&gt;/</code>.  You can expose a <code>/someclass/info</code> endpoint by adding a custom route, e.g.:<code>class MyRouter(DefaultRouter):\n    routes = [\n        Route(\n            url=r'^{prefix}/((?P&lt;pk&gt;\\d+)/)?info$',\n            mapping={'get': 'info'},\n            name='{basename}-info',\n            initkwargs={}\n        )\n    ] + DefaultRouter.routes\n</code>Then your <code>info</code> method might look like this:<code>def info(self, request, pk=None):\n    if pk:\n        obj = SomeClass.objects.get(pk=pk)\n        return Response({'info': obj.info()})\n    else:\n        objs = SomeClass.objects.filter(pk__in=request.GET.getlist('pk'))\n        return Response({'infos': [obj.info() for obj in objs]})\n</code>(Note the absence of the <code>@link</code> decorator.)\n", "acce_score": "397", "simquery1_title": "How to crop an image in OpenCV using Python How can I crop images, like I've done before in PIL, using OpenCV. Working example on PIL<code>im = Image.open('0.png').convert('L')im = im.crop((1, 1, 98, 33))im.save('_0.png')</code>But how I can do it on OpenCV? This is what I tried:<code>im = cv.imread('0.png', cv.CV_LOAD_IMAGE_GRAYSCALE)(thresh, im_bw) = cv.threshold(im, 128, 255, cv.THRESH_OTSU)im = cv.getRectSubPix(im_bw, (98, 33), (1, 1))cv.imshow('Img', im)cv.waitKey(0)</code>But it doesn't work.I think I incorrectly used <code>getRectSubPix</code>. If this is the case, please explain how I can correctly use this function.", "simquery1_answer": "The dynamically generated routes using the <code>@link</code> or <code>@action</code> decorators are hard-coded to look like <code>/someclass/&lt;pk&gt;/&lt;methodname&gt;/</code>.  You can expose a <code>/someclass/info</code> endpoint by adding a custom route, e.g.:<code>class MyRouter(DefaultRouter):\n    routes = [\n        Route(\n            url=r'^{prefix}/((?P&lt;pk&gt;\\d+)/)?info$',\n            mapping={'get': 'info'},\n            name='{basename}-info',\n            initkwargs={}\n        )\n    ] + DefaultRouter.routes\n</code>Then your <code>info</code> method might look like this:<code>def info(self, request, pk=None):\n    if pk:\n        obj = SomeClass.objects.get(pk=pk)\n        return Response({'info': obj.info()})\n    else:\n        objs = SomeClass.objects.filter(pk__in=request.GET.getlist('pk'))\n        return Response({'infos': [obj.info() for obj in objs]})\n</code>(Note the absence of the <code>@link</code> decorator.)\n", "simquery2_title": "Combine 3 separate numpy arrays to an RGB image in Python  So I have a set of data which I am able to convert to form separate numpy arrays of R, G, B bands. Now I need to combine them to form an RGB image. I tried 'Image' to do the job but it requires 'mode' to be attributed. I tried to do a trick. I would use Image.fromarray() to take the array to image but it attains 'F' mode by default when Image.merge requires 'L' mode images to merge. If I would declare the attribute of array in fromarray() to 'L' at first place, all the R G B images become distorted.But, if I save the images and then open them and then merge, it works fine. Image reads the image with 'L' mode.Now I have two issues.First, I dont think it is an elegant way of doing the work. So if anyone knows the better way of doing it, please tell Secondly, Image.SAVE is not working properly. Following are the errors I face:<code>In [7]: Image.SAVE(imagefile, 'JPEG')----------------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)/media/New Volume/Documents/My own works/ISAC/SAMPLES/&lt;ipython console&gt; in &lt;module&gt;()TypeError: 'dict' object is not callable</code>Please suggest solutions.And please mind that the image is around 4000x4000 size array.", "simquery2_answer": "<code>layout_width=\"match_parent\"</code> or specific dp width, <code>layout_height=\"wrap_content\"</code> and that is it, I think.\n", "total_len": 563, "s1_total_len": 561, "s2_total_len": 390}
{"post_id": "15753701", "title": "How can I pass a list as a command-line argument with argparse?", "query": "I am trying to pass a list as an argument to a command line program. Is there an <code>argparse</code> option to pass a list as option?<code>parser.add_argument('-l', '--list',                      type=list, action='store',                      dest='list',                      help='&lt;Required&gt; Set flag',                      required=True)</code>Script is called like below<code>python test.py -l \"265340 268738 270774 270817\"</code>", "acce_answer": "Replace your JavaScript with this:<code>var name = $(\"#P1_TEST\");function validateName(){\n    //if it's NOT valid\n    if(name.val().length &lt; 4){\n        name.addClass(\"error\");\n                error_message(\"Must be than 3 letters!\");\n        return false;\n    }\n    //if it's valid\n    else{\n        name.removeClass(\"error\");\n        return true;\n    }\n}$(document).ready(function() {\n    name.blur(validateName);\n    name.keyup(validateName);\n})\n</code>Why your code didn't work:\n<code>&lt;script&gt;&lt;/script&gt;</code> tags are not required if you're placing code in page attributes > JavaScript.\n<code>p_t03.blur();</code> is not correct syntax for calling JQuery.  <code>$('[name=\"p_t03\"]').blur();</code> is what you need. For simplicity's sake, I used ID instead of name in my answer.\nBest of luck with the rest of your project.\n", "acce_score": "755", "simquery1_title": "Argparse: Required arguments listed under \"optional arguments\"? I use the following simple code to parse some arguments; note that one of them is required. Unfortunately, when the user runs the script without providing the argument, the displayed usage/help text does not indicate that there is a non-optional argument, which I find very confusing. How can I get python to indicate that an argument is not optional?Here is the code:<code>import argparseif __name__ == '__main__':    parser = argparse.ArgumentParser(        description='Foo')    parser.add_argument('-i','--input', help='Input file name', required=True)    parser.add_argument('-o','--output', help='Output file name', default=\"stdout\")    args = parser.parse_args()    print (\"Input file: %s\" % args.input )    print (\"Output file: %s\" % args.output )</code>When running above code without providing the required argument, I get the following output:<code>usage: foo.py [-h] -i INPUT [-o OUTPUT]Foooptional arguments:    -h, --help            show this help message and exit    -i INPUT, --input INPUT                          Input file name    -o OUTPUT, --output OUTPUT                          Output file name</code>", "simquery1_answer": "The line number of the error is wrong. The problem is at the end, you never close the function you're passing into <code>ready</code> or the call to it. Add <code>});</code> at the end.If that's missing only because you quoted a\n  ...snippet of the beginning of the code...\n...then the answer is that there's nothing wrong with line 1 that's apparent from your question. Weird errors like that can sometimes be down to invisible characters in the source, but I would expect to see an illegal character error rather than unexpected end of input. Unexpected end of input is pretty much what it says: You have a control structure of some kind open and haven't closed it when the parser reaches the end of the code text.I find the Meteor JavaScript parser page is quite handy for diagnosing syntax errors.\n", "simquery2_title": "Python argparse: default value or specified value I would like to have a optional argument that will default to a value if only the flag is present with no value specified, but store a user-specified value instead of the default if the user specifies a value. Is there already an action available for this?An example:<code>python script.py --example# args.example would equal a default value of 1python script.py --example 2# args.example would equal a default value of 2</code>I can create an action, but wanted to see if there was an existing way to do this.", "simquery2_answer": "Change this:<code> $('#slides').css('background-size', '477px 205px');\n</code>To this:<code>$('#slides').width(477).height(205);\n</code>The <code>overflow: hidden</code> will hide the rest of the image.\n", "total_len": 420, "s1_total_len": 481, "s2_total_len": 211}
{"post_id": "16138232", "title": "Is it a good practice to use try-except-else in Python?", "query": "From time to time in Python, I see the block:<code>try:   try_this(whatever)except SomeException as exception:   #Handle exceptionelse:   return something</code>What is the reason for the try-except-else to exist?I do not like that kind of programming, as it is using exceptions to perform flow control. However, if it is included in the language, there must be a good reason for it, isn't it?It is my understanding that exceptions are not errors, and that they should only be used for exceptional conditions (e.g. I try to write a file into disk and there is no more space, or maybe I do not have permission), and not for flow control. Normally I handle exceptions as:<code>something = some_default_valuetry:    something = try_this(whatever)except SomeException as exception:    #Handle exceptionfinally:    return something</code>Or if I really do not want to return anything if an exception happens, then:<code>try:    something = try_this(whatever)    return somethingexcept SomeException as exception:    #Handle exception</code>", "acce_answer": "You can also cheat by putting all three charts in the same chart element with a little trickery (and some limitations). For instance, you can make the chart like this:Here is the code for that (dummy data):<code>function drawVisualization() {\n  // Some raw data (not necessarily accurate)\n  var data = new google.visualization.DataTable();\n  data.addColumn('number', 'time');\n  data.addColumn('number', 'used');\n  data.addColumn('number', 'cached');\n  data.addColumn('number', 'free');\n  data.addColumn('number', 'user');\n  data.addColumn('number', 'system');\n  data.addColumn('number', 'io wait');\n  data.addColumn('number', '1 min');\n  data.addColumn('number', '5 min');\n  data.addColumn('number', '15 min');\n  data.addRows([\n    [1, {v:0.1, f:'10%'},{v:0.55, f:'45%'},{v:1, f:'45%'},{v:1.01, f:'0.15 GiB'},{v:1.83, f:'12.45 GiB'},{v:1.18, f:'2.7 GiB'},{v:2.28166561658701, f:'28.2%'},{v:2.38024858239246, f:'38.0%'},{v:2.42249842488051, f:'42.2%'}],\n    [2, {v:0.2, f:'20%'},{v:0.6, f:'40%'},{v:1, f:'40%'},{v:1.54, f:'8.1 GiB'},{v:1.47, f:'7.05 GiB'},{v:1.77, f:'11.55 GiB'},{v:2.53503269167234, f:'53.5%'},{v:2.74904576834128, f:'74.9%'},{v:2.4119751725877, f:'41.2%'}],\n    [3, {v:0.3, f:'30%'},{v:0.65, f:'35%'},{v:1, f:'35%'},{v:1.13, f:'1.95 GiB'},{v:1.15, f:'2.25 GiB'},{v:1.75, f:'11.25 GiB'},{v:2.73464579773048, f:'73.5%'},{v:2.85218912536736, f:'85.2%'},{v:2.80811037750353, f:'80.8%'}],\n    [4, {v:0.4, f:'40%'},{v:0.7, f:'30%'},{v:1, f:'30%'},{v:1.27, f:'4.05 GiB'},{v:1.86, f:'12.9 GiB'},{v:1.1, f:'1.5 GiB'},{v:2.86045009159487, f:'86.0%'},{v:2.92068159800651, f:'92.1%'},{v:2.54208355770477, f:'54.2%'}],\n    [5, {v:0.5, f:'50%'},{v:0.75, f:'25%'},{v:1, f:'25%'},{v:1.23, f:'3.45 GiB'},{v:1.12, f:'1.8 GiB'},{v:1.88, f:'13.2 GiB'},{v:2.89980619585711, f:'90.0%'},{v:2.8728120099814, f:'87.3%'},{v:2.75583720451997, f:'75.6%'}],\n    [6, {v:0.6, f:'60%'},{v:0.8, f:'20%'},{v:1, f:'20%'},{v:1.5, f:'7.5 GiB'},{v:1.78, f:'11.7 GiB'},{v:1.26, f:'3.9 GiB'},{v:2.84876005903125, f:'84.9%'},{v:2.66203284604438, f:'66.2%'},{v:2.63657004427344, f:'63.7%'}],\n    [7, {v:0.7, f:'70%'},{v:0.85, f:'15%'},{v:1, f:'15%'},{v:1.91, f:'13.65 GiB'},{v:1.26, f:'3.9 GiB'},{v:1.69, f:'10.35 GiB'},{v:2.71244021344925, f:'71.2%'},{v:2.78368423479417, f:'78.4%'},{v:2.69819140918026, f:'69.8%'}],\n    [8, {v:0.8, f:'80%'},{v:0.9, f:'10%'},{v:1, f:'10%'},{v:1.48, f:'7.2 GiB'},{v:1.51, f:'7.65 GiB'},{v:1.41, f:'6.15 GiB'},{v:2.50454251895529, f:'50.5%'},{v:2.59031474717769, f:'59.0%'},{v:2.33299806251049, f:'33.3%'}],\n    [9, {v:0.9, f:'90%'},{v:0.95, f:'5%'},{v:1, f:'5%'},{v:1.18, f:'2.7 GiB'},{v:1.53, f:'7.95 GiB'},{v:1.97, f:'14.55 GiB'},{v:2.24595415946281, f:'24.6%'},{v:2.24103507627355, f:'24.1%'},{v:2.22381828511115, f:'22.4%'}],\n    [10, {v:1, f:'100%'},{v:1, f:'0%'},{v:1, f:'0%'},{v:1.66, f:'9.9 GiB'},{v:1.61, f:'9.15 GiB'},{v:1.2, f:'3 GiB'},{v:2.1229770797314, f:'12.3%'},{v:2.13527478770454, f:'13.5%'},{v:2.14757249567768, f:'14.8%'}],\n  ]);  // Create and draw the visualization.\n  var ac = new google.visualization.AreaChart(document.getElementById('visualization'));\n  ac.draw(data, {\n    title : 'Monthly Coffee Production by Country',\n    isStacked: false,\n    width: 600,\n    height: 400,\n    areaOpacity: 0.0,\n    focusTarget: 'category',\n    series: { 0: {areaOpacity: 0.5}, 1: {areaOpacity: 0.5}, 2: {areaOpacity: 0.5} },\n    vAxis: { ticks: [{v:0, f:\"\"}, {v:0.5, f:\"7.5 GiB\"}, {v:1, f:\"15.0 GiB\"}, {v:1.5, f:\"50%\"}, {v:2, f:\"100%\"}, {v:2.5, f:\"50%\"}, {v:3, f:\"100%\"}, ] }\n  });\n}\n</code>Basically, I put all 3 series on the same chart by putting them all as percentages of 1/3rd of the chart. So the first series is from 0-1, the second from 1-2, and the third from 2-3. I then used liberal quantities of <code>{v:, f:}</code> notation to make them look like different numbers (for the GiB particularly), and used the <code>ticks</code> option to make the axis look like it has 3 scales. Finally, I set <code>focusTarget: 'category'</code> so all lines get selected when you mouseover any of them.You can format colors and even add dummy series to add thicker black lines between the series if you want to make them look more 'distinct'. You can also do some tricky stuff with dummy series and white areas and 100% opacity to potentially add background colors to higher areas. But the general concept is as outlined above, depending on what you are going for, it could work too.\n", "acce_score": "550", "simquery1_title": "Does Python support multithreading? Can it speed up execution time? I'm slightly confused about whether multithreading works in Python or not. I know there has been a lot of questions about this and I've read many of them, but I'm still confused. I know from my own experience and have seen others post their own answers and examples here on StackOverflow that multithreading is indeed possible in Python. So why is it that everyone keep saying that Python is locked by the GIL and that only one thread can run at a time? It clearly does work. Or is there some distinction I'm not getting here? Many posters/respondents also keep mentioning that threading is limited because it does not make use of multiple cores. But I would say they are still useful because they do work simultaneously and thus get the combined workload done faster. I mean why would there even be a Python thread module otherwise?Update:Thanks for all the answers so far. The way I understand it is that multithreading will only run in parallel for some IO tasks, but can only run one at a time for CPU-bound multiple core tasks.I'm not entirely sure what this means for me in practical terms, so I'll just give an example of the kind of task I'd like to multithread. For instance, let's say I want to loop through a very long list of strings and I want to do some basic string operations on each list item. If I split up the list, send each sublist to be processed by my loop/string code in a new thread, and send the results back in a queue, will these workloads run roughly at the same time? Most importantly will this theoretically speed up the time it takes to run the script? Another example might be if I can render and save four different pictures using PIL in four different threads, and have this be faster than processing the pictures one by one after each other? I guess this speed-component is what I'm really wondering about rather than what the correct terminology is.I also know about the multiprocessing module but my main interest right now is for small-to-medium task loads (10-30 secs) and so I think multithreading will be more appropriate because subprocesses can be slow to initiate. ", "simquery1_answer": "I think you are made mistake this chaage this <code>NSDocumentationDirectory</code> to <code>NSDocumentDirectory</code>\n", "simquery2_title": "Python progression path - From apprentice to guru I've been learning, working, and playing with Python for a year and a half now. As a biologist slowly making the turn to bio-informatics, this language has been at the very core of all the major contributions I have made in the lab. I more or less fell in love with the way Python permits me to express beautiful solutions and also with the semantics of the language that allows such a natural flow from thoughts to workable code.What I would like to know is your answer to a kind of question I have seldom seen in this or other forums. This question seems central to me for anyone on the path to Python improvement but who wonders what his next steps should be.Let me sum up what I do NOT want to ask first ;)I don't want to know how to QUICKLY learn PythonNor do I want to find out the best way to get acquainted with the languageFinally, I don't want to know a 'one trick that does it all' approach.What I do want to know your opinion about, is:What are the steps YOU would recommend to a Python journeyman, from apprenticeship to guru status (feel free to stop wherever your expertise dictates it), in order that one IMPROVES CONSTANTLY, becoming a better and better Python coder, one step at a time. Some of the people on SO almost seem worthy of worship for their Python prowess, please enlighten us :)The kind of answers I would enjoy (but feel free to surprise the readership :P ), is formatted more or less like this:Read this (eg: python tutorial), pay attention to that kind of detailsCode for so manytime/problems/lines of codeThen, read this (eg: this or that book), but this time, pay attention to thisTackle a few real-life problemsThen, proceed to reading Y.Be sure to grasp these conceptsCode for X timeCome back to such and such basics or move further to...(you get the point :)I really care about knowing your opinion on what exactly one should pay attention to, at various stages, in order to progress CONSTANTLY (with due efforts, of course). If you come from a specific field of expertise, discuss the path you see as appropriate in this field.EDIT: Thanks to your great input, I'm back on the Python improvement track! I really appreciate!", "simquery2_answer": "EDIT:Based on your updated code, you should be using <code>.prev()</code> instead of <code>.siblings()</code>.<code>$(\".input-field\").focus(function() {\n    $(this).addClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").show();\n    return false;\n});\n$(\".input-field\").blur(function() {\n    $(this).removeClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").hide();\n    return false;\n});\n</code>\nhttp://api.jquery.com/prev/\nhttp://api.jquery.com/siblings/\nOriginal answer:Your code works fine: http://jsfiddle.net/D9qnk/My guess is that your are initially hiding the <code>.label-info</code> using <code>visibility: hidden;</code> instead of <code>display:none;</code>If that's the case, switch your css to use <code>display:none</code> instead.<code>.label-info {\n    display: none;\n}\u200b\n</code>Or if you want to use the <code>visibility</code> property, then change its value using <code>.css()</code>:<code>$(this).siblings(\".label-info\").css('visibility','visible');...$(this).siblings(\".label-info\").css('visibility','hidden');\n</code>\n", "total_len": 2732, "s1_total_len": 522, "s2_total_len": 860}
{"post_id": "16476924", "title": "How to iterate over rows in a DataFrame in Pandas", "query": "I have a pandas dataframe, <code>df</code>:<code>   c1   c20  10  1001  11  1102  12  120</code>How do I iterate over the rows of this dataframe? For every row, I want to access its elements (values in cells) by the name of the columns. For example:<code>for row in df.rows:    print(row['c1'], row['c2'])</code>I found a similar question, which suggests using either of these:<code>for date, row in df.T.iteritems():</code><code>for row in df.iterrows():</code>But I do not understand what the <code>row</code> object is and how I can work with it.", "acce_answer": "The following inner SELECT works (but I give no guarantee regarding performance):<code>    SELECT \n        fts.temp_fees_50360001.record_type\n    FROM \n        fts.temp_fees_50360001\n    WHERE \n        (fts.temp_fees_50360001.record_type      = fts.fts_customers_data_50360001.record_type\n        OR (fts.temp_fees_50360001.record_type IS NULL AND fts.fts_customers_data_50360001.record_type IS NULL))\n        AND \n        (fts.temp_fees_50360001.merch_id         = fts.fts_customers_data_50360001.mid\n        OR (fts.temp_fees_50360001.merch_id IS NULL AND fts.fts_customers_data_50360001.mid IS NULL))\n        AND \n        (fts.temp_fees_50360001.fee_curr         = fts.fts_customers_data_50360001.currency\n        OR (fts.temp_fees_50360001.fee_curr IS NULL AND fts.fts_customers_data_50360001.currency IS NULL))\n        AND \n        (fts.temp_fees_50360001.card_scheme      = fts.fts_customers_data_50360001.card_scheme\n        OR (fts.temp_fees_50360001.card_scheme IS NULL AND fts.fts_customers_data_50360001.card_scheme IS NULL))\n        AND \n        (fts.temp_fees_50360001.tran_type        = fts.fts_customers_data_50360001.fee_type\n        OR (fts.temp_fees_50360001.tran_type IS NULL AND fts.fts_customers_data_50360001.fee_type IS NULL))\n        AND \n        (fts.temp_fees_50360001.area             = fts.fts_customers_data_50360001.region\n        OR (fts.temp_fees_50360001.area IS NULL AND fts.fts_customers_data_50360001.region IS NULL))\n        AND \n        (fts.temp_fees_50360001.srvc_type        = fts.fts_customers_data_50360001.card_type \n        OR (fts.temp_fees_50360001.srvc_type IS NULL AND fts.fts_customers_data_50360001.card_type))\n</code>\n", "acce_score": "3873", "simquery1_title": "How can I speed up reading multiple files and putting the data into a dataframe? I have a number of text files, say 50, that I need to read into a massive dataframe. At the moment, I am using the following steps.Read every file and check what the labels are. The information I need is often contained in the first few lines. The same labels just repeat for the rest of the file, with different types of data listed against them each time.Create a dataframe with those labels.Read the file again and fill the dataframe with values.Concatenate that dataframe with a master dataframe.This works pretty well for files that are of the 100 KB size - a few minutes, but at 50 MB, it just takes hours, and is not practical. How can I optimise my code? In particular -How can I identify what functions are taking the most time, which I need to optimise? Is it the reading of the file? Is it the writing to the dataframe? Where is my program spending time?Should I consider multithreading or multiprocessing?Can I improve the algorithm? Perhaps read the entire file in in one go into a list, rather than line by line,Parse data in chunks/entire file, rather than line by line,Assign data to the dataframe in chunks/one go, rather than row by row.Is there anything else that I can do to make my code execute faster?Here is an example code. My own code is a little more complex, as the text files are more complex such that I have to use about 10 regular expressions and multiple while loops to read the data in and allocate it to the right location in the right array. To keep the MWE simple, I haven't used repeating labels in the input files for the MWE either, so it would like I'm reading the file twice for no reason. I hope that makes sense!<code>import reimport pandas as pddf = pd.DataFrame()paths = [\"../gitignore/test1.txt\", \"../gitignore/test2.txt\"]reg_ex = re.compile('^(.+) (.+)\\n')# read all files to determine what indices are availablefor path in paths:    file_obj = open(path, 'r')    print file_obj.readlines()['a 1\\n', 'b 2\\n', 'end']['c 3\\n', 'd 4\\n', 'end']indices = []for path in paths:    index = []    with open(path, 'r') as file_obj:        line = True        while line:            try:                line = file_obj.readline()                match = reg_ex.match(line)                index += match.group(1)            except AttributeError:                pass    indices.append(index)# read files again and put data into a master dataframefor path, index in zip(paths, indices):    subset_df = pd.DataFrame(index=index, columns=[\"Number\"])    with open(path, 'r') as file_obj:        line = True        while line:            try:                line = file_obj.readline()                match = reg_ex.match(line)                subset_df.loc[[match.group(1)]] = match.group(2)            except AttributeError:                pass    df = pd.concat([df, subset_df]).sort_index()print df  Numbera      1b      2c      3d      4</code>My input files:test1.txt<code>a 1b 2end</code>test2.txt<code>c 3d 4end</code>", "simquery1_answer": "I find it very easy to count number of active connections using <code>redis_sip = redis.Redis(host=\"localhost\", port=6379, db=0)\nredis_sip.setbit(skey, 1, 1)\nredis_sip.setbit(skey, 2, 1)\nredis_sip.setbit(skey, 3, 0)\nredis_sip.setbit(skey, 4, 1)\nprint(redis_sip.bitcount(skey)) # shows me 3 connections\n</code>But for this to work I need to be able to set a TTL for each individual bit. i.e. when a remote agent makes a connection, I can set the bit to 1. If bitwise expiry is supported, then the bit will be flipped after a length of inactivity.Is it doable at all in Redis? If not, what is an alterantive?\n", "simquery2_title": "Testing if a pandas DataFrame exists In my code, I have several variables which can either contain a pandas DataFrame or nothing at all.  Let's say I want to test and see if a certain DataFrame has been created yet or not.  My first thought would be to test for it like this:<code>if df1:    # do something</code>However, that code fails in this way:<code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code>Fair enough.  Ideally, I would like to have a presence test that works for either a DataFrame or Python None.  Here is one way this can work:<code>if not isinstance(df1, type(None)):    # do something</code>However, testing for type is really slow.<code>t = timeit.Timer('if None: pass')t.timeit()# approximately 0.04t = timeit.Timer('if isinstance(x, type(None)): pass', setup='x=None')t.timeit()# approximately 0.4</code>Ouch.  Along with being slow, testing for NoneType isn't very flexible, either.  A different solution would be to initialize <code>df1</code> as an empty DataFrame, so that the type would be the same in both the null and non-null cases.  I could then just test using <code>len()</code>, or <code>any()</code>, or something like that.  Making an empty DataFrame seems kind of silly and wasteful, though.Another solution would be to have an indicator variable: <code>df1_exists</code>, which is set to False until <code>df1</code> is created.  Then, instead of testing <code>df1</code>, I would be testing <code>df1_exists</code>.  But this doesn't seem all that elegant, either.Is there a better, more Pythonic way of handling this issue?  Am I missing something, or is this just an awkward side effect all the awesome things about pandas? ", "simquery2_answer": "\r\n\r\n<code>url = \"www.w3schools.com/html/html5_video.asp\"\r\n\r\nVIDEO_LINKS = [];\r\nVIDEO_LIST = [];\r\n\r\nfunction fillVideo(callback) {\r\n  request(url, function(err, res, body) {\r\n    if (body) {\r\n      $ = cheerio.load(body);\r\n    }\r\n    links = $('source');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('src');\r\n      if (value.slice(-3) == \"mp4\" ||\r\n        value.slice(-4) == \"webm\" ||\r\n        value.slice(-3) == \"ogv\") {\r\n        VIDEO_LINKS.push(value);\r\n        VIDEO_LIST.push($(link).text());\r\n\r\n      }\r\n\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writeVideo() {\r\n\r\n  for (j = 0; j &lt; VIDEO_LIST.length; j++) {\r\n    request(VIDEO_LINKS[j]).pipe(fs.createWriteStream(VIDEO_LIST[j]));\r\n  }\r\n}\r\n\r\nfillVideo(writeVideo);</code>\r\n\r\n\r\n\r\n\r\n<code>//www.electronicinfo.ca/printable-pdfs\r\n\r\nPDF_LINKS = [];\r\nPDF_LIST = [];\r\n\r\nfunction fillPDF(callback) {\r\n  request(url, function(err, res, body) {\r\n    $ = cheerio.load(body);\r\n    links = $('a');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('href');\r\n      if (value.slice(-3) == \"pdf\") {\r\n        PDF_LINKS.push(value);\r\n        PDF_LIST.push($(link).text());\r\n      }\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writePDF() {\r\n  for (j = 0; j &lt; PDF_LIST.length; j++) {\r\n    request(PDF_LINKS[j]).pipe(fs.createWriteStream(PDF_LIST[j]));\r\n  }\r\n}\r\n\r\nfillPDF(writePDF);</code>\r\n\r\n\r\nHi, This is code that used to work, I changed literally nothing, from about 5 minutes ago, the only thing I changed was duplicating it, and changing variable names. My question is how to fix this code? I know the error is that body is empty, but I dont know how to fix it, i would appeciate any help...\n", "total_len": 998, "s1_total_len": 1029, "s2_total_len": 1115}
{"post_id": "16511337", "title": "Correct way to try/except using Python requests module?", "query": "<code>try:    r = requests.get(url, params={'s': thing})except requests.ConnectionError, e:    print(e)</code>Is this correct? Is there a better way to structure this? Will this cover all my bases?", "acce_answer": "As usual I have a parent and child div. Dimensions of a child div is not fixed. On click event I want to change dimensions of a child div to fit perfectly inside a parent div.Note: This is same as pdf viewer fit page featureHTML:<code>&lt;a href=\"javascript:void(0)\"&gt;Click&lt;/a&gt;&lt;div id=\"parent\"&gt;\n    &lt;div id=\"child4\" class=\"child\"&gt;&lt;/div&gt;\n    &lt;!-- Please check by commenting childs one by one\n    &lt;div id=\"child2\" class=\"child\"&gt;&lt;/div&gt;\n    &lt;div id=\"child3\" class=\"child\"&gt;&lt;/div&gt;\n    &lt;div id=\"child4\" class=\"child\"&gt;&lt;/div&gt;\n    --&gt;\n&lt;/div&gt;\n</code>CSS:<code>#parent {width:200px; height:100px; margin:100px auto; border:1px solid #000; overflow:auto}\n.child {margin:0; border:1px solid #000; background-color:maroon; opacity:0.5}#child1 {width:100px; height:50px}\n#child2 {width:400px; height:100px}\n#child3 {width:100px; height:500px}\n#child4 {width:400px; height:500px}\n</code>JQuery:<code>$(function(){\n    // Fit block\n    $(\"a\").click(function(){\n        //I want logic here to fit $(\".child\") div perfectly\n        //inside $(\"#parent\") div. After changes dimensions\n        //of child should be in proportion to its original width/height.\n        //if height is more\n        //then it should get parents height and if width is more\n        //than it should get parents width but there should be no\n        //vertical or horizontal scroll        $(\".child\").height($(\"#parent\").height() - 20);\n    });\n});\n</code>Fiddle - http://jsfiddle.net/LaT3E/4/Thanks in advance.\n", "acce_score": "703", "simquery1_title": "Python request with authentication (access_token) I am trying to use an API query in Python. From the command line I can use <code>curl</code> like so:<code>curl --header &quot;Authorization:access_token myToken&quot; https://website.example/id</code>This gives some JSON output. <code>myToken</code> is a hexadecimal variable that remains constant throughout.I would like to make this call from python so that I can loop through different ids and analyze the output. Before authentication was needed I had done that with <code>urllib2</code>. I have also taken a look at the <code>requests</code> module but couldn't figure out how to authenticate with it.", "simquery1_answer": "Remove this Inner itemclicklistener- <code>gameList.setOnItemClickListener(new OnItemClickListener(){    @Override\n public void onItemClick(AdapterView&lt;?&gt; paren, View view,\n      int position, long id) {\n        Log.i(\"Value\", List_Data.get(position));    }\n});\n</code>\n", "simquery2_title": "Python: download files from google drive using url I am trying to download files from google drive and all I have is the drive's URL.I have read about google API that talks about some <code>drive_service</code> and <code>MedioIO</code>, which also requires some credentials( mainly JSON <code>file/OAuth</code>). But I am unable to get any idea about how it is working.Also, tried <code>urllib2.urlretrieve</code>, but my case is to get files from the drive. Tried <code>wget</code> too but no use.Tried <code>PyDrive</code> library. It has good upload functions to drive but no download options.Any help will be appreciated.Thanks.", "simquery2_answer": "I'm making lots of assumptions since your question doesn't have much detail. Here is some generic code assuming that everything is in 1 table: <code>Update employees\nset salary = salary * .85 \nwhere training_course_completed &lt; '2012-11-15' \nand start_date &gt; '2013-02-05'\n;\n</code>\n", "total_len": 605, "s1_total_len": 247, "s2_total_len": 270}
{"post_id": "16584552", "title": "How to state in requirements.txt a direct github source", "query": "I've installed a library using the command<code>pip install git+git://github.com/mozilla/elasticutils.git</code>which installs it directly from a Github repository.  This works fine and I want to have that dependency in my <code>requirements.txt</code>.  I've looked at other tickets like this but that didn't solve my problem.  If I put something like<code>-f git+git://github.com/mozilla/elasticutils.gitelasticutils==0.7.dev</code>in the <code>requirements.txt</code> file, a <code>pip install -r requirements.txt</code> results in the following output:<code>Downloading/unpacking elasticutils==0.7.dev (from -r requirements.txt (line 20))  Could not find a version that satisfies the requirement elasticutils==0.7.dev (from -r requirements.txt (line 20)) (from versions: )No distributions matching the version for elasticutils==0.7.dev (from -r requirements.txt (line 20))</code>The documentation of the requirements file does not mention links using the <code>git+git</code> protocol specifier, so maybe this is just not supported.Does anybody have a solution for my problem?", "acce_answer": "I want to implement the Firebase-Messaging plugin into my Android-App.\nI think I followed all the necessary steps. But it doesn't work. build app :module<code>apply plugin: 'com.android.application'android {\n    compileSdkVersion 25\n    buildToolsVersion \"26.0.0\"\n    defaultConfig {\n        applicationId \"com.example.dev.app\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }    packagingOptions {\n        exclude 'META-INF/NOTICE' // will not include NOTICE file\n        exclude 'META-INF/LICENSE' // will not include LICENSE file\n        // as noted by @Vishnuvathsan you may also need to include\n        // variations on the file name. It depends on your dependencies.\n        // Some other common variations on notice and license file names\n        exclude 'META-INF/notice'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/license'\n        exclude 'META-INF/license.txt'\n    }\n}dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.android.support:support-v4:25.3.1'\n    compile 'com.android.volley:volley:1.0.0'\n    compile 'com.fasterxml.jackson.core:jackson-core:2.5.3'\n    compile 'com.fasterxml.jackson.core:jackson-annotations:2.5.3'\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.5.3'\n    compile 'com.google.android.gms:play-services-maps:11.0.2'\n    testCompile 'junit:junit:4.12'\n    compile 'com.google.firebase:firebase-core:11.0.2'\n    compile 'com.google.firebase:firebase-messaging:11.0.2'\n}\napply plugin: 'com.google.gms.google-services'\n</code>build app :project<code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath 'com.google.gms:google-services:3.1.0'        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}allprojects {\n    repositories {\n        jcenter()\n    }\n}task clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code>AndroidManifest<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.dev.app\"&gt;    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/icon\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/icon\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\"\n            android:configChanges=\"orientation\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme.NoActionBar\"&gt;        &lt;/activity&gt;        &lt;service android:name=\".MyFirebaseMessagingService\"\n            android:enabled=\"true\"\n            android:exported=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\".FirebaseIDService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;&lt;/manifest&gt;\n</code>FirebaseIDService<code>public class FirebaseIDService extends FirebaseInstanceIdService {\n    private static final String TAG = \"FirebaseIDService\";    @Override\n    public void onTokenRefresh() {\n        // Get updated InstanceID token.\n        String refreshedToken = FirebaseInstanceId.getInstance().getToken();\n        Log.d(TAG, \"Refreshed token: \" + refreshedToken);        // TODO: Implement this method to send any registration to your app's servers.\n        sendRegistrationToServer(refreshedToken);\n    }    /**\n     * Persist token to third-party servers.\n     *\n     * Modify this method to associate the user's FCM InstanceID token with any server-side account\n     * maintained by your application.\n     *\n     * @param token The new token.\n     */\n    private void sendRegistrationToServer(String token) {\n        // Add custom implementation, as needed.\n    }\n}\n</code>MyFirebaseMessagingService<code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n    private static final String TAG = \"FCM Service\";\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        // TODO: Handle FCM messages here.\n        // If the application is in the foreground handle both data and notification messages here.\n        // Also if you intend on generating your own notifications as a result of a received FCM\n        // message, here is where that should be initiated.\n        Log.d(TAG, \"From: \" + remoteMessage.getFrom());\n        Log.d(TAG, \"Notification Message Body: \" + remoteMessage.getNotification().getBody());\n    }\n}\n</code>i have downloaded google-services.json\nenter image description hereAnd send message from firebase console \nenter image description hereBut i don't get any notifications. \n", "acce_score": "734", "simquery1_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery1_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "simquery2_title": "Using a pip cache directory in docker builds I'm hoping to get my <code>pip install</code> instructions inside my <code>docker build</code>s as fast as possible.I've read many posts explaining how adding your <code>requirements.txt</code> before the rest of the app helps you take advantage of Docker's own image cache if your <code>requirements.txt</code> hasn't changed. But this is no help at all when dependencies do change, even slightly.The next step would be if we could use a consistent pip cache directory. By default, <code>pip</code> will cache downloaded packages in <code>~/.cache/pip</code> (on Linux), and so if you're ever installing the same version of a module that has been installed before anywhere on the system, it shouldn't need to go and download it again, but instead simply use the cached version. If we could leverage a shared cache directory for docker builds, this could help speed up dependency installs a lot.However, there doesn't appear to be any simple way to mount a volume while running <code>docker build</code>. The build environment seems to be basically impenetrable. I found one article suggesting a genius but complex method of running an <code>rsync</code> server on the host and then, with a hack inside the build to get the host IP, rsyncing the pip cache in from the host. But I'm not relishing the idea of running an rsync server in Jenkins (which isn't the most secure platform at the best of times).Does anyone know if there's any other way to achieve a shared cache volume more simply?", "simquery2_answer": "I'm trying to install NumPy for python 3.7 on my raspberry pi as a part of installing OpenCV.\nOriginally when running\n<code>sudo pip3.7 install opencv-python mediapipe Flask==2.0.3\n</code>\nand then got error on building wheels for NumPy. I sequentially tried to use <code>--no-binary flag</code> but no luck either.\nI then tried to install NumPy using apt package manager with <code>sudo apt install python3.7-numpy</code>, but this installed it into dist packages in <code>/lib/python3</code> rather then in <code>/lib/python3.7</code>. And somehow neither python3 nor python3.7 interactive shell cant locate and import it.\nIn any case I don't want to use os package manager, since I want to install it to a virtual environment.\nBelow is what seems to me like the relevant fragment from from the failed wheel build error message:\n<code>numpy/core/src/umath/loops_trigonometric.dispatch.c.src: In function \u2018FLOAT_sin_NEON_VFPV4\u2019:\n      numpy/core/src/umath/loops_trigonometric.dispatch.c.src:202:20: internal compiler error: in convert_move, at expr.c:218\n       NPY_NO_EXPORT void NPY_CPU_DISPATCH_CURFX(FLOAT_@func@)\n</code>\nTo address one of the comments: I did create and activated a virtual environment. The issue is that to my knowledge there is no way to force apt to install python packages outside of global/user site-packagse or dist-packages.\n", "total_len": 2100, "s1_total_len": 589, "s2_total_len": 769}
{"post_id": "36921951", "title": "Truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all()", "query": "I want to filter my dataframe with an <code>or</code> condition to keep rows with a particular column's values that are outside the range <code>[-0.25, 0.25]</code>. I tried:<code>df = df[(df['col'] &lt; -0.25) or (df['col'] &gt; 0.25)]</code>But I get the error:Truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all()", "acce_answer": "Example with <code>map</code> and <code>tuples</code>.<code>var x1=[\"c\":30,\"b\":60,\"a\":40]let mappedArray = x1.map{($0.key, $0.value)}.sorted(by: {$0.1&lt;$1.1})print(mappedArray)\n</code>Print<code>[(\"c\", 30), (\"a\", 40), (\"b\", 60)]\n</code>\n", "acce_score": "816", "simquery1_title": "pandas equivalent of np.where <code>np.where</code> has the semantics of a vectorized if/else (similar to Apache Spark's <code>when</code>/<code>otherwise</code> DataFrame method). I know that I can use <code>np.where</code> on <code>pandas.Series</code>, but <code>pandas</code> often defines its own API to use instead of raw <code>numpy</code> functions, which is usually more convenient with <code>pd.Series</code>/<code>pd.DataFrame</code>.Sure enough, I found <code>pandas.DataFrame.where</code>. However, at first glance, it has completely different semantics. I could not find a way to rewrite the most basic example of <code>np.where</code> using pandas <code>where</code>:<code># df is pd.DataFrame# how to write this using df.where?df['C'] = np.where((df['A']&lt;0) | (df['B']&gt;0), df['A']+df['B'], df['A']/df['B'])</code>Am I missing something obvious? Or is pandas' <code>where</code> intended for a completely different use case, despite same name as <code>np.where</code>?", "simquery1_answer": "Because Bootstrap 4 uses flexbox, the columns are always going to be equal height, and you'll not be able to get the desktop (lg) layout that you want.\nOne option is to disable the flexbox for <code>lg</code>. Use floats so that the 1,3 columns naturally pull to the right, since 2 is taller. The flexbox <code>order-</code> will work on mobile.\nhttps://codeply.com/go/8lsFAU3C5E\n<code>&lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row d-flex d-lg-block&quot;&gt;\n         &lt;div class=&quot;col-lg-8 order-1 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body tall&quot;&gt;2&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-lg-4 order-0 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body&quot;&gt;1&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-lg-4 order-1 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body&quot;&gt;3&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code>\nHow this worksKeep columns in the same row, since ordering is relative to parent\nThe <code>d-flex d-lg-block</code> disables flex on <code>lg</code> and up\nThe <code>float-left</code> float the columns when flex is disabled\nThe <code>order-*</code> reorder the columns when flex is enabledAnother option is some flexbox wrapping hack that uses <code>w-auto</code>...\nhttps://codeply.com/go/mKykCsBFDXAlso see:\nHow to fix unexpected column order in bootstrap 4?\nBootstrap Responsive Columns Height\nB-A-C -&gt; A-B-C\n", "simquery2_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery2_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "total_len": 282, "s1_total_len": 832, "s2_total_len": 337}
{"post_id": "53645882", "title": "Pandas Merging 101", "query": "How can I perform a (<code>INNER</code>| (<code>LEFT</code>|<code>RIGHT</code>|<code>FULL</code>) <code>OUTER</code>) <code>JOIN</code> with pandas?How do I add NaNs for missing rows after a merge?How do I get rid of NaNs after merging?Can I merge on the index?How do I merge multiple DataFrames?Cross join with pandas<code>merge</code>? <code>join</code>? <code>concat</code>? <code>update</code>? Who? What? Why?!... and more. I've seen these recurring questions asking about various facets of the pandas merge functionality. Most of the information regarding merge and its various use cases today is fragmented across dozens of badly worded, unsearchable posts. The aim here is to collate some of the more important points for posterity.This Q&amp;A is meant to be the next installment in a series of helpful user guides on common pandas idioms (see this post on pivoting, and this post on concatenation, which I will be touching on, later).Please note that this post is not meant to be a replacement for the documentation, so please read that as well! Some of the examples are taken from there.Table of ContentsFor ease of access.Merging basics - basic types of joins (read this first)Index-based joinsGeneralizing to multiple DataFramesCross join", "acce_answer": "The variable is changing and prints different value and it saves another\nIf i run this code\n<code>def swap(string,x,y):\n  string[y], string[x] = string[x], string[y]def permutations(string ,i=0):\n    if i == len(string):\n        yield string    for x in range(i, len(string)):\n        perm = string\n        swap(perm,x,i)\n        yield from permutations(perm, i+1)\n        swap(perm,i,x)result = []\ntest = permutations(['a','b','c'])\nfor x in test:\n    print(x)\n    result.append(x)print(result)\n</code>\nIt prints this and i dont know why:\n<code>['a', 'b', 'c']\n['a', 'c', 'b']\n['b', 'a', 'c']\n['b', 'c', 'a']\n['c', 'b', 'a']\n['c', 'a', 'b']\n[['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c']]\n</code>\n", "acce_score": "886", "simquery1_title": "Django ORM - objects.filter() vs. objects.all().filter() - which one is preferred? Very often I see constructs like <code>MyModel.objects.all().filter(...)</code>which will return a QuerySet of the default Mananger. At first <code>all()</code> seems to be quite redundant, because<code>MyMode.objects.filter(...)</code>delivers the same result.However, this seems to be safe for the default Manager only, because of the following two statements in the Django documentation:Excerpt from the Chapter \"Adding extra manager methods\"  A custom Manager method can return anything you want. It doesn\u2019t have  to return a QuerySet.Definition of the <code>all()</code> manager method:  all()   Returns a copy of the current QuerySet (or QuerySet subclass).  This can be useful in situations where you might want to pass in  either a model manager or a QuerySet and do further filtering on the  result. After calling all() on either object, you\u2019ll definitely have a  QuerySet to work with.This seems a bit like a contradiction to me. On one hand Django offers the freedom to let a manager method return whatever object type is preferred and on the other hand it requires a QuerySet for the <code>all()</code> method. I'm aware that each manager has a <code>get_queryset</code> method which is called by <code>all()</code>. But who stops me from overriding <code>all()</code> in my custom manager? Although I agree it would be bad design to do so.So as far as I can see, the <code>all()</code> method does not guarantee to return a QuerySet. What exactly does <code>MyModel.objects</code> return? Does this statement call <code>all()</code>? or `get_queryset()?Do you prefer <code>MyModel.objects.filter(...)</code> or <code>MyModel.objects.all().filter(...)</code>. And if so, why?Have you ever encountered wonky managers that would mess with those methods in a undesirable way?", "simquery1_answer": "I have the following code in PHP,<code>&lt;?php\nob_start();\n$valid_passwords = array (\"matrixUlt\" =&gt; \"$ecurEh1FIVE\");\n$valid_users = array_keys($valid_passwords);\n$user = $pass = null;\nif(isset($_SERVER['PHP_AUTH_USER']) &amp;&amp; isset($_SERVER['PHP_AUTH_PW']))\n{\n    $user = $_SERVER['PHP_AUTH_USER'];\n    $pass = $_SERVER['PHP_AUTH_PW'];\n}\n$validated = (in_array($user, $valid_users)) &amp;&amp; ($pass == $valid_passwords[$user]);\nif(!$validated)\n{\nheader('WWW-Authenticate: Basic realm=\"You need to be authenticated to access the resource!\"');\nheader('HTTP/1.0 401 Unauthorized');\nexit(\"Not authorized\");\necho ob_get_clean();\n}\n</code>This works correctly in localhost when this [(\"matrixUlt\" => \"$ecurEh1FIVE\"] username:password is given. But keeps showing auth dialog in LIVE server / production enviroment. Any ideas why this is not working?\n", "simquery2_title": "\"Large data\" workflows using pandas I have tried to puzzle out an answer to this question for many months while learning pandas.  I use SAS for my day-to-day work and it is great for it's out-of-core support.  However, SAS is horrible as a piece of software for numerous other reasons.One day I hope to replace my use of SAS with python and pandas, but I currently lack an out-of-core workflow for large datasets.  I'm not talking about \"big data\" that requires a distributed network, but rather files too large to fit in memory but small enough to fit on a hard-drive.My first thought is to use <code>HDFStore</code> to hold large datasets on disk and pull only the pieces I need into dataframes for analysis.  Others have mentioned MongoDB as an easier to use alternative.  My question is this:What are some best-practice workflows for accomplishing the following:Loading flat files into a permanent, on-disk database structureQuerying that database to retrieve data to feed into a pandas data structureUpdating the database after manipulating pieces in pandasReal-world examples would be much appreciated, especially from anyone who uses pandas on \"large data\".Edit -- an example of how I would like this to work:Iteratively import a large flat-file and store it in a permanent, on-disk database structure.  These files are typically too large to fit in memory.In order to use Pandas, I would like to read subsets of this data (usually just a few columns at a time) that can fit in memory.I would create new columns by performing various operations on the selected columns.I would then have to append these new columns into the database structure.I am trying to find a best-practice way of performing these steps. Reading links about pandas and pytables it seems that appending a new column could be a problem.Edit -- Responding to Jeff's questions specifically:I am building consumer credit risk models. The kinds of data include phone, SSN and address characteristics; property values; derogatory information like criminal records, bankruptcies, etc... The datasets I use every day have nearly 1,000 to 2,000 fields on average of mixed data types: continuous, nominal and ordinal variables of both numeric and character data.  I rarely append rows, but I do perform many operations that create new columns.Typical operations involve combining several columns using conditional logic into a new, compound column. For example, <code>if var1 &gt; 2 then newvar = 'A' elif var2 = 4 then newvar = 'B'</code>.  The result of these operations is a new column for every record in my dataset.Finally, I would like to append these new columns into the on-disk data structure.  I would repeat step 2, exploring the data with crosstabs and descriptive statistics trying to find interesting, intuitive relationships to model.A typical project file is usually about 1GB.  Files are organized into such a manner where a row consists of a record of consumer data.  Each row has the same number of columns for every record.  This will always be the case.It's pretty rare that I would subset by rows when creating a new column.  However, it's pretty common for me to subset on rows when creating reports or generating descriptive statistics.  For example, I might want to create a simple frequency for a specific line of business, say Retail credit cards.  To do this, I would select only those records where the line of business = retail in addition to whichever columns I want to report on.  When creating new columns, however, I would pull all rows of data and only the columns I need for the operations.The modeling process requires that I analyze every column, look for interesting relationships with some outcome variable, and create new compound columns that describe those relationships.  The columns that I explore are usually done in small sets.  For example, I will focus on a set of say 20 columns just dealing with property values and observe how they relate to defaulting on a loan.  Once those are explored and new columns are created, I then move on to another group of columns, say college education, and repeat the process.  What I'm doing is creating candidate variables that explain the relationship between my data and some outcome.  At the very end of this process, I apply some learning techniques that create an equation out of those compound columns.It is rare that I would ever add rows to the dataset.  I will nearly always be creating new columns (variables or features in statistics/machine learning parlance).", "simquery2_answer": "Use HTTP POST, and post content as Form-based File Upload (mime type: multipart/form-data). This system is standard on web for sending forms and/or uploading files.Use HTTP chunked post mode, so that size doesn't need to be known beforehand, and you can stream any file in small parts. You still have to make some code on server (e.g. in PHP) to accept the file and do what is needed.Use HttpURLConnection to initiate connection. Then use my attached class to send the data. It will create proper headers, etc, and you'll use it as OutputStream to write your raw data to it, then call close, and you're done. You can overrite its onHandleResult to handle resulting error code.<code>public class FormDataWriter extends FilterOutputStream{\n   private final HttpURLConnection con;   /**\n    * @param formName name of form in which data are sent\n    * @param fileName\n    * @param fileSize   size of file, or -1 to use chunked encoding\n    */\n   FormDataWriter(HttpURLConnection con, String formName, String fileName, long fileSize) throws IOException{\n      super(null);\n      this.con = con;\n      con.setDoOutput(true);      String boundary = generateBoundary();\n      con.setRequestProperty(HTTP.CONTENT_TYPE, \"multipart/form-data; charset=UTF-8; boundary=\"+boundary);\n      {\n         StringBuilder sb = new StringBuilder();\n         writePartHeader(boundary, formName, fileName==null ? null : \"filename=\\\"\"+fileName+\"\\\"\",\n               \"application/octet-stream\", sb);\n         headerBytes = sb.toString().getBytes(\"UTF-8\");         sb = new StringBuilder();\n         sb.append(\"\\r\\n\");\n         sb.append(\"--\"+boundary+\"--\\r\\n\");\n         footerBytes = sb.toString().getBytes();\n      }\n      if(fileSize!=-1) {\n         fileSize += headerBytes.length + footerBytes.length;\n         con.setFixedLengthStreamingMode((int)fileSize);\n      }else\n         con.setChunkedStreamingMode(0x4000);\n      out = con.getOutputStream();\n   }   private byte[] headerBytes, footerBytes;   private String generateBoundary() {\n      StringBuilder sb = new StringBuilder();\n      Random rand = new Random();\n      int count = rand.nextInt(11) + 30;\n      int N = 10+26+26;\n      for(int i=0; i&lt;count; i++) {\n         int r = rand.nextInt(N);\n         sb.append((char)(r&lt;10 ? '0'+r : r&lt;36 ? 'a'+r-10 : 'A'+r-36));\n      }\n      return sb.toString();\n   }   private void writePartHeader(String boundary, String name, String extraContentDispositions, String contentType, StringBuilder sb) {\n      sb.append(\"--\"+boundary+\"\\r\\n\");\n      sb.append(\"Content-Disposition: form-data; charset=UTF-8; name=\\\"\"+name+\"\\\"\");\n      if(extraContentDispositions!=null)\n         sb.append(\"; \").append(extraContentDispositions);\n      sb.append(\"\\r\\n\");\n      if(contentType!=null)\n         sb.append(\"Content-Type: \"+contentType+\"\\r\\n\");\n      sb.append(\"\\r\\n\");\n   }   @Override\n   public void write(byte[] buffer, int offset, int length) throws IOException{\n      if(headerBytes!=null) {\n         out.write(headerBytes);\n         headerBytes = null;\n      }\n      out.write(buffer, offset, length);\n   }   @Override\n   public void close() throws IOException{\n      flush();\n      if(footerBytes!=null) {\n         out.write(footerBytes);\n         footerBytes = null;\n      }\n      super.close();\n      int code = con.getResponseCode();\n      onHandleResult(code);\n   }\n   protected void onHandleResult(int code) throws IOException{\n      if(code!=200 &amp;&amp; code!=201)\n         throw new IOException(\"Upload error code: \"+code);\n   }\n}\n</code>\n", "total_len": 651, "s1_total_len": 773, "s2_total_len": 2027}
{"post_id": "31593201", "title": "How are iloc and loc different?", "query": "Can someone explain how these two methods of slicing are different?I've seen the docs,and I've seen these answers, but I still find myself unable to understand how the three are different. To me, they seem interchangeable in large part, because they are at the lower levels of slicing.For example, say we want to get the first five rows of a <code>DataFrame</code>.  How is it that these two work?<code>df.loc[:5]df.iloc[:5]</code>Can someone present three cases where the distinction in uses are clearer?Once upon a time, I also wanted to know how these two functions differ from <code>df.ix[:5]</code> but <code>ix</code> has been removed from pandas 1.0, so I don't care anymore.", "acce_answer": "from listener_bindingsIf you need to use an expression with a predicate (e.g. ternary), you can use void as a symbol. <code>android:onClick=\"@{(v) -&gt; v.isVisible() ? doSomething() : void}\"\n</code>\n", "acce_score": "905", "simquery1_title": "Testing if a pandas DataFrame exists In my code, I have several variables which can either contain a pandas DataFrame or nothing at all.  Let's say I want to test and see if a certain DataFrame has been created yet or not.  My first thought would be to test for it like this:<code>if df1:    # do something</code>However, that code fails in this way:<code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code>Fair enough.  Ideally, I would like to have a presence test that works for either a DataFrame or Python None.  Here is one way this can work:<code>if not isinstance(df1, type(None)):    # do something</code>However, testing for type is really slow.<code>t = timeit.Timer('if None: pass')t.timeit()# approximately 0.04t = timeit.Timer('if isinstance(x, type(None)): pass', setup='x=None')t.timeit()# approximately 0.4</code>Ouch.  Along with being slow, testing for NoneType isn't very flexible, either.  A different solution would be to initialize <code>df1</code> as an empty DataFrame, so that the type would be the same in both the null and non-null cases.  I could then just test using <code>len()</code>, or <code>any()</code>, or something like that.  Making an empty DataFrame seems kind of silly and wasteful, though.Another solution would be to have an indicator variable: <code>df1_exists</code>, which is set to False until <code>df1</code> is created.  Then, instead of testing <code>df1</code>, I would be testing <code>df1_exists</code>.  But this doesn't seem all that elegant, either.Is there a better, more Pythonic way of handling this issue?  Am I missing something, or is this just an awkward side effect all the awesome things about pandas? ", "simquery1_answer": "\r\n\r\n<code>url = \"www.w3schools.com/html/html5_video.asp\"\r\n\r\nVIDEO_LINKS = [];\r\nVIDEO_LIST = [];\r\n\r\nfunction fillVideo(callback) {\r\n  request(url, function(err, res, body) {\r\n    if (body) {\r\n      $ = cheerio.load(body);\r\n    }\r\n    links = $('source');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('src');\r\n      if (value.slice(-3) == \"mp4\" ||\r\n        value.slice(-4) == \"webm\" ||\r\n        value.slice(-3) == \"ogv\") {\r\n        VIDEO_LINKS.push(value);\r\n        VIDEO_LIST.push($(link).text());\r\n\r\n      }\r\n\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writeVideo() {\r\n\r\n  for (j = 0; j &lt; VIDEO_LIST.length; j++) {\r\n    request(VIDEO_LINKS[j]).pipe(fs.createWriteStream(VIDEO_LIST[j]));\r\n  }\r\n}\r\n\r\nfillVideo(writeVideo);</code>\r\n\r\n\r\n\r\n\r\n<code>//www.electronicinfo.ca/printable-pdfs\r\n\r\nPDF_LINKS = [];\r\nPDF_LIST = [];\r\n\r\nfunction fillPDF(callback) {\r\n  request(url, function(err, res, body) {\r\n    $ = cheerio.load(body);\r\n    links = $('a');\r\n    $(links).each(function(i, link) {\r\n      var value = $(link).attr('href');\r\n      if (value.slice(-3) == \"pdf\") {\r\n        PDF_LINKS.push(value);\r\n        PDF_LIST.push($(link).text());\r\n      }\r\n    })\r\n    callback();\r\n  });\r\n}\r\n\r\nfunction writePDF() {\r\n  for (j = 0; j &lt; PDF_LIST.length; j++) {\r\n    request(PDF_LINKS[j]).pipe(fs.createWriteStream(PDF_LIST[j]));\r\n  }\r\n}\r\n\r\nfillPDF(writePDF);</code>\r\n\r\n\r\nHi, This is code that used to work, I changed literally nothing, from about 5 minutes ago, the only thing I changed was duplicating it, and changing variable names. My question is how to fix this code? I know the error is that body is empty, but I dont know how to fix it, i would appeciate any help...\n", "simquery2_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery2_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "total_len": 261, "s1_total_len": 1115, "s2_total_len": 629}
{"post_id": "31684375", "title": "Automatically create requirements.txt", "query": "Sometimes I download the python source code from <code>github</code> and don't know how to install all the dependencies. If there is no <code>requirements.txt</code> file I have to create it by hands.The question is:Given the python source code directory is it possible to create <code>requirements.txt</code> automatically from the import section?", "acce_answer": "I have been trying to get the animation to fire off on click, I have created the animated via TimelineMax. I can't see why but it keeps firing off the first instance of this animation, there are 5 .blackout-panel and it plays the animation automatically for the first .blackout-panel, but I have no idea why - I want the full animation to be controlled by on click.<code>var showBarsTL = new TimelineMax({ paused: true, onComplete: killAnimation });$('.portfolio-panel').on(\"click\", function () {\n    showBarsTL.play()\n});showBarsTL.add (TweenMax.staggerTo(\".blackout-panel\", 0, {y:100+ '%', onStart: \"\", onStartParams:[\"{self}\"], ease: Power1.easeInOut}, 0.1275, 0));\nshowBarsTL.add (TweenMax.from(\".blackout-panel\", 0, {css:{top:\"auto\", bottom:\"0\"}}));\nshowBarsTL.add (TweenMax.staggerTo(\".blackout-panel\", 0, {css:{height:\"0\", bottom:\"0\", top:\"auto\"}, delay: 0.1275, ease: Power1.easeInOut}, 0.1275));function killAnimation() {\n    showBarsTL.clear();\n}\n</code>I have created a codePen to demonstrate this: http://codepen.io/Tekkie/pen/XpBOYV/?editors=1010Any guidance would be appreciated. Also my killAnimation function doesn't seem to be getting fired.EDIT: 1 - I have resolved the pausing issue by putting a delay. My new JS is as follows:<code>var $blackoutPanels = $('.blackout-panel');\nvar showBarsTL = new TimelineMax({ paused: true });showBarsTL\n.add (TweenMax.staggerTo($blackoutPanels, **0.1275**, {y:100+ '%', onStart: \"\", onStartParams:[\"{self}\"], ease: Power1.easeInOut}, 0.1275, 0))\n.add (TweenMax.from($blackoutPanels, 0, {css:{top:\"auto\", bottom:\"0\"}}))\n.add (TweenMax.staggerTo($blackoutPanels, 0, {css:{height:\"0\", bottom:\"0\", top:\"auto\"}, delay: 0.1275, ease: Power1.easeInOut}, 0.1275));$('.portfolio-panel').on(\"click\", function () {\n    showBarsTL.play();\n});\n</code>EDIT: 2 - I have resolved all issues using the following JS:<code>    var $blackoutPanels = $('.blackout-panel');\n    var showBarsTL = new TimelineMax({\n        paused: true\n    });    showBarsTL\n        .add(TweenMax.staggerFrom($blackoutPanels, 0, {\n            yPercent: -100,\n            top: -100 + \"%\",\n            onStartParams: [\"{self}\"],\n            ease: Power0.easeInOut\n        }, 0, 0))\n        .add(TweenMax.staggerTo($blackoutPanels, 0.3, {\n            yPercent: 0,\n            top: 0,\n            onStartParams: [\"{self}\"],\n            ease: Power1.easeInOut\n        }, 0.125, 0))\n        .add(TweenMax.to($blackoutPanels, 3, {\n            yPercent: +100,\n            top: +100 + \"%\",\n            onStartParams: [\"{self}\"],\n            delay: 0.3,\n            ease: SlowMo.ease.config(0.4, 1, false)\n        }, 0.3, 0))\n        .add(TweenMax.to($blackoutPanels, 0, {\n            yPercent: -100,\n            top: -100 + \"%\",\n            delay: 0.375\n        }));    $('.portfolio-panel').on(\"click\", function() {\n        showBarsTL.restart(false, false);\n    });\n</code>\n", "acce_score": "1102", "simquery1_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery1_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 1116, "s1_total_len": 589, "s2_total_len": 597}
{"post_id": "32490629", "title": "Getting today's date in YYYY-MM-DD in Python?", "query": "Is there a nicer way than the following to return today's date in the <code>YYYY-MM-DD</code> format?<code>str(datetime.datetime.today()).split()[0]</code>", "acce_answer": "I have a procedure below, which loops through a cursor does some logic. I have put FOR UPDATE NOWAIT on the cursor to lock my records set, in case someone from another session wants to update the same set.But there may be a scenario where the records I have selected in my cursor, is locked by someone as well, in which case, I want to simply log the locked record in a log table and continue to the next record in the loop.<code>PROCEDURE test(p_id IN NUMBER)\nIS  CURSOR cur_test IS\n  SELECT emp_id,\n         emp_name\n  FROM  \n         EMP\n  FOR UPDATE NOWAIT;  row_locked EXCEPTION;\n  PRAGMA EXCEPTION_INIT(row_locked, -54);  BEGIN\n  FOR r_cur_test  IN cur_test \n  LOOP\n    BEGIN      --do something    EXCEPTION\n      WHEN row_locked THEN\n        --log locked record in log table\n        log_lock('Record is locked');  \n        COMMIT; \n    END;      \n  END LOOP;  --call log function to log a successful run  COMMIT;\nEXCEPTION\n  WHEN OTHERS THEN  \n    --Unsuccessful completion of the run.Trap all unhandled exceptions.\n    --log error in error table    \n    log_lock('Process exited with error');   \n    ROLLBACK;END;\n</code>for  testing, I open session 1 and executed <code>select * from EMP FOR UPDATE NOWAIT\n</code>and in session 2, I executed<code>begin\n  test(1);\nend;\n</code>it always went to the OTHERS exception, as a result of which, the procecure just terminated without continuing looping through the cursor.Can anyone give me some advice? Thanks a lot\n", "acce_score": "879", "simquery1_title": "Convert date to datetime in Python Is there a built-in method for converting a <code>date</code> to a <code>datetime</code> in Python, for example getting the <code>datetime</code> for the midnight of the given date? The opposite conversion is easy: <code>datetime</code> has a <code>.date()</code> method.Do I really have to manually call <code>datetime(d.year, d.month, d.day)</code>?", "simquery1_answer": "Ingoring the crypting part that does not have much to do with creating a unique value I usually use this one:<code>function GetUniqueValue()\n{\n   static $counter = 0; //initalized only 1st time function is called\n   return strtr(microtime(), array('.' =&gt; '', ' ' =&gt; '')) . $counter++;\n}\n</code>When called in same process $counter is increased so value is always unique in same process.When called in different processes you must be really unlucky to get 2 microtime() call with the same values, think that microtime() calls usually have different values also when called in same script.\n", "simquery2_title": "Convert python datetime to epoch with strftime I have a time in UTC from which I want the number of seconds since epoch.I am using strftime to convert it to the number of seconds. Taking 1st April 2012 as an example.<code>&gt;&gt;&gt;datetime.datetime(2012,04,01,0,0).strftime('%s')'1333234800'</code>1st of April 2012 UTC from epoch is 1333238400 but this above returns 1333234800 which is different by 1 hour. So it looks like that strftime is taking my system time into account and applies a timezone shift somewhere. I thought datetime was purely naive?How can I get around that? If possible avoiding to import other libraries unless standard. (I have portability concerns).", "simquery2_answer": "If you are adding the elements dynamically , You have to use the<code>$(document).ready(function (){\n     -- Your Function goes here\n})\n</code>why because for the first time when appending the fadeOut and something else, it has to be created first, then you can follow other logics like, removing or something like that..\nBy the way you have to use 'remove' obviously....Hope this helps......\n", "total_len": 510, "s1_total_len": 265, "s2_total_len": 309}
{"post_id": "33382619", "title": "Plot a horizontal line on a given plot", "query": "How do I add a horizontal line to an existing plot?", "acce_answer": "Seems a PHP thing, test it with:<code>print_r(rawurldecode($_SERVER['QUERY_STRING']));//Result:content=+name</code>and<code>print_r(urldecode($_SERVER['QUERY_STRING']));//Result:content= name</code>Workaround:<code>$result=array();\narray_map(function($a) use (&amp;$result){\n              $a=explode('=',$a);        \n              $result[$a[0]]=$a[1];\n},explode('&amp;',rawurldecode($_SERVER['QUERY_STRING'])));print_r($result);\n</code>\n", "acce_score": "328", "simquery1_title": "Y-Axis ticks on Right Side of Plot I have a simple line plot and need to move the y-axis ticks from the (default) left side of the plot to the right side. Any thoughts on how to do this?", "simquery1_answer": "I'm using ASP.Net MVC 3, spring.net 1.3.2 and nhibernate 3.2. I've been struggling to get the web application to run in IIS 7.5. It works fine inside Visual Studio 2010.The error I'm getting is<code>No Hibernate Session bound to thread, and configuration does not allow creation of non-transactional one here \nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. Exception Details: NHibernate.HibernateException: No Hibernate Session bound to thread, and configuration does not allow creation of non-transactional one hereSource Error: An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  Stack Trace: \n[HibernateException: No Hibernate Session bound to thread, and configuration does not allow creation of non-transactional one here]\n   Spring.Data.NHibernate.SpringSessionContext.CurrentSession() in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Data.NHibernate12\\Data\\NHibernate\\SpringSessionContext.cs:72\n   Technolog.Rma.Business.Repositories.RepairBatchDAO.findRepairBatchPageCount(String login, Int32 rowsPerPage) in C:\\work\\samplemvc\\src\\Technolog.Rma.Business\\Repositories\\RepairBatchDAO.cs:55\n   _dynamic_Technolog.Rma.Business.Repositories.RepairBatchDAO.findRepairBatchPageCount(Object , Object[] ) +273\n   Spring.Reflection.Dynamic.SafeMethod.Invoke(Object target, Object[] arguments) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Core\\Reflection\\Dynamic\\DynamicMethod.cs:156\n   Spring.Aop.Framework.DynamicMethodInvocation.InvokeJoinpoint() in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Aop\\Aop\\Framework\\DynamicMethodInvocation.cs:100\n   Spring.Dao.Support.PersistenceExceptionTranslationInterceptor.Invoke(IMethodInvocation invocation) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Data\\Dao\\Support\\PersistenceExceptionTranslationInterceptor.cs:181&lt;snip/&gt;\n</code>My web.config file is <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n  For more information on how to configure your ASP.NET application, please visit\n  http://go.microsoft.com/fwlink/?LinkId=152368  Spring.Context.Support.ContextHandler, Spring.Core    &lt;resource uri=\"~/Config/propertyConfigurer.xml\" /&gt;\n  --&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;sectionGroup name=\"spring\"&gt;\n      &lt;section name=\"context\" type=\"Spring.Context.Support.MvcContextHandler, Spring.Web.Mvc3\" /&gt;\n    &lt;/sectionGroup&gt;\n  &lt;/configSections&gt;\n  &lt;appSettings&gt;\n    &lt;add key=\"dataFile\" value=\"App_Data\\data.db3\" /&gt;\n    &lt;add key=\"ClientValidationEnabled\" value=\"true\"/&gt;\n    &lt;add key=\"UnobtrusiveJavaScriptEnabled\" value=\"true\"/&gt;\n    &lt;add key=\"Spring.Data.NHibernate.Support.OpenSessionInViewModule.SessionFactoryObjectName\" value=\"SessionFactory\"/&gt;\n  &lt;/appSettings&gt;\n  &lt;spring&gt;\n    &lt;context&gt;\n      &lt;resource uri=\"file://~/Config/propertyConfigurer.xml\" /&gt;\n      &lt;resource uri=\"file://~/Config/sessionFactory.xml\" /&gt;\n      &lt;resource uri=\"file://~/Config/mappers.xml\" /&gt;\n      &lt;resource uri=\"file://~/Config/repositories.xml\" /&gt;\n      &lt;resource uri=\"file://~/Config/controllers.xml\" /&gt;\n      &lt;resource uri=\"file://~/Config/scopedobjects.xml\" /&gt;\n      &lt;resource uri=\"file://~/Config/utils.xml\" /&gt;\n    &lt;/context&gt;\n  &lt;/spring&gt;\n  &lt;system.web&gt;\n    &lt;httpModules&gt;\n      &lt;!--\n      &lt;add name=\"Spring\" type=\"Spring.Context.Support.WebSupportModule, Spring.Web\"/&gt;\n      &lt;add name=\"OpenSessionInView\" type=\"Spring.Data.NHibernate.Support.OpenSessionInViewModule, Spring.Data.NHibernate32\"/&gt; \n      --&gt;\n    &lt;/httpModules&gt;\n    &lt;compilation debug=\"true\" targetFramework=\"4.0\"&gt;\n      &lt;assemblies&gt;\n        &lt;add assembly=\"System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n        &lt;add assembly=\"System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n        &lt;add assembly=\"System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n        &lt;add assembly=\"System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n        &lt;add assembly=\"System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n      &lt;/assemblies&gt;\n    &lt;/compilation&gt;\n    &lt;pages&gt;\n      &lt;namespaces&gt;\n        &lt;add namespace=\"System.Web.Helpers\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc.Ajax\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc.Html\" /&gt;\n        &lt;add namespace=\"System.Web.Routing\" /&gt;\n        &lt;add namespace=\"System.Web.WebPages\" /&gt;\n      &lt;/namespaces&gt;\n    &lt;/pages&gt;\n    &lt;authentication mode=\"Forms\"&gt;\n      &lt;forms loginUrl=\"~/Account/LogOn\" timeout=\"2880\" /&gt;\n    &lt;/authentication&gt;\n    &lt;customErrors mode=\"Off\"/&gt;  &lt;/system.web&gt;\n  &lt;system.webServer&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n    &lt;modules runAllManagedModulesForAllRequests=\"true\"&gt;\n      &lt;add name=\"Spring\" type=\"Spring.Context.Support.WebSupportModule, Spring.Web\"/&gt;\n      &lt;add name=\"OpenSessionInView\" type=\"Spring.Data.NHibernate.Support.OpenSessionInViewModule, Spring.Data.NHibernate32\"/&gt;\n    &lt;/modules&gt;\n    &lt;!--\n    &lt;handlers&gt;\n      &lt;add name=\"SpringPageHandler\" verb=\"*\" path=\"*.aspx\" type=\"Spring.Web.Support.PageHandlerFactory, Spring.Web\"/&gt;\n      &lt;add name=\"SpringWebServiceHandler\" verb=\"*\" path=\"*.asmx\" type=\"Spring.Web.Services.WebServiceHandlerFactory, Spring.Web\" /&gt;\n      &lt;add name=\"SpringContextMonitor\" verb=\"*\" path=\"ContextMonitor.ashx\" type=\"Spring.Web.Support.ContextMonitor, Spring.Web\"/&gt;\n    &lt;/handlers&gt;\n    --&gt;\n  &lt;/system.webServer&gt;\n  &lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.Mvc\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"1.0.0.0-2.0.0.0\" newVersion=\"3.0.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"Newtonsoft.Json\" publicKeyToken=\"30ad4fe6b2a6aeed\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-4.0.7.0\" newVersion=\"4.0.7.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n  &lt;/runtime&gt;\n&lt;/configuration&gt;\n</code>My sessionFactory.xml file is <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;objects xmlns=\"http://www.springframework.net\" \n         xmlns:db=\"http://www.springframework.net/database\"\n         xmlns:tx=\"http://www.springframework.net/tx\"&gt;  &lt;object\n    id=\"siteRoot\"\n    type=\"System.Web.Hosting.HostingEnvironment, System.Web\"\n    factory-method=\"get_ApplicationPhysicalPath\" /&gt;  &lt;object\n    id=\"dataFile\"\n    type=\"System.IO.Path, mscorlib\"\n    factory-method=\"Combine\"&gt;\n    &lt;constructor-arg name=\"path1\" ref=\"siteRoot\" /&gt;\n    &lt;constructor-arg name=\"path2\" value=\"${dataFile}\" /&gt;\n  &lt;/object&gt;  &lt;db:provider id=\"dbProvider\"\n               provider=\"System.Data.SqlClient\"\n               connectionString=\"Data Source=AJASQL7;Initial Catalog=Xanadu;User ID=RMA;Password=RMA;\"/&gt;\n  &lt;object id=\"sessionFactory\" scope=\"application\" type=\"Spring.Data.NHibernate.LocalSessionFactoryObject, Spring.Data.NHibernate32\"&gt;\n    &lt;property name=\"DbProvider\" ref=\"dbProvider\"/&gt;\n    &lt;property name=\"MappingAssemblies\"&gt;\n      &lt;list&gt;\n        &lt;value&gt;Technolog.Rma.Business&lt;/value&gt;\n      &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"HibernateProperties\"&gt;\n      &lt;dictionary&gt;\n        &lt;entry key=\"hibernate.connection.provider\" value=\"NHibernate.Connection.DriverConnectionProvider\"/&gt;\n        &lt;entry key=\"dialect\" value=\"NHibernate.Dialect.MsSql7Dialect\"/&gt;\n        &lt;entry key=\"connection.driver_class\" value=\"NHibernate.Driver.SqlClientDriver\"/&gt;\n        &lt;entry key=\"use_proxy_validator\" value=\"false\" /&gt;\n        &lt;entry key=\"current_session_context_class\" value=\"Spring.Data.NHibernate.SpringSessionContext, Spring.Data.NHibernate32\"/&gt;\n      &lt;/dictionary&gt;\n    &lt;/property&gt;  &lt;/object&gt;  &lt;!-- Transaction Management Strategy - local database transactions --&gt;  &lt;object id=\"transactionManager\"\n        type=\"Spring.Data.NHibernate.HibernateTransactionManager, Spring.Data.NHibernate32\"&gt;\n    &lt;property name=\"DbProvider\" ref=\"dbProvider\"/&gt;\n    &lt;property name=\"SessionFactory\" ref=\"sessionFactory\"/&gt;\n  &lt;/object&gt;  &lt;!-- Exception translation object post processor --&gt;\n  &lt;object type=\"Spring.Dao.Attributes.PersistenceExceptionTranslationPostProcessor, Spring.Data\"/&gt;&lt;/objects&gt;\n</code>Part of my  RepairBatchDao is <code>[Repository]\nclass RepairBatchDAO : IRepairBatchDAO\n{    public ISessionFactory SessionFactory { get; set; }    public long findRepairBatchPageCount(string login, int rowsPerPage)\n    {\n        var rowCount = 1L;\n        var session = SessionFactory.GetCurrentSession(); // line 55\n        var transaction = session.BeginTransaction();\n        try\n        {\n            transaction = session.BeginTransaction();\n            var hqlCountQuery = session.CreateQuery(\"select count(*) from Technolog.Rma.Business.Domain.RepairBatch rb where rb.Customer.Login=?\")\n                            .SetParameter(0, login);\n            rowCount = hqlCountQuery.UniqueResult&lt;long&gt;();\n            transaction.Commit();\n            return (rowCount + rowsPerPage - 1) / rowsPerPage;\n        }\n        catch\n        {\n            if (transaction != null) transaction.Rollback();\n        }\n        finally\n        {\n            if (session != null) session.Close(); // I shouldn't be doing this...\n        }        return 0L;    }    // snip ...\n</code>I've spent too much time trying to fix this myself. I'm hoping somebody can point me in the right direction. I've checked various posts in stackoverflow (too many to mention) but they haven't helped. I'm a Java guy and this is my first .net project so aren't sure whether I've done anything silly.25/9/2012I've made changes to my customerDAO<code> public class CustomerDAO : ICustomerDAO\n    {        public ISessionFactory SessionFactory { get; set; }        private TransactionTemplate tt;        public IPlatformTransactionManager  TransactionManager\n        {\n            set { tt = new TransactionTemplate(value); }\n        }\n &lt;snip/&gt;\n        public Customer find(string login) \n        {\n            IList&lt;Customer&gt; customers;\n            Object result = tt.Execute(delegate(ITransactionStatus status) //line 42\n            {\n                var transaction = status.Transaction;                  var session = this.SessionFactory.GetCurrentSession();\n                  //var transaction = session.BeginTransaction();\n                  try\n                  {\n                      customers = session.CreateQuery(\"from Technolog.Rma.Business.Domain.Customer Customer where Customer.Login=?\")\n                          .SetParameter(0, login)\n                          .List&lt;Customer&gt;();                      if (customers.Count &gt; 0)\n                      {\n                          return customers[0];\n                      }\n                  }\n                  catch\n                  {                  }\n                  finally\n                  {\n                      if (session != null) session.Close();\n                  }                  return null;\n              });\n            return (Customer)result;        }\n</code>The error I'm now getting is<code>Server Error in '/RMA' Application.\n--------------------------------------------------------------------------------Cannot access a disposed object.\nObject name: 'AdoTransaction'. \nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. Exception Details: System.ObjectDisposedException: Cannot access a disposed object.\nObject name: 'AdoTransaction'.Source Error: An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  Stack Trace: \n[ObjectDisposedException: Cannot access a disposed object.\nObject name: 'AdoTransaction'.]\n   NHibernate.Transaction.AdoTransaction.Commit() +425\n   Spring.Data.NHibernate.HibernateTransactionManager.DoCommit(DefaultTransactionStatus status) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Data.NHibernate\\Data\\NHibernate\\HibernateTransactionManager.cs:579\n   Spring.Transaction.Support.AbstractPlatformTransactionManager.ProcessCommit(DefaultTransactionStatus status) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Data\\Transaction\\Support\\AbstractPlatformTransactionManager.cs:853\n   Spring.Transaction.Support.TransactionTemplate.Execute(TransactionDelegate transactionMethod) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Data\\Transaction\\Support\\TransactionTemplate.cs:159\n   Technolog.Rma.Business.Repositories.CustomerDAO.find(String login) in C:\\work\\samplemvc\\src\\Technolog.Rma.Business\\Repositories\\CustomerDAO.cs:42\n   _dynamic_Technolog.Rma.Business.Repositories.CustomerDAO.find(Object , Object[] ) +147\n   Spring.Reflection.Dynamic.SafeMethod.Invoke(Object target, Object[] arguments) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Core\\Reflection\\Dynamic\\DynamicMethod.cs:156\n   Spring.Aop.Framework.DynamicMethodInvocation.InvokeJoinpoint() in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Aop\\Aop\\Framework\\DynamicMethodInvocation.cs:100\n   Spring.Dao.Support.PersistenceExceptionTranslationInterceptor.Invoke(IMethodInvocation invocation) in c:\\_prj\\spring-net\\trunk\\src\\Spring\\Spring.Data\\Dao\\Support\\PersistenceExceptionTranslationInterceptor.cs:190\n   CompositionAopProxy_33677284ca854c0b8c01a5b0ae0a0524.find(String login) +383\n   Technolog.Rma.Web.Controllers.HomeController.Index(Int32 page) in C:\\work\\samplemvc\\src\\Technolog.Rma.Web\\Controllers\\HomeController.cs:36\n   lambda_method(Closure , ControllerBase , Object[] ) +112\n   System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters) +248\n   System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters) +39\n   System.Web.Mvc.&lt;&gt;c__DisplayClass15.&lt;InvokeActionMethodWithFilters&gt;b__12() +125\n   System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation) +640\n   System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters) +312\n   System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName) +691\n   System.Web.Mvc.Controller.ExecuteCore() +162\n   System.Web.Mvc.ControllerBase.Execute(RequestContext requestContext) +305\n   System.Web.Mvc.&lt;&gt;c__DisplayClassb.&lt;BeginProcessRequest&gt;b__5() +62\n   System.Web.Mvc.Async.&lt;&gt;c__DisplayClass1.&lt;MakeVoidDelegate&gt;b__0() +20\n   System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +469\n   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously) +375\n--------------------------------------------------------------------------------\nVersion Information: Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.0.30319.272 \n</code>\n", "simquery2_title": "How to plot a gradient color line To state it in a general form, I'm looking for a way to join several points with a gradient color line using matplotlib, and I'm not finding it anywhere.To be more specific, I'm plotting a 2D random walk with a one color line. But, as the points have a relevant sequence, I would like to look at the plot and see where the data has moved. A gradient colored line would do the trick. Or a line with gradually changing transparency.I'm just trying to improve the vizualization of my data. Check out this beautiful image produced by the ggplot2 package of R. I'm looking for the same in matplotlib. Thanks.", "simquery2_answer": "I'm accessing a cross-domain webservice utilizing an.ajax jquery call from an html page.  While I can see the jsonp data using firebug, I am not able to load it into a variable or even display it (for debugging purposes).  Attempts to retrieve data using the jsonpCallback, success and complete functions always result in 'undefined' / null data.  Ultimately, I need to save the data to variables.  Any assistance will be greatly appreciated!<code>$.ajax({\n    data: {\n        User: UserValue,\n        GUID: GUIDValue\n    },\n    cache: false,\n    dataType: \"jsonp\", // tried json\n    type: \"GET\",\n    crossDomain: true,\n    jsonp: false,  // tried true\n    jsonpCallback: function (saveData) {\n        if (saveData == null) {\n            alert(\"DATA IS UNDEFINED!\");  // displays every time\n        }\n        alert(\"Success is \" + saveData);  // 'Success is undefined'\n    },\n    url: \"http://localhost/NotifMOD/NotifService.svc/GetAllMessages?callback=success?\",\n    async: false, // tried true\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n         console.log(textStatus, errorThrown);\n    },\n    complete: function (a, b) {\n        alert(a); //[object Object]\n        alert(b); // parseerror\n    }\n});\n</code>\n", "total_len": 180, "s1_total_len": 5090, "s2_total_len": 504}
{"post_id": "33533148", "title": "How do I type hint a method with the type of the enclosing class?", "query": "I have the following code in Python 3:<code>class Position:    def __init__(self, x: int, y: int):        self.x = x        self.y = y    def __add__(self, other: Position) -&gt; Position:        return Position(self.x + other.x, self.y + other.y)</code>But my editor (PyCharm) says that the reference <code>Position</code> can not be resolved (in the <code>__add__</code> method). How should I specify that I expect the return type to be of type <code>Position</code>?Edit: I think this is actually a PyCharm issue. It actually uses the information in its warnings, and code completion.But correct me if I'm wrong, and need to use some other syntax.", "acce_answer": "finally got it without the <code>align=\"center\"</code> hack. using only legal css margins<code>legend{\n    width: 70px;\n    padding: 2px;\n    margin-left: calc(50% - 35px - 2px);\n}\n</code>\n", "acce_score": "1156", "simquery1_title": "__init__ as a constructor? Dive into Python -  It would be tempting but incorrect to  call this the constructor of the  class. It's tempting, because it looks  like a constructor (by convention,  <code>__init__</code> is the first method defined for the class), acts like one (it's  the first piece of code executed in a  newly created instance of the class),  and even sounds like one (\u201cinit\u201d  certainly suggests a constructor-ish  nature). Incorrect, because the object  has already been constructed by the  time <code>__init__</code> is called, and you  already have a valid reference to the  new instance of the class.Quote suggests it is incorrect to call <code>__init__</code> as a constructor because the object is already constructed by the time <code>__init__</code> is called. But! I have always been under the impression that the constructor is called only after the object is constructed because it is essentially used  to initialized the data members of the instance which wouldn't make sense if the object didn't exist by the time constructor was called? (coming from C++/Java background)", "simquery1_answer": "i have this html:<code>&lt;ul class=\"cont_ul4\"&gt;&lt;li class=\"cont_li\"&gt;\n&lt;div class=\"cont_picture\"&gt;\n&lt;a href=\"\"&gt;&lt;img src=\"1.jpg\" width=\"150\" height=\"225\" &gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;/li&gt;&lt;li class=\"cont_li\"&gt;\n&lt;div class=\"cont_picture\"&gt;\n&lt;a href=\"\"&gt;&lt;img src=\"2.jpg\" width=\"150\" height=\"225\" &gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;/li&gt;&lt;/ul&gt;\n</code>and this function:<code>function ajax_request() {\n$('#placeholder').html('&lt;p&gt;&lt;img class=\"loader\" src=\"/loader.gif\"&gt;&lt;/p&gt;');\n$('#placeholder').load(\"/test.php?id=1234556\");\n}\n</code>what i need is when i click on the image to trigger this function.with an input button i could do this:<code>&lt;input type=\"button\" onclick=\"ajax_request()\" value=\"Click Me!\" /&gt;\n</code>any ideas?\nThanks\n", "simquery2_title": "Is there a GUI design app for the Tkinter / grid geometry? Does anyone know of a GUI design app that lets you choose/drag/drop the widgets, and then turn that layout into Python code with the appropriate Tkinter calls &amp; arrangement using the <code>grid</code> geometry manager?  So far I've turned up a couple of pretty nice options that I may end up using, but they generate code using either <code>pack</code> or <code>place</code> instead.=========EDIT:  Please note this is not to seek a &quot;recommendation&quot; per se, but rather it is a factual inquiry.  I was asking whether or not such an app exists.=====Before you say it:  Yes, I know Tkinter is easy to learn, and Yes, I've found multiple online sources to help me do so, and I'm already on my way with that.  This isn't about avoiding the effort of learning, it's about using the right tool for the job.  I found out a long time ago that those drag-and-drop widget environments for coding program logic, are just too klunky and unmanageable when the project gets beyond a certain size -- for bigger stuff, it's just easier to build and maintain the logic when it's in plain text.  More recently I've found out that the reverse is true for designing a GUI.  Writing text works up to a point, but when you have a main window with 30 or 40 widgets, plus a couple of side windows each with similar complexity, it goes much faster and easier if you can design it graphically rather than typing it all out.", "simquery2_answer": "You may try this<code>function addEvent(elem, event, fn)\n{\n    if (elem.addEventListener)\n    {\n        elem.addEventListener(event, fn, false);\n    }\n    else\n    {\n        elem.attachEvent(\"on\" + event, function() {\n            return(fn.call(elem, window.event));   \n        });\n    }\n}addEvent(window, 'load', function(e){\n    var list = document.querySelector('.list-class');\n    addEvent(list, 'click',  function(e){\n         e = e || window.event;\n         var el = e.target || e.srcElement;\n         alert(el.innerHTML);\n    });\n});\n</code>DEMO.\n", "total_len": 281, "s1_total_len": 602, "s2_total_len": 550}
{"post_id": "47068709", "title": "Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX2", "query": "I have recently installed tensorflow (Windows CPU version) and received the following message:Successfully installed tensorflow-1.4.0 tensorflow-tensorboard-0.4.0rc2Then when I tried to run<code>import tensorflow as tfhello = tf.constant('Hello, TensorFlow!')sess = tf.Session()sess.run(hello)'Hello, TensorFlow!'a = tf.constant(10)b = tf.constant(32)sess.run(a + b)42sess.close()</code>(which I found through https://github.com/tensorflow/tensorflow)I received the following message:2017-11-02 01:56:21.698935: I C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX2But when I ran<code>import tensorflow as tfhello = tf.constant('Hello, TensorFlow!')sess = tf.Session()print(sess.run(hello))</code>it ran as it should and output <code>Hello, TensorFlow!</code>, which indicates that the installation was successful indeed but there is something else that is wrong.Do you know what the problem is and how to fix it?", "acce_answer": "Use <code>ptest</code>:<code>ptest xmm0, xmm0\njz .zero\n</code><code>ptest a, b</code> sets ZF if <code>a</code> &and; <code>b</code> is zero and CF if <code>a</code> &and; &not; <code>b</code> is zero.Note however that SSE 4.1 is required for <code>ptest</code> to be present.Otherwise, I suppose your approach is as good as it gets.\n", "acce_score": "768", "simquery1_title": "pip 10 and apt: how to avoid \"Cannot uninstall X\" errors for distutils packages I am dealing with a legacy Dockerfile. Here is a very simplified version of what I am dealing with:<code>FROM ubuntu:14.04RUN apt-get -y update &amp;&amp; apt-get -y install \\    python-pip \\    python-numpy # ...and many other packagesRUN pip install -U pipRUN pip install -r /tmp/requirements1.txt # includes e.g., numpy==1.13.0RUN pip install -r /tmp/requirements2.txtRUN pip install -r /tmp/requirements3.txt</code>First, several packages are installed using <code>apt</code>, and then several packages are installed using <code>pip</code>. <code>pip</code> version 10 has been released, and part of the release is this new restriction:Removed support for uninstalling projects which have been installed using distutils. distutils installed projects do not include metadata indicating what files belong to that install and thus it is impossible to actually uninstall them rather than just remove the metadata saying they've been installed while leaving all of the actual files behind.This leads to the following problem in my setup. For example, first <code>apt</code> installs <code>python-numpy</code>. Later <code>pip</code> tries to install a newer version of <code>numpy</code> from e.g., <code>/tmp/requirements1.txt</code>, and tries to uninstall the older version, but because of the new restriction, it cannot remove this version:<code>Installing collected packages: numpy  Found existing installation: numpy 1.8.2Cannot uninstall 'numpy'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.</code>Now I know at this point there are several solutions.I could not install <code>python-numpy</code> through <code>apt</code>. However, this causes issues because <code>python-numpy</code> installs a few different packages as requirements, and I do not know if another part of the system relies on these packages. And in reality, there are several <code>apt</code> packages installed through the Dockerfile, and each one I remove seems to reveal another <code>Cannot uninstall X</code> error, and removes a number of other packages along with it, that our app may or may not rely on.I could also use the <code>--ignore-installed</code> option when I try to <code>pip</code> install things that have already been installed through <code>apt</code>, but then again I have the same problem of every <code>--ignore-installed</code> argument revealing yet another thing that needs to be ignored.I could pin <code>pip</code> at an older version that does not have this restriction, but I don't want to be stuck using an outdated version of <code>pip</code> forever.I have been going around in circles trying to come up with a good solution that involves minimal changes to this legacy Dockerfile, and allows the app we deploy with that file to continue to function as it has been. Any suggestions as to how I can safely get around this problem of <code>pip</code> 10 not being able to install newer versions of <code>distutils</code> packages? Thank you!UPDATE:I did not realize that <code>--ignore-installed</code> could be used without a package as an argument to ignore all installed packages. I am considering whether or not this might be a good option for me, and have asked about it here.", "simquery1_answer": "Here You go,\n<code>n = int(input(&quot;Input triangle height: &quot;))for var in range(n-1, -1,-1):\n    for i in range(0, n - var - 1):\n        print(end=&quot; &quot;)\n    for i in range(0, var + 1):\n        print(&quot;*&quot;, end=&quot; &quot;)\n    print()\n</code>\n", "simquery2_title": "How to create conda environment with specific python version? I have <code>miniconda3</code> installed and since I would like to have an environment with python version 3.3.0, I create it via<code>conda create -n &quot;myenv&quot; python=3.3.0</code>However when I activate the environment via<code>conda activate myenv</code>python has version 2.7.15 and path<code>/usr/bin/python</code>and ipython has python version 3.6.8 and path<code>/home/myname/.local/bin/ipython</code>I can access the correct python with <code>python3</code> which is at<code>/home/myname/miniconda3/envs/myenv/bin/python3</code>however, <code>ipython3</code> has python version 3.6.8 again.<code>conda install python=3.3.0</code>left the situation unchanged.A solution would be to open IPython via<code>python3 -m IPython</code>however, while this works fine for <code>python</code> here I get the error message<code>/home/myname/miniconda3/envs/myenv/bin/python3: No module named IPython</code>Is it possible to access with the commands <code>python</code> and <code>ipython</code> both python version 3.3.0 in that specific environment, i.e. not by setting an alias in the <code>.bashrc</code>?EDIT:Turns out that this problem does not occur if you select version 3.3 instead of 3.3.0 together with @ilmarinen's answer<code>conda create -n &quot;myenv&quot; python=3.3 ipython</code>everything works fine and <code>python</code> as well as <code>ipython</code> result to version python <code>3.3.5</code>.", "simquery2_answer": "When I call the getLandById function in remix it gives the desired result as you can see in the screenshot\nScreeshot of remix IDE to get landIdbyId\nWhen I call the same function using ether js. it will gives the output like this :\n<code>[ '0.007062190', '-0.01878356', '\\x00\\x00', [Getter] ]\n</code>\nInstead of\n<code>[ '0.007062190', '-0.01878356', '-0.019048060716011,0.007015231577652,-0.018794627684582,0.007386060761845,-0.018423798497481,0.007132627732498,-0.018677231528875,0.006761798548127,-0.019048060716011,0.007015231577652']\n</code>\nI'm struggling to understand how to get the data. Any idea on what should I do to get the desired result? An example would be great.\nEther-js code:\n<code>let customHttpProvider = new ethers.providers.JsonRpcProvider(API_URL);\nconst contract = new ethers.Contract(\n  Contract_Address,\n  contractAbi,\n  customHttpProvider\n);//Calling readOnly Method\nasync function getLand() {\n  const getLandById = await contract.getLandById(&quot;502&quot;);  console.log(&quot;Land-Info&quot;, getLandById);\n}getLand();\n</code>\nContract ABIs:\n<code>{\n        &quot;inputs&quot;: [\n            {\n                &quot;internalType&quot;: &quot;uint256&quot;,\n                &quot;name&quot;: &quot;landId&quot;,\n                &quot;type&quot;: &quot;uint256&quot;\n            }\n        ],\n        &quot;name&quot;: &quot;getLandById&quot;,\n        &quot;outputs&quot;: [\n            {\n                &quot;internalType&quot;: &quot;string&quot;,\n                &quot;name&quot;: &quot;&quot;,\n                &quot;type&quot;: &quot;string&quot;\n            },\n            {\n                &quot;internalType&quot;: &quot;string&quot;,\n                &quot;name&quot;: &quot;&quot;,\n                &quot;type&quot;: &quot;string&quot;\n            },\n            {\n                &quot;internalType&quot;: &quot;string&quot;,\n                &quot;name&quot;: &quot;&quot;,\n                &quot;type&quot;: &quot;string&quot;\n            },\n            {\n                &quot;components&quot;: [\n                    {\n                        &quot;internalType&quot;: &quot;string&quot;,\n                        &quot;name&quot;: &quot;longitude&quot;,\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    {\n                        &quot;internalType&quot;: &quot;string&quot;,\n                        &quot;name&quot;: &quot;latitude&quot;,\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                ],\n                &quot;internalType&quot;: &quot;struct LandContract.PolygonCoordinates[]&quot;,\n                &quot;name&quot;: &quot;&quot;,\n                &quot;type&quot;: &quot;tuple[]&quot;\n            }\n        ],\n        &quot;stateMutability&quot;: &quot;view&quot;,\n        &quot;type&quot;: &quot;function&quot;\n    },\n</code>\nSolidity code:\n<code>function getLandById(uint landId)\n        public\n        view\n        returns (\n            string memory,\n            string memory,\n            PolygonCoordinates[] memory\n        )\n    {\n        if (!_exists(landId)) {\n            revert IdNotExist();\n        }        PolygonCoordinates[] memory coordinates = new PolygonCoordinates[](\n            land[landId].polygonCoordinates.length\n        );        for (uint i = 0; i &lt; land[landId].polygonCoordinates.length; ) {\n            coordinates[i].longitude = land[landId]\n                .polygonCoordinates[i]\n                .longitude;\n            coordinates[i].latitude = land[landId]\n                .polygonCoordinates[i]\n                .latitude;            unchecked {\n                i++;\n            }\n        }        return (land[landId].longitude, land[landId].latitude, coordinates);\n    }\n</code>\n", "total_len": 480, "s1_total_len": 924, "s2_total_len": 1746}
{"post_id": "48152674", "title": "How do I check if PyTorch is using the GPU?", "query": "How do I check if PyTorch is using the GPU? The <code>nvidia-smi</code> command can detect GPU activity, but I want to check it directly from inside a Python script.", "acce_answer": "I have init.py and blobquickstartv12.py within the same Azure Function \"Test-v3\". While init.py is a blob trigger, \"blobquickstartv12.py \" has the python code that I want to run. The only way I am able to run my code in blobquickstartv12.py is if I paste the entire code within the main() function of init.py.I tried using <code>from blobquickstartv12 import load</code> where load is a function in my blobquickstartv12.py code but that gave me Exception: ModuleNotFoundError: No module named 'blobquickstartv12' Can anyone tell me how can I call my custom code from within init.py\nThis is how the structure  of my Azure Function looks like:Here is my code in init.py:<code>import azure.functions as func\nimport pandas as pd\nimport numpy as np\nfrom datetime import datetime\nfrom pandas import ExcelFile\nfrom pandas import ExcelWriter\nfrom datetime import datetime, timedelta\nfrom azure.storage.blob import BlockBlobService\nimport pyodbc\nimport sys\nimport os\nfrom io import StringIO\nimport pkgutil\nfrom . import blobquickstartv12def main(myblob: func.InputStream):\n    logging.info(f\"Python blob trigger function processed blob \\n\"\n                 f\"Name: {myblob.name}\\n\"\n                 f\"Blob Size: {myblob.length} bytes\")\nload=blobquickstartv12.load() \n</code>Here is my code for blobquickstart.py:<code>class load:    #CODE FOR CONNECTING TO THE SQL DATABASE\n    SERVER = 'xxxxxx.database.windows.net'\n    DATABASE = 'XYZ'\n    username = 'USERNAME'\n    pwd = 'PASSWORD'\n    driver= '{ODBC Driver 17 for SQL Server}'\n    cnxn = pyodbc.connect('DRIVER='+driver+';SERVER='+SERVER+';PORT=1433;DATABASE='+DATABASE+';UID='+username+';PWD='+ pwd)\n    cursor = cnxn.cursor()\n    print(\"Connected to Azure SQL\")\n    #sqlcommand = (\"INSERT INTO Stage.File(File_ID,File_type) VALUES (1235,'D')\")\n    Curr_dt = datetime.now()    BLOB_STORAGEACCOUNTNAME=\"blobstorage\"\n    BLOB_STORAGEACCOUNTKEY=\"AccountKey\"\n    BLOBNAME=\"BlobName\"\n    CONTAINERNAME= \"ContainerName\"\n</code>\n", "acce_score": "495", "simquery1_title": "Windows Scipy Install: No Lapack/Blas Resources Found I am trying to install python and a series of packages onto a 64bit windows 7 desktop. I have installed Python 3.4, have Microsoft Visual Studio C++ installed, and have successfully installed numpy, pandas and a few others. I am getting the following error when trying to install scipy;<code>numpy.distutils.system_info.NotFoundError: no lapack/blas resources found</code>I am using pip install offline, the install command I am using is;<code>pip install --no-index --find-links=\"S:\\python\\scipy 0.15.0\" scipy</code>I have read the posts on here about requiring a compiler which if I understand correctly is the VS C++ compiler. I am using the 2010 version as I am using Python 3.4. This has worked for other packages.Do I have to use the window binary or is there a way I can get pip install to work?Many thanks for the help", "simquery1_answer": "I'm trying to read a yaml config file using viper (see viper docs). But I cannot see a way to read the sequence of map values under issue-types. I've tried the various Get_ methods\nbut none seem to support this.<code>remote:\n  host: http://localhost/\n  user: admin\n  password:  changeitmapping:\n    source-project-key: IT\n    remote-project-key: SCRUMissue-types:\n  - source-type: Incident\n    remote-type: Task\n  - source-type: Service Request\n    remote-type: Task\n  - source-type: Change\n    remote-type: Story\n  - source-type: Problem\n    remote-type: Task\n</code>I'd like to be able to iterate over the sequence of map[strings] \n", "simquery2_title": "How can I rewrite python __version__ with git? I would like to define a <code>__version__</code> variable in my module which should be automatically updated on git commit similarly to what SVN keywords do. Is there a way to achieve it in Git? Does anyone have a working example?I considered using GitPython, but I would not like to introduce another dependency and I want users who download the module from SVN repo or as a zip package to have the same versioning scheme (I do not care that is some illegible hash).Edit: My particular problem is that I have to run simulations whose result depend on the exact version of the simulation script. Therefore each time I have to store version number together with the simulation results. If both run out of sync, it may have very dire outcomes.", "simquery2_answer": "How do I position this ViewController over the detail view modally? I want it to be right aligned so you can see the navigation portion greyed out.<code>[self.window addSubview:self.splitViewController.view];\nMyModalViewController *modalvc= [MyModalViewController new]; //brevity\nmodalvc.modalInPopover = YES;\nmodalvc.modalPresentationStyle = UIModalPresentationStylePageSheet;\nmodalvc.view.autoresizeMask = UIViewAutoresizeFlexibleRightMargin;\n[self.splitViewController presentModalView:modalvc animated:NO];\n[self.window makeKeyAndVisible];\n</code>I also checked in MyModalViewController if im setting the views mask and I am not, nor is it getting magic values from a Nib.  Adjusting the frame before the present (using modalvc.view.frame) does nothing.Adjusting the frame after the present seems to yield crazy results, and I only really need it to be half a width over in landscape... portrait is normal behavior.edit\nthe picture confused people so I took it out, I dont want the modal view to be the size of the screen, I want to keep it UIModalPresentationStylePageSheet but have its ORIGIN moved right so that it covers the detail view portion in landscape\n", "total_len": 668, "s1_total_len": 422, "s2_total_len": 459}
{"post_id": "20638006", "title": "Convert list of dictionaries to a pandas DataFrame", "query": "How can I convert a list of dictionaries into a <code>DataFrame</code>? Given:<code>[{'points': 50, 'time': '5:00', 'year': 2010},  {'points': 25, 'time': '6:00', 'month': &quot;february&quot;},  {'points':90, 'time': '9:00', 'month': 'january'},  {'points_h1':20, 'month': 'june'}]</code>I want to turn the above into a <code>DataFrame</code>:<code>      month  points  points_h1  time  year0       NaN      50        NaN  5:00  20101  february      25        NaN  6:00   NaN2   january      90        NaN  9:00   NaN3      june     NaN         20   NaN   NaN</code>Note: Order of the columns does not matter.", "acce_answer": "It should be the following. \n   Where you would have to add the id attribute to the p tag.<code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Study Quiz&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /&gt;\n    &lt;script&gt;\n       function quiz() {\n          var rnd = Math.floor(Math.random() * 4);\n          document.getElementById(\"demo\").innerHTML = rnd;\n       }\n       quiz(); // Will not work here because there is no such \n               // element with ID \"demo\" at this point in the page load.    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p id = \"qarea\"&gt;&lt;p&gt;\n&lt;p id = \"demo\"&gt;&lt;/p&gt;\n&lt;script&gt;\n   document.addEventListener( \"DOMContentLoaded\", function(){\n      quiz(); // Will work here because the DOM is loaded at this point.\n   });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code>\n", "acce_score": "1138", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "Get column by number in Pandas What's the difference between:<code>Maand['P_Sanyo_Gesloten']Out[119]: Time2012-08-01 00:00:11    02012-08-01 00:05:10    02012-08-01 00:10:11    02012-08-01 00:20:10    02012-08-01 00:25:10    02012-08-01 00:30:09    02012-08-01 00:40:10    02012-08-01 00:50:09    02012-08-01 01:05:10    02012-08-01 01:10:10    02012-08-01 01:15:10    02012-08-01 01:25:10    02012-08-01 01:30:10    02012-08-01 01:35:09    02012-08-01 01:40:10    0...2012-08-30 22:35:09    02012-08-30 22:45:10    02012-08-30 22:50:09    02012-08-30 22:55:10    02012-08-30 23:00:09    02012-08-30 23:05:10    02012-08-30 23:10:09    02012-08-30 23:15:10    02012-08-30 23:20:09    02012-08-30 23:25:10    02012-08-30 23:35:09    02012-08-30 23:40:10    02012-08-30 23:45:09    02012-08-30 23:50:10    02012-08-30 23:55:11    0Name: P_Sanyo_Gesloten, Length: 7413, dtype: int64</code>And<code>Maand[[1]]Out[120]: &amp;ltclass 'pandas.core.frame.DataFrame'&amp;gtDatetimeIndex: 7413 entries, 2012-08-01 00:00:11 to 2012-08-30 23:55:11Data columns (total 1 columns):P_Sanyo_Gesloten    7413  non-null valuesdtypes: int64(1)</code>How can I get column by its index number? And not by an index string?", "simquery2_answer": "A C++ declaration (in the simplest case) consists of two parts:\na declaration specifier, and a declarator.  Everything up to\neither what is being declared or the first \"operator\" (e.g. <code>*</code>\nor <code>&amp;</code>) is part of the declaration specifier, where order\ndoesn't matter.  So you're free to write things like:<code>int const unsigned static i;\n</code>(if you don't care what your co-worker think of your code).C has deprecated putting the storage class specifier (<code>static</code>,\n<code>extern</code>, etc.) anywhere but in the first position, and this was\na generally accepted convention since the earliest days of C.\nFor the rest: \nI've always seen the modifier precede the basic type (e.g.\n<code>unsigned int</code>), when the basic type appears.  Most of the\nplaces I've worked will use simply <code>unsigned</code>, rather than\n<code>unsigned int</code>.\nI've also always seen the <code>signed</code>/<code>unsigned</code> precede any\nlength modifiers: <code>unsigned long</code>, rather than <code>long unsigned</code>.\nThe position of <code>const</code> or <code>volatile</code> tends to vary.  Most of\nthe more experienced programmers I know put it at the very end\nof the declaration specifier, but this is a somewhat recent\ndevelopment, and a lot of people continue to use the older\nconvention, and put it immediately after the storage class\nspecifier.\nFor all but the storage class specifiers, this is fairly\narbitrary; about the only other rule I'd say is universal is to\nnot split up the actual type information, as I did in my\nexample.\n", "total_len": 567, "s1_total_len": 1245, "s2_total_len": 1269}
{"post_id": "20646822", "title": "How to serve static files in Flask", "query": "So this is embarrassing. I've got an application that I threw together in <code>Flask</code> and for now it is just serving up a single static HTML page with some links to CSS and JS. And I can't find where in the documentation <code>Flask</code> describes returning static files. Yes, I could use <code>render_template</code> but I know the data is not templatized. I'd have thought <code>send_file</code> or <code>url_for</code> was the right thing, but I could not get those to work. In the meantime, I am opening the files, reading content, and rigging up a <code>Response</code> with appropriate mimetype:<code>import os.pathfrom flask import Flask, Responseapp = Flask(__name__)app.config.from_object(__name__)def root_dir():  # pragma: no cover    return os.path.abspath(os.path.dirname(__file__))def get_file(filename):  # pragma: no cover    try:        src = os.path.join(root_dir(), filename)        # Figure out how flask returns static files        # Tried:        # - render_template        # - send_file        # This should not be so non-obvious        return open(src).read()    except IOError as exc:        return str(exc)@app.route('/', methods=['GET'])def metrics():  # pragma: no cover    content = get_file('jenkins_analytics.html')    return Response(content, mimetype=&quot;text/html&quot;)@app.route('/', defaults={'path': ''})@app.route('/&lt;path:path&gt;')def get_resource(path):  # pragma: no cover    mimetypes = {        &quot;.css&quot;: &quot;text/css&quot;,        &quot;.html&quot;: &quot;text/html&quot;,        &quot;.js&quot;: &quot;application/javascript&quot;,    }    complete_path = os.path.join(root_dir(), path)    ext = os.path.splitext(path)[1]    mimetype = mimetypes.get(ext, &quot;text/html&quot;)    content = get_file(complete_path)    return Response(content, mimetype=mimetype)if __name__ == '__main__':  # pragma: no cover    app.run(port=80)</code>Someone want to give a code sample or url for this? I know this is going to be dead simple.", "acce_answer": "In C# code I'd like to use my Int32 properties as they are designed - as int, but when converted to Json using Json.NET I'd like them to be serialized as a URI, so I don't have to map all my models to another model simply for json output. e.g. a simpliflied model:<code>public class Order\n{\n    public int? AccountID { get; set; }\n    public int ProductID { get; set; }\n    public decimal Total { get; set; }\n}\n</code>I'd like this to be rendered like this:<code>{ \"accountUri\": \"/account/123\", \"productUri\": \"/product/456\", \"total\": 789.01 }\n</code>Note the casing and property renames have changed.If AccountID is null then the json must render like this:<code>{ \"productUri\": \"/product/456\", \"total\": 789.01 }\n</code>In C# code I'd still like to use the properties as you would a normal int - so I'm thinking to use int operator overrides.I don't want to use attributes on the model properties, but I'm happy to use a wrapper class for the Int32 and don't mind using attributes on the wrapper class if required.The following code is a fair way from the answer, but you get the gist:<code>    public class Order\n    {\n        public AccountIdentifier AccountID { get; set; }\n        public ProductIdentifier ProductID { get; set; }\n        public decimal Total { get; set; }\n    }    public abstract class IdentifierBase\n    {\n        private readonly string _uriPrefix;\n        private int? _value;        protected IdentifierBase(string uriPrefix, int? value)\n        {\n            _uriPrefix = uriPrefix;\n            _value = value;\n        }        public override string ToString()\n        {\n            if (_value.HasValue)\n                return _uriPrefix + _value.Value;\n            return null;\n        }        // insert int operator overrides here.\n    }    public class AccountIdentifier : IdentifierBase\n    {\n        public AccountIdentifier(int? value)\n            : base(\"/account/\", value)\n        {\n        }\n    }    public class ProductIdentifier : IdentifierBase\n    {\n        public ProductIdentifier(int? value)\n            : base(\"/product/\", value)\n        {\n        }\n    }    [Test]\n    public void JsonConvert()\n    {\n        var order = new Order\n        {\n            AccountID = new AccountIdentifier(123),\n            ProductID = new ProductIdentifier(456),\n            Total = 789.01M\n        };        using (var stringWriter = new StringWriter())\n        {\n            var writer = new JsonTextWriter(stringWriter) {Formatting = Formatting.None};\n            var settings = new JsonSerializerSettings();\n            var serializer = JsonSerializer.Create(settings);            // Camel case the properties.\n            serializer.ContractResolver = new CamelCasePropertyNamesContractResolver();            serializer.Serialize(writer, order);\n            writer.Flush();\n            var json = stringWriter.GetStringBuilder().ToString();\n            Console.Write(json);\n        }\n    }\n</code>This outputs:<code>{\"accountID\":{},\"productID\":{},\"total\":789.01}\n</code>Three questions:\nHow do I rename \"accountID\" to \"accountUri\" (and \"productID\" to \"productUri\")?\nHow do I render the values of these properties (replace \"{}\" with the wrapper class's ToString() result?\nHow do I remove a property altogether when it's null?\nThanks.EDIT: Even though it's quite a lot of work to write a converter for each model it does save writing two mappers.  Here's my proof of concept tests:<code>    [TestFixture]\n    public class MyPoC\n    {\n        public class OrderJsonConverter : JsonConverter\n        {\n            public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n            {\n                writer.WriteStartObject();                var order = value as Order;                if (order.AccountID.HasValue)\n                {\n                    writer.WritePropertyName(\"accountUri\");\n                    serializer.Serialize(writer, \"/account/\" + order.AccountID);\n                }                writer.WritePropertyName(\"productUri\");\n                serializer.Serialize(writer, \"/product/\" + order.ProductID);                writer.WritePropertyName(\"total\");\n                serializer.Serialize(writer, order.Total);                writer.WriteEndObject();\n            }            public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n            {\n                var order = new Order();                var jsonObject = JObject.Load(reader);\n                order.AccountID = jsonObject.GetNullableIntFromUri(\"accountUri\");\n                order.ProductID = jsonObject.GetIntFromUri(\"productUri\");\n                order.Total = jsonObject[\"total\"].Value&lt;decimal&gt;();\n                return order;\n            }            public override bool CanConvert(Type objectType)\n            {\n                return typeof(Order).IsAssignableFrom(objectType);\n            }\n        }        [Test]\n        public void JsonConvert_Is_Successful()\n        {\n            var order = new Order\n            {\n                AccountID = 123,\n                ProductID = 456,\n                Total = 789.01M\n            };            var json = JsonConvert.SerializeObject(order, Formatting.None, new OrderJsonConverter());\n            Console.WriteLine(json);            var deserialized = JsonConvert.DeserializeObject&lt;Order&gt;(json, new OrderJsonConverter());\n            Console.WriteLine(\"AccountID: {0}\", deserialized.AccountID);\n            Console.WriteLine(\"ProductID: {0}\", deserialized.ProductID);\n            Console.WriteLine(\"Total: {0}\", deserialized.Total);\n        }\n    }\n}public static class JObjectExtensions\n{\n    public static int GetIntFromUri(this JObject jsonObject, string propertyName)\n    {\n        var id = jsonObject.GetNullableIntFromUri(propertyName);\n        return id.Value;\n    }    public static int? GetNullableIntFromUri(this JObject jsonObject, string propertyName)\n    {\n        var uri = jsonObject[propertyName].ToObject&lt;string&gt;();\n        var s = Regex.Replace(uri, @\".*/(\\d+)$\", \"$1\");\n        int id;\n        if (int.TryParse(s, out id))\n        {\n            return id;\n        }\n        return null;\n    }\n}\n</code>OUTPUT:<code>{\"accountUri\":\"/account/123\",\"productUri\":\"/product/456\",\"total\":789.01}\nAccountID: 123\nProductID: 456\nTotal: 789.01\n</code>Additional work would be to validate the uri is correct and not just a generic \"rip the id from the end of the uri\".\n", "acce_score": "794", "simquery1_title": "Serving a front end created with create-react-app with Flask I have a Flask back-end with API routes which are accessed by a React single page application created using create-react-app. When using the create-react-app dev server, my Flask back end works. I would like to serve the built (using <code>npm run build</code>) static React app from my Flask server. Building the React app leads to the following directory structure:<code>- build  - static    - css        - style.[crypto].css        - style.[crypto].css.map    - js        - main.[crypto].js        - main.[crypto].js.map  - index.html  - service-worker.js  - [more meta files]</code>By <code>[crypto]</code>, I mean the randomly generated strings generated at build time. Having received the <code>index.html</code> file, the browser then makes the following requests:<code>- GET /static/css/main.[crypto].css- GET /static/css/main.[crypto].css- GET /service-worker.js</code>How should I serve these files? I came up with this:<code>from flask import Blueprint, send_from_directorystatic = Blueprint('static', __name__)@static.route('/')def serve_static_index():    return send_from_directory('../client/build/', 'index.html')@static.route('/static/&lt;path:path&gt;') # serve whatever the client requested in the static folderdef serve_static(path):    return send_from_directory('../client/build/static/', path)@static.route('/service-worker.js')def serve_worker():    return send_from_directory('../client/build/', 'service-worker.js')</code>This way, the static assets are successfully served.On the other hand, I could incorporate this with the built-in Flask static utilities. But I do not understand how to configure this. Is my solution robust enough? Is there a way to use built-in Flask features to serve these assets? Is there a better way to use create-react-app?", "simquery1_answer": "I am attempting to move some code from c# to a sql statement.  The purpose is speed and is warranted.  The objective is to get the id of a select if it is found and do an update to it.\nIf it is not found, then try another select query and if that is found update that record.  If THAT is not found then insert a record and use the id of that inserted record in an update to that id record <code>if  \n   select id from table where field1 = \"testcase\" has a result then update the record andreturn\n else\n   select id from table where field2 = \"othercase\" if there is a result then update the record and return\n else --no record found\n update table field3 = \"xx\" where id = insert into recorddata values\n</code>\n", "simquery2_title": "flask does not see change in .js file I made a change on one of the <code>.js</code> files that I use and no matter what I do, flask insists on picking up, from memory cache, the last version of the file, without the change.To clarify, I have the following structure. It all starts with <code>foo.html</code><code>return render_template foo.html</code><code>foo.html</code> has a form inside that  calls flask with some data and then returns a second template <code>bar.html</code>:<code>return render_template bar.html</code>This second template calls some <code>.js</code> file, placed in the <code>static</code> folder, but it doesn't update when the code changes.I mention the structure above because if the <code>.js</code> file was placed on <code>foo.html</code> instead of <code>bar.html</code> then Flask would pick up the new changes on the file. But in <code>bar.html</code> Flask completely ignores them.What is happening? The only thing that worked was to click on \"disable cache\" on the browser and reload again.", "simquery2_answer": "Remember File get exclusive lock when its getting written.\nSo if  two threads are writing at same time one of them will get into exception.\nReading is not a problem.\nThe easy solution is make multiple log file or use database.\nThe other way is keep accumulating message and write once in an hour or when message are up to 100 .\nMake list of string<code>List&lt;string&gt; messagelst= new List&lt;string&gt;();\nprivate void WriteLog(string message)\n{\n        messagelst.Add(\"New York\");\n        messagelst.Add(\"Mumbai\");\n        messagelst.Add(\"Berlin\");\n        messagelst.Add(\"Istanbul\");\nif(messagelst.length==100){\nstring message= string.Join(\",\", messagelst.ToArray());    using (FileStream fs = new FileStream(@\"C:\\\\RemoteDir\\log.txt\", FileMode.OpenOrCreate, FileAccess.Write, FileShare.Inheritable))\n    using(StreamWriter sw = new StreamWriter(fs))\n    {\n        sw.WriteLine(\"#\" + message);\n    }messagelst= new List&lt;string&gt;();}\n}\n</code>The other way is write async.\nYou may loose sequence .<code>static Task ProcessWrite()\n{\n    string filePath = @\"c:\\temp2\\temp2.txt\";\n    string text = \"Hello World\\r\\n\";    return WriteTextAsync(filePath, text);\n}static async Task WriteTextAsync(string filePath, string text)\n{\n    byte[] encodedText = Encoding.Unicode.GetBytes(text);    using (FileStream sourceStream = new FileStream(filePath,\n        FileMode.Append, FileAccess.Write, FileShare.None,\n        bufferSize: 4096, useAsync: true))\n    {\n        await sourceStream.WriteAsync(encodedText, 0, encodedText.Length);\n    };\n}\n</code>\n", "total_len": 2316, "s1_total_len": 675, "s2_total_len": 747}
{"post_id": "21494489", "title": "What does numpy.random.seed(0) do?", "query": "What does <code>np.random.seed</code> do?<code>np.random.seed(0)</code>", "acce_answer": "I have been doing an assignment for my c++ data structures class and am really stuck.\ni have most of the program complete but im struggling on the delete passengers functionthe point of the function is to delete the front of [BOOKED] and take the front of [WAITING] and assign it to the rear of [BOOKED]\ni cant seem to figure out how to assign the front of booked to the rear of waitingany help or tips is greatly appreciated thanks<code>include &lt;iostream&gt;\ninclude &lt;string&gt;\n//#include \"cqueue.h\"\nusing namespace std;\n//1. cqueue.hconst int MAX = 4; //To do: determine appropriate numberstruct Passenger {\n    char name[80]; //the data will be an array of Passenger structures,\n};class CQueue {\nprivate:\n    int front;  //Index \"before\" the first element of array that holds a value of the queue    int rear;   //Index of last element of array that holds a value of the queue    int temp;     Passenger passengers[MAX]; //Holds values being placed on the queue.public:\n    CQueue(); // Initializes front and rear. Optionally, you may also want to initialize the values of the data array to some default value.    bool IsEmpty(void);  //Returns False (zero) if there is at least one item of the queue in array, True (non-zero) if not.    bool IsFull(void);  //Returns True (non-zero) if all elements of the array contain items of the queue, False (zero) if not.    void Enqueue(Passenger); /*Assigns the parameter (same data type as array) to the index following the existing rear element of the array and\n                               changes the rear variable. */    Passenger Front(); //[]    void Dequeue(void); //Changes the front variable.\n    void tempdequeue();    void showfront();    void frontback();    char x(char[80]);    void assign(string b, Passenger);    };\nCQueue:: CQueue ()\n{\n    front = MAX - 1;\n    rear = MAX-1;\n}\nbool CQueue::IsEmpty(void)\n{ //returns true if empty\n    return (front == rear);\n}bool CQueue::IsFull(void){\n    //returns true if the queue is full. flase otherwise\n//       return(rear + 1) % MAX == front;}\n//2. test.cpp\nenum choice { BOOKED, WAITING };\nconst int LINES = 2;\nint showMenu(void);\nvoid addPassenger(CQueue*);\nvoid deletePassenger(CQueue*);\nvoid showPassengers(CQueue*);int main ()\n{\n    CQueue qPassengers[LINES];\n    int x;\n    do{\n        x = showMenu();\n        switch (x)\n        {\n            case 1: addPassenger(qPassengers);\n                break;\n            case 2: deletePassenger(qPassengers);\n                break;\n            case 3: showPassengers(qPassengers);\n                break;\n        }\n    } while (x != 4);\n    return 0;\n}int showMenu()\n{\n    int select;    cout &lt;&lt; \"Menu\\n\";\n    cout &lt;&lt; \"========\\n\";\n    cout &lt;&lt; \"1. Add Passenger\\n\";\n    cout &lt;&lt; \"2. Delete Passenger\\n\";\n    cout &lt;&lt; \"3. Show Passengers\\n\";\n    cout &lt;&lt; \"4. Exit\\n\";\n    cout &lt;&lt; \"Enter choice: \";\n    cin &gt;&gt; select;\n    return select;\n}\nvoid addPassenger(CQueue* crack){\n    if (crack[BOOKED].IsEmpty())\n    {\n        cout &lt;&lt; \"the queue is empty\" &lt;&lt; endl;\n    }\n    if (crack[BOOKED].IsFull())\n    {\n        cout &lt;&lt; \"the queue is full.\" &lt;&lt; endl;\n        crack[WAITING].Enqueue(Passenger());\n    }\n    else if (crack[BOOKED].IsFull() &amp;&amp; crack[WAITING].IsFull())\n    {\n        cout &lt;&lt; \"the plane is full try again later\" &lt;&lt; endl;\n    }    else\n    {\n        crack[BOOKED].Enqueue(Passenger());    }\n}void CQueue::Enqueue(Passenger a)\n{    rear = (rear + 1 ) % MAX;\n    cin &gt;&gt; a.name;\n    passengers[rear]= a;\n    cout&lt;&lt;\"front: \"&lt;&lt;front&lt;&lt;endl&lt;&lt;endl;}\nvoid deletePassenger(CQueue* crack)\n{\n    char name [80];\n    if (crack[BOOKED].IsEmpty())\n    {\n        cout &lt;&lt; \"the queue is empty\" &lt;&lt; endl;\n    }\n    else\n    {\n        crack[BOOKED].Dequeue();\n        crack[WAITING].x(name);\n        crack[WAITING].Dequeue();\n        crack[BOOKED].assign(name, Passenger());\n    }}char CQueue::x(char a[80])\n{\n    a = passengers[front].name;\n    return *a;\n}void CQueue::assign(string pie, Passenger a)\n{\n    cout &lt;&lt; pie;\n    a = pie\n    passengers[rear]= a;}void CQueue::Dequeue()\n{\n//    if (IsEmpty())\n//    {\n//        cout &lt;&lt; \"the slot is empty\" &lt;&lt; endl;\n//    }\n//    else\n    {\n        front = (front + 1) % MAX;\n    }\n}void showPassengers(CQueue* crack)\n{\n//   string x = crack[BOOKED].Front().name;\n//    cout &lt;&lt; x;\n    crack-&gt;showfront();\n    if (crack[BOOKED].IsEmpty())\n    {\n        cout &lt;&lt; \"No Passengers\" &lt;&lt; endl;\n    }\n    else if (crack[BOOKED].IsEmpty() == false)\n    {\n        cout &lt;&lt; \"Booked Passengers\" &lt;&lt; endl\n        &lt;&lt; \"===============\" &lt;&lt; endl;\n        //if (crack[BOOKED].IsEmpty() == false)\n        for ( int x = 0 ; x &lt; 3 ; x++)\n        {\n            cout &lt;&lt; crack[BOOKED].Front().name&lt;&lt; endl;\n            crack[BOOKED].tempdequeue();\n        }\n      //  crack-&gt;frontback();\n        cout &lt;&lt; \"WAITING LIST\" &lt;&lt; endl;\n             cout &lt;&lt; \"===============\" &lt;&lt; endl;\n        for ( int x = 0 ; x &lt; 3 ; x++)\n        {            cout &lt;&lt; crack[WAITING].Front().name &lt;&lt; endl;\n            crack[WAITING].tempdequeue();\n        }\n    }\n    crack-&gt;frontback();\n}Passenger CQueue::Front(){\n   return passengers[(front+1)%MAX];\n    //return passengers[front];\n}//Frontvoid CQueue::showfront()\n{\n     temp = front;\n}void CQueue::frontback()\n{\n    front = temp;\n}\nvoid CQueue::tempdequeue()\n{\n    front = (front + 1) % MAX;\n}\n// To do: implement addPassenger, deletePassenger and showPassengers\n</code>\n", "acce_score": "484", "simquery1_title": "random.seed(): What does it do? I am a bit confused on what <code>random.seed()</code> does in Python. For example, why does the below trials do what they do (consistently)? <code>&gt;&gt;&gt; import random&gt;&gt;&gt; random.seed(9001)&gt;&gt;&gt; random.randint(1, 10)1&gt;&gt;&gt; random.randint(1, 10)3&gt;&gt;&gt; random.randint(1, 10)6&gt;&gt;&gt; random.randint(1, 10)6&gt;&gt;&gt; random.randint(1, 10)7</code>I couldn't find good documentation on this.", "simquery1_answer": "I'm trying to install Pageflow (latest v.0.6.0) and getting this error, after typing <code>rails generate install:pageflow</code>:<code>/Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:11:in `block (2 levels) in &lt;module:Pageflow&gt;': uninitialized constant Pageflow::User (NameError)\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:75:in `class_eval'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:75:in `controller'\nfrom /Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:9:in `block in &lt;module:Pageflow&gt;'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:16:in `instance_eval'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:16:in `run_registration_block'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/namespace.rb:213:in `parse_registration_block'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/namespace.rb:48:in `register'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:117:in `register'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin.rb:72:in `register'\nfrom /Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:2:in `&lt;module:Pageflow&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:1:in `&lt;top (required)&gt;'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:168:in `block in load!'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:168:in `each'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:168:in `load!'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:186:in `routes'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin.rb:76:in `routes'\nfrom /Users/uron/Desktop/onyva/git/suitcase-web/x/config/routes.rb:2:in `block in &lt;top (required)&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/routing/route_set.rb:341:in `instance_exec'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/routing/route_set.rb:341:in `eval_block'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/routing/route_set.rb:319:in `draw'\nfrom /Users/uron/Desktop/onyva/git/suitcase-web/x/config/routes.rb:1:in `&lt;top (required)&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:40:in `block in load_paths'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:40:in `each'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:40:in `load_paths'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:16:in `reload!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application.rb:102:in `reload_routes!'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:241:in `block in attach_reloader'\nfrom /Library/Ruby/Gems/2.0.0/gems/activesupport-4.0.2/lib/active_support/callbacks.rb:387:in `_run__3068857999573267334__prepare__callbacks'\nfrom /Library/Ruby/Gems/2.0.0/gems/activesupport-4.0.2/lib/active_support/callbacks.rb:80:in `run_callbacks'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/middleware/reloader.rb:74:in `prepare!'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/middleware/reloader.rb:46:in `prepare!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/finisher.rb:50:in `block in &lt;module:Finisher&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:30:in `instance_exec'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:30:in `run'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:55:in `block in run_initializers'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:150:in `block in tsort_each'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:183:in `block (2 levels) in each_strongly_connected_component'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:219:in `each_strongly_connected_component_from'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:182:in `block in each_strongly_connected_component'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:180:in `each'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:180:in `each_strongly_connected_component'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:148:in `tsort_each'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:54:in `run_initializers'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application.rb:215:in `initialize!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/railtie/configurable.rb:30:in `method_missing'\nfrom /Users/uron/Desktop/onyva/git/suitcase-web/x/config/environment.rb:5:in `&lt;top (required)&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application.rb:189:in `require_environment!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:44:in `&lt;top (required)&gt;'\nfrom bin/rails:4:in `require'\nfrom bin/rails:4:in `&lt;main&gt;'\n</code>rails server would give me the same.My Gemfile looks like this: <code>gem 'rails', '4.0.2'\ngem 'ransack'\ngem 'inherited_resources', '1.4.1'\ngem 'formtastic', '2.3.0'\ngem 'nokogiri', '1.5.5'\ngem 'resque-scheduler', '2.5.5'\ngem 'pageflow'\ngem 'activeadmin', git: 'https://github.com/codevise/active_admin.git', branch: 'rails4'\ngem 'cancan'\ngem 'friendly_id', '~&gt; 5.1.0'\ngem 'paperclip'\ngem 'marionette-rails'\ngem 'devise'</code>Thankful for any ideas! Just filling these lines up, because it seems like there is too much code in my post.\n", "simquery2_title": "Difference between np.random.seed() and np.random.RandomState() I know that to seed the randomness of numpy.random, and be able to reproduce it, I should us:<code>import numpy as npnp.random.seed(1234)</code>but what does <code>np.random.RandomState()</code>do?", "simquery2_answer": "I spent some time on this and found that it's better to return a an string array.\nHere's my web method.<code>    [WebMethod]\n    public static string[] MemberLookup(string MbrFullName)\n    {        DataSet ds = (dataset provider goes here)        List&lt;string&gt; members = new List&lt;string&gt;();        foreach(DataRow dr in ds.Tables[0].Rows)\n        { members.Add(string.Format(\"{0}-{1}\", dr[\"label\"].ToString(), dr[\"value\"].ToString())); }\n        return members.ToArray();\n    }\n</code>\n", "total_len": 1914, "s1_total_len": 3045, "s2_total_len": 231}
{"post_id": "21530577", "title": "fatal error: Python.h: No such file or directory", "query": "I am trying to build a shared library using a C extension file but first I have to generate the output file using the command below:<code>gcc -Wall utilsmodule.c -o Utilc</code>After executing the command, I get this error message:<code>&gt; utilsmodule.c:1:20: fatal error: Python.h: No such file or directorycompilation terminated.</code>I have tried all the suggested solutions over the internet but the problem still exists. I have no problem with <code>Python.h</code>. I managed to locate the file on my machine.", "acce_answer": "Consider the following data:<code>subjectName &lt;- c(\"John Doe\", \"Jane Doe\")\ntemperature &lt;- c(98.1, 98.6)\ngender &lt;- factor(c('male', 'female'), levels = c('male','female'))ptData &lt;- data.frame(subjectName, temperature, gender, stringsAsFactors = F)\n</code>When I call:<code>ptData[,1]\n</code>I receive the first column, as expected.  However, when I call:<code>ptData[,-1]\n</code>R fails to give me the last column.  Instead, it outputs the last two:<code>  temperature gender\n1        98.1   male\n2        98.6 female\n</code>Why doesn't my call work as expected?\n", "acce_score": "1764", "simquery1_title": "How to uninstall a package installed with pip install --user There is a <code>--user</code> option for pip which can install a Python package per user:<code>pip install --user [python-package-name]</code>I used this option to install a package on a server for which I do not have root access. What I need now is to uninstall the installed package on the current user. I tried to execute this command:<code>pip uninstall --user [python-package-name]</code>But I got:<code>no such option: --user</code>How can I uninstall a package that I installed with <code>pip install --user</code>, other than manually finding and deleting the package?I've found this article pip cannot uninstall from per-user site-packages directorywhich describes that uninstalling packages from user directory does not supported. According to the article if it was implemented correctly then with<code>pip uninstall [package-name]</code>the package that was installed will be also searched in user directories. But a problem still remains for me. What if the same package was installed both system-wide and per-user?What if someone needs to target a specific user directory?", "simquery1_answer": "A bit late...You should have a .tex file with the tikz code of your plot in <code>C:\\Users\\cgmil\\AppData\\Local\\Temp\\Rtmp6FouwP/</code>. Just replace the last two lines <code>\\makeatletter\n\\@@end\n</code>by<code>\\end{document}\n\\end{tikzpicture}\n</code>Then compile the document. New packages will be installed and it should works.\n", "simquery2_title": "Make python3 as my default python on Mac What I'm trying to do here is to make python3 as my default python. Except the python 2.7 which automatically installed on mac, I installed python3 with homebrew. This is the website that I'm following. http://docs.python-guide.org/en/latest/starting/install3/osx/#install3-osxI guess I followed every instruction well, got xcode freshly installed, Command line tools, and homebrew. But here's my little confusion occurs.The script will explain what changes it will make and prompt you before the installation begins. Once you\u2019ve installed Homebrew, insert the Homebrew directory at the top of your PATH environment variable. You can do this by adding the following line at the bottom of your ~/.profile fileexport PATH=/usr/local/bin:/usr/local/sbin:$PATHI was really confused what this was, but I concluded that I should just add this following line at the bottom of ~/.profile file. So I opened the ~/.profile file by open .profile in the terminal, and added following line at the bottom. And now it looks like this.<code>export PATH=/usr/local/bin:/usr/local/sbin:$PATH# Setting PATH for Python 3.6# The original version is saved in .profile.pysaveexport PATH=/usr/local/bin:/usr/local/sbin:$PATH</code>And then I did brew install python, and was hoping to see python3 when I do python --version.But it just shows me python 2.7.10. I want my default python to be python3 not 2.7And I found a little clue from the website.Do I have a Python 3 installed?<code>$ python --versionPython 3.6.4</code>If you still see 2.7 ensure in PATH /usr/local/bin/ takes pecedence over /usr/bin/Maybe it has to do something with PATH? Could someone explain in simple English what PATH exactly is and how I could make my default python to be python3 when I run python --version in the terminal?", "simquery2_answer": "i just had to remove the <code>i</code> in the\n<code>for i, d in data[&quot;keys&quot;]:\n            if(d[&quot;key&quot;] == key):\n                d[&quot;uses&quot;] = d[&quot;uses&quot;] + 1\n</code>\nso it would be\n<code>for d in data[&quot;keys&quot;]:\n            if(d[&quot;key&quot;] == key):\n                d[&quot;uses&quot;] = d[&quot;uses&quot;] + 1\n</code>\n", "total_len": 351, "s1_total_len": 362, "s2_total_len": 627}
{"post_id": "21925671", "title": "Convert Django Model object to dict with all of the fields intact", "query": "How does one convert a django Model object to a dict with all of its fields?  All ideally includes foreign keys and fields with editable=False.Let me elaborate.  Let's say I have a django model like the following:<code>from django.db import modelsclass OtherModel(models.Model): passclass SomeModel(models.Model):    normal_value = models.IntegerField()    readonly_value = models.IntegerField(editable=False)    auto_now_add = models.DateTimeField(auto_now_add=True)    foreign_key = models.ForeignKey(OtherModel, related_name=&quot;ref1&quot;)    many_to_many = models.ManyToManyField(OtherModel, related_name=&quot;ref2&quot;)</code>In the terminal, I have done the following:<code>other_model = OtherModel()other_model.save()instance = SomeModel()instance.normal_value = 1instance.readonly_value = 2instance.foreign_key = other_modelinstance.save()instance.many_to_many.add(other_model)instance.save()</code>I want to convert this to the following dictionary:<code>{'auto_now_add': datetime.datetime(2015, 3, 16, 21, 34, 14, 926738, tzinfo=&lt;UTC&gt;), 'foreign_key': 1, 'id': 1, 'many_to_many': [1], 'normal_value': 1, 'readonly_value': 2}</code>Questions with unsatisfactory answers:Django: Converting an entire set of a Model&#39;s objects into a single dictionaryHow can I turn Django Model objects into a dictionary and still have their foreign keys?", "acce_answer": "Make sure you have the file <code>libaacdecoder.so</code> in <code>src/main/libs/arm64</code>, and added the line <code>android.useDeprecatedNdk=true</code> to <code>gradle.properties</code>.\n", "acce_score": "449", "simquery1_title": "Django model fields validation Where should the validation of model fields go in django?I could name at least two possible choices: in the overloaded .save() method of the model or in the .to_python() method of the models.Field subclass (obviously for that to work you must write custom fields).Possible use cases:when it is absolutely neccessary to ensure, that an empty string doesn't get written into the database (blank=False keyword argument doesn't work here, it is for form validation only)when it is neccessary to ensure, that \"choices\" keyword argument gets respected on a db-level and not only in admin interface (kind of emulating a enum datatype)There is also a class-level attribute <code>empty_strings_allowed</code> in the models.Field base class definition and derived classes happily override it, however it doesn't seem to produce any effect on the database level, meaning I can still construct a model with empty-string fields and save it to the database. Which I want to avoid (yes, it is neccessary).Possible implementations areon the field level:<code>class CustomField(models.CharField):    __metaclass__ = models.SubfieldBase    def to_python(self, value):        if not value:            raise IntegrityError(_('Empty string not allowed'))        return models.CharField.to_python(self, value)</code>on the model level:<code>class MyModel(models.Model)    FIELD1_CHOICES = ['foo', 'bar', 'baz']    field1 = models.CharField(max_length=255,                choices=[(item,item) for item in FIELD1_CHOICES])    def save(self, force_insert=False, force_update=False):        if self.field1 not in MyModel.FIELD1_CHOICES:            raise IntegrityError(_('Invalid value of field1'))        # this can, of course, be made more generic        models.Model.save(self, force_insert, force_update)</code>Perhaps, I am missing something and this can be done easier (and cleaner)?", "simquery1_answer": "Also worth noting is that the <code>application:openURL:sourceApplication:annotation:</code> method will be called when your app launches from a URL. Details at Apple's Docs.\n", "simquery2_title": "Order of Serializer Validation in Django REST Framework SituationWhile working with validation in the Django REST Framework's <code>ModelSerializer</code>, I have noticed that the <code>Meta.model</code> fields are always validated, even when it does not necessarily make sense to do so. Take the following example for a <code>User</code> model's serialization:I have an endpoint that creates a user. As such, there is a <code>password</code> field and a <code>confirm_password</code> field. If the two fields do not match, the user cannot be created. Likewise, if the requested <code>username</code> already exists, the user cannot be created.The user POSTs improper values for each of the fields mentioned aboveAn implementation of <code>validate</code> has been made in the serializer (see below), catching the non-matching <code>password</code> and <code>confirm_password</code> fieldsImplementation of <code>validate</code>:<code>def validate(self, data):    if data['password'] != data.pop('confirm_password'):        raise serializers.ValidationError(\"Passwords do not match\")    return data</code>ProblemEven when the <code>ValidationError</code> is raised by <code>validate</code>, the <code>ModelSerializer</code> still queries the database to check to see if the <code>username</code> is already in use. This is evident in the error-list that gets returned from the endpoint; both the model and non-field errors are present.Consequently, I would like to know how to prevent model validation until after non-field validation has finished, saving me a call to my database.Attempt at solutionI have been trying to go through the DRF's source to figure out where this is happening, but I have been unsuccessful in locating what I need to override in order to get this to work.", "simquery2_answer": "I have a <code>div1</code> which animates background position on hover direction of mouse by jquery. But it's working properly. it's going not right direction and I want it to work on every single mouse hover on the <code>div</code>.Find jsfiddlecode:<code>$(function() {\n    $(\".mainCont\").hover(function(e) {\n            // $(this).addClass(\"hoverOnce\");\n        var edge = closestEdge(e.pageX, e.pageY, $(this).width(), $(this).height());\n    }, function(){\n           $(this).removeClass('top right bottom left');\n         // $(this).removeClass(\"hoverOnce\"); \n    });\n});function closestEdge(x,y,w,h) {\n        var topEdgeDist = distMetric(x,y,w/2,0);\n        var bottomEdgeDist = distMetric(x,y,w/2,h);\n        var leftEdgeDist = distMetric(x,y,0,h/2);\n        var rightEdgeDist = distMetric(x,y,w,h/2);\n        var min = Math.min(topEdgeDist,bottomEdgeDist,leftEdgeDist,rightEdgeDist);\n        switch (min) {\n            case leftEdgeDist:\n                $(\".hoverOnce\").addClass(\"left\");\n            case rightEdgeDist:\n                $(\".hoverOnce\").addClass(\"right\");\n            case topEdgeDist:\n                $(\".hoverOnce\").addClass(\"top\");\n            case bottomEdgeDist:\n                $(\".hoverOnce\").addClass(\"bottom\");\n        }\n}function distMetric(x,y,x2,y2) {\n    var xDiff = x - x2;\n    var yDiff = y - y2;\n    return (xDiff * xDiff) + (yDiff * yDiff);\n}\n</code>\n", "total_len": 504, "s1_total_len": 528, "s2_total_len": 853}
{"post_id": "21971449", "title": "How do I increase the cell width of the Jupyter/ipython notebook in my browser?", "query": "I would like to increase the width of the ipython notebook in my browser. I have a high-resolution screen, and I would like to expand the cell width/size to make use of this extra space.Thanks!EDIT / ANSWER : 5/2017I now use jupyterthemes: https://github.com/dunovank/jupyter-themesand this command:<code>jt -t oceans16 -f roboto -fs 12 -cellw 100%</code>which sets the width to 100% with a nice theme.", "acce_answer": "Before executing \"Update-Database\" command did you run \"Add-Migrations\"?\nThe Add-Migrations command will generate the necessary migration script to update the database.Also, do you have a _MigrationsHistory table in your database?Could you update your code to point to your <code>MyDbContext</code> rather than the base <code>DbContext</code>? And I believe <code>DbMigrationsConfiguration&lt;DbContext&gt;&gt;()</code> should also point to your dbcontext type.<code>Database.SetInitializer(new MigrateDatabaseToLatestVersion&lt;MyDbContext, DbMigrationsConfiguration&lt;MyDbContext&gt;&gt;())\n</code>\n", "acce_score": "538", "simquery1_title": "Launch an IPython shell on exception Is there a way to launch an IPython shell or prompt when my program runs a line that raises an exception?I'm mostly interested in the context, variables, in the scope (and subscopes) where the exception was raised. Something like Visual Studio's debugging, when an exception is thrown but not caught by anyone, Visual Studio will halt and give me the call stack and the variables present at every level.Do you think there's a way to get something similar using IPython?EDIT: The <code>-pdb</code> option when launching IPython doesn't seem do what I want (or maybe I don't know how to use it properly, which is entirely possible). I run the following script : <code>def func():    z = 2    g = 'b'    raise NameError(\"This error will not be caught, but IPython still\"                    \"won't summon pdb, and I won't be able to consult\"                    \"the z or g variables.\")x = 1y = 'a'func()</code>Using the command : <code>ipython -pdb exceptionTest.py</code>Which stops execution when the error is raised, but brings me an IPython prompt where I have access to the global variables of the script, but not the local variables of function func. <code>pdb</code> is only invoked when I directly type a command in ipython that causes an error, i.e. <code>raise NameError(\"This, sent from the IPython prompt, will trigger pdb.\")</code>.I don't necessarily need to use <code>pdb</code>, I'd just like to have access to the variables inside <code>func</code>.EDIT 2: It has been a while, IPython's <code>-pdb</code> option is now working just as I want it to. That means when I raise an exception I can go back in the scope of <code>func</code> and read its variables <code>z</code> and <code>g</code> without any problem. Even without setting the <code>-pdb</code> option, one can run IPython in interactive mode then call the magic function <code>%debug</code> after the program has exit with error -- that will also drop you into an interactive ipdb prompt with all scopes accessibles. ", "simquery1_answer": "Checkbox-state is nothing else than an Boolean? -> Nullable bool. You can simple serialize it using an xmlserializer or write it manually to the file:<code>string s = checked.ToString();\n</code>and to parse it:<code>bool checked = Boolean.Parse(s)\n</code>\n", "simquery2_title": "App created with PyInstaller has a slow startup I have an application written in Python and 'compiled' with PyInstaller. It also uses PyQt for the GUI framework.Running this application has a delay of about 10 seconds before the main window loads and is shown. As far as I can tell, this is not due to slowness in my code. Instead, I suspect this is due to the Python runtime initializing.The problem is that this application is started with a custom laucncher / taskbar application. The user will click the button to launch the app, see nothing appear to happen, and click elsewhere on another application. When my application shows it's window, it cannot come to the foreground due to the rules for SetForegroundWindow.I have access to the source for the PyInstaller win32 loader, the Python code, and even the launcher code.My questions are:How can I make this application start faster?How can I measure the time spend i the first few seconds of the process's lifetime?What is the generally accepted technique for reducing time until the first window is shown?I'd like to avoid adding a splash screen for two reasons - one, I expect it won't help (the overhead is before Python code runs) and two, I just don't like splash screens :)If I need to, I could probably edit the PyInstaller loader stub to create a window, but that's another route i'd rather not take.", "simquery2_answer": "The <code>&lt;f:selectItems&gt;</code> already supports maps.\n<code>&lt;f:selectItems value=&quot;#{bean.listGroups}&quot; /&gt;\n</code>\nThe map key becomes the option label and the map value becomes the option value.\nThat said, you probably want to use <code>LinkedHashMap</code> instead of <code>HashMap</code> if displaying the map entries in insertion order is important, or <code>TreeMap</code> if you want to automatically sort them by map key.\nSee alsoOur <code>h:selectOneMenu</code> wiki page", "total_len": 327, "s1_total_len": 601, "s2_total_len": 462}
{"post_id": "22341271", "title": "Get list from pandas dataframe column or row?", "query": "I have a dataframe <code>df</code> imported from an Excel document like this:<code>cluster load_date   budget  actual  fixed_priceA   1/1/2014    1000    4000    YA   2/1/2014    12000   10000   YA   3/1/2014    36000   2000    YB   4/1/2014    15000   10000   NB   4/1/2014    12000   11500   NB   4/1/2014    90000   11000   NC   7/1/2014    22000   18000   NC   8/1/2014    30000   28960   NC   9/1/2014    53000   51200   N</code>I want to be able to return the contents of column 1 <code>df['cluster']</code> as a list, so I can run a for-loop over it, and create an Excel worksheet for every cluster.Is it also possible to return the contents of a whole column or row to a list? e.g.<code>list = [], list[column1] or list[df.ix(row1)]</code>", "acce_answer": "Sorry for my horrible English.I am using localStorage to store some properties. Every property has its own key and value, keys and values are generated dynamically. So I do not know how many of them will be.  On page1 all properties are saved (with one click).On page2 I call \"storage\" event. I need to read all keys and values and re-render content of page using these. Problem is that \"storage\" event fires for every key/value pair. And I do not want to re-render content of page2 for every key/value pair. I want to wait untill all properties are saved on page1 and then re-render content of page2.So I need to be sure that all properties were saved on page1 and AFTER that I need to read them on page 2.My question: is storing process for localStorage synchronous? \n\"Synchronous\" means for me that only one setItem command is executed at the same time and all setItem commands are executed in exact order that I wrote. \nSo when I will write:<code>(loop start)    \nlocalStorage.setItem(\"bar1\", foo1)\nlocalStorage.setItem(\"bar2\", foo2)\n...\nlocalStorage.setItem(\"bar100\", foo100)\n(loop end)    \n</code>can I be sure, that ALL items were saved BEFORE (\"bar100\", foo100)?Or there can be any problem and (\"bar100\", foo100) may be saved before any previous item?Alex\n", "acce_score": "548", "simquery1_title": "Get column by number in Pandas What's the difference between:<code>Maand['P_Sanyo_Gesloten']Out[119]: Time2012-08-01 00:00:11    02012-08-01 00:05:10    02012-08-01 00:10:11    02012-08-01 00:20:10    02012-08-01 00:25:10    02012-08-01 00:30:09    02012-08-01 00:40:10    02012-08-01 00:50:09    02012-08-01 01:05:10    02012-08-01 01:10:10    02012-08-01 01:15:10    02012-08-01 01:25:10    02012-08-01 01:30:10    02012-08-01 01:35:09    02012-08-01 01:40:10    0...2012-08-30 22:35:09    02012-08-30 22:45:10    02012-08-30 22:50:09    02012-08-30 22:55:10    02012-08-30 23:00:09    02012-08-30 23:05:10    02012-08-30 23:10:09    02012-08-30 23:15:10    02012-08-30 23:20:09    02012-08-30 23:25:10    02012-08-30 23:35:09    02012-08-30 23:40:10    02012-08-30 23:45:09    02012-08-30 23:50:10    02012-08-30 23:55:11    0Name: P_Sanyo_Gesloten, Length: 7413, dtype: int64</code>And<code>Maand[[1]]Out[120]: &amp;ltclass 'pandas.core.frame.DataFrame'&amp;gtDatetimeIndex: 7413 entries, 2012-08-01 00:00:11 to 2012-08-30 23:55:11Data columns (total 1 columns):P_Sanyo_Gesloten    7413  non-null valuesdtypes: int64(1)</code>How can I get column by its index number? And not by an index string?", "simquery1_answer": "A C++ declaration (in the simplest case) consists of two parts:\na declaration specifier, and a declarator.  Everything up to\neither what is being declared or the first \"operator\" (e.g. <code>*</code>\nor <code>&amp;</code>) is part of the declaration specifier, where order\ndoesn't matter.  So you're free to write things like:<code>int const unsigned static i;\n</code>(if you don't care what your co-worker think of your code).C has deprecated putting the storage class specifier (<code>static</code>,\n<code>extern</code>, etc.) anywhere but in the first position, and this was\na generally accepted convention since the earliest days of C.\nFor the rest: \nI've always seen the modifier precede the basic type (e.g.\n<code>unsigned int</code>), when the basic type appears.  Most of the\nplaces I've worked will use simply <code>unsigned</code>, rather than\n<code>unsigned int</code>.\nI've also always seen the <code>signed</code>/<code>unsigned</code> precede any\nlength modifiers: <code>unsigned long</code>, rather than <code>long unsigned</code>.\nThe position of <code>const</code> or <code>volatile</code> tends to vary.  Most of\nthe more experienced programmers I know put it at the very end\nof the declaration specifier, but this is a somewhat recent\ndevelopment, and a lot of people continue to use the older\nconvention, and put it immediately after the storage class\nspecifier.\nFor all but the storage class specifiers, this is fairly\narbitrary; about the only other rule I'd say is universal is to\nnot split up the actual type information, as I did in my\nexample.\n", "simquery2_title": "Merging dataframes on index with pandas I have two dataframes and each one has two index columns. I would like to merge them. For example, the first dataframe is the following:<code>                   V1A      1/1/2012    12       2/1/2012    14B      1/1/2012    15       2/1/2012     8C      1/1/2012    17       2/1/2012     9</code>The second dataframe is the following:<code>                   V2A      1/1/2012    15       3/1/2012    21B      1/1/2012    24       2/1/2012     9D      1/1/2012     7       2/1/2012    16</code>and as result I would like to get the following:<code>                   V1   V2A      1/1/2012    12   15       2/1/2012    14  N/A       3/1/2012   N/A   21B      1/1/2012    15   24       2/1/2012     8    9C      1/1/2012    17  N/A       2/1/2012     9  N/AD      1/1/2012   N/A    7       2/1/2012   N/A   16</code>I have tried a few versions using the <code>pd.merge</code> and <code>.join</code> methods, but nothing seems to work. Do you have any suggestions?", "simquery2_answer": "For the plplot library the linker flag should be <code>-lplplotd</code>. For the compiler options I have no flags but I did a search for the unknown headers and added their directories to the search directories path. Now the Example 00 works fine. Though I found the <code>-lplplotd</code> flag by shooting! For the x11 examples one should add the flag <code>-lplplotcxxd</code>.In general I got that to find the linker flag I have to search for the library <code>so</code> file and the name of the file commonly is the flag, e.g. for the library <code>libplplotcxxd.so</code> the flag is <code>-lplplotcxxd</code>.Anyway, I'd be glad if someone tells me a better clue on finding these linker flags.\n", "total_len": 697, "s1_total_len": 1269, "s2_total_len": 613}
{"post_id": "23086383", "title": "How to \"test\" NoneType in python?", "query": "I have a method that sometimes returns a NoneType value. So how can I question a variable that is a NoneType? I need to use if method, for example<code>if not new:    new = '#'</code>I know that is the wrong way and I hope you understand what I meant.", "acce_answer": "Your issue is due to your key. In C#, you're passing in a 16-byte array as the key. In CryptoJS, you're passing in a string which CryptoJS is interpreting as a passphrase, so it's going to generate a totally different key from that.EDIT: Here's how to get the correct key in javascript:If you convert your 16-byte key to Base64, in javascript you can do the following. It will generate a WordArray as the key, and use that key to generate your hash.<code>var keyBase64 = \"eFY0EiMBZ0UBI0VniRI0Vg==\";\nvar key = CryptoJS.enc.Base64.parse(keyBase64);\nvar hash = CryptoJS.HmacSHA1(\"Hello\", key);\nvar hashInBase64 = CryptoJS.enc.Base64.stringify(hash); \nconsole.log(hashInBase64);\n</code>\n", "acce_score": "646", "simquery1_title": "String comparison in Python: is vs. == I noticed a Python script I was writing was acting squirrelly, and traced it to an infinite loop, where the loop condition was <code>while line is not ''</code>. Running through it in the debugger, it turned out that line was in fact <code>''</code>. When I changed it to <code>!=''</code> rather than <code>is not ''</code>, it worked fine. Also, is it generally considered better to just use '==' by default, even when comparing int or Boolean values? I've always liked to use 'is' because I find it more aesthetically pleasing and pythonic (which is how I fell into this trap...), but I wonder if it's intended to just be reserved for when you care about finding two objects with the same id.", "simquery1_answer": "I have done this in the past by exporting the file as a CSV.  Creating your table in MySQL, reading the CSV line by line in PHP and using explode to build your query.<code>$file = fopen(\"myfile.csv\", \"r\");\n$sql = \"INSERT INTO table(field1, field2, field3...\";\nwhile(!feof($file))\n  {\n      $fields = explode(',', fgets($file));\n      $sql .= \"VALUES(\"\n      foreach($fields as $field)\n      {\n         $sql .= \"$field, \";\n      }\n      $sql = substr($sql, 0, -2);\n      $sql .= \"), \";\n  }\n  $sql = substr($sql, 0, -2);\n fclose($file);\n  mysql_query($sql);\n</code>\n", "simquery2_title": "What's the canonical way to check for type in Python? How do I check if an object is of a given type, or if it inherits from a given type?How do I check if the object <code>o</code> is of type <code>str</code>?Beginners often wrongly expect the string to already be &quot;a number&quot; - either expecting Python 3.x <code>input</code> to convert type, or expecting that a string like <code>'1'</code> is also simultaneously an integer. This is the wrong canonical for those questions. Please carefully read the question and then use How do I check if a string represents a number (float or int)?, How can I read inputs as numbers? and/or Asking the user for input until they give a valid response as appropriate.", "simquery2_answer": "Try this:<code>foreach (string propertyName in result.Properties.PropertyNames)\n{\n    MessageBox.Show(result.Properties[propertyName].ToString());\n}\n</code>Or this:<code>foreach (object prop in result.Properties)\n{\n     MessageBox.Show(prop.ToString());\n}\n</code>Also: there are a couple different PropertyCollections classes in the framework.  These examples are based on the System.Data class, but you might also be using the System.DirectoryServices class.  However, neither of those classes are really \"reflection\".  Reflection refers to something different- namely the System.Reflection namespace plus a couple special operators.\n", "total_len": 309, "s1_total_len": 381, "s2_total_len": 333}
{"post_id": "23177439", "title": "How to check if a dictionary is empty?", "query": "I am trying to check if a dictionary is empty but it doesn't behave properly. It just skips it and displays ONLINE without anything aside from the display the message. Any ideas why ?<code>def isEmpty(self, dictionary):    for element in dictionary:        if element:            return True        return Falsedef onMessage(self, socket, message):    if self.isEmpty(self.users) == False:        socket.send(&quot;Nobody is online, please use REGISTER command&quot; \\                 &quot; in order to register into the server&quot;)    else:        socket.send(&quot;ONLINE &quot; + ' ' .join(self.users.keys()))    </code>", "acce_answer": "Hello friends I'd be happy if you help meI wanted to know how I make a delay of the next view? I mean I have a view with a button, and clicking on the button I show a picture. \n I want to wait a few seconds after I show the pic and  switch in modal to the  next  viewI tried a lot and it's not working Here is example for my try : <code>- (IBAction)button1Click:(id)sender {\n   // here after i click i want to show the pic in imageview for some seconds\n    self.imageView.image = [UIImage imageNamed:@\"bird.png\"];\n    // and then i call to the function for waiting some seconds before the view change by modal \n    [self delayView];\n}- (void)delayView {\n    [NSThread sleepForTimeInterval:8.0];\n}\n</code>Also i  try to use :<code>[self performSelector : @selector() withObject : self afterDelay : 3.00];\n</code>but i didn't know exactly how to use the <code>@selector()</code>Please I would appreciate your help\n", "acce_score": "643", "simquery1_title": "Python SSL certificate verify error I'm using requests to access a RESTful API.  Everything seems to work.  I can authenticate, pull back a session token and even unit test the methods in my class I wrote for the API.  Then I tried to run my code.First, here is the call I'm making.  The headers are static session-related items that get set in init().  The body is build dynamically from data in a file and passed in to this function.  All of the data is valid.<code>response = requests.post(url, headers=(Requestheader), data=json.dumps((Requestbody)))</code>When I run the code, it updates well over 100 records with the metadata I supply.  Somewhere around item 150 I get the following:  ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED]  certificate verify failed: self signed certificate in certificate  chain (_ssl.c:1045)My first step was to call the vendor and find out if ALL of their web servers had properly signed certs figuring they were load balancing me and I found a misconfigured server.  They tell me this is not the case.Then I Googled the message and found that there is a verify kwarg, so I tried:<code>response = requests.post(url, headers=Requestheader, data=json.dumps(Requestbody), verify=False)</code>I know this isn't ideal long-term, but I wanted to test it to see if The behavior is the same.  It did the same thing.  It ran for a while and threw the ssl error.  I thought the idea of verify=False is that it wouldn't check.The vendor suggested I check the url I'm using, but it's fine.  I would think if there were a proxy server or real man-in-the-middle attack causing problems I wouldn't see success so many times before a failure.  I thought maybe it is a session timeout, but that should throw a 401 status and my activity level is too high for an inactivity timeout.  I'm a python noob and not a security professional.  Suggestions appreciated.", "simquery1_answer": "I am using Traefik inside of Kubernetes and there is an AWS layer 4 level legacy network load balancer in front. I am trying to add the original requestor ip address into the Traefik access logs, but I cannot get it working.\nHere is the relevant Traefik configuration (in Helm yaml format):\n<code>  proxyProtocol:\n    enabled: true\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12  forwardedHeaders:\n    enabled: true\n    # trustedIPs is required when enabled\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12\n</code>\nAnd here is the access logs configuration:\n<code>  accessLogs:\n    enabled: true\n    ## Path to the access logs file. If not provided, Traefik defaults it to stdout.\n    # filePath: &quot;&quot;\n    format: common  # choices are: common, json\n    ## for JSON logging, finer-grained control over what is logged. Fields can be\n    ## retained or dropped, and request headers can be retained, dropped or redacted\n    fields:\n      # choices are keep, drop\n      defaultMode: keep\n      names: {}\n        # ClientUsername: drop\n      headers:\n        # choices are keep, drop, redact\n        defaultMode: keep\n        names:\n          &quot;X-Forwarded-For&quot;: keep\n          &quot;X-Real-IP&quot;: keep\n</code>\nMy access logs with this configuration look like the following though. No headers or X-Forwarded-For IP shown:", "simquery2_title": "How to redirect with post data (Django) When processing a POST request in the Django views.py file, I sometimes need to redirect it to another url. This url I'm redirecting to is handled by another function in the same Django views.py file. Is there a way of doing this and maintaining the original POST data? UPDATE: More explanation of why I want to do this.I have two web apps (let's call them AppA and AppB) which accept data entered into a text field by the user. When the the user clicks submit, the data is processed and detailed results are displayed. AppA and AppB expect different types of data. Sometimes a user mistakenly posts AppB type data to AppA. When this happens I want to redirect them to AppB and show the AppB results or at least have it populated with the data they entered into AppA. Also:The client wants two separate apps rather than combining them into just one.I can't show the code as it belongs to a client.UPDATE 2:I've decided that KISS is the best principle here. I have combined the two apps into one which  makes things simpler and more robust; I should be able to convince the client it's the best way to go too. Thanks for all the great feedback. If I was going to maintain two apps as described then I think sessions would be the way to do this - thanks to  Matthew J Morrison for suggesting that. Thanks to Dzida as his comments got me thinking about the design and simplification.", "simquery2_answer": "NULLIF yields null when two values are equal =)<code>WHERE NULLIF(A.column, B.column) IS NOT NULL\n</code>\n", "total_len": 436, "s1_total_len": 944, "s2_total_len": 366}
{"post_id": "23294658", "title": "Asking the user for input until they give a valid response", "query": "I am writing a program that accepts user input.<code>#note: Python 2.7 users should use `raw_input`, the equivalent of 3.X's `input`age = int(input(&quot;Please enter your age: &quot;))if age &gt;= 18:     print(&quot;You are able to vote in the United States!&quot;)else:    print(&quot;You are not able to vote in the United States.&quot;)</code>The program works as expected as long as the the user enters meaningful data.<code>Please enter your age: 23You are able to vote in the United States!</code>But it fails if the user enters invalid data:<code>Please enter your age: dickety sixTraceback (most recent call last):  File &quot;canyouvote.py&quot;, line 1, in &lt;module&gt;    age = int(input(&quot;Please enter your age: &quot;))ValueError: invalid literal for int() with base 10: 'dickety six'</code>Instead of crashing, I would like the program to ask for the input again. Like this:<code>Please enter your age: dickety sixSorry, I didn't understand that.Please enter your age: 26You are able to vote in the United States!</code>How do I ask for valid input instead of crashing or accepting invalid values (e.g. <code>-1</code>)?", "acce_answer": "We are working on a share mode for photos in an app, and one of the share options is to load an overlay for the image online. If the user shares the photo before the overlay finishes loading we are sending an intent with the unmodified image to share to other apps with startActivityForResult, and then in onActivityResult we are returning the user to the normal photo view from the share view.The issue we are running into is that when the user returns from sharing the photo, onActivityResult isn't called until the background thread that is loading the overlay finishes. Is there a reason that a background thread would suddenly start to block the UI thread?Here is the code we are using inside of our overlay view class which extends ImageView to manage this:<code>private void asyncLoadImage() {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            loadImage();\n        }\n    }).start();\n}private void loadImage() {\n    try {\n        overlayBitmap = Picasso.with(getContext()).load(url).get();\n        if (overlayBitmap != null) {\n            displayBitmap();\n        } else {\n            displayError();\n        }    } catch (IOException ignored) {\n        displayError();\n    }\n}\n</code>We have tried using Picasso targets as well instead of creating our own thread and we run into the exact same issue, the only solution so far has been to use Ion asynchronously (however, using Ion synchronously or trying to cancel the Ion request futures before we call startActivityForResult result in the same UI thread blocking issues). This feels like a huge hack since we are using Picasso everywhere else in the app.Is there a reason why these background tasks would be blocking the UI thread when returning to the activity?\n", "acce_score": "742", "simquery1_title": "Python SSL certificate verify error I'm using requests to access a RESTful API.  Everything seems to work.  I can authenticate, pull back a session token and even unit test the methods in my class I wrote for the API.  Then I tried to run my code.First, here is the call I'm making.  The headers are static session-related items that get set in init().  The body is build dynamically from data in a file and passed in to this function.  All of the data is valid.<code>response = requests.post(url, headers=(Requestheader), data=json.dumps((Requestbody)))</code>When I run the code, it updates well over 100 records with the metadata I supply.  Somewhere around item 150 I get the following:  ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED]  certificate verify failed: self signed certificate in certificate  chain (_ssl.c:1045)My first step was to call the vendor and find out if ALL of their web servers had properly signed certs figuring they were load balancing me and I found a misconfigured server.  They tell me this is not the case.Then I Googled the message and found that there is a verify kwarg, so I tried:<code>response = requests.post(url, headers=Requestheader, data=json.dumps(Requestbody), verify=False)</code>I know this isn't ideal long-term, but I wanted to test it to see if The behavior is the same.  It did the same thing.  It ran for a while and threw the ssl error.  I thought the idea of verify=False is that it wouldn't check.The vendor suggested I check the url I'm using, but it's fine.  I would think if there were a proxy server or real man-in-the-middle attack causing problems I wouldn't see success so many times before a failure.  I thought maybe it is a session timeout, but that should throw a 401 status and my activity level is too high for an inactivity timeout.  I'm a python noob and not a security professional.  Suggestions appreciated.", "simquery1_answer": "I am using Traefik inside of Kubernetes and there is an AWS layer 4 level legacy network load balancer in front. I am trying to add the original requestor ip address into the Traefik access logs, but I cannot get it working.\nHere is the relevant Traefik configuration (in Helm yaml format):\n<code>  proxyProtocol:\n    enabled: true\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12  forwardedHeaders:\n    enabled: true\n    # trustedIPs is required when enabled\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12\n</code>\nAnd here is the access logs configuration:\n<code>  accessLogs:\n    enabled: true\n    ## Path to the access logs file. If not provided, Traefik defaults it to stdout.\n    # filePath: &quot;&quot;\n    format: common  # choices are: common, json\n    ## for JSON logging, finer-grained control over what is logged. Fields can be\n    ## retained or dropped, and request headers can be retained, dropped or redacted\n    fields:\n      # choices are keep, drop\n      defaultMode: keep\n      names: {}\n        # ClientUsername: drop\n      headers:\n        # choices are keep, drop, redact\n        defaultMode: keep\n        names:\n          &quot;X-Forwarded-For&quot;: keep\n          &quot;X-Real-IP&quot;: keep\n</code>\nMy access logs with this configuration look like the following though. No headers or X-Forwarded-For IP shown:", "simquery2_title": "Extracting an information from web page by machine learning I would like to extract a specific type of information from web pages in Python. Let's say postal address. It has thousands of forms, but still, it is somehow recognizable. As there is a large number of forms, it would be probably very difficult to write regular expression or even something like a grammar and to use a parser generator for parsing it out.So I think the way I should go is machine learning. If I understand it well, I should be able to make a sample of data where I will point out what should be the result and then I have something which can learn from this how to recognize the result by itself. This is all I know about machine learning. Maybe I could use some natural language processing, but probably not much as all the libraries work with English mostly and I need this for Czech.Questions:Can I solve this problem easily by machine learning? Is it a good way to go?Are there any simple examples which would allow me to start? I am machine learning noob and I need something practical for start; closer to my problem is better; simpler is better.There are plenty of Python libraries for machine learning. Which one would suit my problem best?Lots of such libs have not very easy-to-use docs as they come from scientific environment. Are there any good sources (books, articles, quickstarts) bridging the gap, i.e. focused on newbies who know totally nothing about machine learning? Every docs I open start with terms I don't understand such as network, classification, datasets, etc.Update:As you all mentioned I should show a piece of data I am trying to get out of the web, here is an example. I am interested in cinema showtimes. They look like this (three of them):<code>&lt;div class=\"Datum\" rel=\"d_0\"&gt;27. \u010dervna \u2013 st\u0159eda, 20.00&lt;/div&gt;&lt;input class=\"Datum_cas\" id=\"2012-06-27\" readonly=\"\"&gt;&lt;a href=\"index.php?den=0\" rel=\"0\" class=\"Nazev\"&gt;Zah\u00e1jen\u00ed letn\u00edho kina &lt;/a&gt;&lt;div style=\"display: block;\" class=\"ajax_box d-0\"&gt;&lt;span class=\"ajax_box Orig_nazev\"&gt;z\u00e1bava \u2022 hudba \u2022 film \u2022 letn\u00ed bar&lt;/span&gt;&lt;span class=\"Tech_info\"&gt;Sv\u011bt podle Fagi&lt;/span&gt;&lt;span class=\"Popis\"&gt;Facebookov\u00e1  komiksov\u00e1 Fagi v pod\u00e1n\u00ed divadla DNO. Divok\u00e9 p\u00edsn\u011b, co neza\u0159ad\u00edte, ale slu\u0161n\u011b si na n\u011b za\u0159\u00e1d\u00edte. Slovn\u00ed smy\u010dky, co se na nich jde ob\u011bsit. Kabaret, improvizace, p\u00edsn\u011b, humor, zb\u011bsilost i v srdci.&lt;br&gt;Koncert Tres Quatros Kvintet. Instrument\u00e1ln\u00ed muzika s pevn\u00fdm funkov\u00fdm groovem, jazzov\u00fdmi standardy a neodmysliteln\u00fdmi improvizacemi.&lt;/span&gt;&lt;input class=\"Datum_cas\" id=\"ajax_0\" type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"Datum\" rel=\"d_1\"&gt;27. \u010dervna \u2013 st\u0159eda, 21.30&lt;/div&gt;&lt;input class=\"Datum_cas\" id=\"2012-06-27\" readonly=\"\"&gt;&lt;a href=\"index.php?den=1\" rel=\"1\" class=\"Nazev\"&gt;Soul Kitchen&lt;/a&gt;&lt;div style=\"display: block;\" class=\"ajax_box d-1\"&gt;&lt;span class=\"ajax_box Orig_nazev\"&gt;Soul Kitchen&lt;/span&gt;&lt;span class=\"Tech_info\"&gt;Komedie, N\u011bmecko, 2009, 99 min., \u010des. a angl. tit.&lt;/span&gt;&lt;span class=\"Rezie\"&gt;RE\u017dIE: Fatih Akin &lt;/span&gt;&lt;span class=\"Hraji\"&gt;HRAJ\u00cd: Adam Bousdoukos, Moritz Bleibtreu, Birol \u00dcnel, Wotan Wilke M\u00f6hring&lt;/span&gt;&lt;span class=\"Popis\"&gt;Posledn\u00ed film mil\u00e1\u010dka publika Fatiho Akina, je turbulentn\u00edm vyzn\u00e1n\u00edm l\u00e1sky multikulturn\u00edmu Hamburku. S humorem zde Akin vykresluje p\u0159\u00edb\u011bh \u0158eka \u017eij\u00edc\u00edho v N\u011bmecku, kter\u00fd z mal\u00e9ho bufetu vytvo\u0159\u00ed origin\u00e1ln\u00ed restauraci, je\u017e se brzy stane obl\u00edbenou hudebn\u00ed sc\u00e9nou. \"Soul Kitchen\" je skv\u011bl\u00e1 komedie o p\u0159\u00e1telstv\u00ed, l\u00e1sce, rozchodu a boji o domov, kter\u00fd je t\u0159eba v dne\u0161n\u00edm nevypo\u010ditateln\u00e9m sv\u011bt\u011b chr\u00e1nit v\u00edc ne\u017e kdykoliv p\u0159edt\u00edm. Zvl\u00e1\u0161tn\u00ed cena poroty na festivalu v Ben\u00e1tk\u00e1ch&lt;/span&gt;&lt;input class=\"Datum_cas\" id=\"ajax_1\" type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"Datum\" rel=\"d_2\"&gt;28. \u010dervna \u2013 \u010dtvrtek, 21:30&lt;/div&gt;&lt;input class=\"Datum_cas\" id=\"2012-06-28\" readonly=\"\"&gt;&lt;a href=\"index.php?den=2\" rel=\"2\" class=\"Nazev\"&gt;Rodina je z\u00e1klad st\u00e1tu&lt;/a&gt;&lt;div style=\"display: block;\" class=\"ajax_box d-2\"&gt;&lt;span class=\"Tech_info\"&gt;Drama, \u010cesko, 2011, 103 min.&lt;/span&gt;&lt;span class=\"Rezie\"&gt;RE\u017dIE: Robert Sedl\u00e1\u010dek&lt;/span&gt;&lt;span class=\"Hraji\"&gt;HRAJ\u00cd: Igor Chmela, Eva Vrbkov\u00e1, Martin Finger, Monika A. Fingerov\u00e1, Simona Bab\u010d\u00e1kov\u00e1, Ji\u0159\u00ed Vyor\u00e1lek, Jan Fi\u0161ar, Jan Buda\u0159, Marek Tacl\u00edk, Marek Daniel&lt;/span&gt;&lt;span class=\"Popis\"&gt;Kdy\u017e v\u00e1m ho\u0159\u00ed p\u016fda pod nohama, nen\u00ed nad rodinn\u00fd v\u00fdlet. B\u00fdval\u00fd u\u010ditel d\u011bjepisu, kter\u00fd dos\u00e1hl vysok\u00e9ho mana\u017eersk\u00e9ho postu ve v\u00fdznamn\u00e9m finan\u010dn\u00edm \u00fastavu, si \u0159adu let spokojen\u011b \u017eije spole\u010dn\u011b se svou rodinou v luxusn\u00ed vile na okraji Prahy. Bezstarostn\u00fd \u017eivot ale netrv\u00e1 v\u011b\u010dn\u011b a na povrch za\u010dnou vyplouvat machinace s pen\u011bzi klient\u016f t\u00fdkaj\u00edc\u00ed se cel\u00e9ho veden\u00ed banky. Libor se n\u00e1sledn\u011b ocit\u00e1 pod dohledem policejn\u00edch vy\u0161et\u0159ovatel\u016f, kte\u0159\u00ed mu za\u010dnou tvrd\u011b \u0161lapat na paty. Sna\u017e\u00ed se uniknout p\u0159ed hroz\u00edc\u00edm v\u011bzen\u00edm a odd\u00e1lit osv\u011btlen\u00ed cel\u00e9 situace sv\u00e9 nic netu\u0161\u00edc\u00ed man\u017eelce. Rozhodne se tak pro netradi\u010dn\u00ed \u00fat\u011bk, kdy pod z\u00e1minkou spole\u010dn\u00e9 dovolen\u00e9 odveze celou rodinu na ji\u017en\u00ed Moravu\u2026  Rodinn\u00fd v\u00fdlet nebo zoufal\u00fd \u00faprk p\u0159ed spravedlnost\u00ed? Igor Chmela, Eva Vrbkov\u00e1 a Simona Bab\u010d\u00e1kov\u00e1 v rodinn\u00e9m dramatu a neoby\u010dejn\u00e9 road-movie inspirovan\u00e9 skute\u010dnost\u00ed.&lt;/span&gt;</code>Or like this:<code>&lt;strong&gt;POSEL&amp;nbsp;&amp;nbsp; 18.10.-22.10 v 18:30 &lt;/strong&gt;&lt;br&gt;Drama. \u010cR/90\u00b4. Re\u017eie: Vladim\u00edr Mich\u00e1lek Hraj\u00ed: Mat\u011bj H\u00e1dek, Eva Leinbergerov\u00e1, Ji\u0159\u00ed Vyor\u00e1vek&lt;br&gt;T\u0159ic\u00e1tn\u00edk Petr miluje kolo a sv\u00e9 v\u00e1\u0161ni pod\u0159izuje cel\u00fd sv\u016fj \u017eivot. Nepl\u00e1nuje, neplat\u00ed \u00fa\u010dty, ne\u0159e\u0161\u00ed nic, co m\u016f\u017ee&lt;br&gt;po\u010dkat  do z\u00edtra. Budov\u00e1n\u00ed spole\u010dn\u00e9ho \u017eivota s p\u0159\u00e9telkyn\u00ed je mu proti srsti  stejn\u011b jako d\u011blat kari\u00e9ru. Aby mohl jezdit na kole, rad\u011bji pracuje jako  posl\u00ed\u010dek. Jeho \u017eivot je ne\u0159\u00edzen\u00e1 st\u0159ela, ve kter\u00e9 neplat\u00ed \u017e\u00e1dn\u00e1  pravidla. Ale probl\u00e9my se na sebe na kup\u00ed a je st\u00e1le t\u011b\u017e\u0161\u00ed p\u0159ed nimi  ujet \u2026&lt;br&gt; &lt;br&gt;&lt;strong&gt;VE ST\u00cdNU&amp;nbsp; 18.10.-24.10. ve 20:30 a 20.10.-22.10. t\u00e9\u017e v 16:15&lt;/strong&gt;&lt;br&gt;Krimi. \u010cR/98\u00b4. Re\u017eie: D.Vond\u0159\u00ed\u010dek Hraj\u00ed: I.Trojan, S.Koch, S.Norisov\u00e1, J.\u0160t\u011bpni\u010dka, M.Tacl\u00edk&lt;br&gt;Kapit\u00e1n  Hakl (Ivan Trojan) vy\u0161et\u0159uje kr\u00e1de\u017e v klenotnictv\u00ed. Z b\u011b\u017en\u00e9 vloupa\u010dky  se ale vlivem z\u00e1kulisn\u00edch intrik tajn\u00e9 policie za\u010d\u00edn\u00e1 st\u00e1vat politick\u00e1  kauza. Z na\u0159\u00edzen\u00ed St\u00e1tn\u00ed bezpe\u010dnosti p\u0159eb\u00edr\u00e1 Haklovo vy\u0161et\u0159ov\u00e1n\u00ed major  Zenke (Sebastian Koch), policejn\u00ed specialista z NDR, pod jeho\u017e veden\u00edm  se vy\u0161et\u0159ov\u00e1n\u00ed ub\u00edr\u00e1 jin\u00fdm sm\u011brem, ne\u017e Haklovi napov\u00edd\u00e1 instinkt  zku\u0161en\u00e9ho kriminalisty. Na vlastn\u00ed p\u011bst pokra\u010duje ve vy\u0161et\u0159ov\u00e1n\u00ed. M\u016f\u017ee  jedin\u00fd spravedliv\u00fd obst\u00e1t v boji s dob\u0159e propojenou s\u00edt\u00ed komunistick\u00e9  policie?&amp;nbsp; Protivn\u00edk je siln\u00fd a Hakl se brzy p\u0159esv\u011bd\u010duje, \u017ee v\u011b\u0159it nelze  nikomu a ni\u010demu. Ka\u017ed\u00fd m\u00e1 sv\u016fj st\u00edn minulosti, sv\u00e9 slab\u00e9 m\u00edsto, kter\u00e9  dok\u00e1\u017ee z ob\u011bt\u00ed ud\u011blat vin\u00edky a z vin\u00edk\u016f hrdiny. &lt;br&gt;&lt;br&gt;&lt;strong&gt;ASTERIX A OBELIX VE SLU\u017dB\u00c1CH JEJ\u00cdHO VELI\u010cENSTVA&amp;nbsp; ve 3D&amp;nbsp;&amp;nbsp;&amp;nbsp; 20.10.-21.10. ve 13:45 &lt;/strong&gt;&lt;br&gt;Dobrodru\u017en\u00e1 fantazy. Fr./124\u00b4. \u010cESK\u00dd DABING. Re\u017eie: Laurent Tirard&lt;br&gt;Hraj\u00ed: G\u00e9rard Depardieu, Edouard Baer, Fabrice Luchini&lt;br&gt;Pod  veden\u00edm Julia Caesara napadly proslul\u00e9 \u0159\u00edmsk\u00e9 legie Brit\u00e1nii. Jedn\u00e9  mal\u00e9 vesni\u010dce se v\u0161ak da\u0159\u00ed state\u010dn\u011b odol\u00e1vat, ale ka\u017ed\u00fdm dnem je slab\u0161\u00ed a  slab\u0161\u00ed. Britsk\u00e1 kr\u00e1lovna proto vyslala sv\u00e9ho v\u011brn\u00e9ho d\u016fstojn\u00edka  Anticlimaxe, aby vyhledal pomoc u Gal\u016f v druh\u00e9 malink\u00e9 vesni\u010dce ve  Francii vyhl\u00e1\u0161en\u00e9 sv\u00fdm d\u016fmysln\u00fdm bojem proti \u0158\u00edman\u016fm\u2026 Kdy\u017e Anticlimax  popsal zoufalou situaci sv\u00fdch lid\u00ed, Galov\u00e9 mu darovali barel sv\u00e9ho  kouzeln\u00e9ho lektvaru a Ast\u00e9rix a Ob\u00e9lix jsou pov\u011b\u0159eni doprovodit ho dom\u016f.  Jakmile doraz\u00ed do Brit\u00e1nie, Anticlimax jim p\u0159edstav\u00ed m\u00edstn\u00ed zvyky ve  v\u0161\u00ed par\u00e1d\u011b a v\u0161ichni to po\u0159\u00e1dn\u011b rozto\u010d\u00ed! Vyto\u010den\u00fd Caesar se v\u0161ak  rozhodne naverbovat Norman\u010fany, hr\u016fzu nah\u00e1n\u011bj\u00edc\u00ed bojovn\u00edky Severu, aby  jednou prov\u017edy skoncovali s Brity. &lt;br&gt;&lt;br&gt;</code>Or it can look like anything similar to this. No special rules in HTML markup, no special rules in order, etc.", "simquery2_answer": "I had the same problem.  It was easy to reproduce on only one of our testing devices, reading an iCloud document.  Reinstalling the app did not affect the bug.I was using a NSMetadataQuery to get the file URLs.  My receiver for the NSMetadataQueryDidFinishGatheringNotification looked like this:<code>- (void)queryDidFinishGathering:(NSNotification *)notification\n{\n    NSMetadataQuery *query = [notification object];\n    [query disableUpdates];\n    [query stopQuery]; //  &lt;--- This was the problem    NSMetadataItem *item = [query resultAtIndex:0];\n    NSURL *url = [item valueForAttribute:NSMetadataItemURLKey];\n    UIDocument *doc = [[CustomDocument alloc] initWithFileURL:url];\n    [doc openWithCompletionHandler:^(BOOL success) {\n         // EXC_BAD_ACCESS before completion block is called :'(\n    }];    [query enableUpdates];\n}\n</code>Removing the <code>stopQuery</code> call fixed everything!\n", "total_len": 755, "s1_total_len": 944, "s2_total_len": 3443}
{"post_id": "23337471", "title": "How to properly assert that an exception gets raised in pytest?", "query": "Code:<code># coding=utf-8import pytestdef whatever():    return 9/0def test_whatever():    try:        whatever()    except ZeroDivisionError as exc:        pytest.fail(exc, pytrace=True)</code>Output:<code>================================ test session starts =================================platform linux2 -- Python 2.7.3 -- py-1.4.20 -- pytest-2.5.2plugins: django, covcollected 1 items pytest_test.py F====================================== FAILURES ======================================___________________________________ test_whatever ____________________________________    def test_whatever():        try:            whatever()        except ZeroDivisionError as exc:&gt;           pytest.fail(exc, pytrace=True)E           Failed: integer division or modulo by zeropytest_test.py:12: Failed============================== 1 failed in 1.16 seconds ==============================</code>How to make pytest print traceback, so I would see where in the <code>whatever</code> function an exception was raised?", "acce_answer": "If you don't create a copy of the object with the techniques you've described, you put the same object in the list again and again.Here's a short example to illustrate the issue:<code>&gt;&gt;&gt; a=[1,2]\n&gt;&gt;&gt; b=[a,a]\n&gt;&gt;&gt; a.append(3)\n&gt;&gt;&gt; b               #   [[1, 2, 3], [1, 2, 3]]\n</code>\n", "acce_score": "722", "simquery1_title": "Python project directory structure / pytest trouble This should be the easiest problem on earth, but even after extensive searching and tinkering, I'm still in deep trouble with finding a \"correct\" way to lay a directory structure and manage to run pytest etc correctly.Let's say my I have a program called apple.<code>|- README.md|- apple|   |-- __init__.py|   |-- apple.py| - tests|   |-- test_everything.py</code>The apple.py contains some functions, for examples sake let's call one <code>eat()</code>. And the <code>test_everything.py</code> file contains some tests like <code>assert eat()==\"foobar\"</code>. So good so easy, but then the fun begins:What about the <code>__init__.py</code> in the apple directory... correct? Empty or what should be inside?Is it best practice to call <code>py.test</code> from the root directory? Or <code>py.test tests</code>?So many projects have a <code>__init__.py</code> in their test directory, but that's explicitly said to be wrong in the py.test documentation. So why god whyWhat comes at the top of the <code>test_everything.py</code> file: an <code>import apple</code> or <code>from apple import *</code>? or something else entirelyDo you call the functions then by <code>eat()</code> or <code>apple.eat()</code>?Some even recommend manipulating <code>os.path.dirname</code> in pythonThis should be easy, but I've seen every combination of the above, not even speaking about tox and the myriad of other tools. Yet with the slightest error, you get thrown some <code>ImportError: No module named 'apple'</code> or some other funky error. What is the \"right\" way? The advice and the existing code on github etc follows extremely different conventions. For a medium-experienced coder, this should be much easier.", "simquery1_answer": "Going to try to keep it short. I have a while loop in grid.php file to fill up a table as such...<code>&lt;?php while($product = $products-&gt;fetch_assoc()) { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_id']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_title']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_fname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_lname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_price']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"edit.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-primary\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"delete.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;?php } ?&gt;\n</code>If I click the first anchor tag takes me to a edit.php file and here is the head code for that file.<code>&lt;?php include '_includes/db.php';\n$cd_id   = trim($_GET['id']);\n$message = '';\ninclude '_includes/connection.php';\nif($db-&gt;connect_error){\n  $message = $db-&gt;connect_error;\n}else{\n  $sql  = \"SELECT * FROM CD WHERE cd_id = $cd_id\";\n  $result = $db-&gt;query($sql);\n  $row = $result-&gt;fetch_assoc();\n  if($db-&gt;error){\n    $message = $db-&gt;error;\n   }\n }\n?&gt;\n</code>Now I will show the html of edit.php<code>&lt;!--        Product Musician last name--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_musician_lname\"&gt;Musician's lirst name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_musician_lname\" name=\"cd_musician_lname\" value=\"&lt;?php echo $row['cd_musician_lname'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--        End of Musician last name--&gt;      &lt;!--        Product price--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_price\"&gt;Product price&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_price\" name=\"cd_price\" value=\"&lt;?php echo $row['cd_price'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--    End of Product price--&gt;      &lt;!--    Form submit button--&gt;\n      &lt;a href=\"edit_confirm.php?id=&lt;?echo $row['cd_id'];?&gt;\" type=\"submit\" class=\"btn btn-primary\"&gt;Update Record&lt;/a&gt;\n      &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n</code>I have the edit.php page working just fine but if I make changes in the fields and click the submit anchor tag I get all the fields of the row empty but the PK. Here is the code for the final edit_confirm.php file<code>&lt;?php\ninclude '_includes/db.php';$cd_id             = trim($_GET['id']);\n$cd_title          = $_POST['cd_title'];\n$cd_musician_fname = $_POST['cd_musician_fname'];\n$cd_musician_lname = $_POST['cd_musician_lname'];\n$cd_price          = $_POST['cd_price'];$message = '';\ninclude '_includes/connection.php';if($db-&gt;connect_error){\n  die(\"Connection failed: \".$db-&gt;connect_error);\n} else {\n$sql = \"UPDATE CD SET cd_title='\".$cd_title.\"', cd_musician_fname='\".\n$cd_musician_fname.\"', cd_musician_lname='\".\n$cd_musician_lname.\"',   cd_price='\".$cd_price.\"' WHERE cd_id = $cd_id \";\n$db-&gt;query($sql);\nvar_dump($sql);\n }\n?&gt;&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;?php include '_includes/main-head.php';?&gt;\n&lt;/head&gt;\n  &lt;body&gt;\n  &lt;?php include '_includes/main-navbar.php';?&gt;  &lt;div class=\"container\"&gt;\n    &lt;hr&gt;\n    &lt;?php\n    if($db-&gt;query($sql) === TRUE){ ?&gt;\n      &lt;h1&gt;Record updated successfully.&lt;/h1&gt;\n      &lt;?php echo $cd_title; ?&gt;\n      &lt;?php echo $record-&gt;affected_rows ?&gt; \n      &lt;p&gt; record was updated in the database.&lt;/p&gt;&lt;/br&gt;\n   &lt;?php } else { ?&gt;\n    &lt;p&gt;Error updating the record: &lt;/p&gt; &lt;?php $db-&gt;error; ?&gt;\n   &lt;?php }; ?&gt;\n    &lt;hr&gt;\n    &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;?php include '_includes/main-script.php';?&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code>If you notice in the edit_confirm.php I did a var_dump to see what are the values in the variables and it shows empty.I need help with this.\nThank you in advance.\n", "simquery2_title": "Pytest monkeypatch isn't working on imported function Suppose there are two packages in a project: <code>some_package</code> and <code>another_package</code>.<code># some_package/foo.py:def bar():    print('hello')</code><code># another_package/function.pyfrom some_package.foo import bardef call_bar():    # ... code ...    bar()    # ... code ...</code>I want to test <code>another_package.function.call_bar</code> mocking out <code>some_package.foo.bar</code> because it has some network I/O I want to avoid. Here is a test:<code># tests/test_bar.pyfrom another_package.function import call_bardef test_bar(monkeypatch):    monkeypatch.setattr('some_package.foo.bar', lambda: print('patched'))    call_bar()    assert True</code>To my surprise it outputs <code>hello</code> instead of <code>patched</code>. I tried to debug this thing, putting an IPDB breakpoint in the test. When I manually import <code>some_package.foo.bar</code> after the breakpoint and call <code>bar()</code> I get <code>patched</code>.On my real project the situation is even more interesting. If I invoke pytest in the project root my function isn't patched, but when I specify <code>tests/test_bar.py</code> as an argument - it works.As far as I understand it has something to do with the <code>from some_package.foo import bar</code> statement. If it's being executed before monkeypatching is happening then patching fails. But on the condensed test setup from the example above patching does not work in both cases.And why does it work in IPDB REPL after hitting a breakpoint?", "simquery2_answer": "I have a program that reads some input text files and write all of them into one separate file. I used two threads so it runs faster!\nI tried the following python code with both one thread and two threads! Why when I run with one thread it runs faster than when I run it with two threads?\r\n\r\n<code>processedFiles=[]\r\n# Define a function for the threads\r\ndef print_time( threadName, delay):\r\n   for file in glob.glob(\"*.txt\"):\r\n      #check if file has been read by another thread already \r\n      if file not in processedFiles:\r\n         processedFiles.append(file)\r\n         f = open(file,\"r\")\r\n         lines = f.readlines()\r\n         f.close()\r\n         time.sleep(delay)\r\n         f = open('myfile','a')\r\n         f.write(\"%s \\n\" %lines) # python will convert \\n to os.linesep\r\n         f.close() # you can omit in most cases as the destructor will call it\r\n         print \"%s: %s\" % ( threadName, time.ctime(time.time()) )\r\n\r\n   \r\n# Create two threads as follows\r\ntry:\r\n   f = open('myfile', 'r+')\r\n   f.truncate()\r\n\r\n   start = timeit.default_timer()\r\n\r\n   t1 = Thread(target=print_time, args=(\"Thread-1\", 0,))\r\n   t2 = Thread(target=print_time, args=(\"Thread-2\", 0,))\r\n   t1.start()\r\n   t2.start()\r\n\r\n\r\n   stop = timeit.default_timer()\r\n\r\n   print stop - start\r\n\r\nexcept:\r\n   print \"Error: unable to start thread\"</code>\r\n\r\n\r", "total_len": 397, "s1_total_len": 2190, "s2_total_len": 870}
{"post_id": "23842713", "title": "Using Python 3 in virtualenv", "query": "Using virtualenv, I run my projects with the default version of Python (2.7). On one project, I need to use Python 3.4. I used <code>brew install python3</code> to install it on my Mac. Now, how do I create a virtualenv that uses the new version?e.g. sudo virtualenv envPython3If I try:<code>virtualenv -p python3 test</code>I get:<code>Running virtualenv with interpreter /usr/local/bin/python3Using base prefix '/usr/local/Cellar/python3/3.4.0_1/Frameworks/Python.framework/Versions/3.4'New python executable in test/bin/python3.4Also creating executable in test/bin/pythonFailed to import the site moduleTraceback (most recent call last):  File \"/Users/user/Documents/workspace/test/test/bin/../lib/python3.4/site.py\", line 67, in &lt;module&gt;    import os  File \"/Users/user/Documents/workspace/test/test/bin/../lib/python3.4/os.py\", line 634, in &lt;module&gt;    from _collections_abc import MutableMappingImportError: No module named '_collections_abc'ERROR: The executable test/bin/python3.4 is not functioningERROR: It thinks sys.prefix is '/Users/user/Documents/workspace/test' (should be '/Users/user/Documents/workspace/test/test')ERROR: virtualenv is not compatible with this system or executable</code>", "acce_answer": "Well, you're not allowed to use a <code>ref</code> or a <code>out</code> parameter in an anonymous method or a lambda, just as the compiler error says.Instead you have to copy the value out of the <code>ref</code> parameter into a local variable and use that:<code>var nodeId = c.NodeID;\nvar coordinates = from r in xdoc.Descendants(\"move\")\n    where int.Parse(r.Attribute(\"id\").Value) == nodeId\n    ...\n</code>\n", "acce_score": "872", "simquery1_title": "How to Install pip for python 3.7 on Ubuntu 18? I've installed Python 3.7 on my Ubuntu 18.04 machine. Following this instructions in case it's relevant:Download : Python 3.7 from Python Website [1] ,on Desktop and manuallyunzip it, on Desktop Installation : Open Terminal (ctrl +shift+T)<code>Go to the Extracted folder$ cd ~/Desktop/Python-3.7.0$ ./configure$ make$ sudo make install</code>Making Python 3.7 default Python :<code>$ sudo vim ~/.bashrcpress ion the last and new line - Typealias python= python3.7press Esctype - to save and exit vim:wqnow type$ source ~/.bashrc</code>From here: https://www.quora.com/How-can-I-upgrade-Python-3-6-to-3-7-in-Ubuntu-18-04I've downloaded several modules through <code>pip install module</code> but when I try to import them, I get a <code>ModuleNotFoundError: No module names 'xx'</code>So I did some research and apparently when used pip to install, it installed in the modules in previous version of Python.Somewhere (probably a question in SO) I found a suggestion to install the module using <code>python3.7 -m pip install module</code> but then I get <code>/usr/local/bin/python3.7: no module named pip</code>.Now I'm stuck, pip is installed, but apparently not for Python 3.7. I'm assuming that if I can install pip for Python 3.7, I can run the pip install command and get the modules I need.If that is the case, how can I install pip for python 3.7, since it's already installed?This is the best I have come up with:I have installed python 3.7 successfully and I can install modules using pip (or pip3) but those modules are installed in Python 3.6 (Comes with ubuntu). Therefore I can't import those modules in python 3.7 (get a module not found)Python 3.7 doesn't recognize pip/pip3, so I can't install through pip/pip3I need python 3.7", "simquery1_answer": "I want to return an object when I have a certain prop in the parameter of my function, and a <code>string</code> when not.\nI can't use functions overloads because it is used in a type that is shared with React components, in React.useCallback.\nI tried:\n<code>type FileType = {\n    name: string\n    content: string\n}// This is a type that I use in many part of my code. I would like the result of onSave to depend on the props it receive\ntype Props = {\n    onSave: &lt;T extends FileType | undefined&gt;(data: {\n        id: string\n        file: T\n    }) =&gt; T extends FileType ? FileType : string\n}const isFile = (o: unknown): o is FileType =&gt; {\n    return o !== undefined\n}\n// Here you can read the error\nconst insert: Props['onSave'] = prop =&gt; isFile(prop.file) ? prop.file : prop.id)// Here is how the function is written in my code. But React doesn't exist in this playground\n// const insert = React.useCallback&lt;Props['onSave']&gt;(prop =&gt; isFile(prop.file) ? prop.file : prop.id, [])</code>\nthe error:\n<code>Type 'string | (T &amp; FileType)' is not assignable to type 'T extends FileType ? FileType : string'.\n  Type 'string' is not assignable to type 'T extends FileType ? FileType : string'.\n</code>\nPlayground Link: Provided\n", "simquery2_title": "Python pip install module is not found. How to link python to pip location? I'm a newbie and I needed the pySerial and feedparser module for my projects. I'm running Mountain lion.I followed the following tutorial so that I could upgrade to python 2.7.3 and then use the above mentioned modules.http://hackercodex.com/guide/python-virtualenv-on-mac-osx-mountain-lion-10.8/I followed this tutorial till I installed pip. Instead of installing Virtualenv. I used the following commands to install pySerial and feedparser<code>$ pip install pySerialRequirement already satisfied (use --upgrade to upgrade): pySerial in /Library/Python/2.7/site-packagesCleaning up...</code>I assumed that this was already present and checked it. Python seems to be importing this just fine. My python version has been upgraded to 2.7.3 btw since I installed it using homebrew as mentioned in the tutorial.Then I tried installing feedparser<code>$ pip install feedparserRequirement already satisfied (use --upgrade to upgrade): feedparser in /usr/local/lib/python2.7/site-packagesCleaning up...</code>Notice how its in the site-packages directory in the usr/local/lib.All of my pip installs are being installed in that directory but python does not seem to be picking them up when i try importing them. How do I set the path so that python also looks there as well as core directory?Your help will be greatly appreciated.I tried looking for answers here:Pip installs but module is not foundWhy I can&#39;t import beautifulsoup on mac using python 2.7 after installing it by using pip and/or easy_install?but niether of them are in the same situation as I am. I don't understand why this is happening as i edited my bash_profile with the following<code># Set architecture flagsexport ARCHFLAGS=\"-arch x86_64\"# Ensure user-installed binaries take precedenceexport PATH=/usr/local/share/python:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin# Load .bashrc if it existstest -f ~/.bashrc &amp;&amp; source ~/.bashrc</code>then installed homebrew and then installed python 2.7.3 through homebrew (2.7.3 is now currently running on my machine) I figured all pip installs would be correctly linked?", "simquery2_answer": "\nI am trying to create custom <code>ItemsControl</code>, that displays a list of buttons (for practice sake), quite simple as below:<code>&lt;Style TargetType=\"{x:Type local:MyControl}\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"{x:Type local:MyControl}\"&gt;\n                &lt;Border Background=\"{TemplateBinding Background}\"\n                    BorderBrush=\"{TemplateBinding BorderBrush}\"\n                    BorderThickness=\"{TemplateBinding BorderThickness}\"&gt;\n                    &lt;ItemsPresenter /&gt;\n                &lt;/Border&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;    &lt;Setter Property=\"ItemsPanel\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ItemsPanelTemplate&gt;\n                &lt;StackPanel /&gt;\n            &lt;/ItemsPanelTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n    &lt;Setter Property=\"ItemTemplate\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;DataTemplate&gt;\n                &lt;Button Content=\"{Binding }\" /&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code>I would like to make it dynamic in the sense that I can bind a list of Objects to the <code>ItemsSource</code> and display a specified property from those objects as the text to display in the button. Similar to how <code>DisplayMemberPath</code> works in a <code>ComboBox</code> (when specifying a string property to display), however I have read that you cannot use both <code>ItemTemplate</code> and <code>DisplayMemberPath</code> at the same time? So how could I implement a similar property in my case.\n", "total_len": 502, "s1_total_len": 910, "s2_total_len": 1069}
{"post_id": "23948527", "title": "(13: Permission denied) while connecting to upstream:[nginx]", "query": "I am working with configuring Django project with Nginx and Gunicorn.While I am accessing my port <code>gunicorn mysite.wsgi:application --bind=127.0.0.1:8001</code> in Nginx server, I am getting the following error in my error log file;  2014/05/30 11:59:42 [crit] 4075#0: *6 connect() to 127.0.0.1:8001 failed (13: Permission denied) while connecting to upstream, client: 127.0.0.1, server: localhost, request: \"GET / HTTP/1.1\", upstream: <code>\"http://127.0.0.1:8001/\"</code>, host: \"localhost:8080\"Below is the content of my <code>nginx.conf</code> file;<code>server {    listen 8080;    server_name localhost;    access_log  /var/log/nginx/example.log;    error_log /var/log/nginx/example.error.log;    location / {        proxy_pass http://127.0.0.1:8001;        proxy_set_header X-Forwarded-For $remote_addr;        proxy_set_header Host $http_host;    }}</code>In the HTML page I am getting <code>502 Bad Gateway</code>.What mistake am I doing?", "acce_answer": "Here's @Andrei G.'s answer as a Swift extension:<code>extension UILabel {    func setTextWithTypeAnimation(typedText: String, characterInterval: NSTimeInterval = 0.25) {\n        text = \"\"\n        dispatch_async(dispatch_get_global_queue(QOS_CLASS_USER_INTERACTIVE, 0)) {\n            for character in typedText.characters {\n                dispatch_async(dispatch_get_main_queue()) {\n                    self.text = self.text! + String(character)\n                }\n                NSThread.sleepForTimeInterval(characterInterval)\n            }\n        }\n    }}\n</code>\n", "acce_score": "398", "simquery1_title": "Why is Flask application not creating any logs when hosted by Gunicorn? I'm trying to add logging to a web application which uses Flask.When hosted using the built-in server (i.e. <code>python3 server.py</code>), logging works. When hosted using Gunicorn, the log file is not created.The simplest code which reproduces the problem is this one:<code>#!/usr/bin/env pythonimport loggingfrom flask import FlaskflaskApp = Flask(__name__)@flaskApp.route('/')def index():    flaskApp.logger.info('Log message')    print('Direct output')    return 'Hello World\\n'if __name__ == \"__main__\":    logHandler = logging.FileHandler('/var/log/demo/app.log')    logHandler.setLevel(logging.INFO)    flaskApp.logger.addHandler(logHandler)    flaskApp.logger.setLevel(logging.INFO)    flaskApp.run()</code>The application is called using:<code>gunicorn server:flaskApp -b :80 -w 4    --access-gfile /var/log/demo/access.log    --error-logfile /var/log/demo/error.log</code>When doing a request to the home page of the site, the following happens:I receive the expected HTTP 200 \"Hello World\\n\" in response.There is a trace of the request in <code>/var/log/demo/access.log</code>.<code>/var/log/demo/error.log</code> stays the same (there are just the boot events).There is the \"Direct output\" line in the terminal.There is no '/var/log/demo/app.log'. If I create the file prior to launching the application, the file is not modified.Note that:The directory <code>/var/log/demo</code> can be accessed (read, write, execute) by everyone, so this is not the permissions issue.If I add <code>StreamHandler</code> as a second handler, there is still no trace of the \"Log message\" message neither in the terminal, nor in Gunicorn log files.Gunicorn is installed using <code>pip3 install gunicorn</code>, so there shouldn't be any mismatch with Python versions.What's happening?", "simquery1_answer": "<code>update b \njoin a on a.prod_nr = b.prod_nr\nset b.description = a.description\n</code>\n", "simquery2_title": "How can I run an external command asynchronously from Python? I need to run a shell command asynchronously from a Python script. By this I mean that I want my Python script to continue running while the external command goes off and does whatever it needs to do.I read this post:   Calling an external command in Python I then went off and did some testing, and it looks like <code>os.system()</code> will do the job provided that I use <code>&amp;</code> at the end of the command so that I don't have to wait for it to return. What I am wondering is if this is the proper way to accomplish such a thing? I tried <code>commands.call()</code> but it will not work for me because it blocks on the external command.Please let me know if using <code>os.system()</code> for this is advisable or if I should try some other route.", "simquery2_answer": "I adapted a script originally written by Narayana Vyas Kondreddi in 2002. I changed the where clause to check text/ntext fields as well, by using patindex rather than like. I also changed the results table slightly. Unreasonably, I changed variable names, and aligned as I prefer (no disrespect to Mr. Kondretti). The user may want to change the data types searched. I used a global table to allow querying mid-processing, but a permanent table might be a smarter way to go.<code>/* original script by Narayana Vyas Kondreddi, 2002 */\n/* adapted by Oliver Holloway, 2009 *//* these lines can be replaced by use of input parameter for a proc */\ndeclare @search_string varchar(1000);\nset @search_string = 'what.you.are.searching.for';/* create results table */\ncreate table ##string_locations (\n  table_name varchar(1000),\n  field_name varchar(1000),\n  field_value varchar(8000)\n)\n;\n/* special settings */\nset nocount on\n;\n/* declare variables */\ndeclare\n  @table_name varchar(1000),\n  @field_name varchar(1000)\n;\n/* variable settings */\nset @table_name = ''\n;\nset @search_string = QUOTENAME('%' + @search_string + '%','''')\n;\n/* for each table */\nwhile @table_name is not null\nbegin  set @field_name = ''\n  set @table_name = (\n    select MIN(QUOTENAME(table_schema) + '.' + QUOTENAME(table_name))\n    from INFORMATION_SCHEMA.TABLES\n    where \n      table_type = 'BASE TABLE' and\n      QUOTENAME(table_schema) + '.' + QUOTENAME(table_name) &gt; @table_name and\n      OBJECTPROPERTY(OBJECT_ID(QUOTENAME(table_schema) + '.' + QUOTENAME(table_name)), 'IsMSShipped') = 0\n  )  /* for each string-ish field */\n  while (@table_name is not null) and (@field_name is not null)\n  begin\n    set @field_name = (\n      select MIN(QUOTENAME(column_name))\n      from INFORMATION_SCHEMA.COLUMNS\n      where \n        table_schema    = PARSENAME(@table_name, 2) and\n        table_name  = PARSENAME(@table_name, 1) and\n        data_type in ('char', 'varchar', 'nchar', 'nvarchar', 'text', 'ntext') and\n        QUOTENAME(column_name) &gt; @field_name\n    )    /* search that field for the string supplied */\n    if @field_name is not null\n    begin\n      insert into ##string_locations\n      exec(\n        'select ''' + @table_name + ''',''' + @field_name + ''',' + @field_name + \n        'from ' + @table_name + ' (nolock) ' +\n        'where patindex(' + @search_string + ',' + @field_name + ') &gt; 0'  /* patindex works with char &amp; text */\n      )\n    end\n    ;\n  end\n  ;\nend\n;/* return results */\nselect table_name, field_name, field_value from ##string_locations (nolock)\n;\n/* drop temp table */\n--drop table ##string_locations\n;\n</code>\n", "total_len": 540, "s1_total_len": 564, "s2_total_len": 1090}
{"post_id": "24147278", "title": "How do I create test and train samples from one dataframe with pandas?", "query": "I have a fairly large dataset in the form of a dataframe and I was wondering how I would be able to split the dataframe into two random samples (80% and 20%) for training and testing.Thanks!", "acce_answer": "I'm a newbie to Spring. I'm facing a problem with Spring-Boot. I'm trying to autowire a field from an external config file into an autowired bean. I have the following classesApp.java<code>public class App {@Autowired\nprivate Service service;public static void main(String[] args) {    final SpringApplication app = new SpringApplication(App.class);\n    //app.setShowBanner(false);\n    app.run();\n}@PostConstruct\npublic void foo() {\n    System.out.println(\"Instantiated service name = \" + service.serviceName);\n}\n}\n</code>AppConfig.java<code>@Configuration\n@ConfigurationProperties\npublic class AppConfig {@Bean\npublic Service service()    {\n    return new Service1();\n}\n}\n</code>Service Interface<code>public interface Service {\n    public String serviceName =\"\";\n    public void getHistory(int days , Location location );\n    public void getForecast(int days , Location location );\n}\n</code>Service1<code>@Configurable\n@ConfigurationProperties\npublic class Service1 implements Service {@Autowired\n@Value(\"${serviceName}\") \npublic String serviceName;\n//Available in external configuration file.\n//This autowiring is not reflected in the main method of the application.public void getHistory(int days , Location location)\n{\n    //history code\n}public void getForecast(int days , Location location )\n{\n    //forecast code\n}\n}\n</code>I'm unable to display the service name variable in the postconstruct method of the App class. Am I doing this right?\n", "acce_score": "532", "simquery1_title": "\"Large data\" workflows using pandas I have tried to puzzle out an answer to this question for many months while learning pandas.  I use SAS for my day-to-day work and it is great for it's out-of-core support.  However, SAS is horrible as a piece of software for numerous other reasons.One day I hope to replace my use of SAS with python and pandas, but I currently lack an out-of-core workflow for large datasets.  I'm not talking about \"big data\" that requires a distributed network, but rather files too large to fit in memory but small enough to fit on a hard-drive.My first thought is to use <code>HDFStore</code> to hold large datasets on disk and pull only the pieces I need into dataframes for analysis.  Others have mentioned MongoDB as an easier to use alternative.  My question is this:What are some best-practice workflows for accomplishing the following:Loading flat files into a permanent, on-disk database structureQuerying that database to retrieve data to feed into a pandas data structureUpdating the database after manipulating pieces in pandasReal-world examples would be much appreciated, especially from anyone who uses pandas on \"large data\".Edit -- an example of how I would like this to work:Iteratively import a large flat-file and store it in a permanent, on-disk database structure.  These files are typically too large to fit in memory.In order to use Pandas, I would like to read subsets of this data (usually just a few columns at a time) that can fit in memory.I would create new columns by performing various operations on the selected columns.I would then have to append these new columns into the database structure.I am trying to find a best-practice way of performing these steps. Reading links about pandas and pytables it seems that appending a new column could be a problem.Edit -- Responding to Jeff's questions specifically:I am building consumer credit risk models. The kinds of data include phone, SSN and address characteristics; property values; derogatory information like criminal records, bankruptcies, etc... The datasets I use every day have nearly 1,000 to 2,000 fields on average of mixed data types: continuous, nominal and ordinal variables of both numeric and character data.  I rarely append rows, but I do perform many operations that create new columns.Typical operations involve combining several columns using conditional logic into a new, compound column. For example, <code>if var1 &gt; 2 then newvar = 'A' elif var2 = 4 then newvar = 'B'</code>.  The result of these operations is a new column for every record in my dataset.Finally, I would like to append these new columns into the on-disk data structure.  I would repeat step 2, exploring the data with crosstabs and descriptive statistics trying to find interesting, intuitive relationships to model.A typical project file is usually about 1GB.  Files are organized into such a manner where a row consists of a record of consumer data.  Each row has the same number of columns for every record.  This will always be the case.It's pretty rare that I would subset by rows when creating a new column.  However, it's pretty common for me to subset on rows when creating reports or generating descriptive statistics.  For example, I might want to create a simple frequency for a specific line of business, say Retail credit cards.  To do this, I would select only those records where the line of business = retail in addition to whichever columns I want to report on.  When creating new columns, however, I would pull all rows of data and only the columns I need for the operations.The modeling process requires that I analyze every column, look for interesting relationships with some outcome variable, and create new compound columns that describe those relationships.  The columns that I explore are usually done in small sets.  For example, I will focus on a set of say 20 columns just dealing with property values and observe how they relate to defaulting on a loan.  Once those are explored and new columns are created, I then move on to another group of columns, say college education, and repeat the process.  What I'm doing is creating candidate variables that explain the relationship between my data and some outcome.  At the very end of this process, I apply some learning techniques that create an equation out of those compound columns.It is rare that I would ever add rows to the dataset.  I will nearly always be creating new columns (variables or features in statistics/machine learning parlance).", "simquery1_answer": "Use HTTP POST, and post content as Form-based File Upload (mime type: multipart/form-data). This system is standard on web for sending forms and/or uploading files.Use HTTP chunked post mode, so that size doesn't need to be known beforehand, and you can stream any file in small parts. You still have to make some code on server (e.g. in PHP) to accept the file and do what is needed.Use HttpURLConnection to initiate connection. Then use my attached class to send the data. It will create proper headers, etc, and you'll use it as OutputStream to write your raw data to it, then call close, and you're done. You can overrite its onHandleResult to handle resulting error code.<code>public class FormDataWriter extends FilterOutputStream{\n   private final HttpURLConnection con;   /**\n    * @param formName name of form in which data are sent\n    * @param fileName\n    * @param fileSize   size of file, or -1 to use chunked encoding\n    */\n   FormDataWriter(HttpURLConnection con, String formName, String fileName, long fileSize) throws IOException{\n      super(null);\n      this.con = con;\n      con.setDoOutput(true);      String boundary = generateBoundary();\n      con.setRequestProperty(HTTP.CONTENT_TYPE, \"multipart/form-data; charset=UTF-8; boundary=\"+boundary);\n      {\n         StringBuilder sb = new StringBuilder();\n         writePartHeader(boundary, formName, fileName==null ? null : \"filename=\\\"\"+fileName+\"\\\"\",\n               \"application/octet-stream\", sb);\n         headerBytes = sb.toString().getBytes(\"UTF-8\");         sb = new StringBuilder();\n         sb.append(\"\\r\\n\");\n         sb.append(\"--\"+boundary+\"--\\r\\n\");\n         footerBytes = sb.toString().getBytes();\n      }\n      if(fileSize!=-1) {\n         fileSize += headerBytes.length + footerBytes.length;\n         con.setFixedLengthStreamingMode((int)fileSize);\n      }else\n         con.setChunkedStreamingMode(0x4000);\n      out = con.getOutputStream();\n   }   private byte[] headerBytes, footerBytes;   private String generateBoundary() {\n      StringBuilder sb = new StringBuilder();\n      Random rand = new Random();\n      int count = rand.nextInt(11) + 30;\n      int N = 10+26+26;\n      for(int i=0; i&lt;count; i++) {\n         int r = rand.nextInt(N);\n         sb.append((char)(r&lt;10 ? '0'+r : r&lt;36 ? 'a'+r-10 : 'A'+r-36));\n      }\n      return sb.toString();\n   }   private void writePartHeader(String boundary, String name, String extraContentDispositions, String contentType, StringBuilder sb) {\n      sb.append(\"--\"+boundary+\"\\r\\n\");\n      sb.append(\"Content-Disposition: form-data; charset=UTF-8; name=\\\"\"+name+\"\\\"\");\n      if(extraContentDispositions!=null)\n         sb.append(\"; \").append(extraContentDispositions);\n      sb.append(\"\\r\\n\");\n      if(contentType!=null)\n         sb.append(\"Content-Type: \"+contentType+\"\\r\\n\");\n      sb.append(\"\\r\\n\");\n   }   @Override\n   public void write(byte[] buffer, int offset, int length) throws IOException{\n      if(headerBytes!=null) {\n         out.write(headerBytes);\n         headerBytes = null;\n      }\n      out.write(buffer, offset, length);\n   }   @Override\n   public void close() throws IOException{\n      flush();\n      if(footerBytes!=null) {\n         out.write(footerBytes);\n         footerBytes = null;\n      }\n      super.close();\n      int code = con.getResponseCode();\n      onHandleResult(code);\n   }\n   protected void onHandleResult(int code) throws IOException{\n      if(code!=200 &amp;&amp; code!=201)\n         throw new IOException(\"Upload error code: \"+code);\n   }\n}\n</code>\n", "simquery2_title": "Pandas Merging 101 How can I perform a (<code>INNER</code>| (<code>LEFT</code>|<code>RIGHT</code>|<code>FULL</code>) <code>OUTER</code>) <code>JOIN</code> with pandas?How do I add NaNs for missing rows after a merge?How do I get rid of NaNs after merging?Can I merge on the index?How do I merge multiple DataFrames?Cross join with pandas<code>merge</code>? <code>join</code>? <code>concat</code>? <code>update</code>? Who? What? Why?!... and more. I've seen these recurring questions asking about various facets of the pandas merge functionality. Most of the information regarding merge and its various use cases today is fragmented across dozens of badly worded, unsearchable posts. The aim here is to collate some of the more important points for posterity.This Q&amp;A is meant to be the next installment in a series of helpful user guides on common pandas idioms (see this post on pivoting, and this post on concatenation, which I will be touching on, later).Please note that this post is not meant to be a replacement for the documentation, so please read that as well! Some of the examples are taken from there.Table of ContentsFor ease of access.Merging basics - basic types of joins (read this first)Index-based joinsGeneralizing to multiple DataFramesCross join", "simquery2_answer": "The variable is changing and prints different value and it saves another\nIf i run this code\n<code>def swap(string,x,y):\n  string[y], string[x] = string[x], string[y]def permutations(string ,i=0):\n    if i == len(string):\n        yield string    for x in range(i, len(string)):\n        perm = string\n        swap(perm,x,i)\n        yield from permutations(perm, i+1)\n        swap(perm,i,x)result = []\ntest = permutations(['a','b','c'])\nfor x in test:\n    print(x)\n    result.append(x)print(result)\n</code>\nIt prints this and i dont know why:\n<code>['a', 'b', 'c']\n['a', 'c', 'b']\n['b', 'a', 'c']\n['b', 'c', 'a']\n['c', 'b', 'a']\n['c', 'a', 'b']\n[['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c'], ['a', 'b', 'c']]\n</code>\n", "total_len": 443, "s1_total_len": 2027, "s2_total_len": 649}
{"post_id": "16923281", "title": "Writing a pandas DataFrame to CSV file", "query": "I have a dataframe in pandas which I would like to write to a CSV file.I am doing this using:<code>df.to_csv('out.csv')</code>And getting the following error:<code>UnicodeEncodeError: 'ascii' codec can't encode character u'\\u03b1' in position 20: ordinal not in range(128)</code>Is there any way to get around this easily (i.e. I have unicode characters in my data frame)?And is there a way to write to a tab delimited file instead of a CSV using e.g. a 'to-tab' method (that I don't think exists)?", "acce_answer": "It seems you are building with wide-character functions (as indicated by your cast to <code>LPWSTR</code>). This means that the string in <code>EnvVarValue</code> is a wide-character string, and you you should be using <code>wchar_t</code> and <code>std::wstring</code> instead.I would guess that the contents in the array array after the <code>GetEnvironmentVariable</code> call is actually the ASCII values <code>0x43 0x00 0x3a 0x00 0x5c 0x00</code> etc. (that is the wide-char representation of <code>\"C:\\\"</code>). The first zero acts as the string terminator for a narrow-character string, which is why the narrow-character string <code>PathRoot</code> only contains the <code>'C'</code>.\n", "acce_score": "1063", "simquery1_title": "Python DictWriter writing UTF-8 encoded CSV files I have a list of dictionaries containing unicode strings.<code>csv.DictWriter</code> can write a list of dictionaries into a CSV file.I want the CSV file to be encoded in UTF8.The <code>csv</code> module cannot handle converting unicode strings into UTF8.The <code>csv</code> module documentation has an example for converting everything to UTF8:<code>def utf_8_encoder(unicode_csv_data):    for line in unicode_csv_data:        yield line.encode('utf-8')</code>It also has a <code>UnicodeWriter</code> class.  But... how do I make <code>DictWriter</code> work with these?  Wouldn't they have to inject themselves in the middle of it, to catch the disassembled dictionaries and encode them before it writes them to the file?  I don't get it.", "simquery1_answer": "You should create a <code>customautocomplete</code> class for your <code>textbox</code> and set its <code>autocomplete</code> Something like:<code>Dim tbox As New TextBoxDim aCol As New AutoCompleteStringCollection\nFor Each student As String In dt.results(\"students\")\n  aCol.Add()\nNexttbox.AutoCompleteSource = AutoCompleteSource.CustomSource\ntbox.AutoCompleteCustomSource = aCol\ntbox.AutoCompleteMode = AutoCompleteMode.SuggestAppend\n</code>I prefer VB.NET so I have provided an example in VB.NET as no language was specified.\n", "simquery2_title": "Writing a pandas DataFrame to CSV file I have a dataframe in pandas which I would like to write to a CSV file.I am doing this using:<code>df.to_csv('out.csv')</code>And getting the following error:<code>UnicodeEncodeError: 'ascii' codec can't encode character u'\\u03b1' in position 20: ordinal not in range(128)</code>Is there any way to get around this easily (i.e. I have unicode characters in my data frame)?And is there a way to write to a tab delimited file instead of a CSV using e.g. a 'to-tab' method (that I don't think exists)?", "simquery2_answer": "It seems you are building with wide-character functions (as indicated by your cast to <code>LPWSTR</code>). This means that the string in <code>EnvVarValue</code> is a wide-character string, and you you should be using <code>wchar_t</code> and <code>std::wstring</code> instead.I would guess that the contents in the array array after the <code>GetEnvironmentVariable</code> call is actually the ASCII values <code>0x43 0x00 0x3a 0x00 0x5c 0x00</code> etc. (that is the wide-char representation of <code>\"C:\\\"</code>). The first zero acts as the string terminator for a narrow-character string, which is why the narrow-character string <code>PathRoot</code> only contains the <code>'C'</code>.\n", "total_len": 373, "s1_total_len": 362, "s2_total_len": 371}
{"post_id": "16981921", "title": "Relative imports in Python 3", "query": "I want to import a function from another file in the same directory.Usually, one of the following works:<code>from .mymodule import myfunction</code><code>from mymodule import myfunction</code>...but the other one gives me one of these errors:<code>ImportError: attempted relative import with no known parent package</code><code>ModuleNotFoundError: No module named 'mymodule'</code><code>SystemError: Parent module '' not loaded, cannot perform relative import</code>Why is this?", "acce_answer": "I am getting error when try to execute the following query! I keep getting a \"general error\" and can't figure out what I'm doing wrong. TRY 1:<code>$conn = pdoClass::getConnection();$sql = \"set @total := 0;\n        SELECT bank_guarantee_id, \n        @total := amount + @total AS TOTAL,\n        @total % 800 AS REMAINDER\n            FROM bank_guarantee\n            WHERE @total &lt; 800;\";\n$stmt = $conn-&gt;query($sql);\n$companyname = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n</code>ERROR:<code>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[HY000]: General error' in \n PDOException: SQLSTATE[HY000]: General error in\n</code>TRY 2:<code>try{\n    $sql = \"set @total := 0;\";\n    $stmt = $conn-&gt;query($sql);\n    $stmt-&gt;execute();\n}\ncatch(PDOException $e) \n{ \n    echo $e-&gt;getMessage(); \n} \ntry{\n    $sql = \"SELECT bank_guarantee_id, @total := amount + @total AS TOTAL, @total-800 AS REMAINDER\n    FROM bank_guarantee\n    WHERE @total &lt; 800;\";\n    $stmt = $conn-&gt;query($sql);\n    $stmt-&gt;execute();\n    $companyname = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n}\ncatch(PDOException $e) \n{ \n    echo $e-&gt;getMessage(); \n}\n</code>OUTPUT:<code>Array\n(\n)\n</code>Any input would be appreciate!!SQL FIDDLE LINK: http://sqlfiddle.com/#!2/ea0ea/1\n", "acce_score": "1568", "simquery1_title": "Relative imports in Python 3 I want to import a function from another file in the same directory.Usually, one of the following works:<code>from .mymodule import myfunction</code><code>from mymodule import myfunction</code>...but the other one gives me one of these errors:<code>ImportError: attempted relative import with no known parent package</code><code>ModuleNotFoundError: No module named 'mymodule'</code><code>SystemError: Parent module '' not loaded, cannot perform relative import</code>Why is this?", "simquery1_answer": "I am getting error when try to execute the following query! I keep getting a \"general error\" and can't figure out what I'm doing wrong. TRY 1:<code>$conn = pdoClass::getConnection();$sql = \"set @total := 0;\n        SELECT bank_guarantee_id, \n        @total := amount + @total AS TOTAL,\n        @total % 800 AS REMAINDER\n            FROM bank_guarantee\n            WHERE @total &lt; 800;\";\n$stmt = $conn-&gt;query($sql);\n$companyname = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n</code>ERROR:<code>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[HY000]: General error' in \n PDOException: SQLSTATE[HY000]: General error in\n</code>TRY 2:<code>try{\n    $sql = \"set @total := 0;\";\n    $stmt = $conn-&gt;query($sql);\n    $stmt-&gt;execute();\n}\ncatch(PDOException $e) \n{ \n    echo $e-&gt;getMessage(); \n} \ntry{\n    $sql = \"SELECT bank_guarantee_id, @total := amount + @total AS TOTAL, @total-800 AS REMAINDER\n    FROM bank_guarantee\n    WHERE @total &lt; 800;\";\n    $stmt = $conn-&gt;query($sql);\n    $stmt-&gt;execute();\n    $companyname = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n}\ncatch(PDOException $e) \n{ \n    echo $e-&gt;getMessage(); \n}\n</code>OUTPUT:<code>Array\n(\n)\n</code>Any input would be appreciate!!SQL FIDDLE LINK: http://sqlfiddle.com/#!2/ea0ea/1\n", "simquery2_title": "What does from __future__ import absolute_import actually do? I have answered a question regarding absolute imports in Python, which I thought I understood based on reading the Python 2.5 changelog and accompanying PEP. However, upon installing Python 2.5 and attempting to craft an example of properly using <code>from __future__ import absolute_import</code>, I realize things are not so clear.Straight from the changelog linked above, this statement accurately summarized my understanding of the absolute import change:  Let's say you have a package directory like this:<code>pkg/pkg/__init__.pypkg/main.pypkg/string.py</code>    This defines a package named <code>pkg</code> containing the <code>pkg.main</code> and <code>pkg.string</code> submodules.    Consider the code in the main.py module. What happens if it executes the statement <code>import string</code>? In Python 2.4 and earlier, it will first look in the package's directory to perform a relative import, finds pkg/string.py, imports the contents of that file as the <code>pkg.string</code> module, and that module is bound to the name <code>\"string\"</code> in the <code>pkg.main</code> module's namespace.So I created this exact directory structure:<code>$ ls -R.:pkg/./pkg:__init__.py  main.py  string.py</code><code>__init__.py</code> and <code>string.py</code> are empty. <code>main.py</code> contains the following code:<code>import stringprint string.ascii_uppercase</code>As expected, running this with Python 2.5 fails with an <code>AttributeError</code>:<code>$ python2.5 pkg/main.pyTraceback (most recent call last):  File \"pkg/main.py\", line 2, in &lt;module&gt;    print string.ascii_uppercaseAttributeError: 'module' object has no attribute 'ascii_uppercase'</code>However, further along in the 2.5 changelog, we find this (emphasis added):  In Python 2.5, you can switch <code>import</code>'s behaviour to absolute imports using a <code>from __future__ import absolute_import</code> directive. This absolute-import behaviour will become the default in a future version (probably Python 2.7). Once absolute imports are the default, <code>import string</code> will always find the standard library's version.I thus created <code>pkg/main2.py</code>, identical to <code>main.py</code> but with the additional future import directive. It now looks like this:<code>from __future__ import absolute_importimport stringprint string.ascii_uppercase</code>Running this with Python 2.5, however... fails with an <code>AttributeError</code>:<code>$ python2.5 pkg/main2.pyTraceback (most recent call last):  File \"pkg/main2.py\", line 3, in &lt;module&gt;    print string.ascii_uppercaseAttributeError: 'module' object has no attribute 'ascii_uppercase'</code>This pretty flatly contradicts the statement that <code>import string</code> will always find the std-lib version with absolute imports enabled. What's more, despite the warning that absolute imports are scheduled to become the \"new default\" behavior, I hit this same problem using both Python 2.7, with or without the <code>__future__</code> directive:<code>$ python2.7 pkg/main.pyTraceback (most recent call last):  File \"pkg/main.py\", line 2, in &lt;module&gt;    print string.ascii_uppercaseAttributeError: 'module' object has no attribute 'ascii_uppercase'$ python2.7 pkg/main2.pyTraceback (most recent call last):  File \"pkg/main2.py\", line 3, in &lt;module&gt;    print string.ascii_uppercaseAttributeError: 'module' object has no attribute 'ascii_uppercase'</code>as well as Python 3.5, with or without (assuming the <code>print</code> statement is changed in both files):<code>$ python3.5 pkg/main.pyTraceback (most recent call last):  File \"pkg/main.py\", line 2, in &lt;module&gt;    print(string.ascii_uppercase)AttributeError: module 'string' has no attribute 'ascii_uppercase'$ python3.5 pkg/main2.pyTraceback (most recent call last):  File \"pkg/main2.py\", line 3, in &lt;module&gt;    print(string.ascii_uppercase)AttributeError: module 'string' has no attribute 'ascii_uppercase'</code>I have tested other variations of this. Instead of <code>string.py</code>, I have created an empty module -- a directory named <code>string</code> containing only an empty <code>__init__.py</code> -- and instead of issuing imports from <code>main.py</code>, I have <code>cd</code>'d to <code>pkg</code> and run imports directly from the REPL. Neither of these variations (nor a combination of them) changed the results above. I cannot reconcile this with what I have read about the <code>__future__</code> directive and absolute imports.It seems to me that this is easily explicable by the following (this is from the Python 2 docs but this statement remains unchanged in the same docs for Python 3):  sys.path    (...)    As initialized upon program startup, the first item of this list, <code>path[0]</code>, is the directory containing the script that was used to invoke the Python interpreter. If the script directory is not available (e.g. if the interpreter is invoked interactively or if the script is read from standard input), <code>path[0]</code> is the empty string, which directs Python to search modules in the current directory first.So what am I missing? Why does the <code>__future__</code> statement seemingly not do what it says, and what is the resolution of this contradiction between these two sections of documentation, as well as between described and actual behavior?", "simquery2_answer": "install cordova-plugin-whitelist to resolve this issue<code>$ cordova plugin add cordova-plugin-whitelist\n$ cordova prepare\n</code>\n", "total_len": 623, "s1_total_len": 621, "s2_total_len": 1522}
{"post_id": "17071871", "title": "How do I select rows from a DataFrame based on column values?", "query": "How can I select rows from a DataFrame based on values in some column in Pandas?In SQL, I would use:<code>SELECT *FROM tableWHERE column_name = some_value</code>", "acce_answer": "Found a solution! The problem was a conflict between the default html5 video controls of Chrome an my customized controls. Thanks to an answer of this question: hide video controls in fullscreen mode \nI found out that the problem is resolved by using the css rule:<code>video::-webkit-media-controls {\n  display:none !important;\n}\n</code>\n", "acce_score": "3343", "simquery1_title": "sqlalchemy existing database query I am using SQLAlchemy as ORM for a python project. I have created few models/schema and it is working fine. Now I need to query a existing MySQL database, no insert/update just the select statement. How can I create a wrapper around the tables of this existing database? I have briefly gone through the sqlalchemy docs and SO but couldn't find anything relevant. All suggest execute method, where I need to write the raw sql queries, while I want to use the SQLAlchemy query method in same way as I am using with the SA models.For example if the existing db has table name User then I want to query it using the dbsession ( only the select operation, probably with join)", "simquery1_answer": "In the template change<code>{% if x in y module %}\n</code>to<code>{% if x in module %}\n</code>\n", "simquery2_title": "Passing list of parameters to SQL in psycopg2 I have a list of ids of rows to fetch from database. I'm using python and psycopg2, and my problem is how to effectively pass those ids to SQL? I mean that if I know the length of that list, it is pretty easy because I can always manually or automatically add as many \"%s\" expressions into query string as needed, but here I don't know how much of them I need. It is important that I need to select that rows using  sql \"id IN (id1, id2, ...)\" statement. I know that it is possible to check the length of the list and concatenate suitable number of \"%s\" into query string, but I'm afraid that it would be very slow and ugly. Does anyone have an idea on how to solve it? And please don't ask why I need to do it with \"IN\" statement - it is a benchmark which is a part of my class assignment. Thanks in advance!", "simquery2_answer": "I'm the only person working on my app and only work on it from my desktop, so the possibility that I managed to get the heroku repository above dev didn't make sense. BUT! I recently had a Heroku support rep look into my heroku account for a cache issue involving gem installs and he had changed something that caused heroku to return the same error as the one listed above. A <code>git pull heroku master</code> was all it took. Then I found the reps minor change and reverted it myself.\n", "total_len": 146, "s1_total_len": 195, "s2_total_len": 334}
{"post_id": "17130975", "title": "Python vs Cpython", "query": "What's all this fuss about Python and CPython (Jython,IronPython), I don't get it:python.org mentions that CPython is:  The \"traditional\" implementation of Python (nicknamed CPython)yet another Stack Overflow question mentions that:  CPython is the default byte-code interpreter of Python, which is written in C.Honestly I don't get what both of those explanations practically mean but what I thought was that, if I use CPython does that mean when I run a sample python code, it compiles it to C language and then executes it as if it were C codeSo what exactly is CPython and how does it differ when compared with python and should I probably use CPython over Python and if so what are its advantages?", "acce_answer": "You must dispatch <code>[SVProgressHUD dismiss]</code> to the main thread<code>[SVProgressHUD show];\n__block BOOL result;\ndispatch_async(queue, ^{\n    result = [self autanticate];\n    NSLog(@\"autantication result = %d\", result);\n    result = [self getCSRFToken];\n    NSLog(@\"Login success result = %d\", result);\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [SVProgressHUD dismiss];\n    })\n});\n</code>All user interface elements must only be modified on the main thread.Remark: Note that the <code>dispatch_async()</code> returns\n(almost) immediately, so that the <code>result</code> is not set\nwhen <code>dispatch_async()</code> returns. \nAnd don't be tempted to use a semaphore to wait for the block to finish.\nThat is fine on a background thread, but will most probably give a deadlock\non the main thread.\n", "acce_score": "629", "simquery1_title": "Why are scripting languages (e.g. Perl, Python, and Ruby) not suitable as shell languages? What are the differences between shell languages like Bash (<code>bash</code>), Z shell (<code>zsh</code>), Fish (<code>fish</code>) and the scripting languages above that makes them more suitable for the shell?When using the command line, the shell languages seem to be much easier. It feels for me much smoother to use bash for example than to use the shell profile in IPython, despite reports to the contrary. I think most will agree with me that a large portion of medium to large scale programming is easier in Python than in Bash. I use Python as the language I am most familiar with. The same goes for Perl and Ruby.I have tried to articulate the reason, but I am unable to, aside from assuming that the treatment of strings differently in both has something to do with it.The reason of this question is that I am hoping to develop a language usable in both. If you know of such a language, please post it as well.As S.Lott explains, the question needs some clarification. I am asking about the features of the shell language versus that of scripting languages. So the comparison is not about the characteristics of various interactive (REPL) environments such as history and command line substitution. An alternative expression for the question would be:Can a programming language that is suitable for design of complex systems be at the same time able to express useful one-liners that can access the file system or control jobs? Can a programming language usefully scale up as well as scale down?", "simquery1_answer": "Examine your <code>while</code> loop condition : <code>dirs[i]</code> is a <code>std::string</code>. You are using a string object in a boolean context : would you expect <code>std::string</code> to convert to <code>bool</code> ?My recommendation : ditch the fixed sized array and go for <code>std::vector</code>.<code>void listdir(const char *path, std::vector&lt;std::string&gt; &amp;dirs)\n{\n    /* ... */\n    while (pent = readdir (pdir))\n    {\n        /* ... */\n        dirs.push_back(pent-&gt;d-name);\n    }    closedir(pdir);\n}int main()\n{\n    std::vector&lt;std::string&gt; dirs;    listdir(\"c:\\\\\", dirs);\n    for (std::vector&lt;std::string&gt;::const_iterator it = dirs.begin(), end = dirs.end(); it != end; ++it)\n        std::cout &lt;&lt; *it &lt;&lt; std::endl;\n}\n</code>\n", "simquery2_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery2_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "total_len": 415, "s1_total_len": 631, "s2_total_len": 414}
{"post_id": "17330160", "title": "How does the @property decorator work in Python?", "query": "I would like to understand how the built-in function <code>property</code> works. What confuses me is that <code>property</code> can also be used as a decorator, but it only takes arguments when used as a built-in function and not when used as a decorator.This example is from the documentation:<code>class C:    def __init__(self):        self._x = None    def getx(self):        return self._x    def setx(self, value):        self._x = value    def delx(self):        del self._x    x = property(getx, setx, delx, &quot;I'm the 'x' property.&quot;)</code><code>property</code>'s arguments are <code>getx</code>, <code>setx</code>, <code>delx</code> and a doc string.In the code below <code>property</code> is used as a decorator. The object of it is the <code>x</code> function, but in the code above there is no place for an object function in the arguments.<code>class C:    def __init__(self):        self._x = None    @property    def x(self):        &quot;&quot;&quot;I'm the 'x' property.&quot;&quot;&quot;        return self._x    @x.setter    def x(self, value):        self._x = value    @x.deleter    def x(self):        del self._x</code>How are the <code>x.setter</code> and <code>x.deleter</code> decorators created in this case?", "acce_answer": "The OP was using the GeoDjango buildpack, but in case anyone gets here using Geo buildpack and <code>dj_database_url</code> like I was, in <code>settings.py</code> don't forget the last line:<code>import dj_database_url\nDATABASES['default'] = dj_database_url.config()\nDATABASES['default']['ENGINE'] = 'django.contrib.gis.db.backends.postgis'\n</code>UPDATE<code>dj_database_url</code> directly supports PostGIS. You can do without the last line in the code above if you can change your database URL to start with <code>postgis</code>.\n", "acce_score": "1316", "simquery1_title": "Overriding properties in python So, I'm trying to figure out the best (most elegant with the least amount of code) way to allow overriding specific functions of a property (e.g., just the getter, just the setter, etc.) in python.  I'm a fan of the following way of doing properties, due to the fact that all of their methods are encapsulated in the same indented block of code (it's easier to see where the functions dealing with one property stop and the functions dealing with the next begin):<code>@applydef foo():    \"\"\"A foobar\"\"\"    def fget(self):        return self._foo    def fset(self, val):        self._foo = val    return property(**locals())</code>However, if I want to inherit from a class that defines properties in this manner, and then, say, override the <code>foo</code> setter function, it seems tricky.  I've done some searching and most of the answers I've found have been to define separate functions in the base class (e.g. <code>getFoo</code> and <code>setFoo</code>), explicitly create a property definition from them (e.g. <code>foo = property(lambda x: x.getFoo(), lambda x, y: x.setFoo(y), lambda x: x.delFoo())</code>), and then override <code>getFoo</code>, <code>setFoo</code>, and <code>delFoo</code> as needed.I dislike this solution because it means I have to define lambas for every single property, and then write out each function call (when before I could have just done <code>property(**locals())</code>).  I also don't get the encapsulation that I had originally.Ideally, what I would like to be able to do would be something like this:<code>class A(object):    def __init__(self):        self.foo = 8    @apply    def foo():        \"\"\"A foobar\"\"\"        def fget(self):            return self._foo        def fset(self, val):            self._foo = val        return property(**locals())class ATimesTwo(A):    @some_decorator    def foo():        def fset(self, val):            self._foo = val * 2        return something</code>And then the output would look something like:<code>&gt;&gt;&gt; a = A()&gt;&gt;&gt; a.foo8&gt;&gt;&gt; b = ATimesTwo()&gt;&gt;&gt; b.foo16</code>Basically, <code>ATimesTwo</code> inherits the getter function from <code>A</code> but overrides the setter function.  Does anybody know of a way to do this (in a manner that looks similar to the example above)?  What function would the <code>some_decorator</code> look like, and what should the <code>foo</code> function return?", "simquery1_answer": "I would like to export (or to keep) the subtags which are with the defined attribute in XML. As I don't know the name of this process, I can't find any relevant information about it on the net. And since it's hard to explain, I decided to put an examples for my issue.Let's say, I have this XML file:<code>&lt;results&gt;\n    &lt;result idSite=\"1\"&gt;\n        &lt;row&gt;\n            &lt;label&gt;category&lt;/label&gt;\n            &lt;visits&gt;2&lt;/visits&gt;\n            &lt;idsubdatatable&gt;5&lt;/idsubdatatable&gt;\n            &lt;subtable&gt;\n                &lt;row&gt;\n                    &lt;label&gt;uncategorized&lt;/label&gt;\n                    &lt;visits&gt;2&lt;/visits&gt;\n                    &lt;idsubdatatable&gt;6&lt;/idsubdatatable&gt;\n                    &lt;subtable&gt;\n                        &lt;row&gt;\n                            &lt;label&gt;/index&lt;/label&gt;\n                            &lt;visits&gt;2&lt;/visits&gt;\n                            &lt;url&gt;http://mysite1.com/category/uncategorized/&lt;/url&gt;\n                        &lt;/row&gt;\n                    &lt;/subtable&gt;\n                &lt;/row&gt;\n            &lt;/subtable&gt;\n        &lt;/row&gt;\n        &lt;row&gt;\n            &lt;label&gt;about&lt;/label&gt;\n            &lt;visits&gt;1&lt;/visits&gt;\n            &lt;idsubdatatable&gt;7&lt;/idsubdatatable&gt;\n            &lt;subtable&gt;\n                &lt;row&gt;\n                    &lt;label&gt;/index&lt;/label&gt;\n                    &lt;visits&gt;1&lt;/visits&gt;\n                    &lt;url&gt;http://mysite1.com/about/&lt;/url&gt;\n                &lt;/row&gt;\n            &lt;/subtable&gt;\n        &lt;/row&gt;\n    &lt;/result&gt;\n    &lt;result idSite=\"2\"&gt;\n        &lt;row&gt;\n            &lt;label&gt;/calendar&lt;/label&gt;\n            &lt;visitors&gt;1&lt;/visitors&gt;\n            &lt;url&gt;http://mysite2.com/calendar&lt;/url&gt;\n        &lt;/row&gt;\n    &lt;/result&gt;\n&lt;/results&gt;\n</code>And I have to parse the results and keep only the rows which are with a <code>&lt;url&gt;</code> attribute. Like this:After parsing I have to combine these rows in a new XML file, and the final result must be  like this:<code>&lt;result&gt;\n&lt;row&gt;\n    &lt;label&gt;/index&lt;/label&gt;\n    &lt;visits&gt;2&lt;/visits&gt;\n    &lt;url&gt;http://mysite1.com/category/uncategorized/&lt;/url&gt;\n&lt;/row&gt;\n&lt;row&gt;\n    &lt;label&gt;/index&lt;/label&gt;\n    &lt;visits&gt;1&lt;/visits&gt;\n    &lt;url&gt;http://mysite1.com/about/&lt;/url&gt;\n&lt;/row&gt;\n&lt;row&gt;\n    &lt;label&gt;/calendar&lt;/label&gt;\n    &lt;visitors&gt;1&lt;/visitors&gt;\n    &lt;url&gt;http://mysite2.com/calendar&lt;/url&gt;\n&lt;/row&gt;\n&lt;/result&gt;\n</code>Generally I want to do this process in PHP but it maybe in other languages too.\nSo, if you have any idea to solve this problem, please comment.\n", "simquery2_title": "Using setattr() in python I am looking for someone to explain the basics of how to use, and not use <code>setattr()</code>.My problem arose trying to use one class method/function to return data that is then put in another method/function. Perhaps a simpler approach would be much better in this case, but I'm trying to understand how classes work/are used. This problem seems to hinge on <code>setattr()</code>, and this is my attempt to make a fairly simple use of this.    Though it's not quite the same problem, I was following Python The Hard Way, ex42&mdash;the <code>while</code> loop @ lines 18-41.I tried writing an <code>\\__init__()</code>, and using <code>getattr()</code> instead, thinking perhaps something needed to be in the class' namespace, but this doesn't seem to help.<code>#! /bin/python2.6class HolyGrail(object):    def __init__(self):        self.start = 'start_at_init'    # function definition in question:    # TypeError: 'str' object is not callable    def run_it(self):        start = setattr(self, 'name', 'get_thing')        start = self.name        # Something wrong here?        value_returned = start() #I believe this == self.get_thing()        use_it(value_returned)    \"\"\"    # alternate function definitions    # NameError: global name 'start' is not defined    def __init__(self):        self.start = 'get_thing'    def run_it(self):        go_do_it = getattr(self, start)        first_output = go_do_it()        use_it(first_output)    \"\"\"    def get_thing(self):        return \"The Knights Who Say ... Ni!\"    def use_it(self, x):        print x        print \"We want a shrubbery!\"my_instance = HolyGrail()my_instance.run_it()</code>@Karl Knechtel, @Amber , @Chris Morgan  thanks for your help.I think I can now explain my own answer! This required a better grasp of self as an object for me.  It's an instance name that gets tagged up with stuff like attributes.The class could be a Town, and then.<code>getattr</code> looks for a house using it's name so you are ready to call on it soon, and comes up with a different place if you don't find the house--With <code>getattr</code> a 'name' exists, and you go find it. Makes the step from one function to another dynamicAs a bonus you may have a default value, useful to get a fallback default method--connection failed or something?<code>setattr</code> builds a house and gives it a name so you can call in on it later.You could potentially rebuild this house, or go to a particular place if you are unable to find it.--<code>setattr</code> makes an attribute name and gives, or changes it's value, to be called on laterPerhaps a user turns sound off, then future methods don't output any audio.I could have written my function a number of ways, but there's no need to change any attributes:<code>def run_it(self):    yo = getattr(self, 'get_thing')    answer = yo()    setattr(self, 'deal_accepted', self.use_it) #really ott    no = getattr(self, 'deal_accepted')    no(answer)</code>Properly corrected code:<code>def run_it(self):    value_returned = self.get_thing()    self.use_it(value_returned)</code>", "simquery2_answer": "In my Eclipse Indigo, only <code>@Deprecated</code> work but not <code>@deprecated</code> in comment, any idea?e.g.<code>// @deprecated &lt;-- not work\n@Deprecated    &lt;-- work\npublic String getName()\n{\n    return name;\n}\n</code>\n", "total_len": 562, "s1_total_len": 1779, "s2_total_len": 959}
{"post_id": "17388213", "title": "Find the similarity metric between two strings", "query": "How do I get the probability of a string being similar to another string in Python?I want to get a decimal value like 0.9 (meaning 90%) etc. Preferably with standard Python and library.e.g.<code>similar(\"Apple\",\"Appel\") #would have a high prob.similar(\"Apple\",\"Mango\") #would have a lower prob.</code>", "acce_answer": "I am trying to use a function, much like mPDF's Output(\"\", \"S\") format to send WkHTMLtoPDF data so that it can be processed like this:<code>  $attachments = array(\n      'filecontent' =&gt; $pdf,\n      'filename' =&gt; $title . '.pdf',\n      'filemime' =&gt; 'application/pdf',\n    );\n</code>My first guess would be to return the send() function in WkHTMLtoPDF's PHP wrapper, but this does not appear to work - so I'm somewhat lost about how to get the correct type of formatting for the data I have. It appears to need to pass a PDF as string data, which doesn't exactly make sense to me, as I would think PDF data needs to be passed at binary code.If anyone can elaborate or give me some information about how to pass information correctly, that'd be great.\n", "acce_score": "461", "simquery1_title": "Find the similarity metric between two strings How do I get the probability of a string being similar to another string in Python?I want to get a decimal value like 0.9 (meaning 90%) etc. Preferably with standard Python and library.e.g.<code>similar(\"Apple\",\"Appel\") #would have a high prob.similar(\"Apple\",\"Mango\") #would have a lower prob.</code>", "simquery1_answer": "I am trying to use a function, much like mPDF's Output(\"\", \"S\") format to send WkHTMLtoPDF data so that it can be processed like this:<code>  $attachments = array(\n      'filecontent' =&gt; $pdf,\n      'filename' =&gt; $title . '.pdf',\n      'filemime' =&gt; 'application/pdf',\n    );\n</code>My first guess would be to return the send() function in WkHTMLtoPDF's PHP wrapper, but this does not appear to work - so I'm somewhat lost about how to get the correct type of formatting for the data I have. It appears to need to pass a PDF as string data, which doesn't exactly make sense to me, as I would think PDF data needs to be passed at binary code.If anyone can elaborate or give me some information about how to pass information correctly, that'd be great.\n", "simquery2_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery2_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "total_len": 309, "s1_total_len": 307, "s2_total_len": 414}
{"post_id": "17839973", "title": "Constructing pandas DataFrame from values in variables gives \"ValueError: If using all scalar values, you must pass an index\"", "query": "This may be a simple question, but I can not figure out how to do this. Lets say that I have two variables as follows.<code>a = 2b = 3</code>I want to construct a DataFrame from this:<code>df2 = pd.DataFrame({'A':a,'B':b})</code>This generates an error:    ValueError: If using all scalar values, you must pass an indexI tried this also:<code>df2 = (pd.DataFrame({'a':a,'b':b})).reset_index()</code>This gives the same error message.", "acce_answer": "You can use<code>select * from product order by (in_stock &gt;0) desc, number_sold desc\n</code>Demo\n", "acce_score": "748", "simquery1_title": "What rules does Pandas use to generate a view vs a copy? I'm confused about the rules Pandas uses when deciding that a selection from a dataframe is a copy of the original dataframe, or a view on the original.If I have, for example,<code>df = pd.DataFrame(np.random.randn(8,8), columns=list('ABCDEFGH'), index=range(1,9))</code>I understand that a <code>query</code> returns a copy so that something like<code>foo = df.query('2 &lt; index &lt;= 5')foo.loc[:,'E'] = 40</code>will have no effect on the original dataframe, <code>df</code>. I also understand that scalar or named slices return a view, so that assignments to these, such as<code>df.iloc[3] = 70</code>or<code>df.ix[1,'B':'E'] = 222</code>will change <code>df</code>. But I'm lost when it comes to more complicated cases. For example,<code>df[df.C &lt;= df.B] = 7654321</code>changes <code>df</code>, but<code>df[df.C &lt;= df.B].ix[:,'B':'E']</code>does not.Is there a simple rule that Pandas is using that I'm just missing? What's going on in these specific cases; and in particular, how do I change all values (or a subset of values) in a dataframe that satisfy a particular query (as I'm attempting to do in the last example above)?Note: This is not the same as this question; and I have read the documentation, but am not enlightened by it. I've also read through the &quot;Related&quot; questions on this topic, but I'm still missing the simple rule Pandas is using, and how I'd apply it to \u2014 for example \u2014\u00a0modify the values (or a subset of values) in a dataframe that satisfy a particular query.", "simquery1_answer": "I am not familiar with <code>stringi</code>, but it can be done using <code>gsub</code> easily. I could get where the name ends, so I assume name is everything following underscore to the <code>\"</code><code>gsub(\".*gdac.broadinstitute.org_(.*)\\\".*\", \"\\\\1\", element)\n</code>\n", "simquery2_title": "Is a list (potentially) divisible by another? ProblemSay you have two lists <code>A = [a_1, a_2, ..., a_n]</code> and <code>B = [b_1, b_2, ..., b_n]</code> of integers. We say <code>A</code> is potentially-divisible by <code>B</code> if there is a permutation of <code>B</code> that makes <code>a_i</code> divisible by <code>b_i</code> for all <code>i</code>. The problem is then: is it possible to reorder (i.e. permute) <code>B</code> so that <code>a_i</code> is divisible by <code>b_i</code> for all <code>i</code>?For example, if you have<code>A = [6, 12, 8]B = [3, 4, 6]</code>Then the answer would be <code>True</code>, as <code>B</code> can be reordered to be <code>B = [3, 6, 4]</code> and then we would have that <code>a_1 / b_1 = 2</code>, <code>a_2 / b_2 = 2</code>, and <code>a_3 / b_3 = 2</code>, all of which are integers, so <code>A</code> is potentially-divisible by <code>B</code>.As an example which should output <code>False</code>, we could have:<code>A = [10, 12, 6, 5, 21, 25]B = [2, 7, 5, 3, 12, 3]</code>The reason this is <code>False</code> is that we can't reorder <code>B</code> as 25 and 5 are in <code>A</code>, but the only divisor in <code>B</code> would be 5, so one would be left out.ApproachObviously the straightforward approach would be to get all the permutations of <code>B</code> and see if one would satisfy potential-divisibility, something along the lines of:<code>import itertoolsdef is_potentially_divisible(A, B):  perms = itertools.permutations(B)  divisible = lambda ls: all( x % y == 0 for x, y in zip(A, ls))  return any(divisible(perm) for perm in perms)</code>QuestionWhat is the fastest way to know if a list is potentially-divisible by another list? Any thoughts? I was thinking if there's is a clever way to do this with primes, but I couldn't come up with a solution.Much appreciated!Edit: It's probably irrelevant to most of you, but for the sake of completeness, I'll explain my motivation. In Group Theory there is a conjecture on finite simple groups on whether or not there is a bijection from irreducible characters and conjugacy classes of the group such that every character degree divides the corresponding class size. For example, for U6(4) here are what <code>A</code> and <code>B</code> would look like. Pretty big lists, mind you!", "simquery2_answer": "Try like this:Working Demo 1<code>this.employees = [\n  {name: 'john', id: 1, annualSalary: 90000, calculateMonthlySalary: this.calculateMonthlySalary(90000) }\n];\n</code>When you are adding objects of Type IEmployee to the array, the object itself doesn't understand <code>annualSalary</code>, so you have to add it in the <code>calculateMonthlySalary()</code> functionTo do it dynamically,you can create a Employee Class:Working Demo 2<code>export class Employee {\n  name: string;\n  id: number;\n  annualSalary: number;\n  monthlySalary:number\n  constructor(name: string, id: number, annualSalary: number) {\n    this.name = name,\n    this.id = id,\n    this.annualSalary = annualSalary,\n    this.monthlySalary = this.calculateMonthlySalary(annualSalary) } calculateMonthlySalary(annualSalary: number): any {\n    return annualSalary / 12;\n }\n}\n</code>and use it like this:<code>employees: Employee[];  constructor() {\n    this.employees = [\n      new Employee('John',1,90000)\n    ];\n  }\n</code>Template:<code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Id&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;MonthlySalary&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let item of employees\"&gt;\n        &lt;td&gt;{{item.id}}&lt;/td&gt;\n        &lt;td&gt;{{item.name}}&lt;/td&gt;\n        &lt;td&gt;{{item.monthlySalary}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code>\n", "total_len": 201, "s1_total_len": 567, "s2_total_len": 1323}
{"post_id": "17911091", "title": "Append integer to beginning of list in Python", "query": "How do I prepend an integer to the beginning of a list?<code>[1, 2, 3]  \u27f6  [42, 1, 2, 3]</code>", "acce_answer": "<code>$test = super_unique($result);\nvar_dump($test);\nfunction super_unique($array){\n    $newArray = array();    \n    foreach($array as $val){\n        $id = $val[\"id\"];\n        $point = $val[\"point\"];\n        if(!isset($newArray[\"$id\"]) || ($point &gt; $newArray[\"$id\"])){\n            $newArray[\"$id\"] = $point;\n        }\n    }\n    //asort($newArray); want to sorting by point???\n    $output = array();\n    $i = 0;\n    foreach($newArray as $key =&gt; $value){\n        $output[$i][\"id\"] = $key;\n        $output[$i][\"point\"]=$value;\n        $i++;\n    }\n    return $output;\n}\n</code>\n", "acce_score": "755", "simquery1_title": "Access multiple elements of list knowing their index I need to choose some elements from the given list, knowing their index. Let say I would like to create a new list, which contains element with index 1, 2, 5, from given list [-2, 1, 5, 3, 8, 5, 6]. What I did is:<code>a = [-2,1,5,3,8,5,6]b = [1,2,5]c = [ a[i] for i in b]</code>Is there any better way to do it? something like c = a[b] ?", "simquery1_answer": "You can try with this:<code>File.WriteAllLines(\n    \"transactions.txt\",\n    File.ReadAllLines(\"transactions.txt\")\n        .Select(x =&gt; x.Contains(ID) ? textBox2.Text : x));\n</code>It works fine, but if the file is big you have to find other solutions.\n", "simquery2_title": "Colon (:) in Python list index I'm new to Python. I see <code>:</code> used in list indices especially when it's associated with function calls. Python 2.7 documentation suggests that <code>lists.append</code> translates to <code>a[len(a):] = [x]</code>. Why does one need to suffix <code>len(a)</code> with a colon?I understand that <code>:</code> is used to identify keys in dictionary.", "simquery2_answer": "That's because you bind DataContext to the same value as you binding <code>IsEnabled</code>. So for <code>IsEnabled</code> it actually looking for MyVal.MyVal. Replace to:<code>IsEnabled=\"{Binding Converter={StaticResource NullCheckConverter}}\" \n</code>Also further if you have issues with binding, check in debug mode output window for binding errors.\n", "total_len": 262, "s1_total_len": 226, "s2_total_len": 203}
{"post_id": "18039057", "title": "Python Pandas Error tokenizing data", "query": "I'm trying to use pandas to manipulate a .csv file but I get this error:  pandas.parser.CParserError: Error tokenizing data. C error: Expected 2 fields in line 3,  saw 12I have tried to read the pandas docs, but found nothing.My code is simple:<code>path = 'GOOG Key Ratios.csv'#print(open(path).read())data = pd.read_csv(path)</code>How can I resolve this? Should I use the <code>csv</code> module or another language ?File is from Morningstar", "acce_answer": "After some discussions with my collegues, this seemed undoable in excel. So I just created a short script to save each \"run\" (which is the first column) in a seperate file, from csv:<code>awk -F, '{print &gt; $1}' rw.txt\n</code>\n", "acce_score": "648", "simquery1_title": "Python SSL certificate verify error I'm using requests to access a RESTful API.  Everything seems to work.  I can authenticate, pull back a session token and even unit test the methods in my class I wrote for the API.  Then I tried to run my code.First, here is the call I'm making.  The headers are static session-related items that get set in init().  The body is build dynamically from data in a file and passed in to this function.  All of the data is valid.<code>response = requests.post(url, headers=(Requestheader), data=json.dumps((Requestbody)))</code>When I run the code, it updates well over 100 records with the metadata I supply.  Somewhere around item 150 I get the following:  ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED]  certificate verify failed: self signed certificate in certificate  chain (_ssl.c:1045)My first step was to call the vendor and find out if ALL of their web servers had properly signed certs figuring they were load balancing me and I found a misconfigured server.  They tell me this is not the case.Then I Googled the message and found that there is a verify kwarg, so I tried:<code>response = requests.post(url, headers=Requestheader, data=json.dumps(Requestbody), verify=False)</code>I know this isn't ideal long-term, but I wanted to test it to see if The behavior is the same.  It did the same thing.  It ran for a while and threw the ssl error.  I thought the idea of verify=False is that it wouldn't check.The vendor suggested I check the url I'm using, but it's fine.  I would think if there were a proxy server or real man-in-the-middle attack causing problems I wouldn't see success so many times before a failure.  I thought maybe it is a session timeout, but that should throw a 401 status and my activity level is too high for an inactivity timeout.  I'm a python noob and not a security professional.  Suggestions appreciated.", "simquery1_answer": "I am using Traefik inside of Kubernetes and there is an AWS layer 4 level legacy network load balancer in front. I am trying to add the original requestor ip address into the Traefik access logs, but I cannot get it working.\nHere is the relevant Traefik configuration (in Helm yaml format):\n<code>  proxyProtocol:\n    enabled: true\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12  forwardedHeaders:\n    enabled: true\n    # trustedIPs is required when enabled\n    trustedIPs:\n      - 192.168.0.0/16\n      - 10.0.0.0/8\n      - 172.16.0.0/12\n</code>\nAnd here is the access logs configuration:\n<code>  accessLogs:\n    enabled: true\n    ## Path to the access logs file. If not provided, Traefik defaults it to stdout.\n    # filePath: &quot;&quot;\n    format: common  # choices are: common, json\n    ## for JSON logging, finer-grained control over what is logged. Fields can be\n    ## retained or dropped, and request headers can be retained, dropped or redacted\n    fields:\n      # choices are keep, drop\n      defaultMode: keep\n      names: {}\n        # ClientUsername: drop\n      headers:\n        # choices are keep, drop, redact\n        defaultMode: keep\n        names:\n          &quot;X-Forwarded-For&quot;: keep\n          &quot;X-Real-IP&quot;: keep\n</code>\nMy access logs with this configuration look like the following though. No headers or X-Forwarded-For IP shown:", "simquery2_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery2_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "total_len": 218, "s1_total_len": 944, "s2_total_len": 414}
{"post_id": "18171739", "title": "UnicodeDecodeError when reading CSV file in Pandas", "query": "I'm running a program which is processing 30,000 similar files. A random number of them are stopping and producing this error...<code>  File &quot;C:\\Importer\\src\\dfman\\importer.py&quot;, line 26, in import_chr    data = pd.read_csv(filepath, names=fields)  File &quot;C:\\Python33\\lib\\site-packages\\pandas\\io\\parsers.py&quot;, line 400, in parser_f    return _read(filepath_or_buffer, kwds)  File &quot;C:\\Python33\\lib\\site-packages\\pandas\\io\\parsers.py&quot;, line 205, in _read    return parser.read()  File &quot;C:\\Python33\\lib\\site-packages\\pandas\\io\\parsers.py&quot;, line 608, in read    ret = self._engine.read(nrows)  File &quot;C:\\Python33\\lib\\site-packages\\pandas\\io\\parsers.py&quot;, line 1028, in read    data = self._reader.read(nrows)  File &quot;parser.pyx&quot;, line 706, in pandas.parser.TextReader.read (pandas\\parser.c:6745)  File &quot;parser.pyx&quot;, line 728, in pandas.parser.TextReader._read_low_memory (pandas\\parser.c:6964)  File &quot;parser.pyx&quot;, line 804, in pandas.parser.TextReader._read_rows (pandas\\parser.c:7780)  File &quot;parser.pyx&quot;, line 890, in pandas.parser.TextReader._convert_column_data (pandas\\parser.c:8793)  File &quot;parser.pyx&quot;, line 950, in pandas.parser.TextReader._convert_tokens (pandas\\parser.c:9484)  File &quot;parser.pyx&quot;, line 1026, in pandas.parser.TextReader._convert_with_dtype (pandas\\parser.c:10642)  File &quot;parser.pyx&quot;, line 1046, in pandas.parser.TextReader._string_convert (pandas\\parser.c:10853)  File &quot;parser.pyx&quot;, line 1278, in pandas.parser._string_box_utf8 (pandas\\parser.c:15657)UnicodeDecodeError: 'utf-8' codec can't decode byte 0xda in position 6: invalid    continuation byte</code>The source/creation of these files all come from the same place. What's the best way to correct this to proceed with the import?", "acce_answer": "<code>dialogReturn</code> gets triggered when the dialog is being closed.\nYou can close the dialog via javascript with <code>\ufffc\ufffcdlgCreatePersons.hide()</code>. Although the documentation doesn't say something about this event in connection with the javascript API.\nSince 4.0 there's also the possibility to close a dialog from a backing bean:<code>public void selectCarFromDialog(Car car) {\n        RequestContext.getCurrentInstance().closeDialog(car);\n}\n</code>See PrimeFaces User Guide, Dialog Framework.\n", "acce_score": "672", "simquery1_title": "converting JSON to string in Python I did not explain my questions clearly at beginning.Try to use <code>str()</code> and <code>json.dumps()</code> when converting JSON to string in python.<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print json.dumps(data){&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print str(data){'jsonKey': 'jsonValue', 'title': 'hello world'}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}'&gt;&gt;&gt; str(data)&quot;{'jsonKey': 'jsonValue', 'title': 'hello world'}&quot;</code>My question is:<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world'&quot;}&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': &quot;hello world\\'&quot;}'&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\'&quot;}'&gt;&gt;&gt; </code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world''}&quot;</code><code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}  File &quot;&lt;stdin&gt;&quot;, line 1    data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}                                                          ^SyntaxError: EOL while scanning string literal&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world\\&quot;&quot;}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\\\&quot;&quot;}'&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': \\'hello world&quot;\\'}'</code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world\\&quot;'}&quot;</code>It is not necessary to change the output string to json (dict) again for me.How to do this?", "simquery1_answer": "IziToast is already available for angular 2 as <code>ng2-izitoast</code>. Please use: https://github.com/plauzul/ng2-izitoast\n", "simquery2_title": "fitting data with numpy I have the following data:<code>&gt;&gt;&gt; xarray([ 3.08,  3.1 ,  3.12,  3.14,  3.16,  3.18,  3.2 ,  3.22,  3.24,    3.26,  3.28,  3.3 ,  3.32,  3.34,  3.36,  3.38,  3.4 ,  3.42,    3.44,  3.46,  3.48,  3.5 ,  3.52,  3.54,  3.56,  3.58,  3.6 ,    3.62,  3.64,  3.66,  3.68])&gt;&gt;&gt; yarray([ 0.000857,  0.001182,  0.001619,  0.002113,  0.002702,  0.003351,    0.004062,  0.004754,  0.00546 ,  0.006183,  0.006816,  0.007362,    0.007844,  0.008207,  0.008474,  0.008541,  0.008539,  0.008445,    0.008251,  0.007974,  0.007608,  0.007193,  0.006752,  0.006269,    0.005799,  0.005302,  0.004822,  0.004339,  0.00391 ,  0.003481,    0.003095])</code>Now, I want to fit these data with, say, a 4 degree polynomial. So I do:<code>&gt;&gt;&gt; coefs = np.polynomial.polynomial.polyfit(x, y, 4)&gt;&gt;&gt; ffit = np.poly1d(coefs)</code>Now I create a new grid for x values to evaluate the fitting function <code>ffit</code>:<code>&gt;&gt;&gt; x_new = np.linspace(x[0], x[-1], num=len(x)*10)</code>When I do all the plotting (data set and fitting curve) with the command:<code>&gt;&gt;&gt; fig1 = plt.figure()                                                                                           &gt;&gt;&gt; ax1 = fig1.add_subplot(111)                                                                                   &gt;&gt;&gt; ax1.scatter(x, y, facecolors='None')                                                                     &gt;&gt;&gt; ax1.plot(x_new, ffit(x_new))                                                                     &gt;&gt;&gt; plt.show()</code>I get the following:fitting_data.pngWhat I expect is the fitting function to fit correctly (at least near the maximum value of the data). What am I doing wrong?", "simquery2_answer": "<code>text_area = $('textarea').val();\ntext_area.length == 0 ? 0 : text_area.trim().split(/\\s+\\b/).length\n</code>\n", "total_len": 835, "s1_total_len": 737, "s2_total_len": 881}
{"post_id": "18172851", "title": "Deleting DataFrame row in Pandas based on column value", "query": "I have the following DataFrame:<code>             daysago  line_race rating        rw    wrating line_date                                                  2007-03-31       62         11     56  1.000000  56.000000 2007-03-10       83         11     67  1.000000  67.000000 2007-02-10      111          9     66  1.000000  66.000000 2007-01-13      139         10     83  0.880678  73.096278 2006-12-23      160         10     88  0.793033  69.786942 2006-11-09      204          9     52  0.636655  33.106077 2006-10-22      222          8     66  0.581946  38.408408 2006-09-29      245          9     70  0.518825  36.317752 2006-09-16      258         11     68  0.486226  33.063381 2006-08-30      275          8     72  0.446667  32.160051 2006-02-11      475          5     65  0.164591  10.698423 2006-01-13      504          0     70  0.142409   9.968634 2006-01-02      515          0     64  0.134800   8.627219 2005-12-06      542          0     70  0.117803   8.246238 2005-11-29      549          0     70  0.113758   7.963072 2005-11-22      556          0     -1  0.109852  -0.109852 2005-11-01      577          0     -1  0.098919  -0.098919 2005-10-20      589          0     -1  0.093168  -0.093168 2005-09-27      612          0     -1  0.083063  -0.083063 2005-09-07      632          0     -1  0.075171  -0.075171 2005-06-12      719          0     69  0.048690   3.359623 2005-05-29      733          0     -1  0.045404  -0.045404 2005-05-02      760          0     -1  0.039679  -0.039679 2005-04-02      790          0     -1  0.034160  -0.034160 2005-03-13      810          0     -1  0.030915  -0.030915 2004-11-09      934          0     -1  0.016647  -0.016647</code>I need to remove the rows where <code>line_race</code> is equal to <code>0</code>. What's the most efficient way to do this?", "acce_answer": "Just to help someone else, in the phpMyAdmin, in config.inc.php, change this:<code>$cfg['Servers'][$i]['extension'] = '**mysqli**';\n</code>to this:<code>$cfg['Servers'][$i]['extension'] = '**mysql**';\n</code>\n", "acce_score": "971", "simquery1_title": "Get column by number in Pandas What's the difference between:<code>Maand['P_Sanyo_Gesloten']Out[119]: Time2012-08-01 00:00:11    02012-08-01 00:05:10    02012-08-01 00:10:11    02012-08-01 00:20:10    02012-08-01 00:25:10    02012-08-01 00:30:09    02012-08-01 00:40:10    02012-08-01 00:50:09    02012-08-01 01:05:10    02012-08-01 01:10:10    02012-08-01 01:15:10    02012-08-01 01:25:10    02012-08-01 01:30:10    02012-08-01 01:35:09    02012-08-01 01:40:10    0...2012-08-30 22:35:09    02012-08-30 22:45:10    02012-08-30 22:50:09    02012-08-30 22:55:10    02012-08-30 23:00:09    02012-08-30 23:05:10    02012-08-30 23:10:09    02012-08-30 23:15:10    02012-08-30 23:20:09    02012-08-30 23:25:10    02012-08-30 23:35:09    02012-08-30 23:40:10    02012-08-30 23:45:09    02012-08-30 23:50:10    02012-08-30 23:55:11    0Name: P_Sanyo_Gesloten, Length: 7413, dtype: int64</code>And<code>Maand[[1]]Out[120]: &amp;ltclass 'pandas.core.frame.DataFrame'&amp;gtDatetimeIndex: 7413 entries, 2012-08-01 00:00:11 to 2012-08-30 23:55:11Data columns (total 1 columns):P_Sanyo_Gesloten    7413  non-null valuesdtypes: int64(1)</code>How can I get column by its index number? And not by an index string?", "simquery1_answer": "A C++ declaration (in the simplest case) consists of two parts:\na declaration specifier, and a declarator.  Everything up to\neither what is being declared or the first \"operator\" (e.g. <code>*</code>\nor <code>&amp;</code>) is part of the declaration specifier, where order\ndoesn't matter.  So you're free to write things like:<code>int const unsigned static i;\n</code>(if you don't care what your co-worker think of your code).C has deprecated putting the storage class specifier (<code>static</code>,\n<code>extern</code>, etc.) anywhere but in the first position, and this was\na generally accepted convention since the earliest days of C.\nFor the rest: \nI've always seen the modifier precede the basic type (e.g.\n<code>unsigned int</code>), when the basic type appears.  Most of the\nplaces I've worked will use simply <code>unsigned</code>, rather than\n<code>unsigned int</code>.\nI've also always seen the <code>signed</code>/<code>unsigned</code> precede any\nlength modifiers: <code>unsigned long</code>, rather than <code>long unsigned</code>.\nThe position of <code>const</code> or <code>volatile</code> tends to vary.  Most of\nthe more experienced programmers I know put it at the very end\nof the declaration specifier, but this is a somewhat recent\ndevelopment, and a lot of people continue to use the older\nconvention, and put it immediately after the storage class\nspecifier.\nFor all but the storage class specifiers, this is fairly\narbitrary; about the only other rule I'd say is universal is to\nnot split up the actual type information, as I did in my\nexample.\n", "simquery2_title": "Rolling Mean on pandas on a specific column I have a data frame like this which is imported from a CSV.<code>              stock  popDate2016-01-04  325.316   822016-01-11  320.036   832016-01-18  299.169   792016-01-25  296.579   842016-02-01  295.334   822016-02-08  309.777   812016-02-15  317.397   752016-02-22  328.005   802016-02-29  315.504   812016-03-07  328.802   812016-03-14  339.559   862016-03-21  352.160   822016-03-28  348.773   842016-04-04  346.482   832016-04-11  346.980   802016-04-18  357.140   752016-04-25  357.439   772016-05-02  356.443   782016-05-09  365.158   782016-05-16  352.160   722016-05-23  344.540   742016-05-30  354.998   812016-06-06  347.428   772016-06-13  341.053   782016-06-20  363.515   802016-06-27  349.669   802016-07-04  371.583   822016-07-11  358.335   812016-07-18  362.021   792016-07-25  368.844   77...             ...  ...</code>I wanted to add a new column MA which calculates Rolling mean for the column pop. I tried the following<code>df['MA']=data.rolling(5,on='pop').mean()</code>I get an error <code>ValueError: Wrong number of items passed 2, placement implies 1</code>So I thought let me try if it just works without adding a column. I used <code> data.rolling(5,on='pop').mean()</code>I got the output <code>               stock  popDate2016-01-04       NaN   822016-01-11       NaN   832016-01-18       NaN   792016-01-25       NaN   842016-02-01  307.2868   822016-02-08  304.1790   812016-02-15  303.6512   752016-02-22  309.4184   802016-02-29  313.2034   812016-03-07  319.8970   812016-03-14  325.8534   862016-03-21  332.8060   822016-03-28  336.9596   842016-04-04  343.1552   832016-04-11  346.7908   802016-04-18  350.3070   752016-04-25  351.3628   772016-05-02  352.8968   782016-05-09  356.6320   782016-05-16  357.6680   722016-05-23  355.1480   742016-05-30  354.6598   812016-06-06  352.8568   772016-06-13  348.0358   782016-06-20  350.3068   802016-06-27  351.3326   802016-07-04  354.6496   822016-07-11  356.8310   812016-07-18  361.0246   792016-07-25  362.0904   77...              ...  ...</code>I can't seem to apply Rolling mean on the column pop. What am I doing wrong?", "simquery2_answer": "There are two tables: <code>authors(authorid, name)</code> and <code>books(bookid, authorid, title, year)</code>.What sql query could I write to count how many books authors have in books table and if some author has none it would return zero?I have tried:<code>Select authors.name, count(authors.authorid) as count\nFROM authors, books\nwhere authors.authorid = books.authorid\ngroup by authors.authorid;\n</code>Example output:<code>name count\nauthor1 1\nauthor2 0\n</code>\n", "total_len": 1175, "s1_total_len": 1269, "s2_total_len": 1591}
{"post_id": "18337407", "title": "Saving UTF-8 texts with json.dumps as UTF-8, not as a \\u escape sequence", "query": "Sample code (in a REPL):<code>import jsonjson_string = json.dumps(&quot;\u05d1\u05e8\u05d9 \u05e6\u05e7\u05dc\u05d4&quot;)print(json_string)</code>Output:<code>&quot;\\u05d1\\u05e8\\u05d9 \\u05e6\\u05e7\\u05dc\\u05d4&quot;</code>The problem: it's not human readable. My (smart) users want to verify or even edit text files with JSON dumps (and I\u2019d rather not use XML).Is there a way to serialize objects into UTF-8 JSON strings (instead of <code>\\uXXXX</code>)?", "acce_answer": "In Microsoft Access 2010, I have a table called Items, a query of that table called Items Extended that adds a randomized number based on the ID, which looks like this<code>RandomID: Rnd([ID])\n</code>I then have that query open in a Split Form, called Item List, and I have made a Randomize button that just has<code>SortOrderBy RandomID\n</code>and that seems to work just fine.The problem I'm running into is that it doesn't stop updating and re-sorting by the random value.Each item in the table has an Open link that opens a Single Form called Item Details for that record with its details more easily visible and editable. But when I close it, the order re-randomizes in the Item List Split Form.I would like to make it so that when I press the randomize button, it sorts the table in a random order, and leaves it like that until I change it to otherwise, or re-randomize it myself.I have tried setting the split form to not Order On Load, as well as the Query. I have tried various solutions that I've seen online that involve using macros and the VGA, but I'm having trouble wrapping my head around it and applying it to this particular situation. I have no trouble getting a random list- I just need it to stay in the order it becomes without changing every time. I don't need it to be randomized every time I load it, just every time I hit the Randomize button.\n", "acce_score": "833", "simquery1_title": "converting JSON to string in Python I did not explain my questions clearly at beginning.Try to use <code>str()</code> and <code>json.dumps()</code> when converting JSON to string in python.<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print json.dumps(data){&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print str(data){'jsonKey': 'jsonValue', 'title': 'hello world'}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}'&gt;&gt;&gt; str(data)&quot;{'jsonKey': 'jsonValue', 'title': 'hello world'}&quot;</code>My question is:<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world'&quot;}&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': &quot;hello world\\'&quot;}'&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\'&quot;}'&gt;&gt;&gt; </code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world''}&quot;</code><code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}  File &quot;&lt;stdin&gt;&quot;, line 1    data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}                                                          ^SyntaxError: EOL while scanning string literal&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world\\&quot;&quot;}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\\\&quot;&quot;}'&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': \\'hello world&quot;\\'}'</code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world\\&quot;'}&quot;</code>It is not necessary to change the output string to json (dict) again for me.How to do this?", "simquery1_answer": "IziToast is already available for angular 2 as <code>ng2-izitoast</code>. Please use: https://github.com/plauzul/ng2-izitoast\n", "simquery2_title": "How to parse somewhat wrong JSON with Python? I have the following JSON string coming from external input source:<code>{value: &quot;82363549923gnyh49c9djl239pjm01223&quot;, id: 17893}</code>This is an incorrectly-formatted JSON string (&quot;id&quot; and &quot;value&quot; must be in quotes), but I need to parse it anyway. I have tried simplejson and json-py and seems they could not be set up to parse such strings.I am running Python 2.5 on Google App engine, so any C-based solutions like python-cjson are not applicable.Input format could be changed to XML or YAML, in addition to JSON listed above, but I am using JSON within the project and changing format in specific place would not be very good.Now I've switched to XML and parsing the data successfully, but looking forward to any solution that would allow me to switch back to JSON.", "simquery2_answer": "<code>GRAPHinsertV</code> copies the pointer of the <code>name</code> and <code>researchLab</code> strings to the vector structure.<code>createNewPerson</code> creates a temporary for the <code>name</code> and <code>researchLab</code> strings.The problem here is, you're pointing to a temporary string which causes undefined behaviour when you access it after <code>createNewPerson</code> returns.To solve this problem, you can duplicate the strings in <code>GRAPHinsertV</code> using <code>malloc</code>+<code>strcpy</code>, or by using the non-standard <code>strdup</code>.\n", "total_len": 521, "s1_total_len": 737, "s2_total_len": 392}
{"post_id": "19124601", "title": "Pretty-print an entire Pandas Series / DataFrame", "query": "I work with Series and DataFrames on the terminal a lot. The default <code>__repr__</code> for a Series returns a reduced sample, with some head and tail values, but the rest missing.Is there a builtin way to pretty-print the entire Series / DataFrame?  Ideally, it would support proper alignment, perhaps borders between columns, and maybe even color-coding for the different columns.", "acce_answer": "paste your elastic configuration, btw this is my configuration for cluster in local (1 master-for-write 1 slave-for-read):master node:<code>cluster.name: musement\nnetwork.bind_host: 0.0.0.0\ntransport.tcp.port: 9301\nhttp.port: 9201node.master: true\nnode.data: false\ndiscovery.zen.minimum_master_nodes: 1\ndiscovery.zen.ping.timeout: 3s\ndiscovery.zen.ping.multicast.enabled: false\ndiscovery.zen.ping.unicast.hosts: [\"pippo.int:9300\"]\n</code>slave node:<code>cluster.name: musement\nnetwork.bind_host: 0.0.0.0\ntransport.tcp.port: 9300\nhttp.port: 9200\ndiscovery.zen.minimum_master_nodes: 1\ndiscovery.zen.ping.timeout: 3s\ndiscovery.zen.ping.multicast.enabled: false\ndiscovery.zen.ping.unicast.hosts: [\"pippo.int:9301\"]\n</code>where pippo.int it's the eth0 of my pc\n", "acce_score": "1149", "simquery1_title": "Understanding the map function The Python 2 documentation says:Built-in Functions: <code>map(function, iterable, ...)</code>Apply function to every item of iterable and return a list of theresults. If additional iterable arguments are passed, function musttake that many arguments and is applied to the items from alliterables in parallel.If one iterable is shorter than another it is assumed to be extendedwith None items.If function is <code>None</code>, the identity function is assumed; if there aremultiple arguments, <code>map()</code> returns a list consisting of tuplescontaining the corresponding items from all iterables (a kind oftranspose operation).The iterable arguments may be a sequence or any iterable object; theresult is always a list.What role does this play in making a Cartesian product?<code>content = map(tuple, array)</code>What effect does putting a tuple anywhere in there have? I also noticed that without the map function the output is <code>abc</code> and with it, it's <code>a, b, c</code>.I want to fully understand this function. The reference definitions is also hard to understand. Too much fancy fluff.", "simquery1_answer": "I'm trying to get the field values \u200b\u200busing as JSON query variables, but with variable nothing works.\nI try this:<code>var a='ptmedia';var c='2.90';var v='ver';var n='name';\n$.getJSON('http://example.com?callback=?',function(d){\n    var q=d.app.a.v;\n    if(c&lt;q){alert('Some text'+d.n+'some text');}\n});\n</code>but i did something wrong...\n", "simquery2_title": "f-strings vs str.format() I'm using the <code>.format()</code> a lot in my Python 3.5 projects, but I'm afraid that it will be deprecated during the next Python versions because of f-strings, the new kind of string literal.<code>&gt;&gt;&gt; name = &quot;Test&quot;&gt;&gt;&gt; f&quot;My app name is {name}.&quot;'My app name is Test.'</code>Does the formatted string feature come to fully replace the old <code>.format()</code>? And from now on, would it be better to use the new style in all cases?I understand that it's based on the idea that &quot;Simple is better than complex.&quot; However, what about performance issues; is there any difference between them? Or is it just a simple look of the same feature?", "simquery2_answer": "According to the info you provide, you're joining using a non-existing fieldIf dg_like's structure is\n  id | P_id | Uid\nthe join statement should be <code> $this-&gt;db-&gt;join('dg_like', 'user_id = dg_like.Uid');\n</code>I'd go even further and recommend you make it a <code>LEFT JOIN</code> so the output of the query contains all rows, regardless of being liked or not:<code> $this-&gt;db-&gt;join('dg_like', 'user_id = dg_like.Uid', 'LEFT');\n</code>hope that works\n", "total_len": 414, "s1_total_len": 398, "s2_total_len": 360}
{"post_id": "19384532", "title": "Get statistics for each group (such as count, mean, etc) using pandas GroupBy?", "query": "I have a dataframe <code>df</code> and I use several columns from it to <code>groupby</code>:<code>df['col1','col2','col3','col4'].groupby(['col1','col2']).mean()</code>In the above way, I almost get the table (dataframe) that I need. What is missing is an additional column that contains number of rows in each group. In other words, I have mean but I also would like to know how many were used to get these means. For example in the first group there are 8 values and in the second one 10 and so on.In short: How do I get group-wise statistics for a dataframe?", "acce_answer": "If I am understanding you correctly and if you know what content is being injected into your child div then the JQuery solution is very simple: <code>$(\".child strong\").css({\"color\":\"black\"});\n$(\".child small\").css({\"text-decoration\":\"none\"});\n$(\".child h4\").css({\"margin-left\":\"0\"});\n</code>The JQuery code can then be wrapped in any sort of function you desire. Here is your fiddle with the JQuery added. Hope that helps.Note: the JQuery selector - for example: <code>$(\".child strong\")</code> -  can be as specific or as general as you like and you can add as many css rules as you like by using a comma separated list like this: <code>$(\".child strong\").css({\"color\":\"black\", \"font-weight\":\"bold\", \"text-decoration\":\"underline\", etc, etc});\n</code>\n", "acce_score": "761", "simquery1_title": "How to apply \"first\" and \"last\" functions to columns while using group by in pandas? I have a data frame and I would like to group it by a particular column (or, in other words, by values from a particular column). I can do it in the following way: <code>grouped = df.groupby(['ColumnName'])</code>.I imagine the result of this operation as a table in which some cells can contain sets of values instead of single values. To get a usual table (i.e. a table in which every cell contains only one a single value) I need to indicate what function I want to use to transform the sets of values in the cells into single values.For example I can replace sets of values by their sum, or by their minimal or maximal value. I can do it in the following way: <code>grouped.sum()</code> or <code>grouped.min()</code> and so on.Now I want to use different functions for different columns. I figured out that I can do it in the following way: <code>grouped.agg({'ColumnName1':sum, 'ColumnName2':min})</code>.However, because of some reasons I cannot use <code>first</code>. In more details, <code>grouped.first()</code> works, but <code>grouped.agg({'ColumnName1':first, 'ColumnName2':first})</code> does not work. As a result I get a NameError: <code>NameError: name 'first' is not defined</code>. So, my question is: Why does it happen and how to resolve this problem.ADDEDHere I found the following example:<code>grouped['D'].agg({'result1' : np.sum, 'result2' : np.mean})</code>May be I also need to use <code>np</code>? But in my case python does not recognize \"np\". Should I import it? ", "simquery1_answer": "Check out the docs.You are missing some <code>test-main.js</code> file, where you configure Require.js and kick off the test run by requiring something (probably all of your tests).\n", "simquery2_title": "How to group pandas DataFrame entries by date in a non-unique column A Pandas <code>DataFrame</code> contains column named <code>\"date\"</code> that contains non-unique <code>datetime</code> values. I can group the lines in this frame using:<code>data.groupby(data['date'])</code>However, this splits the data by the <code>datetime</code> values. I would like to group these data by the year stored in the \"date\" column. This page shows how to group by year in cases where the time stamp is used as an index, which is not true in my case.How do I achieve this grouping?", "simquery2_answer": "For python selenium webdriver  use function get_window_size:<code>driver.get_window_size()\n\"\"\"\nOutput:\n{\n  \"width\": 1255,\n  \"height\": 847,\n  \"hCode\": 939524096,\n  \"class\": \"org.openqa.selenium.Dimension\"\n}\n\"\"\"\n</code>\n", "total_len": 378, "s1_total_len": 479, "s2_total_len": 246}
{"post_id": "19410042", "title": "How to make IPython notebook matplotlib plot inline", "query": "I am trying to use IPython notebook on MacOS X with Python 2.7.2 and IPython 1.1.0.I cannot get matplotlib graphics to show up inline.<code>import matplotlibimport numpy as npimport matplotlib.pyplot as plt%matplotlib inline  </code>I have also tried <code>%pylab inline</code> and the ipython command line arguments <code>--pylab=inline</code> but this makes no difference.<code>x = np.linspace(0, 3*np.pi, 500)plt.plot(x, np.sin(x**2))plt.title('A simple chirp')plt.show()</code>Instead of inline graphics, I get this:<code>&lt;matplotlib.figure.Figure at 0x110b9c450&gt;</code>And <code>matplotlib.get_backend()</code> shows that I have the <code>'module://IPython.kernel.zmq.pylab.backend_inline'</code> backend.", "acce_answer": "\r\n\r\n<code>   &lt;script src=\"~/Scripts/jquery-1.10.2.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\r\n    &lt;script type=\"text/javascript\"&gt;\r\n      google.load(\"visualization\", \"1\", {packages:[\"table\"]});\r\n      google.setOnLoadCallback(drawTable);\r\n\r\n      function drawTable() {\r\n        var data = new google.visualization.DataTable();\r\n        data.addColumn('string', 'Name');\r\n        data.addColumn('number', 'Salary');\r\n        data.addColumn('number', 'Full Time Employee');\r\n        data.addRows([\r\n          ['Mike',  {v: 10000, f: '$10,000'}, 10],\r\n          ['Jim',   {v:8000,   f: '$8,000'},  20],\r\n          ['Alice', {v: 12500, f: '$12,500'}, 38],\r\n          ['Bob',   {v: 7000,  f: '$7,000'},  20]\r\n        ]);\r\n\r\n        var table = new google.visualization.Table(document.getElementById('table_div'));\r\n\r\n        table.draw(data, { showRowNumber: true });\r\n\r\n      \r\n            $(\"#table_div table tbody tr td\").click(function () {\r\n                alert($(this).html());\r\n            });\r\n      \r\n      }\r\n    &lt;/script&gt;</code>\r\n<code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"table_div\"&gt;\r\n    &lt;/div&gt;</code>\r\n\r\n\r", "acce_score": "943", "simquery1_title": "Parallel Coordinates plot in Matplotlib Two and three dimensional data can be viewed relatively straight-forwardly using traditional plot types.  Even with four dimensional data, we can often find a way to display the data.  Dimensions above four, though, become increasingly difficult to display.  Fortunately, parallel coordinates plots provide a mechanism for viewing results with higher dimensions.Several plotting packages provide parallel coordinates plots, such as Matlab, R, VTK type 1 and VTK type 2, but I don't see how to create one using Matplotlib.  Is there a built-in parallel coordinates plot in Matplotlib?  I certainly don't see one in the gallery.  If there is no built-in-type, is it possible to build a parallel coordinates plot using standard features of Matplotlib?Edit:Based on the answer provided by Zhenya below, I developed the following generalization that supports an arbitrary number of axes.  Following the plot style of the example I posted in the original question above, each axis gets its own scale.  I accomplished this by normalizing the data at each axis point and making the axes have a range of 0 to 1.  I then go back and apply labels to each tick-mark that give the correct value at that intercept.The function works by accepting an iterable of data sets.  Each data set is considered a set of points where each point lies on a different axis.  The example in <code>__main__</code> grabs random numbers for each axis in two sets of 30 lines.  The lines are random within ranges that cause clustering of lines; a behavior I wanted to verify.This solution isn't as good as a built-in solution since you have odd mouse behavior and I'm faking the data ranges through labels, but until Matplotlib adds a built-in solution, it's acceptable.<code>#!/usr/bin/pythonimport matplotlib.pyplot as pltimport matplotlib.ticker as tickerdef parallel_coordinates(data_sets, style=None):    dims = len(data_sets[0])    x    = range(dims)    fig, axes = plt.subplots(1, dims-1, sharey=False)    if style is None:        style = ['r-']*len(data_sets)    # Calculate the limits on the data    min_max_range = list()    for m in zip(*data_sets):        mn = min(m)        mx = max(m)        if mn == mx:            mn -= 0.5            mx = mn + 1.        r  = float(mx - mn)        min_max_range.append((mn, mx, r))    # Normalize the data sets    norm_data_sets = list()    for ds in data_sets:        nds = [(value - min_max_range[dimension][0]) /                 min_max_range[dimension][2]                 for dimension,value in enumerate(ds)]        norm_data_sets.append(nds)    data_sets = norm_data_sets    # Plot the datasets on all the subplots    for i, ax in enumerate(axes):        for dsi, d in enumerate(data_sets):            ax.plot(x, d, style[dsi])        ax.set_xlim([x[i], x[i+1]])    # Set the x axis ticks     for dimension, (axx,xx) in enumerate(zip(axes, x[:-1])):        axx.xaxis.set_major_locator(ticker.FixedLocator([xx]))        ticks = len(axx.get_yticklabels())        labels = list()        step = min_max_range[dimension][2] / (ticks - 1)        mn   = min_max_range[dimension][0]        for i in xrange(ticks):            v = mn + i*step            labels.append('%4.2f' % v)        axx.set_yticklabels(labels)    # Move the final axis' ticks to the right-hand side    axx = plt.twinx(axes[-1])    dimension += 1    axx.xaxis.set_major_locator(ticker.FixedLocator([x[-2], x[-1]]))    ticks = len(axx.get_yticklabels())    step = min_max_range[dimension][2] / (ticks - 1)    mn   = min_max_range[dimension][0]    labels = ['%4.2f' % (mn + i*step) for i in xrange(ticks)]    axx.set_yticklabels(labels)    # Stack the subplots     plt.subplots_adjust(wspace=0)    return pltif __name__ == '__main__':    import random    base  = [0,   0,  5,   5,  0]    scale = [1.5, 2., 1.0, 2., 2.]    data = [[base[x] + random.uniform(0., 1.)*scale[x]            for x in xrange(5)] for y in xrange(30)]    colors = ['r'] * 30    base  = [3,   6,  0,   1,  3]    scale = [1.5, 2., 2.5, 2., 2.]    data.extend([[base[x] + random.uniform(0., 1.)*scale[x]                 for x in xrange(5)] for y in xrange(30)])    colors.extend(['b'] * 30)    parallel_coordinates(data, style=colors).show()</code>Edit 2:Here is an example of what comes out of the above code when plotting Fisher's Iris data.  It isn't quite as nice as the reference image from Wikipedia, but it is passable if all you have is Matplotlib and you need multi-dimensional plots.", "simquery1_answer": "<code>/usr/bin/env: node: No such file or directory\n</code>This means <code>bosh</code> has been written to use an odd little idiom for shell scripts:<code>#!/usr/bin/env node\n</code>This runs the <code>env(1)</code> program, which will search its <code>PATH</code> for the <code>node</code> executable and execute it with a modified environment -- but, without environment modifications, it just runs <code>node</code>. It's a bit silly, but it is also the easiest way to write a script that doesn't hardcode the path to its interpreter.You don't have a <code>node</code> program executable on your system. Perhaps <code>node</code> isn't yet installed. (I have a vague memory that old versions were actually named <code>nodejs</code> -- but I cannot find documentation to support this memory.)To make sure <code>node</code> is installed, run:<code>apt-get update &amp;&amp; apt-get install -u nodejs\n</code>If the <code>nodejs</code> package is already installed, then perhaps the executable name is different. Run <code>dpkg -L nodejs | grep bin</code>, and look for the executable name in the output. If you don't see <code>/usr/bin/node</code>, I'll help walk you through setting up a symbolic link.\n", "simquery2_title": "Capturing a single image from my webcam in Java or Python I want to capture a single image from my webcam and save it to disk.  I want to do this in Java or Python (preferably Java).  I want something that will work on both 64-bit Win7 and 32-bit Linux.EDIT: I use Python 3.x, not 2.xBecause everywhere else I see this question asked people manage to get confused, I'm going to state a few things explicitly:I do not want to use ProcessingI do not want to use any language other than those stated aboveI do want to display this image on my screen in any way, shape or formI do not want to display a live video feed from my webcam on my screen, or save such a feed to my hard driveThe Java Media Framework is far too out of date. Do not suggest it.I would rather not use JavaCV, but if I absolutely must, I want to know exactly which files from the OpenCV library I need, and how I can use these files without including the entire library (and preferably without sticking these files in any sort of PATH. Everything should be included in the one directory)I can use Eclipse on the 64-bit Win7 computer if need be, but I also have to be able to compile and use it on 32-bit Linux as wellIf you think I might or might not know something related to this subject in any way shape or form, please assume I do not know it, and tell meEDIT2: I was able to get Froyo's pygame example working on Linux using Python 2.7 and pygame 1.9.1.  the pygame.camera.camera_list() call didn't work, but it was unnecessary for the rest of the example.  However, I had to call cam.set_controls() (for which you can find the documentation here http://www.pygame.org/docs/ref/camera.html) to up the brightness so I could actually see anything in the image I captured.Also, I need to call the cam.get_image() and pygame.image.save() methods three times before the image I supposedly took on the first pair of calls actually gets saved.  They appeared to be stuck in a weird buffer.  Basically, instead of calling cam.get_image() once, I had to call it three times every single time I wanted to capture an image.  Then and only then did I call pygame.image.save().Unfortunately, as stated below, pygame.camera is only supported on Linux.  I still don't have a solution for Windows.", "simquery2_answer": "Selinux may cause the issue, to verify run:<code>getsebool -a | grep mail\n</code>If it displays as bellow it is selinux:<code>allow_postfix_local_write_mail_spool --&gt; off\n</code>You may disabled it, but if you want to keep it (and you should as it provides an extra layer of security) you should do something else:<code>setsebool -P httpd_can_sendmail on\n</code>This will allow the httpd to send emails, as when you use php mail().\n", "total_len": 748, "s1_total_len": 1704, "s2_total_len": 705}
{"post_id": "19482970", "title": "Get a list from Pandas DataFrame column headers", "query": "I want to get a list of the column headers from a Pandas DataFrame.  The DataFrame will come from user input, so I won't know how many columns there will be or what they will be called.For example, if I'm given a DataFrame like this:<code>    y  gdp  cap0   1    2    51   2    3    92   8    7    23   3    4    74   6    7    75   4    8    36   8    2    87   9    9   108   6    6    49  10   10    7</code>I would get a list like this:<code>['y', 'gdp', 'cap']</code>", "acce_answer": "I think that we can argue that there is no <code>global</code> keyword in java but your example can be treated like a global.In most languages where you can define a global variable the problem is that they pollute the global namespace and name clashes can occur (like in php). In this regard there are no globals in java since there is no global namespace: variables are always in a class.So the main thing is: there is no explicit globan in java and there is no globan namespace in java. This frees you from name clashes and accidental overwrites which is a good thing. But there is nothing stopping you from creating a <code>Global</code> class with a lot of <code>public static</code> fields in it. Please note that most guys (including me) would break both of your hands for doing so. :)\n", "acce_score": "1326", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "Pandas DataFrame Groupby two columns and get counts I have a pandas dataframe in the following format:<code>df = pd.DataFrame([    [1.1, 1.1, 1.1, 2.6, 2.5, 3.4,2.6,2.6,3.4,3.4,2.6,1.1,1.1,3.3],     list('AAABBBBABCBDDD'),     [1.1, 1.7, 2.5, 2.6, 3.3, 3.8,4.0,4.2,4.3,4.5,4.6,4.7,4.7,4.8],     ['x/y/z','x/y','x/y/z/n','x/u','x','x/u/v','x/y/z','x','x/u/v/b','-','x/y','x/y/z','x','x/u/v/w'],    ['1','3','3','2','4','2','5','3','6','3','5','1','1','1']]).Tdf.columns = ['col1','col2','col3','col4','col5']</code>df:<code>   col1 col2 col3     col4 col50   1.1    A  1.1    x/y/z    11   1.1    A  1.7      x/y    32   1.1    A  2.5  x/y/z/n    33   2.6    B  2.6      x/u    24   2.5    B  3.3        x    45   3.4    B  3.8    x/u/v    26   2.6    B    4    x/y/z    57   2.6    A  4.2        x    38   3.4    B  4.3  x/u/v/b    69   3.4    C  4.5        -    310  2.6    B  4.6      x/y    511  1.1    D  4.7    x/y/z    112  1.1    D  4.7        x    113  3.3    D  4.8  x/u/v/w    1</code>I want to get the count by each row like following. Expected Output:<code>col5 col2 count1    A      1     D      32    B      2etc...</code>How to get my expected output? And I want to find largest count for each 'col2' value?", "simquery2_answer": "You can do this with conditional aggregation -- using the <code>case</code> statement in an aggregation function:<code>SELECT u.id AS user_id,\n       SUM(case when p.`case` = 1 then p.amount else 0 end) AS total_amount_case1,\n       SUM(case when p.`case` = 2 then p.amount else 0 end) AS total_amount_case2\nFROM users u LEFT JOIN \n     payments p\n     on u.id = p.user_id\nGROUP BY user_id\nORDER BY user_id;\n</code>I also added table aliases to make the query a bit less cumbersome.\n", "total_len": 371, "s1_total_len": 1245, "s2_total_len": 789}
{"post_id": "19548957", "title": "Can I force pip to reinstall the current version?", "query": "I've come across situations where a current version of a package seems not to be working and requires reinstallation. But <code>pip install -U</code> won't touch a package that is already up-to-date. I see how to force a reinstallation by first uninstalling (with <code>pip uninstall</code>) and then installing, but is there a way to simply force an \"update\" to a nominally current version in a single step?", "acce_answer": "I would ensure that you keep the greatest accuracy by using proper fractions of 2PI.Fiddle with the constants until you get roughly what you want:<code>Option ExplicitPrivate Sub Form_Load()\n    Timer.Interval = 50\nEnd SubPrivate Sub Timer_Timer()\n    DrawRadialLines\nEnd SubPrivate Sub DrawRadialLines()    Const ksngPI            As Single = 3.14159!\n    Const ksngCircle        As Single = 2! * ksngPI    Const ksngInnerRadius   As Single = 130!\n    Const ksngOuterRadius   As Single = 260!    Const ksngCenterX       As Single = 1200!\n    Const ksngCenterY       As Single = 1200!    Const klSegmentCount    As Long = 12    Const klLineWidth       As Long = 3    Static s_lActiveSegment As Integer              ' The \"selected\" segment.    Dim lSegment            As Long\n    Dim sngRadians          As Single\n    Dim sngX1               As Single\n    Dim sngY1               As Single\n    Dim sngX2               As Single\n    Dim sngY2               As Single\n    Dim cLineColour         As OLE_COLOR    Me.DrawWidth = klLineWidth    ' Overdraw previous graphic.\n    Me.Line (ksngCenterX - ksngOuterRadius - Screen.TwipsPerPixelX * 2, ksngCenterY - ksngOuterRadius - Screen.TwipsPerPixelY * 2)-(ksngCenterX + ksngOuterRadius + Screen.TwipsPerPixelX * 2, ksngCenterY + ksngOuterRadius + Screen.TwipsPerPixelY * 2), Me.BackColor, BF    For lSegment = 0 To klSegmentCount - 1        '\n        ' Work out the coordinates for the line to be draw from the outside circle to the inside circle.\n        '        sngRadians = (ksngCircle * CSng(lSegment)) / klSegmentCount        sngX1 = (ksngOuterRadius * Cos(sngRadians)) + ksngCenterX\n        sngY1 = (ksngOuterRadius * Sin(sngRadians)) + ksngCenterY\n        sngX2 = (ksngInnerRadius * Cos(sngRadians)) + ksngCenterX\n        sngY2 = (ksngInnerRadius * Sin(sngRadians)) + ksngCenterY        ' Work out how many segments away from the \"current segment\" we are.\n        ' The current segment should be the darkest, and the further away from this segment we are, the lighter the colour should be.\n        Select Case Abs(Abs(s_lActiveSegment - lSegment) - klSegmentCount \\ 2)\n        Case 0!\n            cLineColour = RGB(0, 0, 255)\n        Case 1!\n            cLineColour = RGB(63, 63, 255)\n        Case 2!\n            cLineColour = RGB(117, 117, 255)\n        Case Else\n            cLineColour = RGB(181, 181, 255)\n        End Select        Me.Line (sngX1, sngY1)-(sngX2, sngY2), cLineColour    Next lSegment    ' Move the current segment on by one.\n    s_lActiveSegment = (s_lActiveSegment + 1) Mod klSegmentCountEnd Sub\n</code>\n", "acce_score": "791", "simquery1_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery1_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "simquery2_title": "How to uninstall a package installed with pip install --user There is a <code>--user</code> option for pip which can install a Python package per user:<code>pip install --user [python-package-name]</code>I used this option to install a package on a server for which I do not have root access. What I need now is to uninstall the installed package on the current user. I tried to execute this command:<code>pip uninstall --user [python-package-name]</code>But I got:<code>no such option: --user</code>How can I uninstall a package that I installed with <code>pip install --user</code>, other than manually finding and deleting the package?I've found this article pip cannot uninstall from per-user site-packages directorywhich describes that uninstalling packages from user directory does not supported. According to the article if it was implemented correctly then with<code>pip uninstall [package-name]</code>the package that was installed will be also searched in user directories. But a problem still remains for me. What if the same package was installed both system-wide and per-user?What if someone needs to target a specific user directory?", "simquery2_answer": "A bit late...You should have a .tex file with the tikz code of your plot in <code>C:\\Users\\cgmil\\AppData\\Local\\Temp\\Rtmp6FouwP/</code>. Just replace the last two lines <code>\\makeatletter\n\\@@end\n</code>by<code>\\end{document}\n\\end{tikzpicture}\n</code>Then compile the document. New packages will be installed and it should works.\n", "total_len": 987, "s1_total_len": 597, "s2_total_len": 362}
{"post_id": "19747371", "title": "Python exit commands - why so many and when should each be used?", "query": "It seems that python supports many different commands to stop script execution.The choices I've found are:  <code>quit()</code>, <code>exit()</code>, <code>sys.exit()</code>, <code>os._exit()</code> Have I missed any?What's the difference between them? When would you use each?", "acce_answer": "First of all I'm a total newbie in image processing, so please don't be too harsh on me.\nThat being said, I'm developing an application to analyse changes in blood flow in extremities using thermal images obtained by a camera. The user is able to define a region of interest by placing a shape (circle,rectangle,etc.) on the current image. The user should then be able to see how the average temperature changes from frame to frame inside the specified ROI.The problem is that some of the images are not steady, due to (small) movement by the test subject. My question is how can I determine the movement between the frames, so that I can relocate the ROI accordingly?I'm using the Emgu OpenCV .Net wrapper for image processing.\nWhat I've tried so far is calculating the center of gravity using <code>GetMoments()</code> on the biggest contour found and calculating the direction vector between this and the previous center of gravity. The ROI is then translated using this vector but the results are not that promising yet.Is this the right way to do it or am I totally barking up the wrong tree?------Edit------Here are two sample images showing slight movement downwards to the right:http://postimg.org/image/wznf2r27n/Comparison between the contours:http://postimg.org/image/4ldez2di1/As you can see the shape of the contour is pretty much the same, although there are some small differences near the toes.\n", "acce_score": "650", "simquery1_title": "Python exit commands - why so many and when should each be used? It seems that python supports many different commands to stop script execution.The choices I've found are:  <code>quit()</code>, <code>exit()</code>, <code>sys.exit()</code>, <code>os._exit()</code> Have I missed any?What's the difference between them? When would you use each?", "simquery1_answer": "First of all I'm a total newbie in image processing, so please don't be too harsh on me.\nThat being said, I'm developing an application to analyse changes in blood flow in extremities using thermal images obtained by a camera. The user is able to define a region of interest by placing a shape (circle,rectangle,etc.) on the current image. The user should then be able to see how the average temperature changes from frame to frame inside the specified ROI.The problem is that some of the images are not steady, due to (small) movement by the test subject. My question is how can I determine the movement between the frames, so that I can relocate the ROI accordingly?I'm using the Emgu OpenCV .Net wrapper for image processing.\nWhat I've tried so far is calculating the center of gravity using <code>GetMoments()</code> on the biggest contour found and calculating the direction vector between this and the previous center of gravity. The ROI is then translated using this vector but the results are not that promising yet.Is this the right way to do it or am I totally barking up the wrong tree?------Edit------Here are two sample images showing slight movement downwards to the right:http://postimg.org/image/wznf2r27n/Comparison between the contours:http://postimg.org/image/4ldez2di1/As you can see the shape of the contour is pretty much the same, although there are some small differences near the toes.\n", "simquery2_title": "IPython Notebook - early exit from cell I'd like to programmatically exit a cell early in IPython Notebook. <code>exit(0)</code>, however, kills the kernel. Whats the proper way to do this? I'd prefer not to split the cell or manually halt execution. ", "simquery2_answer": "To answer your question you are not specifying a right range. A simple range can be, as you said, specified\nUsing the string format <code>Range(\"A1:B4\")</code> where <code>A1</code> and <code>B4</code> are two opposite corners of the range.\nUsing the two corners as cells, e.g. <code>Range( Cells(1,1), Cells(4,2) )</code> where <code>Cells(1,1)</code> is <code>A1</code> and <code>Cells(4,2)</code> is <code>B4</code>\nSo you can write<code>ActiveCell.AutoFill Destination:=Range(Cells(2, ActiveCell.Column), Cells(lastRow, ActiveCell.Column)), Type:=xlFillDefault\n</code>To reach your goal you could also avoid using the AutoFill. FormulaR1C1 format allow you to write formula with 'relative' cell offsets/address. So after the AutoFill all the cells in the desiderd column will have the same FormulaR1C1.\nThen you can avoid using the AutoFill and manually set the same FormulaR1C1 for the whole column.So you can write a simpler code like that:<code>lastRow = Cells(Rows.Count, \"A\").End(xlUp).Row\nRange(Cells(1, ActiveCell.Column), Cells(lastRow, ActiveCell.Column)).FormulaR1C1 = \"=LEFT(RC[-1],4)\"\n</code>\n", "total_len": 438, "s1_total_len": 436, "s2_total_len": 424}
{"post_id": "19828822", "title": "How to check whether a pandas DataFrame is empty?", "query": "How to check whether a pandas <code>DataFrame</code> is empty? In my case I want to print some message in terminal if the <code>DataFrame</code> is empty. ", "acce_answer": "$.get is asynchronous. The response isn't immediatement available in the jqXHR object.Pass a success callback to <code>$.get</code> :<code>$.get(url, function(data){\n   // use data\n});\n</code>The reason why it seems to work in the console is because you don't instantly open the object which is logged : the server answers before. That's not the case in your normal code : while the request is sent, the following line in your code is immediately executed, without waiting for the answer.\n", "acce_score": "625", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "Pandas isna() and isnull(), what is the difference? Pandas has both <code>isna()</code> and <code>isnull()</code>. I usually use <code>isnull()</code> to detect missing values and have never met the case so that I had to use other than that.So, when to use <code>isna()</code>?", "simquery2_answer": "I think it's ultimately your choice, but I personally prefer only putting functions within class so that whenever i inherit a class all functions can be used in another class (p.s it doesn't really matter)\nlike this\n<code>class SomeComponent extends React.Component {\n    helloWorld(number){\n      return number + 2;\n  }\n}\n</code>\nand\n<code>class AnotherComponent extends SomeComponent {\n    render(){\n      &lt;div onClick ={()=&gt;{\n        helloWorld(10)}}&gt;\n      &lt;/div&gt;\n  }\n}\n</code>\nin another hand you can export function directly if define them outside of class\n<code>export const someFunction = (text) =&gt; {\n    console.log(text)\n}class SomeComponent extends React.Component {\n    constructor(props){\n        super(props)\n        someFunction(&quot;Hello World!&quot;)\n    }}\n</code>\n", "total_len": 179, "s1_total_len": 337, "s2_total_len": 316}
{"post_id": "19913659", "title": "Pandas conditional creation of a series/dataframe column", "query": "How do I add a <code>color</code> column to the following dataframe so that <code>color='green'</code> if <code>Set\u00a0==\u00a0'Z'</code>, and <code>color='red'</code> otherwise?<code>    Type       Set1    A          Z2    B          Z           3    B          X4    C          Y</code>", "acce_answer": "I'm trying to read a format descriptor from one of my AVAssetTrack's with the following code:<code>var audioTrack:AVAssetTrack = self.asset!.tracksWithMediaType(AVMediaTypeAudio)[0] as AVAssetTrack\nvar formatDescription:CMFormatDescriptionRef = audioTrack.formatDescriptions[0] as CMFormatDescriptionRef\n</code>The problem is the downcast \"as CMFormatDescriptionRef\". I can declare a variable with type CMFormatDescriptionRef just fine but with the downcast I'm getting a linker error despite having added the CoreMedia framework and an \"import CoreMedia\" in my swift file. This is the linker error I get:<code>Undefined symbols for architecture armv7:\n  \"_OBJC_CLASS_$_CMFormatDescription\", referenced from:\n</code>Any help would be appreciated.\n", "acce_score": "481", "simquery1_title": "Is there a way in Pandas to use previous row value in dataframe.apply when previous value is also calculated in the apply? I have the following dataframe:<code>Index_Date    A   B     C    D================================2015-01-31    10   10   Nan   102015-02-01     2    3   Nan   22 2015-02-02    10   60   Nan  2802015-02-03    10  100   Nan  250</code>Require:<code>Index_Date    A   B    C     D================================2015-01-31    10   10    10   102015-02-01     2    3    23   222015-02-02    10   60   290  2802015-02-03    10  100  3000  250</code><code>Column C</code> is derived for <code>2015-01-31</code> by taking <code>value</code> of <code>D</code>.Then I need to use the <code>value</code> of <code>C</code> for <code>2015-01-31</code> and multiply by the <code>value</code> of <code>A</code> on <code>2015-02-01</code> and add <code>B</code>.I have attempted an <code>apply</code> and a <code>shift</code> using an <code>if else</code> by this gives a key error.", "simquery1_answer": "First of all, I would like to say sorry for that long question / problem description. On other hand, many of you like to know what is the discussed problem exactly related to ;) You can skip to last paragraph where the question is ;)I am currently working on RMI (remote method invocation) for web workers / main ui thread for my framework (https://ajsfw.azurewebsites.net / https://github.com/atomsoftwarestudios). I need it to be possible to optimize performance of the main-ui thread (I wanted to avoid it in the beginning, but currently, its possible to notice \"lagging\" of animations when there are content-preparation tasks like model data processing,  view component state updates, virtual dom updates or others running in the background).It includes ES6 class / ES5 \"TypeScript class\" \"parsing\" from the main-ui thread using toString() method including the class prototype tree. Once this is done and the code is grabbed and reconstructed the \"source code\" it passed over message channel (I call it RIB - remote invocation bus - as I have developed some network-like infrastructure to be possible to identify endpoints and invoke methods of deployed classes from whatever another endpoint) to another side. All this processes includes caching and reusing already parsed / reconstructed / instanced code so basically some optimizations of the RIB bandwidth and CPU resources usage.Once the class is delivered to the worker and it is requested to be used from another worker or main-ui-thread it is instanced inside worker and the \"proxy\" class with same methods (but internally using the RMI infrastructure to call method on the opposite side and \"await\" the return value or exception) is instanced (or reused) on opposite side. There are two instancing strategies, so the class can be instanced or existing instance can be reused - that because I have adopted configurable .Net Core DI container with its 3 service scoping strategies) and i'll integrate it with all this machinery once this will be fully finished. Just to finish it - if the dependent class (object, service) is using the class in the same worker or the main-ui thread, the proxy is not used but rather direct reference is injected so the RMI is avoided). Of course, there will be a few limitations, but I don't want to discuss the full functionality here.What I would like to discuss is related to parsing names and avoiding name collisions during reconstruction on the worker side while keeping the \"user code\" as clean as possible without need to push developers to add additional metadata to the code and ideally completely avoid string metadata to don't block anything imaginable (such as code minification - please don't say minifiers don't mangle class names under some circumstances ;), I hope still for full code minification so even this would be possible).So basically, there are 3 types of information it is possible to get from the class definition. 2 of them can be parsed from its .toString() method (as .name is not 100% working on all platforms I am targeting).  Its a Non-FQDN runtime class name and some times FQDN, sometimes Non-FQDN of the class it extends (based on where the class is defined -> in case of TypeScript namespace and non-exported classes they are defined in anonymous closure so no way how to obtain the FQDN at all - sure, I can parse the source code, assign unique id to each anonymous closure ... uf, stop right now ;) ). Third information I can grab is the \"unique class instance reference\", basically the object representing the constructor function at runtime (of course, including its prototype chain) so it is possible to identify classes easily, reconstruct code, cache, parse, pass over, cache, reconstuct, instance... uf ;)Only the one problem are class name collisions. That's because I want to keep same class names on other side (because of debugging, because of possibility of using instanceof, without need of any additional modification of the parsed code, whatever, take it as it is ;).Question comes now:So just to summarize. As mentioned, it is not possible to avoid class name collisions in particular thread (worker) while reconstructing them from main ui thread because it is not possible to collect the scope information in the main thread and reconstruct it on worker side. Actually, it is by parsing the source code file, but it would be too complex and rather it would be better to split code to modules and load them separately using XHR to workers, what I would like to avoid - it does not fit my framework concept at all, and this is what I want not to discuss here, because I have chosen this way, maybe it not correct, maybe its not how others are doing it, but I have chosen it ;) By the way, I am doing many things differently, especially tempting and hopefully you'll like it once I'll found a time to describe it to the documentation.I would like to ask how you would solve a problem with class name collisions when creating them dynamically inside the web worker (using eval or new Function, does not matter) while keeping the same class names as in the main UI thread. I came with two solutions, one is more complex, second simpler, the problem is sill deep as classes should see another ones because they would require to extend them.a) I would create a namespace (object) for each class and the I'll create a class inside. This would require to change \"extends\" statement, but it will probably require it anywayb) I would create single namespace (object) where I'll put all classes and if the name collision will be detected I'll create a new namespace for the colliding class. Then I'll manage this in some way  with more code than in previous casec) Is there any better way how to do it? With described requirements in mind i thinkThanks for reading and sorry for that long article / questionEDIT:So, as it is impossible to find \"service\" internals when I want to avoid code parsing, in the end I'll probably go for the following solution (just example, in real it will look bit different):<code>// this will not never work as A is not exported so not possible to \"decompile\" and transfer to worker. So the condition will be that everything developer will need to use inside worker must be exported from the namespace (better said, accessible)namespace NsA {   class A {\n   }   export class B extends A {\n   }}// this will work as its possible to grab all \"static\" dependencies:namespace NsB {   export const SOMETHING: string = \"something\";   export class A {\n      constructor() {\n         console.log(SOMETHING);\n      }\n   }   export class B extends A {\n   }}// this will also work in case the previous namespace will be injected\n// because A extends B from NsB.B. Notice, the NsC is children namespace\n// of NsA\nnamespace NsB.NsC {   export class A extends NsB.B {\n   }}\n</code>so if previous conditions will be met it will be possible to inject static dependencies to worker (worker is just instance of internal class which will communicate over RIB with worker and inject the code there - please note that there is running some \"mini-OS\" ;) in the worker already:<code>// namespace is basically the object holding everything\n// parent namespaces is the complete namespace location like A, A.B, A.B.C\n// this is necessary as it is required the correct run-time name of the\n// namespace has to be determined and namespace tree reconstructed// inject everything from namespace NsB. Parent is Window or DedicatedWorkerGlobalScope object respectively. This is necessary because in the following statement the NsB content will not be truly injected. In next step, the NS will be just created (if not exist previously) but it will be empty.\nworker.injectNamespace(NsB);// inject everything from NsC while keeping the namespace tree \nworker.injectNamespace(NsB, NsB.NsC);\n</code>in this case, I'll be able to locate the namespace in the parent namespace object and grab it's name while keeping the namespace tree topology same as developer defined. After this, all static dependencies will be injected and it will be possible to instance any class with no doubt inside the worker. Also, class name collsions will be avoided.Of course, I need to keep it maintanable and well understandable to developers so I need to think about the final design.\n", "simquery2_title": "Creating a new column based on if-elif-else condition I have a DataFrame <code>df</code>:<code>    A    Ba   2    2 b   3    1c   1    3</code>I want to create a new column based on the following criteria:if row <code>A == B: 0</code>if row<code>A &gt; B: 1</code>if row <code>A &lt; B: -1</code> so given the above table, it should be:<code>    A    B    Ca   2    2    0b   3    1    1c   1    3   -1 </code>For typical <code>if else</code> cases I do <code>np.where(df.A &gt; df.B, 1, -1)</code>, does pandas provide a special syntax for solving my problem with one step (without the necessity of creating 3 new columns and then combining the result)?  ", "simquery2_answer": "I'm trying to write a program which accepts a word in lowercase, converts it into uppercase and changes the vowels in the word to the next alphabet. So far, I've done this:<code>import java.util.*;\nclass prg11\n{\n    public static void main(String args[])\n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Enter a word in lowercase.\");\n        String word = sc.next();\n        word = word.toUpperCase();\n        int length = word.length();\n        char ch[] = new char[length+1];\n        for (int i = 0; i&lt;=length; i++)\n        {\n            ch[i] = word.charAt(i);\n            if(\"aeiou\".indexOf(ch[i]) == 0)\n            {\n                ch[i]+=1;\n            }\n        }\n        String str = new String(ch);\n        System.out.println(str);\n    }\n}\n</code>The code compiles fine. But, when I run the program and enter a word, say 'hey', the word is printed in uppercase only. The vowels in it (in this case, 'e'), do not get changed to the next alphabet. \nHow do I resolve this? TIA.\n", "total_len": 298, "s1_total_len": 2292, "s2_total_len": 532}
{"post_id": "19960077", "title": "How to filter Pandas dataframe using 'in' and 'not in' like in SQL", "query": "How can I achieve the equivalents of SQL's <code>IN</code> and <code>NOT IN</code>?I have a list with the required values. Here's the scenario:<code>df = pd.DataFrame({'country': ['US', 'UK', 'Germany', 'China']})countries_to_keep = ['UK', 'China']# pseudo-code:df[df['country'] not in countries_to_keep]</code>My current way of doing this is as follows:<code>df = pd.DataFrame({'country': ['US', 'UK', 'Germany', 'China']})df2 = pd.DataFrame({'country': ['UK', 'China'], 'matched': True})# INdf.merge(df2, how='inner', on='country')# NOT INnot_in = df.merge(df2, how='left', on='country')not_in = not_in[pd.isnull(not_in['matched'])]</code>But this seems like a horrible kludge. Can anyone improve on it?", "acce_answer": "The log4j.properties file should be in the same folder as your .class files. Right now it doesn't appear to be getting loaded. You have properly set the logging level in the first line:<code>log4j.rootLogger=ERROR, stdout\n</code>This should set the root logger in log4j to use the <code>ERROR</code> logging level, meaning it will only display logging messages of severity <code>ERROR</code> or higher. Also, If you only want to affect PDFBox, and you know the library's package, then you can selectively set the logging level of a package by adding something like this in your properties file:<code>log4j.logger.com.thepackage.of.pdfbox=ERROR\n</code>\n", "acce_score": "808", "simquery1_title": "Django ORM - objects.filter() vs. objects.all().filter() - which one is preferred? Very often I see constructs like <code>MyModel.objects.all().filter(...)</code>which will return a QuerySet of the default Mananger. At first <code>all()</code> seems to be quite redundant, because<code>MyMode.objects.filter(...)</code>delivers the same result.However, this seems to be safe for the default Manager only, because of the following two statements in the Django documentation:Excerpt from the Chapter \"Adding extra manager methods\"  A custom Manager method can return anything you want. It doesn\u2019t have  to return a QuerySet.Definition of the <code>all()</code> manager method:  all()   Returns a copy of the current QuerySet (or QuerySet subclass).  This can be useful in situations where you might want to pass in  either a model manager or a QuerySet and do further filtering on the  result. After calling all() on either object, you\u2019ll definitely have a  QuerySet to work with.This seems a bit like a contradiction to me. On one hand Django offers the freedom to let a manager method return whatever object type is preferred and on the other hand it requires a QuerySet for the <code>all()</code> method. I'm aware that each manager has a <code>get_queryset</code> method which is called by <code>all()</code>. But who stops me from overriding <code>all()</code> in my custom manager? Although I agree it would be bad design to do so.So as far as I can see, the <code>all()</code> method does not guarantee to return a QuerySet. What exactly does <code>MyModel.objects</code> return? Does this statement call <code>all()</code>? or `get_queryset()?Do you prefer <code>MyModel.objects.filter(...)</code> or <code>MyModel.objects.all().filter(...)</code>. And if so, why?Have you ever encountered wonky managers that would mess with those methods in a undesirable way?", "simquery1_answer": "I have the following code in PHP,<code>&lt;?php\nob_start();\n$valid_passwords = array (\"matrixUlt\" =&gt; \"$ecurEh1FIVE\");\n$valid_users = array_keys($valid_passwords);\n$user = $pass = null;\nif(isset($_SERVER['PHP_AUTH_USER']) &amp;&amp; isset($_SERVER['PHP_AUTH_PW']))\n{\n    $user = $_SERVER['PHP_AUTH_USER'];\n    $pass = $_SERVER['PHP_AUTH_PW'];\n}\n$validated = (in_array($user, $valid_users)) &amp;&amp; ($pass == $valid_passwords[$user]);\nif(!$validated)\n{\nheader('WWW-Authenticate: Basic realm=\"You need to be authenticated to access the resource!\"');\nheader('HTTP/1.0 401 Unauthorized');\nexit(\"Not authorized\");\necho ob_get_clean();\n}\n</code>This works correctly in localhost when this [(\"matrixUlt\" => \"$ecurEh1FIVE\"] username:password is given. But keeps showing auth dialog in LIVE server / production enviroment. Any ideas why this is not working?\n", "simquery2_title": "python filter list of dictionaries based on key value I have a list of dictionaries and each dictionary has a key of (let's say) 'type' which can have values of <code>'type1'</code>, <code>'type2'</code>, etc. My goal is to filter out these dictionaries into a list of the same dictionaries but only the ones of a certain \"type\". I think i'm just really struggling with <code>list/dictionary</code> comprehensions. so an example list would look like:<code>exampleSet = [{'type':'type1'},{'type':'type2'},{'type':'type2'}, {'type':'type3'}]</code>i have a list of key values. lets say for example: <code>keyValList = ['type2','type3']</code>where the expected resulting list would look like: <code>expectedResult = [{'type':'type2'},{'type':'type2'},{'type':'type3'}]</code>I know i could do this with a set of for loops. I know there has to be a simpler way though. i found a lot of different flavors of this question but none that really fit the bill and answered the question. I would post an attempt at the answer... but they weren't that impressive. probably best to leave it open ended. any assistance would be greatly appreciated. ", "simquery2_answer": "You're looking for the <code>irate()</code> and <code>rate()</code> functions. Using <code>irate(my_metric[5m])</code> will calculate the per-second value for you.\n", "total_len": 442, "s1_total_len": 773, "s2_total_len": 357}
{"post_id": "20180543", "title": "How do I check the versions of Python modules?", "query": "I installed the Python modules <code>construct</code> and <code>statlib</code> using <code>setuptools</code>:<code>sudo apt-get install python-setuptoolssudo easy_install statlibsudo easy_install construct</code>How do I check their versions from the command line?", "acce_answer": "I had a table in a form with multiple rows.On click of submit, I made an jquery ajax call (data: <code>$('#uiWishList').serialize()</code>) to insertDB.php which has a query to insert into DB. For now the hardcoded query looks like: <code>$wpdb-&gt;query(\"INSERT INTO ui_development_tools_wishlist\n            (ShortName,  Category, Purpose, Necessity)\n            VALUES\n            ('$amount', 'val1', 'erwd', 'user1'),\n            ('name2', 'val2', 'erwd', 'user2'),\n            ('name3', 'val3', 'erwd', 'user3')\"); \n</code>\nHow can I modify the query such that it inserts dynamic values received from the AJAX.\nHow to get success/failure message after inserting into DB. ", "acce_score": "1008", "simquery1_title": "Bypass confirmation prompt for pip uninstall I'm trying to uninstall all django packages in my superuser environment to ensure that all my webapp dependencies are installed to my virtualenv.<code>sudo susudo pip freeze | grep -E '^django-' | xargs pip -q uninstall</code>But pip wants to confirm every package uninstall, and there doesn't seem to be a <code>-y</code> option for pip. Is there a better way to uninstall a batch of python modules? Is <code>rm -rf .../site-packages/</code> a proper way to go? Is there an easy_install alternative?Alternatively, would it be better to force pip to install all dependencies to the virtualenv rather than relying on the system python modules to meet those dependencies, e.g. <code>pip --upgrade install</code>, but forcing even equally old versions to be installed to override any system modules. I tried activating my virtualenv and then <code>pip install --upgrade -r requirements.txt</code> and that does seem to install the dependencies, even those existing in my system path, but I can't be sure if that's because my system modules were old. And <code>man pip</code> doesn't seem to guarantee this behavior (i.e. installing the same version of a package that already exists in the system site-packages).", "simquery1_answer": "I think spinner have no hintBut i have small solutionyour code is<code>users.add(json.getString(Config.TAG_NAME));//this will add name to user array list\n</code>before add user names to arraylist, put below codeie.add your hint to your array<code>users.add(\"your hint\");\neg:users.add(\"select name\");\n</code>i think it will help you\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 287, "s1_total_len": 399, "s2_total_len": 597}
{"post_id": "20199126", "title": "Reading JSON from a file", "query": "A simple looking, easy statement is throwing some errors in my face.I have a JSON file called strings.json like this:<code>&quot;strings&quot;: [{&quot;-name&quot;: &quot;city&quot;, &quot;#text&quot;: &quot;City&quot;}, {&quot;-name&quot;: &quot;phone&quot;, &quot;#text&quot;: &quot;Phone&quot;}, ...,            {&quot;-name&quot;: &quot;address&quot;, &quot;#text&quot;: &quot;Address&quot;}]</code>I want to read the JSON file, just that for now. I have these statements which I found out, but it's not working:<code>import jsonfrom pprint import pprintwith open('strings.json') as json_data:    d = json.loads(json_data)    json_data.close()    pprint(d)</code>The error displayed on the console was this:<code>Traceback (most recent call last):  File &quot;/home/.../android/values/manipulate_json.py&quot;, line 5, in &lt;module&gt;    d = json.loads(json_data)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 326, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 366, in decode    obj, end = self.raw_decode(s, idx=_w(s, 0).end())TypeError: expected string or buffer[Finished in 0.1s with exit code 1]</code>If I use <code>json.load</code> instead of <code>json.loads</code>, I get this error:<code>Traceback (most recent call last):  File &quot;/home/.../android/values/manipulate_json.py&quot;, line 5, in &lt;module&gt;    d = json.load(json_data)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 278, in load    **kw)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 326, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 369, in decode    raise ValueError(errmsg(&quot;Extra data&quot;, s, end, len(s)))ValueError: Extra data: line 829 column 1 - line 829 column 2 (char 18476 - 18477)[Finished in 0.1s with exit code 1]</code>", "acce_answer": "This is what worked:<code>// get folder app is installed to\nvar installFolder = Windows.ApplicationModel.Package.Current.InstalledLocation;// get folders mp3 files are installed to.\nvar resourcesFolder = await installFolder.GetFolderAsync(\"Resources\");\nvar mp3FilesFolder = await resourcesFolder.GetFolderAsync(\"mp3Files\");// open the mp3 file async\nvar audioFile = await mp3FilesFolder.GetFileAsync(\"sound.mp3\");\nvar stream = await audioFile.OpenAsync(Windows.Storage.FileAccessMode.Read);// play dat funky music\nMediaElement mediaplayer = new MediaElement();\nmediaplayer.SetSource(stream, audioFile.ContentType);\nmediaplayer.Play();\n</code>\n", "acce_score": "489", "simquery1_title": "Reading JSON from a file A simple looking, easy statement is throwing some errors in my face.I have a JSON file called strings.json like this:<code>&quot;strings&quot;: [{&quot;-name&quot;: &quot;city&quot;, &quot;#text&quot;: &quot;City&quot;}, {&quot;-name&quot;: &quot;phone&quot;, &quot;#text&quot;: &quot;Phone&quot;}, ...,            {&quot;-name&quot;: &quot;address&quot;, &quot;#text&quot;: &quot;Address&quot;}]</code>I want to read the JSON file, just that for now. I have these statements which I found out, but it's not working:<code>import jsonfrom pprint import pprintwith open('strings.json') as json_data:    d = json.loads(json_data)    json_data.close()    pprint(d)</code>The error displayed on the console was this:<code>Traceback (most recent call last):  File &quot;/home/.../android/values/manipulate_json.py&quot;, line 5, in &lt;module&gt;    d = json.loads(json_data)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 326, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 366, in decode    obj, end = self.raw_decode(s, idx=_w(s, 0).end())TypeError: expected string or buffer[Finished in 0.1s with exit code 1]</code>If I use <code>json.load</code> instead of <code>json.loads</code>, I get this error:<code>Traceback (most recent call last):  File &quot;/home/.../android/values/manipulate_json.py&quot;, line 5, in &lt;module&gt;    d = json.load(json_data)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 278, in load    **kw)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 326, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 369, in decode    raise ValueError(errmsg(&quot;Extra data&quot;, s, end, len(s)))ValueError: Extra data: line 829 column 1 - line 829 column 2 (char 18476 - 18477)[Finished in 0.1s with exit code 1]</code>", "simquery1_answer": "This is what worked:<code>// get folder app is installed to\nvar installFolder = Windows.ApplicationModel.Package.Current.InstalledLocation;// get folders mp3 files are installed to.\nvar resourcesFolder = await installFolder.GetFolderAsync(\"Resources\");\nvar mp3FilesFolder = await resourcesFolder.GetFolderAsync(\"mp3Files\");// open the mp3 file async\nvar audioFile = await mp3FilesFolder.GetFileAsync(\"sound.mp3\");\nvar stream = await audioFile.OpenAsync(Windows.Storage.FileAccessMode.Read);// play dat funky music\nMediaElement mediaplayer = new MediaElement();\nmediaplayer.SetSource(stream, audioFile.ContentType);\nmediaplayer.Play();\n</code>\n", "simquery2_title": "How can I parse (read) and use JSON in Python? My Python program receives JSON data, and I need to get bits of information out of it. How can I parse the data and use the result? I think I need to use <code>json.loads</code> for this task, but I can't understand how to do it.For example, suppose that I have <code>jsonStr = '{&quot;one&quot; : &quot;1&quot;, &quot;two&quot; : &quot;2&quot;, &quot;three&quot; : &quot;3&quot;}'</code>. Given this JSON, and an input of <code>&quot;two&quot;</code>, how can I get the corresponding data, <code>&quot;2&quot;</code>?Beware that <code>.load</code> is for files; <code>.loads</code> is for strings. See also: Reading JSON from a file.Occasionally, a JSON document is intended to represent tabular data. If you have something like this and are trying to use it with Pandas, see Python - How to convert JSON File to Dataframe.Some data superficially looks like JSON, but is not JSON.For example, sometimes the data comes from applying <code>repr</code> to native Python data structures. The result may use quotes differently, use title-cased <code>True</code> and <code>False</code> rather than JSON-mandated <code>true</code> and <code>false</code>, etc. For such data, see Convert a String representation of a Dictionary to a dictionary or How to convert string representation of list to a list.Another common variant format puts separate valid JSON-formatted data on each line of the input. (Proper JSON cannot be parsed line by line, because it uses balanced brackets that can be many lines apart.) This format is called JSONL. See Loading JSONL file as JSON objects.Sometimes JSON data from a web source is padded with some extra text. In some contexts, this works around security restrictions in browsers. This is called JSONP and is described at What is JSONP, and why was it created?. In other contexts, the extra text implements a security measure, as described at Why does Google prepend while(1); to their JSON responses?. Either way, handling this in Python is straightforward: simply identify and remove the extra text, and proceed as before. ", "simquery2_answer": "He guys I have the following the tables for ORACLE 10g and the problem is i am trying to enforce entity integrity on ALL tables. I have completed the first 4 but the last one is throwing an error. I have used the following code to alter the tables:<code>ALTER TABLE name ADD CONSTRAINT name PRIMARY KEY (name);Actor (actorID, lastName, firstName, middleName, suffix, gender, birthDate, deathDate)\nMovie (movieID, title, year, company, totalNoms, awardsWon, DVDPrice, discountPrice)\nQuote (quoteID, quote)\nRole (roleID ,roleName ,gender ,actorID* ,movieID*) \nRoleQuote (roleID*, quoteID*)\n</code>for the last table (RoleQuote) i have tried <code>ALTER TABLE name ADD CONSTRAINT name, name PRIMARY KEY (name, name);\n</code>but it is throwing this error:<code>invalid identifier\n</code>Can anyone help me thanks the tables have been created without error and they work flawless but the constraint on the last table (RoleQuote)is not working.\n", "total_len": 883, "s1_total_len": 881, "s2_total_len": 800}
{"post_id": "20457038", "title": "How to round to 2 decimals with Python?", "query": "I am getting a lot of decimals in the output of this code (Fahrenheit to Celsius converter).My code currently looks like this:<code>def main():    printC(formeln(typeHere()))def typeHere():    global Fahrenheit    try:        Fahrenheit = int(raw_input(\"Hi! Enter Fahrenheit value, and get it in Celsius!\\n\"))    except ValueError:        print \"\\nYour insertion was not a digit!\"        print \"We've put your Fahrenheit value to 50!\"        Fahrenheit = 50    return Fahrenheitdef formeln(c):    Celsius = (Fahrenheit - 32.00) * 5.00/9.00    return Celsiusdef printC(answer):    answer = str(answer)    print \"\\nYour Celsius value is \" + answer + \" C.\\n\"main()</code>So my question is, how do I make the program round every answer to the 2nd decimal place?", "acce_answer": "Variadic arguments can be used as slices, so no need to allocate a new one:<code>func Debug(a ...interface{}) {\n    if debug {\n            a = append(a, 0)\n            copy(a[1:], a[0:])\n            a[0] = prefix + sep\n            fmt.Fprintln(out, a...)\n    }\n}\n</code>See http://play.golang.org/p/xXEO58BJoA for a working example\n", "acce_score": "602", "simquery1_title": "Python 3 Float Decimal Points/Precision I am reading a text file with floating point numbers, all with either 1 or 2 decimal points. I am using <code>float()</code> to convert a line into a float, and raising a <code>ValueError</code> if that fails. I am storing all floats in a list. When printing it out, I'd like to print it out as a 2 decimal places floating point.Assume I have a text file with the numbers <code>-3.65, 9.17, 1</code>. I read each one, and once I convert them to float and append them to a list. Now in Python 2, calling <code>float(-3.65)</code> returns <code>-3.65</code>. In Python 3 however, <code>float(-3.65)</code> returns <code>-3.6499999999999999</code> which loses its precision.I want to print the list of floats, <code>[-3.6499999999999999, 9.1699999999999999, 1.0]</code> with 2 decimal points only. Doing something along the lines of <code>'%.1f' % round(n, 1)</code> would return a string. How can I return a list of all two decimal points of floats, and not strings? So far, I rounded it using <code>[round(num, 2) for num in list]</code> but would need to set the decimal points / precision instead of <code>round()</code>.", "simquery1_answer": "Quote OP:<code>&lt;input data-validators=\"required\" ...\n</code>\n  \"As you can see, I use a custom attribute named <code>data-validators</code>. How\n  can I use the jQuery Validation plugin for this case?\"\nYou can't.  The plugin was not written to recognize that attribute.See:  http://jsfiddle.net/y5xUF/However, you can define validation rules as per the following methods:1)  Declared within <code>.validate()</code><code>$(document).ready(function() {    $('#myform').validate({\n        rules: {\n            fieldName: {\n                required: true\n            }\n        }\n    });});\n</code>http://jsfiddle.net/uTt2X/2/NOTE:   If your field <code>name</code> contains special characters such as brackets or dots, you must enclose the <code>name</code> in quotes...<code>$(document).ready(function() {    $('#myform').validate({\n        rules: {\n            \"field.Name[234]\": {\n                required: true\n            }\n        }\n    });});\n</code>2)  Declared by <code>class</code>:<code>&lt;input name=\"fieldName\" class=\"required\" /&gt;\n</code>http://jsfiddle.net/uTt2X/1/3)  Declared by HTML5 validation attributes:<code>&lt;input name=\"fieldName\" required=\"required\" /&gt;\n</code>http://jsfiddle.net/uTt2X/4)  Declared using the <code>.rules()</code> method:<code>$('input[name=\"fieldName\"]').rules('add', {\n    required: true\n});\n</code>http://jsfiddle.net/uTt2X/3/5)  By assigning one or more rules to your own <code>class</code> using the <code>.addClassRules()</code> method:<code>$.validator.addClassRules(\"myClass\", {\n    required: true \n});\n</code>Then apply to your HTML:<code>&lt;input name=\"fieldName\" class=\"myClass\" /&gt;\n</code>http://jsfiddle.net/uTt2X/4/6)  Declared by field type:<code>&lt;input name=\"fieldName\" type=\"email\" /&gt;\n</code>http://jsfiddle.net/gv0o6syt/\n", "simquery2_title": "Python progression path - From apprentice to guru I've been learning, working, and playing with Python for a year and a half now. As a biologist slowly making the turn to bio-informatics, this language has been at the very core of all the major contributions I have made in the lab. I more or less fell in love with the way Python permits me to express beautiful solutions and also with the semantics of the language that allows such a natural flow from thoughts to workable code.What I would like to know is your answer to a kind of question I have seldom seen in this or other forums. This question seems central to me for anyone on the path to Python improvement but who wonders what his next steps should be.Let me sum up what I do NOT want to ask first ;)I don't want to know how to QUICKLY learn PythonNor do I want to find out the best way to get acquainted with the languageFinally, I don't want to know a 'one trick that does it all' approach.What I do want to know your opinion about, is:What are the steps YOU would recommend to a Python journeyman, from apprenticeship to guru status (feel free to stop wherever your expertise dictates it), in order that one IMPROVES CONSTANTLY, becoming a better and better Python coder, one step at a time. Some of the people on SO almost seem worthy of worship for their Python prowess, please enlighten us :)The kind of answers I would enjoy (but feel free to surprise the readership :P ), is formatted more or less like this:Read this (eg: python tutorial), pay attention to that kind of detailsCode for so manytime/problems/lines of codeThen, read this (eg: this or that book), but this time, pay attention to thisTackle a few real-life problemsThen, proceed to reading Y.Be sure to grasp these conceptsCode for X timeCome back to such and such basics or move further to...(you get the point :)I really care about knowing your opinion on what exactly one should pay attention to, at various stages, in order to progress CONSTANTLY (with due efforts, of course). If you come from a specific field of expertise, discuss the path you see as appropriate in this field.EDIT: Thanks to your great input, I'm back on the Python improvement track! I really appreciate!", "simquery2_answer": "EDIT:Based on your updated code, you should be using <code>.prev()</code> instead of <code>.siblings()</code>.<code>$(\".input-field\").focus(function() {\n    $(this).addClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").show();\n    return false;\n});\n$(\".input-field\").blur(function() {\n    $(this).removeClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").hide();\n    return false;\n});\n</code>\nhttp://api.jquery.com/prev/\nhttp://api.jquery.com/siblings/\nOriginal answer:Your code works fine: http://jsfiddle.net/D9qnk/My guess is that your are initially hiding the <code>.label-info</code> using <code>visibility: hidden;</code> instead of <code>display:none;</code>If that's the case, switch your css to use <code>display:none</code> instead.<code>.label-info {\n    display: none;\n}\u200b\n</code>Or if you want to use the <code>visibility</code> property, then change its value using <code>.css()</code>:<code>$(this).siblings(\".label-info\").css('visibility','visible');...$(this).siblings(\".label-info\").css('visibility','hidden');\n</code>\n", "total_len": 370, "s1_total_len": 985, "s2_total_len": 860}
{"post_id": "20461165", "title": "How to convert index of a pandas dataframe into a column", "query": "How to convert an index of a dataframe into a column?For example:<code>        gi       ptt_loc 0  384444683      593   1  384444684      594  2  384444686      596  </code>to<code>    index1    gi       ptt_loc 0  0     384444683      593   1  1     384444684      594  2  2     384444686      596  </code>", "acce_answer": "compiler : mingw4.8.2\nos : win7 32bits<code>#define BOOST_THREAD_PROVIDES_FUTURE\n#define BOOST_THREAD_PROVIDES_FUTURE_CONTINUATION#include &lt;boost/lexical_cast.hpp&gt;\n#include &lt;boost/thread.hpp&gt;\n#include &lt;boost/thread/future.hpp&gt;#include &lt;iostream&gt;\n#include &lt;string&gt;int main()\n{    std::cout&lt;&lt;\"main thread id : \"&lt;&lt;boost::this_thread::get_id()&lt;&lt;std::endl;\n    boost::future&lt;int&gt; f1 = boost::async(boost::launch::async, []()\n    {\n        std::cout&lt;&lt;\"async thread id : \"&lt;&lt;boost::this_thread::get_id()&lt;&lt;std::endl;\n        return 123;\n    });\n    boost::future&lt;std::string&gt; f2 = f1.then(boost::launch::deferred, [](boost::future&lt;int&gt; f)\n    {\n            std::cout&lt;&lt;\"then id : \"&lt;&lt;boost::this_thread::get_id()&lt;&lt;std::endl;\n            return boost::lexical_cast&lt;std::string&gt;(f.get());\n    });    f2.wait();\n}\n</code>result :<code>main thread id : 3758\nasync thread id : 33b4\nthen id : 3824\n</code>How could I make the lambda expression pass in to \"then\" run in the main thread?Anyway to ask it run in the main thread? If there are no easy way to do it by boost, is it possible to to do asynchronous wait with the help of Qt(when future is ready, emit the signal and run the function in the main thread)?edit : The purpose of f1.thenboost::async may run some heavy task, it would most likely block the gui if I don't let this task run on another thread.After the task done, I want to tell the gui and execute some actions related to gui, that is why I use f1.then, because in this way I don't need to block the function.edit : looks like deferred can work<code>//cout has not thread safe guarantee, but adding mutex at here will cause dead lock...\nstd::cout&lt;&lt;\"main thread id : \"&lt;&lt;boost::this_thread::get_id()&lt;&lt;std::endl;\nauto f1 = boost::async(boost::launch::async, [&amp;]()\n{\n    boost::this_thread::sleep(boost::posix_time::seconds( 5 ));\n    std::cout&lt;&lt;\"async thread id : \"&lt;&lt;boost::this_thread::get_id()&lt;&lt;std::endl;\n    return 123;\n});\nauto f2 = f1.then(boost::launch::deferred, [&amp;](decltype(f1) f)\n{\n        std::cout&lt;&lt;\"then result : \"&lt;&lt;f.get()&lt;&lt;std::endl;\n        std::cout&lt;&lt;\"then id : \"&lt;&lt;boost::this_thread::get_id()&lt;&lt;std::endl;\n        return std::string(\"result get\");\n});\nfor(size_t i = 0; i != 50; ++i){\n    std::cout&lt;&lt;i&lt;&lt;std::endl;\n}f2.wait();\n</code>\n", "acce_score": "796", "simquery1_title": "python pandas replacing strings in dataframe with numbers Is there any way to use the mapping function or something better to replace values in an entire dataframe?I only know how to perform the mapping on series.I would like to replace the strings in the 'tesst' and 'set' column with a numberfor example set = 1, test =2Here is a example of my dataset: (Original dataset is very large)<code>ds_r  respondent  brand engine  country  aware  aware_2  aware_3  age tesst   set0          a  volvo      p      swe      1        0        1   23   set   set1          b  volvo   None      swe      0        0        1   45   set   set2          c    bmw      p       us      0        0        1   56  test  test3          d    bmw      p       us      0        1        1   43  test  test4          e    bmw      d  germany      1        0        1   34   set   set5          f   audi      d  germany      1        0        1   59   set   set6          g  volvo      d      swe      1        0        0   65  test   set7          h   audi      d      swe      1        0        0   78  test   set8          i  volvo      d       us      1        1        1   32   set   set</code>Final result should be<code> ds_r  respondent  brand engine  country  aware  aware_2  aware_3  age  tesst  set0          a  volvo      p      swe      1        0        1   23      1    11          b  volvo   None      swe      0        0        1   45      1    12          c    bmw      p       us      0        0        1   56      2    23          d    bmw      p       us      0        1        1   43      2    24          e    bmw      d  germany      1        0        1   34      1    15          f   audi      d  germany      1        0        1   59      1    16          g  volvo      d      swe      1        0        0   65      2    17          h   audi      d      swe      1        0        0   78      2    18          i  volvo      d       us      1        1        1   32      1    1</code>", "simquery1_answer": "On the assumption that you're going to call <code>get</code> at least once, the first option would be preferable.The second option has the disadvantage that you may need to split many times, which can take quite a performance toll if you're calling <code>get</code> a lot.The third option has the disadvantage that you'll likely need to have either 2 variables (a string and an array), only one of which will be used at a time, or have the type be an <code>Object</code>, which would then be either a string or an array. Neither of these options are particularly good design.If you're often not calling <code>get</code> at least once, or if you need access to the original string, the third option might make sense (at least from a performance point of view, the first option is still a better design), but I'd be fairly concerned about your design if this is the case.\n", "simquery2_title": "How to flatten a hierarchical index in columns I have a data frame with a hierarchical index in axis 1 (columns) (from a <code>groupby.agg</code> operation):<code>     USAF   WBAN  year  month  day  s_PC  s_CL  s_CD  s_CNT  tempf                                            sum   sum   sum    sum   amax   amin0  702730  26451  1993      1    1     1     0    12     13  30.92  24.981  702730  26451  1993      1    2     0     0    13     13  32.00  24.982  702730  26451  1993      1    3     1    10     2     13  23.00   6.983  702730  26451  1993      1    4     1     0    12     13  10.04   3.924  702730  26451  1993      1    5     3     0    10     13  19.94  10.94</code>I want to flatten it, so that it looks like this (names aren't critical - I could rename):<code>     USAF   WBAN  year  month  day  s_PC  s_CL  s_CD  s_CNT  tempf_amax  tmpf_amin   0  702730  26451  1993      1    1     1     0    12     13  30.92          24.981  702730  26451  1993      1    2     0     0    13     13  32.00          24.982  702730  26451  1993      1    3     1    10     2     13  23.00          6.983  702730  26451  1993      1    4     1     0    12     13  10.04          3.924  702730  26451  1993      1    5     3     0    10     13  19.94          10.94</code>How do I do this? (I've tried a lot, to no avail.) Per a suggestion, here is the head in dict form<code>{('USAF', ''): {0: '702730',  1: '702730',  2: '702730',  3: '702730',  4: '702730'}, ('WBAN', ''): {0: '26451', 1: '26451', 2: '26451', 3: '26451', 4: '26451'}, ('day', ''): {0: 1, 1: 2, 2: 3, 3: 4, 4: 5}, ('month', ''): {0: 1, 1: 1, 2: 1, 3: 1, 4: 1}, ('s_CD', 'sum'): {0: 12.0, 1: 13.0, 2: 2.0, 3: 12.0, 4: 10.0}, ('s_CL', 'sum'): {0: 0.0, 1: 0.0, 2: 10.0, 3: 0.0, 4: 0.0}, ('s_CNT', 'sum'): {0: 13.0, 1: 13.0, 2: 13.0, 3: 13.0, 4: 13.0}, ('s_PC', 'sum'): {0: 1.0, 1: 0.0, 2: 1.0, 3: 1.0, 4: 3.0}, ('tempf', 'amax'): {0: 30.920000000000002,  1: 32.0,  2: 23.0,  3: 10.039999999999999,  4: 19.939999999999998}, ('tempf', 'amin'): {0: 24.98,  1: 24.98,  2: 6.9799999999999969,  3: 3.9199999999999982,  4: 10.940000000000001}, ('year', ''): {0: 1993, 1: 1993, 2: 1993, 3: 1993, 4: 1993}}</code>", "simquery2_answer": "I'm creating a small RPG worl with pygame. So far so good, I load my maps with Tiled TMX entity manager, and everything is great. Except one thing. When my main character moves, the sprite animation is going to damn fast and I don't know what to do to avoid that. Here is my update() code :<code>def update(self):\n        self.index += 1\n        if self.index &gt;= 2:\n            self.index = 0\n        if self.direction == DIRECTIONS['down']:\n            self.image = self.down_anim[self.index]\n        elif self.direction == DIRECTIONS['up']:\n            self.image = self.up_anim[self.index]\n        elif self.direction == DIRECTIONS['left']:\n            self.image = self.left_anim[self.index]\n        elif self.direction == DIRECTIONS['right']:\n            self.image = self.right_anim[self.index]\n</code>And my keyboard event management :<code>key=pygame.key.get_pressed() \n        try:\n            event = pygame.event.wait()\n            if event.type == KEYDOWN:\n                if (event.key == K_LEFT):\n                    if angus.direction != DIRECTIONS['left']:\n                        angus.direction = DIRECTIONS['left']\n                    angus.update()\n                    angus.position.x -= 1\n                elif (event.key == K_RIGHT):\n                    if angus.direction != DIRECTIONS['right']:\n                        angus.direction = DIRECTIONS['right']\n                    angus.update()\n                    angus.position.x += 1\n                elif (event.key == K_UP):\n                    if angus.direction != DIRECTIONS['up']:\n                        angus.direction = DIRECTIONS['up']\n                    angus.update()\n                    angus.position.y -= 1\n                elif (event.key == K_DOWN):\n                    if angus.direction != DIRECTIONS['down']:\n                        angus.direction = DIRECTIONS['down']\n                    angus.update()\n                    angus.position.y += 1\n</code>I'm using a clock to force 60fps. Is there a way I can tell pygame for example : update the sprite but only if it has been more than 1 second since the last update ?\nThanksEDIT : Solution :<code>def update(self):\n        self.timer += 1\n        if self.timer &gt;= self.UPDATE_TIME:\n            self.index += 1\n            self.timer = 0\n            if self.index &gt;= 2:\n                self.index = 0\n            if self.direction == DIRECTIONS['down']:\n                self.image = self.down_anim[self.index]\n            elif self.direction == DIRECTIONS['up']:\n                self.image = self.up_anim[self.index]\n            elif self.direction == DIRECTIONS['left']:\n                self.image = self.left_anim[self.index]\n            elif self.direction == DIRECTIONS['right']:\n                self.image = self.right_anim[self.index]\n</code>\n", "total_len": 1061, "s1_total_len": 793, "s2_total_len": 2084}
{"post_id": "36932", "title": "How can I represent an 'Enum' in Python?", "query": "I'm mainly a C# developer, but I'm currently working on a project in Python.How can I represent the equivalent of an Enum in Python?  ", "acce_answer": "I'm using SqlBulkCopy to bulk insert some records from one table into another table.  The query is using a SqlDataReader to get the data.  The one difference that matters (besides column order which is handled in the mappings) between the tables is that the destination table has a date column into which the current date needs to be added.  This date is not in the source table.  How can I add this into the current process which is working fine minus this?Current working code looks like this:<code>SqlCommand cmd = new SqlCommand(\"SELECT * from dbo.source\", cn);\n            SqlDataReader rdr = cmd.ExecuteReader();                            using (SqlBulkCopy copy = new SqlBulkCopy(cn))\n            {\n                copy.ColumnMappings.Add(0, 0);\n                copy.ColumnMappings.Add(1, 2);\n                copy.ColumnMappings.Add(3, 3);\n                copy.ColumnMappings.Add(2, 4);\n                copy.ColumnMappings.Add(5, 5);\n                copy.ColumnMappings.Add(14, 6);\n                copy.DestinationTableName = \"destination\";\n                copy.WriteToServer(rdr);\n            }\n</code>The DB is sql 2008 ENT.\n", "acce_score": "1141", "simquery1_title": "Does python have an equivalent to Java Class.forName()? I have the need to take a string argument and create an object of the class named in that string in Python.  In Java, I would use <code>Class.forName().newInstance()</code>.  Is there an equivalent in Python?Thanks for the responses.  To answer those who want to know what I'm doing: I want to use a command line argument as the class name, and instantiate it.  I'm actually programming in Jython and instantiating Java classes, hence the Java-ness of the question.  <code>getattr()</code> works great.  Thanks much.", "simquery1_answer": "\"+\", \"-\" and \"* \" are explicitly prohibited, but \"+=\", \"-=\" and \"*=\" are not and so the recursive implementation becomes\u2026<code>int factorial( int arg )\n{\n    int argcopy = arg;\n    argcopy -= 1;\n    return arg == 1 ? arg : arg *= factorial( argcopy );\n}\n</code>VC7 refuses to compile the above when in \"compile as C source mode\" \u2013 moans about the const L-value for \"*=\", but here is another variant of the same:<code>int factorial( int arg )\n{\n    int argcopy1 = arg;\n    int argcopy2 = arg;\n    argcopy1 -= 1;\n    argcopy2 *= arg == 1 ? 1 : fact( argcopy1 );\n    return argcopy2;\n}\n</code>\n", "simquery2_title": "What's the canonical way to check for type in Python? How do I check if an object is of a given type, or if it inherits from a given type?How do I check if the object <code>o</code> is of type <code>str</code>?Beginners often wrongly expect the string to already be &quot;a number&quot; - either expecting Python 3.x <code>input</code> to convert type, or expecting that a string like <code>'1'</code> is also simultaneously an integer. This is the wrong canonical for those questions. Please carefully read the question and then use How do I check if a string represents a number (float or int)?, How can I read inputs as numbers? and/or Asking the user for input until they give a valid response as appropriate.", "simquery2_answer": "Try this:<code>foreach (string propertyName in result.Properties.PropertyNames)\n{\n    MessageBox.Show(result.Properties[propertyName].ToString());\n}\n</code>Or this:<code>foreach (object prop in result.Properties)\n{\n     MessageBox.Show(prop.ToString());\n}\n</code>Also: there are a couple different PropertyCollections classes in the framework.  These examples are based on the System.Data class, but you might also be using the System.DirectoryServices class.  However, neither of those classes are really \"reflection\".  Reflection refers to something different- namely the System.Reflection namespace plus a couple special operators.\n", "total_len": 350, "s1_total_len": 342, "s2_total_len": 333}
{"post_id": "51520", "title": "How to get an absolute file path in Python", "query": "Given a path such as <code>&quot;mydir/myfile.txt&quot;</code>, how do I find the file's absolute path in Python? E.g. on Windows, I might end up with:<code>&quot;C:/example/cwd/mydir/myfile.txt&quot;</code>", "acce_answer": "I don't know if this one is fast or not, but at least it is simple.Simply, convert it first to a set and then again to a list<code>def unique(container):\n  return list(set(container))\n</code>\n", "acce_score": "1013", "simquery1_title": "How to get absolute path of a pathlib.Path object? Making a path object with <code>pathlib</code> module like:<code>p = pathlib.Path('file.txt')</code>The <code>p</code> object will point to some file in the filesystem, since I can do for example <code>p.read_text()</code>.How can I get the absolute path of the <code>p</code> object in a string?Appears that I can use for example <code>os.path.abspath(p)</code> to get the absolute path, but it awkward to use an <code>os.path</code> method, since I assume that <code>pathlib</code> should be a replacement for <code>os.path</code>.", "simquery1_answer": "<code>collectstatic --ignore</code> will support paths in Django 2.2.\n", "simquery2_title": "Is module __file__ attribute absolute or relative? I'm having trouble understanding <code>__file__</code>. From what I understand, <code>__file__</code> returns the absolute path from which the module was loaded. I'm having problem producing this: I have a <code>abc.py</code> with one statement <code>print __file__</code>, running from <code>/d/projects/</code> <code>python abc.py</code> returns <code>abc.py</code>. running from <code>/d/</code> returns <code>projects/abc.py</code>. Any reasons why?", "simquery2_answer": "Is this OK?\n(a[i] = f(a[i-k], a[i-k+1], ... a[i-1]) instead of a[i] = f(a[i-1], a[i-2], ... a[i-k]), since I prefer to this way)<code>/**\n  Generating a Stream[T] by the given first k items and a function map k items to the next one.\n*/\ndef getStream[T](f : T =&gt; Any,a : T*): Stream[T] = { \n  def invoke[T](fun: T =&gt; Any, es: T*): T = {\n    if(es.size == 1) fun.asInstanceOf[T=&gt;T].apply(es.head)\n    else invoke(fun(es.head).asInstanceOf[T =&gt; Any],es.tail :_*)\n  }\n  Stream.iterate(a){ es =&gt; es.tail :+ invoke(f,es: _*)}.map{ _.head }\n}\n</code>For example, the following code to generate Fibonacci sequence.<code>scala&gt; val fn = (x: Int, y: Int) =&gt; x+y\nfn: (Int, Int) =&gt; Int = &lt;function2&gt;scala&gt; val fib = getStream(fn.curried,1,1)\nfib: Stream[Int] = Stream(1, ?)scala&gt; fib.take(10).toList\nres0: List[Int] = List(1, 1, 2, 3, 5, 8, 13, 21, 34, 55)\n</code>The following code can generate a sequence {an} where a1 = 1, a2 = 2, a3 = 3, a(n+3\uff09 = a(n) + 2a(n+1) + 3a(n+2).<code>scala&gt; val gn = (x: Int, y: Int, z: Int) =&gt; x + 2*y + 3*z\ngn: (Int, Int, Int) =&gt; Int = &lt;function3&gt;scala&gt; val seq = getStream(gn.curried,1,2,3)\nseq: Stream[Int] = Stream(1, ?)scala&gt; seq.take(10).toList\nres1: List[Int] = List(1, 2, 3, 14, 50, 181, 657, 2383, 8644, 31355)\n</code>\n", "total_len": 145, "s1_total_len": 203, "s2_total_len": 784}
{"post_id": "53513", "title": "How do I check if a list is empty?", "query": "For example, if passed the following:<code>a = []</code>How do I check to see if <code>a</code> is empty?", "acce_answer": "updating to an older rev will not delete your newer revs.so you could do <code>svn up -r2 file</code>, then <code>svn up -r4 file</code>.also, you wouldn't be able to commit the r2 file this way, because you'd have to update before committing, and you'd end up with r4 again.\n", "acce_score": "3228", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery2_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "total_len": 132, "s1_total_len": 337, "s2_total_len": 349}
{"post_id": "59825", "title": "How to retrieve an element from a set without removing it?", "query": "Suppose the following:<code>&gt;&gt;&gt; s = set([1, 2, 3])</code>How do I get a value (any value) out of <code>s</code> without doing <code>s.pop()</code>? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host.Quick and dirty:<code>&gt;&gt;&gt; elem = s.pop()&gt;&gt;&gt; s.add(elem)</code>But do you know of a better way? Ideally in constant time.", "acce_answer": "<code>SELECT * FROM [MyTable] WHERE [Date] IN\n(\n    SELECT [Date] \n    FROM [MyTable] \n    GROUP By [Date] \n    HAVING COUNT(*) &lt; @Max\n)\n</code>See @[SQLMenace] 's response also.  It's very similar to this, but depending on your database his JOIN will probably run faster, assuming the optimizer doesn't make the difference moot.\n", "acce_score": "646", "simquery1_title": "How to retrieve an element from a set without removing it? Suppose the following:<code>&gt;&gt;&gt; s = set([1, 2, 3])</code>How do I get a value (any value) out of <code>s</code> without doing <code>s.pop()</code>? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host.Quick and dirty:<code>&gt;&gt;&gt; elem = s.pop()&gt;&gt;&gt; s.add(elem)</code>But do you know of a better way? Ideally in constant time.", "simquery1_answer": "<code>SELECT * FROM [MyTable] WHERE [Date] IN\n(\n    SELECT [Date] \n    FROM [MyTable] \n    GROUP By [Date] \n    HAVING COUNT(*) &lt; @Max\n)\n</code>See @[SQLMenace] 's response also.  It's very similar to this, but depending on your database his JOIN will probably run faster, assuming the optimizer doesn't make the difference moot.\n", "simquery2_title": "Quick way to extend a set if we know elements are unique I am performing multiple iterations of the type:<code>masterSet=masterSet.union(setA)</code>As the set grows the length of time taken to perform these operations is growing (as one would expect, I guess).I expect that the time is taken up checking whether each element of setA is already in masterSet?My question is that if i KNOW that masterSet does not already contain any of elements in setA can I do this quicker? [UPDATE]Given that this question is still attracting views I thought I would clear up a few of the things from the comments and answers below: When iterating though there were many iterations where I knew <code>setA</code> would be distinct from <code>masterSet</code> because of how it was constructed (without having to process any checks) but a few iterations I needed the uniqueness check.I wondered if there was a way to 'tell' the <code>masterSet.union()</code> procedure not to bother with the uniquness check this time around as I know this one is distinct from <code>masterSet</code> just add these elements quickly trusting the programmer's assertion they were definately distict. Perhpas through calling some different \"<code>.unionWithDistinctSet()</code>\" procedure or something. I think the responses have suggested that this isnt possible (and that really set operations should be quick enough anyway) but to use <code>masterSet.update(setA)</code> instead of union as its slightly quicker still. I have accepted the clearest reponse along those lines, resolved the issue I was having at the time and got on with my life but would still love to hear if my hypothesised <code>.unionWithDistinctSet()</code> could ever exist?", "simquery2_answer": "From Android 17, it provides android.media.effect package for processing images with many effects. and with the official sample 'HelloEffect', it works for image only.Now I want apply the effects for Android camera preview frame, I used <code>SurfaceTexture</code> and <code>GL_TEXTURE_EXTERNAL_OES</code> texture to render the frame from camera.But the problem is how to apply the effect on this special texture: <code>GL_TEXTURE_EXTERNAL_OES</code>, it shows errors, it seems it cannot sample from this special texture.error:\n01-06 15:46:35.425: D/libEGL(14021): loaded /vendor/lib/egl/libEGL_adreno.so\n    01-06 15:46:35.435: D/libEGL(14021): loaded /vendor/lib/egl/libGLESv1_CM_adreno.so\n01-06 15:46:35.435: D/libEGL(14021): loaded /vendor/lib/egl/libGLESv2_adreno.so\n01-06 15:46:35.435: I/Adreno-EGL(14021): : EGL 1.4 QUALCOMM build: _msm8974_refs/tags/AU_LINUX_ANDROID_JB_3.1.2.04.02.02.125.032_CL3849330_release_AU (CL3849330)\n01-06 15:46:35.435: I/Adreno-EGL(14021): OpenGL ES Shader Compiler Version: 17.01.10.SPL\n01-06 15:46:35.435: I/Adreno-EGL(14021): Build Date: 10/21/13 Mon\n01-06 15:46:35.435: I/Adreno-EGL(14021): Local Branch: jb_3.1.2\n01-06 15:46:35.435: I/Adreno-EGL(14021): Remote Branch: quic/4da73f3b691eea7a9356efff8d609916f1975107\n01-06 15:46:35.435: I/Adreno-EGL(14021): Local Patches: NONE\n01-06 15:46:35.435: I/Adreno-EGL(14021): Reconstruct Branch: NOTHING\n01-06 15:46:35.565: D/OpenGLRenderer(14021): Enabling debug mode 0\n01-06 15:46:36.295: W/Adreno-ES20(14021): : GL_INVALID_OPERATION\n01-06 15:46:36.295: E/MCA(14021): GL Error: Operation 'Binding Texture' caused GL error (0x502)\n01-06 15:46:36.295: E/MCA(14021): BindInputTextures failed\n01-06 15:46:36.295: E/MCA(14021): Unable to render frame\n01-06 15:46:36.295: E/MCA(14021): ShaderProgram: error processing shader!\n01-06 15:46:36.305: W/dalvikvm(14021): threadid=11: thread exiting with uncaught exception (group=0x419fd898)\n01-06 15:46:36.345: E/AndroidRuntime(14021): FATAL EXCEPTION: GLThread 97443\n01-06 15:46:36.345: E/AndroidRuntime(14021): java.lang.RuntimeException: Error executing ShaderProgram!\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.ShaderProgram.process(ShaderProgram.java:123)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.Program.process(Program.java:32)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterpacks.imageproc.LomoishFilter.process(LomoishFilter.java:200)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.Filter.performProcess(Filter.java:474)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.FilterFunction.execute(FilterFunction.java:80)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.FilterFunction.executeWithArgList(FilterFunction.java:97)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.media.effect.SingleFilterEffect.apply(SingleFilterEffect.java:76)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at com.csz.camerafilters.activity.render.SurfaceRenderer.applyEffect(SurfaceRenderer.java:73)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at com.csz.camerafilters.activity.render.SurfaceRenderer.onDrawFrame(SurfaceRenderer.java:63)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1531)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n", "total_len": 267, "s1_total_len": 265, "s2_total_len": 2120}
{"post_id": "89228", "title": "How do I execute a program or call a system command?", "query": "How do I call an external command within Python as if I had typed it in a shell or command prompt?", "acce_answer": "Yes you can do it, but it is somewhat ugly and you have to know the maximal number of arguments. Furthermore if you are on an architecture where the arguments aren't passed on the stack like the x86 (for instance, PowerPC), you will have to know if \"special\" types (double, floats, altivec etc.) are used and if so, deal with them accordingly. It can be painful quickly but if you are on x86 or if the original function has a well defined and limited perimeter, it can work.\nIt still will be a hack, use it for debugging purpose. Do not build you software around that.\nAnyway, here's a working example on x86:<code>#include &lt;stdio.h&gt;\n#include &lt;stdarg.h&gt;int old_variadic_function(int n, ...)\n{\n  va_list args;\n  int i = 0;  va_start(args, n);  if(i++&lt;n) printf(\"arg %d is 0x%x\\n\", i, va_arg(args, int));\n  if(i++&lt;n) printf(\"arg %d is %g\\n\",   i, va_arg(args, double));\n  if(i++&lt;n) printf(\"arg %d is %g\\n\",   i, va_arg(args, double));  va_end(args);  return n;\n}int old_variadic_function_wrapper(int n, ...)\n{\n  va_list args;\n  int a1;\n  int a2;\n  int a3;\n  int a4;\n  int a5;\n  int a6;\n  int a7;\n  int a8;  /* Do some work, possibly with another va_list to access arguments */  /* Work done */  va_start(args, n);  a1 = va_arg(args, int);\n  a2 = va_arg(args, int);\n  a3 = va_arg(args, int);\n  a4 = va_arg(args, int);\n  a5 = va_arg(args, int);\n  a6 = va_arg(args, int);\n  a7 = va_arg(args, int);  va_end(args);  return old_variadic_function(n, a1, a2, a3, a4, a5, a6, a7, a8);\n}int main(void)\n{\n  printf(\"Call 1: 1, 0x123\\n\");\n  old_variadic_function(1, 0x123);\n  printf(\"Call 2: 2, 0x456, 1.234\\n\");\n  old_variadic_function(2, 0x456, 1.234);\n  printf(\"Call 3: 3, 0x456, 4.456, 7.789\\n\");\n  old_variadic_function(3, 0x456, 4.456, 7.789);\n  printf(\"Wrapped call 1: 1, 0x123\\n\");\n  old_variadic_function_wrapper(1, 0x123);\n  printf(\"Wrapped call 2: 2, 0x456, 1.234\\n\");\n  old_variadic_function_wrapper(2, 0x456, 1.234);\n  printf(\"Wrapped call 3: 3, 0x456, 4.456, 7.789\\n\");\n  old_variadic_function_wrapper(3, 0x456, 4.456, 7.789);  return 0;\n}\n</code>For some reason, you can't use floats with va_arg, gcc says they are converted to double but the program crashes. That alone demonstrates that this solution is a hack and that there is no general solution.\nIn my example I assumed that the maximum number of arguments was 8, but you can increase that number. The wrapped function also only used integers but it works the same way with other 'normal' parameters since they always cast to integers. The target function will know their types but your intermediary wrapper doesn't need to. The wrapper also doesn't need to know the right number of arguments since the target function will also know it.\nTo do useful work (except just logging the call), you probably will have to know both though.\n", "acce_score": "5974", "simquery1_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery1_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "simquery2_title": "Call Python script from bash with argument I know that I can run a python script from my bash script using the following:<code>python python_script.py</code>But what about if I wanted to pass a variable / argument to my python script from my bash script. How can I do that?Basically bash will work out a filename and then python will upload it, but I need to send the filename from bash to python when I call it.", "simquery2_answer": "This code occurs in the CrossExample from superpowered.com:<code>static void playerEventCallbackA(void *clientData, SuperpoweredAdvancedAudioPlayerEvent event, void * __unused value) {\n    if (event == SuperpoweredAdvancedAudioPlayerEvent_LoadSuccess) {        SuperpoweredAdvancedAudioPlayer *playerA = *((SuperpoweredAdvancedAudioPlayer **)clientData);        playerA-&gt;setBpm(126.0f);\n        playerA-&gt;setFirstBeatMs(353);\n        playerA-&gt;setPosition(playerA-&gt;firstBeatMs, false, false);\n    };\n}        playerA = new SuperpoweredAdvancedAudioPlayer(&amp;playerA , playerEventCallbackA, samplerate, 0);    playerA-&gt;open(path, fileAoffset, fileAlength);\n</code>Can anyone help me understand the first line inside the <code>if</code> statement?  In particular, how do I interpret the right hand side of the assignment? <code>*((SuperpoweredAdvancedAudioPlayer **)clientData)</code>\n", "total_len": 1109, "s1_total_len": 575, "s2_total_len": 368}
{"post_id": "123198", "title": "How to copy files", "query": "How do I copy a file in Python?", "acce_answer": "It's possible to set selectedIndex property of DropDownList to -1 (i. e. clear selection) using client-side script:<code>&lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;asp:DropDownList ID=\"DropDownList1\" runat=\"server\"&gt;\n        &lt;asp:ListItem Value=\"A\"&gt;&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem Value=\"B\"&gt;&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem Value=\"C\"&gt;&lt;/asp:ListItem&gt;\n    &lt;/asp:DropDownList&gt;\n    &lt;button id=\"\u0421learButton\"&gt;Clear&lt;/button&gt;\n&lt;/form&gt;&lt;script src=\"jquery-1.2.6.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function()\n    {\n        $(\"#\u0421learButton\").click(function()\n        {\n            $(\"#DropDownList1\").attr(\"selectedIndex\", -1); // pay attention to property casing\n        })        $(\"#ClearButton\").click();\n    })\n&lt;/script&gt;\n</code>\n", "acce_score": "3651", "simquery1_title": "Copy directory contents into a directory with python I have a directory /a/b/c that has files and subdirectories.I need to copy the /a/b/c/* in the /x/y/z directory. What python methods can I use?I tried <code>shutil.copytree(\"a/b/c\", \"/x/y/z\")</code>, but python tries to create /x/y/z and raises an <code>error \"Directory exists\"</code>.", "simquery1_answer": "How is NServiceBus maintaining consistency when the outgoing headers is static? Does it mean if I were to set the outgoing headers for a particular message, it will affect all other outgoing messages since it's a singleton?<code>namespace NServiceBus.MessageHeaders\n{\n  [ComVisible(false)]\n  public class MessageHeaderManager : IMutateOutgoingTransportMessages\n  {\n    private static IDictionary&lt;string, string&gt; staticOutgoingHeaders = (IDictionary&lt;string, string&gt;) new Dictionary&lt;string, string&gt;();\n    private IUnicastBus bus;\n    [ThreadStatic]\n    private static IDictionary&lt;object, IDictionary&lt;string, string&gt;&gt; messageHeaders;\n   .\n   .\n   .\n }\n</code>The incoming header seems to be correctly marked as <code>[ThreadStatic]</code> however.Explain.========================EDIT==============================I guess I'm trying to understand because many examples show the code below:<code>Bus.OutgoingHeaders[\"Test\"] = g.ToString(\"N\");\n</code>Which's traced to: <code>IDictionary&lt;string, string&gt; IBus.OutgoingHeaders\n{\n  get\n  {\n    return ExtensionMethods.GetStaticOutgoingHeadersAction();\n  }\n}\n</code>Which's set at:internal class Bootstrapper : INeedInitialization, IWantToRunWhenConfigurationIsComplete\n  {\n    public MessageHeaderManager Manager { get; set; }<code>void INeedInitialization.Init()\n{\n  Configure.Instance.Configurer.ConfigureComponent&lt;MessageHeaderManager&gt;(DependencyLifecycle.SingleInstance);\n}public void Run()\n{\n  ExtensionMethods.GetHeaderAction = (Func&lt;object, string, string&gt;) ((msg, key) =&gt; this.Manager.GetHeader(msg, key));\n  ExtensionMethods.SetHeaderAction = (Action&lt;object, string, string&gt;) ((msg, key, val) =&gt; this.Manager.SetHeader(msg, key, val));\n  ExtensionMethods.GetStaticOutgoingHeadersAction = (Func&lt;IDictionary&lt;string, string&gt;&gt;) (() =&gt; this.Manager.GetStaticOutgoingHeaders());\n}\n</code>}And of course the GetStaticOutgoingHeaders in the last line above goes to a static field. I'm trying to figure out how to set the header, for the next message. But if I follow the examples, I end up setting the headers for ALL messages.\n", "simquery2_title": "Deleting all files in a directory with Python I want to delete all files with the extension <code>.bak</code> in a directory. How can I do that in Python?", "simquery2_answer": "I have changed some of my old queries to the Mysqli framework to improve performance. Everything works fine on localhost but when i upload it to the webserver it outputs nothing. After connecting I check for errors and there are none. I also checked the php modules installed and mysqli is enabled.I am certain that it creates a connection to the database as no errors are displayed. (when i changed the database name string it gave the error)There is no output from the query on the webserver, which looks like this:<code>$mysqli = new mysqli(\"server\", \"user\", \"password\");if (mysqli_connect_errno()) {\n   printf(\"Can't connect Errorcode: %s\\n\", mysqli_connect_error());\n   exit;\n}// Query used  \n$query = \"SELECT name FROM users WHERE id = ?\";if ($stmt = $mysqli-&gt;prepare(\"$query\")) \n{    // Specify parameters to replace '?'\n    $stmt-&gt;bind_param(\"d\", $id);      $stmt-&gt;execute();    // bind variables to prepared statement \n    $stmt-&gt;bind_result($_userName);    while ($stmt-&gt;fetch()) \n    {\n          echo $_userName;\n    }\n    $stmt-&gt;close();\n }\n}//close connection \n$mysqli-&gt;close(); \n</code>As I said this code works perfectly on my localserver just not online. Checked the error logs and there is nothing so everything points to a good connection. All the tables exists as well etc. Anyone any ideas because this one has me stuck! Also, if i get this working, will all my other queries still work? Or will i need to make them use the mysqli framework as well? Thanks in advance.EDIT:Ok Ive done some 'debugging' to see what is happening. There is data in the table i'm querying that matches the query. I did the following to check the prepare statement:<code>echo \"debug 1\";if ($stmt = $mysqli-&gt;prepare(\"$shiftQuery\"))  \n{echo \"debug 2\";\nprintf(\"Error: %s.\\n\", $stmt-&gt;error);etc...\n}\n</code>So basically it should output 'debug 1' before the statment is prepared (Which it does). Then after it should output 'debug 2' and any errors that occured. The problem is here somewhere as it doesnt reach the debug 2 line in the IF statement. Since the connection details are fine, i cant really see why the $mysqli object wouldnt be created. That give anyone any further ideas??? thanks\n", "total_len": 331, "s1_total_len": 727, "s2_total_len": 629}
{"post_id": "132988", "title": "Is there a difference between \"==\" and \"is\"?", "query": "My Google-fu has failed me.In Python, are the following two tests for equality equivalent?<code>n = 5# Test one.if n == 5:    print 'Yay!'# Test two.if n is 5:    print 'Yay!'</code>Does this hold true for objects where you would be comparing instances (a <code>list</code> say)?Okay, so this kind of answers my question:<code>L = []L.append(1)if L == [1]:    print 'Yay!'# Holds true, but...if L is [1]:    print 'Yay!'# Doesn't.</code>So <code>==</code> tests value where <code>is</code> tests to see if they are the same object?", "acce_answer": "I have the following javascript:<code>$.ajax({\n  type: \"POST\",\n  dataType: \"json\",\n  url: \"/Home/Submit\",\n  data: {\n    email: strEmail,\n    message: strMessage\n  },\n  success: function(result) {\n    //alert('here');\n    alert(result.message);\n  },\n  error: function(error) {\n    alert(error);\n  }\n});\n</code>This makes a call to this function:<code>public JsonResult Submit(string Email, string Message) {\n  return Json(new {\n    message = \"yep\"\n  });\n}\n</code>This works fine in debug mode on the inbuilt webserver.However if I go to the virtual dir directly it does not and hits the error bit. I attached to the process and the code behind never gets hit. I am using Vista. Additionally how do you get the error description in the bit where it says  alert(error);Thanks,Alex\n", "acce_score": "628", "simquery1_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery1_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "simquery2_title": "What does the == operator actually do on a Python dictionary? Consider: <code>&gt;&gt;&gt; a = {'foo': {'bar': 3}}&gt;&gt;&gt; b = {'foo': {'bar': 3}}&gt;&gt;&gt; a == bTrue</code>According to the python doc, you can indeed use the <code>==</code> operator on dictionaries. What is actually happening here? Is Python recursively checking each element of the dictionaries to ensure equality? Is it making sure the keys are identically matched, and the values are also identically matched?Is there documentation that specifies exactly what <code>==</code> on a dictionary means? Or whether I have to implement my own version of checking for equality?(If the <code>==</code> operator works, why aren't dicts hashable? That is, why can't I create a set() of dicts, or use a dict as a dictionary key?)", "simquery2_answer": "Is it a good idea to have all class constructors take in a single array of params, instead of multiple params?\nFor example,\n<code>class A {    private $id;\n    private $name;    public function __construct($arr) {\n    \n        foreach ($arr as $key =&gt; $val) {\n            $this-&gt;$key = $val;\n        }\n    }\n}\n</code>\ninstead of\n<code>class B {    private $id;\n    private $name;    public function __construct($id, $name) {\n       $this-&gt;id = $id;\n       $this-&gt;name = $name;\n    }\n}\n</code>\nThis would eliminate the need to remember the order of arguments, and the need to type <code>$this-&gt;key = $val</code> every time I add a new parameter. Are there any downsides to this method?\n", "total_len": 421, "s1_total_len": 629, "s2_total_len": 436}
{"post_id": "136097", "title": "Difference between @staticmethod and @classmethod", "query": "What is the difference between a method decorated with <code>@staticmethod</code> and one decorated with <code>@classmethod</code>?", "acce_answer": "It is not sensitive in practice but in theory only lower case is allowed.From RFC 1738\n  2.1. The main parts of URLs\n  \n  A full BNF description of the URL\n  syntax is given in Section 5.\n  \n  In general, URLs are written as\n  follows:<code>   &lt;scheme&gt;:&lt;scheme-specific-part&gt;\n</code>\n  \n  A URL contains the name of the\n  scheme being used () followed \n  by a colon and then a string (the\n  ) whose\n  interpretation depends on the scheme.\n  \n  Scheme names consist of a sequence\n  of characters. The lower case\n  letters \"a\"--\"z\", digits, and the\n  characters plus (\"+\"), period\n  (\".\"), and hyphen (\"-\") are allowed.\n  For resiliency, programs\n  interpreting URLs should treat upper\n  case letters as equivalent to    lower\n  case in scheme names (e.g., allow\n  \"HTTP\" as well as \"http\").", "acce_score": "4538", "simquery1_title": "What is the purpose of class methods? I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions.I now realise that I don't need to use Class methods for what I would done with <code>static</code> methods in Java, but now I'm not sure when I would use them.  All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them.Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?", "simquery1_answer": "Gonna post an answer to my own question here as I read the manual after I typed this up.  In TortoiseSVN, goto settings.  Add <code>*ReSharper*\n</code>to the \"Global ignore pattern\".  Adding items to the global ignore pattern means that these files will be ignored for any project you work on for the client with TortoiseSVN installed, so it might not be appropriate to use the global ignore in all cases.You can also add specific files and directories to the ignore list for individual projects if you select this from the TortoiseSVN menu BEFORE they have been added to your repository.  The \"BEFORE\" part is what tripped me up originally.  Since this is a single developer project, I've been checking in binaries, etc. b/c it has no consequence for other developers, and the Resharper files got in there.\n", "simquery2_title": "How do I override __getattr__ without breaking the default behavior? How do I override the <code>__getattr__</code> method of a class without breaking the default behavior?", "simquery2_answer": "They're both equivalent valid JSON, so it shouldn't matter.  The JSON strings:<code>\"http://www.digg.com\"\n</code>and<code>\"http:\\/\\/www.digg.com\"\n</code>both decode to:<code>\"http://www.digg.com\"\n</code>This is a separate issue, but I would prefer:<code>$links = array(array('id'=&gt;'11','title'=&gt;'digg','url'=&gt;\"http://www.digg.com\"));\n$msg = array('status'=&gt;'ok', 'links'=&gt;$links);\necho json_encode($msg);{\"status\":\"ok\",\"links\":[{\"id\":\"11\",\"title\":\"digg\",\"url\":\"http:\\/\\/www.digg.com\"}]}\n</code>This makes more sense to me than having a \"0\" key, and it extend well if you add more sites:<code>$links = array(array('id'=&gt;'11','title'=&gt;'digg','url'=&gt;\"http://www.digg.com\"),\n               array('id'=&gt;'12','title'=&gt;'reddit','url'=&gt;\"http://www.reddit.com\"));\n$msg = array('status'=&gt;'ok', 'links'=&gt;$links);\necho json_encode($msg);{\"status\":\"ok\",\"links\":[{\"id\":\"11\",\"title\":\"digg\",\"url\":\"http:\\/\\/www.digg.com\"},\n{\"id\":\"12\",\"title\":\"reddit\",\"url\":\"http:\\/\\/www.reddit.com\"}]}\n</code>\n", "total_len": 294, "s1_total_len": 365, "s2_total_len": 437}
{"post_id": "151199", "title": "How to calculate number of days between two given dates", "query": "If I have two dates (ex. <code>'8/18/2008'</code> and <code>'9/26/2008'</code>), what is the best way to get the number of days between these two dates?", "acce_answer": "I'm trying to call a web service in an Excel Macro:<code>Set objHTTP = New MSXML.XMLHTTPRequest\nobjHTTP.Open \"post\", \"https://www.server.com/EIDEServer/EIDEService.asmx\"\nobjHTTP.setRequestHeader \"Content-Type\", \"text/xml\"\nobjHTTP.setRequestHeader \"SOAPAction\", \"PutSchedule\"\nobjHTTP.send strXML      \n</code>And I get back the following response:<code>  &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n  &lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n    &lt;soap:Body&gt;\n      &lt;soap:Fault&gt;\n        &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n        &lt;faultstring&gt;Server did not recognize the value of HTTP Header SOAPAction: PutSchedule.&lt;/faultstring&gt;\n        &lt;detail /&gt;\n      &lt;/soap:Fault&gt;\n    &lt;/soap:Body&gt;\n  &lt;/soap:Envelope&gt; \n</code>Anybody out there done something like this before?\n", "acce_score": "741", "simquery1_title": "Subtract seconds from datetime in python I have an int variable that are actually seconds (lets call that amount of seconds <code>X</code>). I need to get as result current date and time (in datetime format) minus <code>X</code> seconds.ExampleIf <code>X</code> is 65 and current date is <code>2014-06-03 15:45:00</code>, then I need to get the result <code>2014-06-03 15:43:45</code>.EnvironmentI'm doing this on Python 3.3.3 and I know I could probably use the <code>datetime</code> module but I haven't had any success so far.", "simquery1_answer": "I have used the Princess Polymath starter kit for LinkedIn. The sample works fine.  I wish to share image links on for which I used the code from here. But when I share an image I get the response as<code>{\n  \"errorCode\": 0,\n  \"message\": \"Can not parse JSON share document.\\nRequest body:\\n\\nError:\\nnull\",\n  \"requestId\": \"MW8AF25JM2\",\n  \"status\": 400,\n  \"timestamp\": 1430244725846\n}\n</code>Any help would be appreciated.\n", "simquery2_title": "Formatting timedelta objects I have two <code>datetime</code> objects. I need to calculate the <code>timedelta</code> between them and then show the output in a specific format.<code>Alpha_TimeObj = datetime.datetime(int(AlphaTime.strftime('%Y')), int(AlphaTime.strftime('%m')), int(AlphaTime.strftime('%d')), int(AlphaTime.strftime('%H')), int(AlphaTime.strftime('%M')), int(AlphaTime.strftime('%S')))Beta_TimeObj = datetime.datetime(int(BetaTime.strftime('%Y')), int(BetaTime.strftime('%m')), int(BetaTime.strftime('%d')), int(BetaTime.strftime('%H')), int(BetaTime.strftime('%M')), int(BetaTime.strftime('%S')))Turnaround_TimeObj = Beta_TimeObj  - Alpha_TimeObj</code>An example of this <code>Turnaround_TimeObj</code>  time delta is \"2 days, 22:13:45\". I want to format the output, but I am unable to do so.<code>print Turnaround_TimeObj.strftime('%H hrs %M mins %S secs')</code>doesn't work.I know one way of doing this will be to convert it to seconds and then divmoding to get the required formatting.As in:<code>totalSeconds = Turnaround_TimeObj.secondshours, remainder = divmod(totalSeconds, 3600)minutes, seconds = divmod(remainder, 60)print '%s:%s:%s' % (hours, minutes, seconds)</code>But I was wondering if I can do it in a single line using any date time function like <code>strftime</code>.Actually converting to seconds doesn't work either. If I convert the time delta \"1 day, 3:42:54\" to seconds using:<code>totalSeconds = Turnaround_TimeObj.seconds</code>The <code>totalSeconds</code> value is shown as 13374 instead of 99774. i.e. it's ignoring the \"day\" value.", "simquery2_answer": "I'm trying to create a one-to-one, self-referencing, bi-directional relationship (wow) with an entity, <code>Revision</code>, that looks like this:<code>/**\n * @Entity()\n * @Table(name=\"rev\")\n */\nclass Revision extends BaseEntity\n{\n    /**\n     * @Id\n     * @Column(type=\"integer\")\n     * @GeneratedValue\n     */\n    protected $id;    /**\n     * @Column(type=\"string\")\n     */\n    protected $comment;    /**\n     * @OneToOne(targetEntity=\"Revision\", inversedBy=\"parent\")\n     * @JoinColumn(name=\"revision_of\", referencedColumnName=\"id\")\n     */\n    protected $revisionOf;    /**\n     * @OneToOne(targetEntity=\"Revision\", mappedBy=\"revisionOf\")\n     */\n    protected $parent;\n}\n</code>Without the <code>parent</code> property, everything works fine. When I add that property, both relationships return <code>null</code>.The immediate question is: can what I'm trying to do be accomplished in Doctrine? If so, how would I go about doing so?\n", "total_len": 429, "s1_total_len": 319, "s2_total_len": 832}
{"post_id": "192109", "title": "Is there a built-in function to print all the current properties and values of an object?", "query": "So what I'm looking for here is something like PHP's print_r function.This is so I can debug my scripts by seeing what's the state of the object in question.", "acce_answer": "You need to look at the Django forms.You should never build your own form like that.You should declare a Form class which includes a ChoiceField and provide the domain of choices to that field.  Everything will happen pretty much automatically from there.The choices, BTW, should be defined in your Model as the range of values for that Model field.Your page merely includes <code>{{form}}</code>.  Django builds the form with the choices and decodes the choices to a final result.\n", "acce_score": "1430", "simquery1_title": "How do I print functions as they are called? In debugging a Python script, I'd really like to know the entire call stack for my entire program.  An ideal situation would be if there were a command-line flag for python that would cause Python to print all function names as they are called (I checked <code>man Python2.7</code>, but didn't find anything of this sort).Because of the number of functions in this script, I'd prefer not to add a print statement to the beginning of each function and/or class, if possible.An intermediate solution would be to use PyDev's debugger, place a couple breakpoints and check the call stack for given points in my program, so I'll use this approach for the time being.I'd still prefer to see a complete list of all functions called throughout the life of the program, if such a method exists.", "simquery1_answer": "ld is a one-pass linker, meaning that you have to add libraries after the object files that use them: <code>g++ *.cpp -o IOService -lcrypto</code> (I think libssl is not needed if all you need is md5)\n", "simquery2_title": "Using print statements only to debug I have been coding a lot in Python of late. And I have been working with data that I haven't worked with before, using formulae never seen before and dealing with huge files.  All this made me write a lot of print statements to verify if it's all going right and identify the points of failure. But, generally, outputting so much information is not a good practice. How do I use the print statements only when I want to debug and let them be skipped when I don't want them to be printed? ", "simquery2_answer": "I'm attempting to compile some C# with gmcs version 2.11.0 that includes System.Tuple. Supposedly it does exist in Mono (http://stackoverflow.com/questions/5346453/mono-is-there-a-system-tuple) and it is possible to compile using the flag:<code>gmcs -langversion:future\n</code>It doesn't seem to matter which langversion I use, the compiler always gives the same error:<code>error CS0234: The type or namespace name `Tuple' does not exist in the namespace `System'. Are you missing an assembly reference?\n</code>How can I compile C# code using Mono that uses System.Tuple?\n", "total_len": 169, "s1_total_len": 252, "s2_total_len": 293}
{"post_id": "209513", "title": "Convert hex string to integer in Python", "query": "How do I convert a hex string to an integer?<code>&quot;0xffff&quot;   \u27f6   65535&quot;ffff&quot;     \u27f6   65535</code>", "acce_answer": "Imagine you have an executable foo.rb, with libraries bar.rb layed out in the following manner:<code>&lt;root&gt;/bin/foo.rb\n&lt;root&gt;/lib/bar.rb\n</code>In the header of foo.rb you place the following require to bring in functionality in bar.rb:<code>require File.dirname(__FILE__)+\"../lib/bar.rb\"\n</code>This works fine so long as all calls to foo.rb are direct.  If you put  as say $HOME/project, and symlink foo.rb into <code>$HOME/usr/bin</code>, then <code><code>__FILE__</code></code> resolves to <code>$HOME/usr/bin/foo.rb</code>, and is thus unable to locate <code>bar.rb</code> in relation to the dirname for <code>foo.rb</code>.I realize that packaging systems such as rubygems fix this by creating a namespace to search for the library, and that it is also possible to adjust the load_path using <code>$:</code> to include <code>$HOME/project/lib</code>, but it seems as if a more simple solution should exist.  Has anyone had experience with this problem and found a useful solution or recipe?\n", "acce_score": "958", "simquery1_title": "How to convert an int to a hex string? I want to take an integer (that will be &lt;= 255), to a hex string representatione.g.: I want to pass in <code>65</code> and get out <code>'\\x41'</code>, or <code>255</code> and get <code>'\\xff'</code>.I've tried doing this with the <code>struct.pack('c',</code>65<code>)</code>, but that chokes on anything above <code>9</code> since it wants to take in a single character string.", "simquery1_answer": "If you're using jquery, you can call this right before your radio buttons.<code>$('input:radio:first').attr('checked', true);\n</code>^ This will check the first radio box, but you can look at more jquery to cycle through to the one you want selected.\n", "simquery2_title": "chr() equivalent returning a bytes object, in py3k Python 2.x has <code>chr()</code>, which converts a number in the range 0-255 to a byte string with one character with that numeric value, and <code>unichr()</code>, which converts a number in the range 0-0x10FFFF to a Unicode string with one character with that Unicode codepoint.  Python 3.x replaces <code>unichr()</code> with <code>chr()</code>, in keeping with its \"Unicode strings are default\" policy, but I can't find anything that does exactly what the old <code>chr()</code> did.  The <code>2to3</code> utility (from 2.6) leaves <code>chr</code> calls alone, which is not right in general :((This is for parsing and serializing a file format which is explicitly defined in terms of 8-bit bytes.)", "simquery2_answer": "The include expects a regex pattern. As @jgr pointed out this is true only for versions of elasticsearch &lt; 1.5.0. So for the example provided in query\nwould look something as below for versions &lt; 1.5.0 :<code>   \"aggs\": {\n      \"aggterm\": {\n         \"terms\": {\n            \"field\": \"type\",\n            \"include\" : \"billing|expenditure\"\n         }\n      }\n   }\n</code>If not the example you have in the OP should work\n", "total_len": 358, "s1_total_len": 208, "s2_total_len": 346}
{"post_id": "227459", "title": "How to get the ASCII value of a character", "query": "How do I get the ASCII value of a character as an <code>int</code> in Python?", "acce_answer": "It depends on how the .exe works.  I'm afraid I don't have all the technical details or terminology, but some .exe files will return control of the session immediately after they've started, while others won't return control until after the program has terminated.The second case is easy as the commands late in the file won't execute until the former have completed, so I'll assume you're facing case #1.An easy workaround/hack if the execution takes (approximately) the same amount of time every time it runs is to use a ping command with a delay.<code>PING 127.0.0.1 -n 1 -w 120000 &gt;NUL\n</code>This will force the ping command to run once with a 120000ms (2 min) delay.There's also a good article on a more complex (but more reliable method) on fpschultze.de with a much more detailed explanation.  In short you query the task list searching for the executable you're waiting for. As soon as it's not there you carry on with the batch file.  It also uses the ping method, but in a different manner.\n", "acce_score": "1283", "simquery1_title": "How to get the ASCII value of a character How do I get the ASCII value of a character as an <code>int</code> in Python?", "simquery1_answer": "It depends on how the .exe works.  I'm afraid I don't have all the technical details or terminology, but some .exe files will return control of the session immediately after they've started, while others won't return control until after the program has terminated.The second case is easy as the commands late in the file won't execute until the former have completed, so I'll assume you're facing case #1.An easy workaround/hack if the execution takes (approximately) the same amount of time every time it runs is to use a ping command with a delay.<code>PING 127.0.0.1 -n 1 -w 120000 &gt;NUL\n</code>This will force the ping command to run once with a 120000ms (2 min) delay.There's also a good article on a more complex (but more reliable method) on fpschultze.de with a much more detailed explanation.  In short you query the task list searching for the executable you're waiting for. As soon as it's not there you carry on with the batch file.  It also uses the ping method, but in a different manner.\n", "simquery2_title": "Can't use unichr in Python 3.1 I've been looking through the Python Cookbook (2nd Edition) to learn how to process strings and characters.I wanted to try converting a number into its Unicode equivalent. So I tried using the built-in function called 'unichr', which, according to the Cookbook, goes something like:<code>&gt;&gt;&gt; print repr(unichr(8224))</code>... and will output:<code>u'\\u2020'</code>However, the code failed. I thought it had something to do with print (because Python 3 uses print() instead of print &quot;&quot;), but that didn't work out as well. I tried several variations to the code, and it still failed. At long last, I just typed a simple line:<code>unichr(10000)</code>To my surprise, this error message kept popping up, no matter what value I put into the above function:<code> NameError: name 'unichr' is not defined</code>What could be the problem? Is there some specific module that I'm supposed to import?", "simquery2_answer": "I'd guess that your <code>category</code> column is a list of category values like \"12,34,45,78\" ?This is not good relational database design.  One reason it's not good is as you've discovered: it's incredibly slow to search for a substring that might appear in the middle of that list.Some people have suggested using fulltext search instead of the <code>LIKE</code> predicate with wildcards, but in this case it's simpler to create another table so you can list one category value per row, with a reference back to your <code>cute_news</code> table:<code>CREATE TABLE cute_news_category (\n  news_id INT NOT NULL,\n  category INT NOT NULL,\n  PRIMARY KEY (news_id, category),\n  FOREIGN KEY (news_id) REFERENCES cute_news(news_id)\n) ENGINE=InnoDB;\n</code>Then you can query and it'll go a lot faster:<code>SELECT n.`date`, n.title, c.category, n.url, n.comments \nFROM cute_news n\nJOIN cute_news_category c ON (n.news_id = c.news_id)\nWHERE c.category = 45 \nORDER BY n.`date` DESC\n</code>\n", "total_len": 307, "s1_total_len": 305, "s2_total_len": 578}
{"post_id": "231767", "title": "What does the \"yield\" keyword do in Python?", "query": "What is the use of the <code>yield</code> keyword in Python? What does it do?For example, I'm trying to understand this code1:<code>def _get_child_candidates(self, distance, min_dist, max_dist):    if self._leftchild and distance - max_dist &lt; self._median:        yield self._leftchild    if self._rightchild and distance + max_dist &gt;= self._median:        yield self._rightchild  </code>And this is the caller:<code>result, candidates = [], [self]while candidates:    node = candidates.pop()    distance = node._get_dist(obj)    if distance &lt;= max_dist and distance &gt;= min_dist:        result.extend(node._values)    candidates.extend(node._get_child_candidates(distance, min_dist, max_dist))return result</code>What happens when the method <code>_get_child_candidates</code> is called?Is a list returned? A single element? Is it called again? When will subsequent calls stop?1. This piece of code was written by Jochen Schulz (jrschulz), who made a great Python library for metric spaces. This is the link to the complete source: Module mspace. ", "acce_answer": "I have noticed in phpMyAdmin you can click 'optimise' on tables, and it runs:<code>OPTIMIZE TABLE table_name\n</code>What does this actually do?Should I have some cron job running daily that runs OPTIMIZE TABLE on my tables?Thank you\n", "acce_score": "12620", "simquery1_title": "What does Ruby have that Python doesn't, and vice versa? There is a lot of discussions of Python vs Ruby, and I all find them completely unhelpful, because they all turn around why feature X sucks in language Y, or that claim language Y doesn't have X, although in fact it does. I also know exactly why I prefer Python, but that's also subjective, and wouldn't help anybody choosing, as they might not have the same tastes in development as I do.It would therefore be interesting to list the differences, objectively. So no \"Python's lambdas sucks\". Instead explain what Ruby's lambdas can do that Python's can't. No subjectivity. Example code is good!Don't have several differences in one answer, please. And vote up the ones you know are correct, and down those you know are incorrect (or are subjective). Also, differences in syntax is not interesting. We know Python does with indentation what Ruby does with brackets and ends, and that @ is called self in Python.UPDATE: This is now a community wiki, so we can add the big differences here.Ruby has a class reference in the class bodyIn Ruby you have a reference to the class (self) already in the class body. In Python you don't have a reference to the class until after the class construction is finished.An example:<code>class Kaka  puts selfend</code>self in this case is the class, and this code would print out \"Kaka\". There is no way to print out the class name or in other ways access the class from the class definition body in Python (outside method definitions).All classes are mutable in RubyThis lets you develop extensions to core classes.  Here's an example of a rails extension:<code>class String  def starts_with?(other)    head = self[0, other.length]    head == other  endend</code>Python (imagine there were no <code>''.startswith</code> method):<code>def starts_with(s, prefix):    return s[:len(prefix)] == prefix</code>You could use it on any sequence (not just strings). In order to use it you should import it explicitly e.g., <code>from some_module import starts_with</code>.Ruby has Perl-like scripting featuresRuby has first class regexps, $-variables, the awk/perl line by line input loop and other features that make it more suited to writing small shell scripts that munge text files or act as glue code for other programs.Ruby has first class continuationsThanks to the callcc statement. In Python you can create continuations by various techniques, but there is no support built in to the language.Ruby has blocksWith the \"do\" statement you can create a multi-line anonymous function in Ruby, which will be passed in as an argument into the method in front of do, and called from there. In Python you would instead do this either by passing a method or with generators.Ruby:<code>amethod { |here|    many=lines+of+code    goes(here)}</code>Python (Ruby blocks correspond to different constructs in Python):<code>with amethod() as here: # `amethod() is a context manager    many=lines+of+code    goes(here)</code>Or<code>for here in amethod(): # `amethod()` is an iterable    many=lines+of+code    goes(here)</code>Or<code>def function(here):    many=lines+of+code    goes(here)amethod(function)     # `function` is a callback</code>Interestingly, the convenience statement in Ruby for calling a block is called \"yield\", which in Python will create a generator.Ruby:<code>def themethod    yield 5endthemethod do |foo|    puts fooend</code>Python:<code>def themethod():    yield 5for foo in themethod():    print foo</code>Although the principles are different, the result is strikingly similar.Ruby supports functional style (pipe-like) programming more easily<code>myList.map(&amp;:description).reject(&amp;:empty?).join(\"\\n\")</code>Python:<code>descriptions = (f.description() for f in mylist)\"\\n\".join(filter(len, descriptions))</code>Python has built-in generators (which are used like Ruby blocks, as noted above)Python has support for generators in the language. In Ruby 1.8 you can use the generator module which uses continuations to create a generator from a block. Or, you could just use a block/proc/lambda! Moreover, in Ruby 1.9 Fibers are, and can be used as, generators, and the Enumerator class is a built-in generator 4docs.python.org has this generator example:<code>def reverse(data):    for index in range(len(data)-1, -1, -1):        yield data[index]</code>Contrast this with the above block examples.Python has flexible name space handlingIn Ruby, when you import a file with <code>require</code>, all the things defined in that file will end up in your global namespace. This causes namespace pollution. The solution to that is Rubys modules. But if you create a namespace with a module, then you have to use that namespace to access the contained classes.In Python, the file is a module, and you can import its contained names with <code>from themodule import *</code>, thereby polluting the namespace if you want. But you can also import just selected names with <code>from themodule import aname, another</code> or you can simply <code>import themodule</code> and then access the names with <code>themodule.aname</code>. If you want more levels in your namespace you can have packages, which are directories with modules and an <code>__init__.py</code> file.Python has docstringsDocstrings are strings that are attached to modules, functions and methods and can beintrospected at runtime. This helps for creating such things as the help command andautomatic documentation.<code>def frobnicate(bar):    \"\"\"frobnicate takes a bar and frobnicates it       &gt;&gt;&gt; bar = Bar()       &gt;&gt;&gt; bar.is_frobnicated()       False       &gt;&gt;&gt; frobnicate(bar)       &gt;&gt;&gt; bar.is_frobnicated()       True    \"\"\"</code>Ruby's equivalent are similar to javadocs, and located above the method instead of within it.  They can be retrieved at runtime from the files by using 1.9's Method#source_location example usePython has multiple inheritanceRuby does not (\"on purpose\" -- see Ruby's website, see here how it's done in Ruby). It does reuse the module concept as a type of abstract classes.Python has list/dict comprehensionsPython:<code>res = [x*x for x in range(1, 10)]</code>Ruby:<code>res = (0..9).map { |x| x * x }</code>Python:<code>&gt;&gt;&gt; (x*x for x in range(10))&lt;generator object &lt;genexpr&gt; at 0xb7c1ccd4&gt;&gt;&gt;&gt; list(_)[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</code>Ruby:<code>p = proc { |x| x * x }(0..9).map(&amp;p)</code>Python 2.7+:<code>&gt;&gt;&gt; {x:str(y*y) for x,y in {1:2, 3:4}.items()}{1: '4', 3: '16'}</code>Ruby:<code>&gt;&gt; Hash[{1=&gt;2, 3=&gt;4}.map{|x,y| [x,(y*y).to_s]}]=&gt; {1=&gt;\"4\", 3=&gt;\"16\"}</code>Python has decoratorsThings similar to decorators can also be created in Ruby, and it can also be argued that they aren't as necessary as in Python.Syntax differencesRuby requires \"end\" or \"}\" to close all of its scopes, while Python uses white-space only.  There have been recent attempts in Ruby to allow for whitespace only indentation http://github.com/michaeledgar/seamless", "simquery1_answer": "Harold's answer pointed me in the right direction. This is a sketch on the way I implemented it (on a french legacy database, hence the slightly odd naming convention):<code>class Factures(models.Model):\n    idFacture = models.IntegerField(primary_key=True)\n    idLettrage = models.ForeignKey('Lettrage', db_column='idLettrage', null=True, blank=True)class Paiements(models.Model):\n    idPaiement = models.IntegerField(primary_key=True)\n    idLettrage = models.ForeignKey('Lettrage', db_column='idLettrage', null=True, blank=True)class Lettrage(models.Model):\n    idLettrage = models.IntegerField(primary_key=True)    def delete(self):\n        \"\"\"Dettaches factures and paiements from current lettre before deleting\"\"\"\n        self.factures_set.clear()\n        self.paiements_set.clear()\n        super(Lettrage, self).delete()\n</code>\n", "simquery2_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery2_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "total_len": 384, "s1_total_len": 2214, "s2_total_len": 629}
{"post_id": "237079", "title": "How do I get file creation and modification date/times?", "query": "What's the best cross-platform way to get file creation and modification dates/times, that works on both Linux and Windows?", "acce_answer": "I am trying to get the selected value of a drop down from JS to JSP. Below is the code:\n<code>function testOnChange(){\n    var type = jQuery(&quot;#rtl&quot;).val();\n     &lt;%\n        final String contx = WCCA.getDoc(&quot;Proj&quot;);\n     %&gt;\n     var newData = &lt;%=contx%&gt;;\n  }\n</code>\nHow do I get pass <code>type</code> to <code>getDoc()</code> method without form submit?\n", "acce_score": "1269", "simquery1_title": "Implement touch using Python? <code>touch</code> is a Unix utility that sets the modification and access times of files to the current time of day.  If the file doesn't exist, it is created with default permissions.How would you implement it as a Python function? Try to be cross platform and complete.(Current Google results for \"python touch file\" are not that great, but point to os.utime.)", "simquery1_answer": "<code>##abc.py\nimport lib\n</code>\n  <code>data = lib.bagwords(X)</code>\nThis above will throw an error because X is not defined, but at least it code demonstrates how to get <code>data</code> from the <code>lib.bagwords()</code> function.OK - from the comment (<code>\"No, X is defined in abc.py, my problem is: it'll have error: module lib has no attribute bagwords, i don't know why.\"</code>) is known that X is defined in <code>abc.py</code>, so there will be no error because of that  One possible reason for the error mentioned in the comment is if there is ANOTHER module named <code>lib</code> in the search path and it is found and loaded first. So how to avoid the error?Rename lib.py to myLibrary.py and use the code: <code>##abc.py\nimport myLibrary\n</code>\n  <code>data = myLibrary.bagwords(X)</code>\nI have tested that it works, so it should work also for you :) .\nHappy coding!\n", "simquery2_title": "From stat().st_mtime to datetime? What is the most idiomatic/efficient way to convert from a modification time retrieved from <code>stat()</code> call to a <code>datetime</code> object? I came up with the following (python3):<code>from datetime import datetime, timedelta, timezonefrom pathlib import Pathpath = Path('foo')path.touch()statResult = path.stat()epoch = datetime(1970, 1, 1, tzinfo=timezone.utc)modified = epoch + timedelta(seconds=statResult.st_mtime)print('modified', modified)</code>Seems round a bout, and a bit surprising that I have to hard code the Unix epoch in there. Is there a more direct way?", "simquery2_answer": "In your model define <code>$appends</code> property and add your custom attributes like<code>protected $appends = ['your_attribute_here'];\n</code>To set value for these custom attributes define accessor method <code>public function getYourAttributeHereAttribute()\n{\n    return \"some value or model attribute\";\n}\n</code>\n", "total_len": 181, "s1_total_len": 358, "s2_total_len": 263}
{"post_id": "251464", "title": "How to get a function name as a string?", "query": "How do I get a function's name as a string?<code>def foo():    pass&gt;&gt;&gt; name_of(foo)&quot;foo&quot;</code>", "acce_answer": "ref is in and out.You should use <code>out</code> in preference wherever it suffices for your requirements.\n", "acce_score": "1034", "simquery1_title": "What is __qualname__ in python? What is <code>__qualname__</code> in python and how is it useful?Why would I need to use it over <code>__name__</code>?I read the docs, but they didn't help me get a clear understanding on it's usefulness.I have read Get fully qualified name of a Python class (Python 3.3+).That question asks \"how to get a qualified name\", which presumes that one knows the meaning of \"qualified name\". Obviously, the answer to that question is to use the <code>__qualname__</code> attribute.My question asks what <code>__qualname__</code> is, and why should I use it over <code>__name__</code>.", "simquery1_answer": "I am trying to solve a metaclass conflict:\n<code>&gt;&gt;&gt; class A(B, C):\n...   pass\n...\nTypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases\n</code>\nIn order to do so, I want to set the metaclass of the class that I'm creating with the <code>type</code> builtin function. In a class statement I'd do it like this:\n<code>def merged(*parents):\n  return type(&quot;meta&quot;, tuple(type(p) for p in parents), {})class A(B, C, metaclass=merged(B, C)):\n  pass\n</code>\nFrom the docs:Keyword arguments provided to the three argument form are passed to the appropriate metaclass machinery (usually <code>__init_subclass__()</code>) in the same way that keywords in a class definition (besides metaclass) would.And indeed, the following still raises the same <code>TypeError</code>:\n<code>def merged(*parents)\nA = type(&quot;A&quot;, (B, C), {}, metaclass=merged(B, C))\n</code>\nHow then can I pass the metaclass?\n", "simquery2_title": "Determine function name from within that function (without using traceback) In Python, without using the <code>traceback</code> module, is there a way to determine a function's name from within that function?Say I have a module <code>foo</code> with a function <code>bar</code>.  When executing <code>foo.bar()</code>, is there a way for <code>bar</code> to know <code>bar</code>'s name?  Or better yet, <code>foo.bar</code>'s name?<code>#foo.py  def bar():    print &quot;my name is&quot;, __myname__ # &lt;== how do I calculate this at runtime?</code>", "simquery2_answer": "can you try this? <code>      connection.store( uid , \"+FLAGS\", [:DELETED]) \n      ...\n      connection.expunge()\n</code>e.g. \"store\" instead of \"uid_store\" ? I'm not using Horde, but the above line is working for me for several IMAP servers.Also make sure that you call connection.expunge on the mailbox where you flagged the messages for deletion..!e.g. look at the net/imap API for #expunge:\nhttp://www.ruby-doc.org/stdlib/libdoc/net/imap/rdoc/classes/Net/IMAP.html#M001441\n", "total_len": 85, "s1_total_len": 489, "s2_total_len": 334}
{"post_id": "252703", "title": "What is the difference between Python's list methods append and extend?", "query": "What's the difference between the list methods <code>append()</code> and <code>extend()</code>?", "acce_answer": "I've seen on the  internet quite a few examples of binding a boolean to the Visibility property of a control in XAML. Most of the good examples use a BooleanToVisibiliy converter.I'd like to just set the Visible property on the control to bind to a System.Windows.Visibility property in the code-behind, but it doesn't seem to want to work.This is my XAML:<code>&lt;Grid x:Name=\"actions\" Visibility=\"{Binding Path=ActionsVisible, UpdateSourceTrigger=PropertyChanged}\" /&gt;\n</code>This is the code for the property:<code>private Visibility _actionsVisible;\npublic Visibility ActionsVisible\n{\n   get\n   {\n      return _actionsVisible;\n   }\n   set\n   {\n      _actionsVisible = value;\n   }\n}\n</code>In the constructor of the Window, I also have this call:<code>base.DataContext = this;\n</code>When I update either ActionsVisible or this.actions.Visibility, the state doesn't transfer. Any ideas to what might be going wrong?\n", "acce_score": "3112", "simquery1_title": "How to append multiple values to a list in Python I am trying to figure out how to append multiple values to a list in Python. I know there are few methods to do so, such as manually input the values, or put the append operation in a <code>for</code> loop, or the <code>append</code> and <code>extend</code> functions.However, I wonder if there is neater way to do so? Maybe a certain package or function?", "simquery1_answer": "If by 'end this event' you mean 'remove the event listener' you can use map.off() <code>function onDragend(e) { sortBinis(simpleFilterSql); }$('#updateTheMap').click(function() {\n        if (document.getElementById('updateMap').checked) {\n            map.off('dragend', onDragend); \n        }\n        else {\n            map.on('dragend', onDragend); \n        }\n    });\n</code>\n", "simquery2_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery2_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "total_len": 297, "s1_total_len": 218, "s2_total_len": 337}
{"post_id": "256222", "title": "Which exception should I raise on bad/illegal argument combinations in Python?", "query": "I was wondering about the best practices for indicating invalid argument combinations in Python. I've come across a few situations where you have a function like so:<code>def import_to_orm(name, save=False, recurse=False):    \"\"\"    :param name: Name of some external entity to import.    :param save: Save the ORM object before returning.    :param recurse: Attempt to import associated objects as well. Because you        need the original object to have a key to relate to, save must be        `True` for recurse to be `True`.    :raise BadValueError: If `recurse and not save`.    :return: The ORM object.    \"\"\"    pass</code>The only annoyance with this is that every package has its own, usually slightly differing <code>BadValueError</code>. I know that in Java there exists <code>java.lang.IllegalArgumentException</code> -- is it well understood that everybody will be creating their own <code>BadValueError</code>s in Python or is there another, preferred method?", "acce_answer": "Save jQuery Objects in Variables for Reuse\nSaving a jQuery object to a variable lets you reuse it without having to search back through the DOM to find it.\n(As @Louis suggested, I now use $ to indicate that a variable holds a jQuery object.)\n<code>// Bad: searching the DOM multiple times for the same elements\n$('div.foo').each...\n$('div.foo').each...// Better: saving that search for re-use\nvar $foos = $('div.foo');\n$foos.each...\n$foos.each...\n</code>\nAs a more complex example, say you've got a list of foods in a store, and you want to show only the ones that match a user's criteria. You have a form with checkboxes, each one containing a criteria. The checkboxes have names like <code>organic</code> and <code>lowfat</code>, and the products have corresponding classes - <code>.organic</code>, etc.\n<code>var $allFoods, $matchingFoods;\n$allFoods = $('div.food');\n</code>\nNow you can keep working with that jQuery object. Every time a checkbox is clicked (to check or uncheck), start from the master list of foods and filter down based on the checked boxes:\n<code>// Whenever a checkbox in the form is clicked (to check or uncheck)...\n$someForm.find('input:checkbox').click(function(){  // Start out assuming all foods should be showing\n  // (in case a checkbox was just unchecked)\n  var $matchingFoods = $allFoods;  // Go through all the checked boxes and keep only the foods with\n  // a matching class \n  this.closest('form').find(&quot;input:checked&quot;).each(function() {  \n     $matchingFoods = $matchingFoods.filter(&quot;.&quot; + $(this).attr(&quot;name&quot;)); \n  });  // Hide any foods that don't match the criteria\n  $allFoods.not($matchingFoods).hide();\n});\n</code>\n", "acce_score": "789", "simquery1_title": "Django ORM - objects.filter() vs. objects.all().filter() - which one is preferred? Very often I see constructs like <code>MyModel.objects.all().filter(...)</code>which will return a QuerySet of the default Mananger. At first <code>all()</code> seems to be quite redundant, because<code>MyMode.objects.filter(...)</code>delivers the same result.However, this seems to be safe for the default Manager only, because of the following two statements in the Django documentation:Excerpt from the Chapter \"Adding extra manager methods\"  A custom Manager method can return anything you want. It doesn\u2019t have  to return a QuerySet.Definition of the <code>all()</code> manager method:  all()   Returns a copy of the current QuerySet (or QuerySet subclass).  This can be useful in situations where you might want to pass in  either a model manager or a QuerySet and do further filtering on the  result. After calling all() on either object, you\u2019ll definitely have a  QuerySet to work with.This seems a bit like a contradiction to me. On one hand Django offers the freedom to let a manager method return whatever object type is preferred and on the other hand it requires a QuerySet for the <code>all()</code> method. I'm aware that each manager has a <code>get_queryset</code> method which is called by <code>all()</code>. But who stops me from overriding <code>all()</code> in my custom manager? Although I agree it would be bad design to do so.So as far as I can see, the <code>all()</code> method does not guarantee to return a QuerySet. What exactly does <code>MyModel.objects</code> return? Does this statement call <code>all()</code>? or `get_queryset()?Do you prefer <code>MyModel.objects.filter(...)</code> or <code>MyModel.objects.all().filter(...)</code>. And if so, why?Have you ever encountered wonky managers that would mess with those methods in a undesirable way?", "simquery1_answer": "I have the following code in PHP,<code>&lt;?php\nob_start();\n$valid_passwords = array (\"matrixUlt\" =&gt; \"$ecurEh1FIVE\");\n$valid_users = array_keys($valid_passwords);\n$user = $pass = null;\nif(isset($_SERVER['PHP_AUTH_USER']) &amp;&amp; isset($_SERVER['PHP_AUTH_PW']))\n{\n    $user = $_SERVER['PHP_AUTH_USER'];\n    $pass = $_SERVER['PHP_AUTH_PW'];\n}\n$validated = (in_array($user, $valid_users)) &amp;&amp; ($pass == $valid_passwords[$user]);\nif(!$validated)\n{\nheader('WWW-Authenticate: Basic realm=\"You need to be authenticated to access the resource!\"');\nheader('HTTP/1.0 401 Unauthorized');\nexit(\"Not authorized\");\necho ob_get_clean();\n}\n</code>This works correctly in localhost when this [(\"matrixUlt\" => \"$ecurEh1FIVE\"] username:password is given. But keeps showing auth dialog in LIVE server / production enviroment. Any ideas why this is not working?\n", "simquery2_title": "Using Flask-SQLAlchemy in Blueprint models without reference to the app I'm trying to create a &quot;modular application&quot; in Flask using Blueprints.When creating models, however, I'm running into the problem of having to reference the app in order to get the <code>db</code>-object provided by Flask-SQLAlchemy. I'd like to be able to use some blueprints with more than one app (similar to how Django apps can be used), so this is not a good solution.*It's possible to do a switcharoo, and have the Blueprint create the <code>db</code> instance, which the app then imports together with the rest of the blueprint. But then, any other blueprint wishing to create models need to import from that blueprint instead of the app.My questions are thus:Is there a way to let Blueprints define models without any awareness of the app they're being used in later -- and have several Blueprints come together? By this, I mean having to import the app module/package from your Blueprint.Am I wrong from the outset? Are Blueprints not meant to be independent of the app and be redistributable (\u00e0 la Django apps)?If not, then what pattern should you use to create something like that? Flask extensions? Should you simply not do it -- and maybe centralize all models/schemas \u00e0 la Ruby on Rails?Edit: I've been thinking about this myself now, and this might be more related to SQLAlchemy than Flask because you have to have the <code>declarative_base()</code> when declaring models. And that's got to come from somewhere, anyway!Perhaps the best solution is to have your project's schema defined in one place and spread it around, like Ruby on Rails does. Declarative SQLAlchemy class definitions are really more like schema.rb than Django's models.py. I imagine this would also make it easier to use migrations (from alembic or sqlalchemy-migrate).I was asked to provide an example, so let's do something simple: Say I have a blueprint describing &quot;flatpages&quot; -- simple, &quot;static&quot; content stored in the database. It uses a table with just shortname (for URLs), a title and a body. This is <code>simple_pages/__init__.py</code>:<code>from flask import Blueprint, render_templatefrom .models import Pageflat_pages = Blueprint('flat_pages', __name__, template_folder='templates')@flat_pages.route('/&lt;page&gt;')def show(page):    page_object = Page.query.filter_by(name=page).first()    return render_template('pages/{}.html'.format(page), page=page_object)</code>Then, it would be nice to let this blueprint define its own model (this in <code>simple_page/models.py</code>):<code># TODO Somehow get ahold of a `db` instance without referencing the app# I might get used in!class Page(db.Model):    name = db.Column(db.String(255), primary_key=True)    title = db.Column(db.String(255))    content = db.Column(db.String(255))    def __init__(self, name, title, content):        self.name = name        self.title = title        self.content = content</code>This question is related to:Flask-SQLAlchemy import/context issueWhat&#39;s your folder layout for a Flask app divided in modules?And various others, but all replies seem to rely on import the app's <code>db</code> instance, or doing the reverse. The &quot;Large app how to&quot; wiki page also uses the &quot;import your app in your blueprint&quot; pattern.* Since the official documentation shows how to create routes, views, templates and assets in a Blueprint without caring about what app it's &quot;in&quot;, I've assumed that Blueprints should, in general, be reusable across apps. However, this modularity doesn't seem that useful without also having independent models.Since Blueprints can be hooked into an app more than once, it might simply be the wrong approach to have models in Blueprints?", "simquery2_answer": "I guess you could do something like the following, not sure if it's better or not:<code>class PropertyManagersController &lt; ApplicationController\n  before_filter :find_company  def new\n    @property_manager = @company.property_managers.build\n  end  def create\n    @property_manager = @company.property_managers.build(params[:property_manager])\n    respond_to do |format|\n      ...\n    end\n  end  private  def find_company\n    @company ||= Company.find(params[:company_id])\n  endend\n</code>\n", "total_len": 764, "s1_total_len": 773, "s2_total_len": 1133}
{"post_id": "265960", "title": "Best way to strip punctuation from a string", "query": "It seems like there should be a simpler way than:<code>import strings = \"string. With. Punctuation?\" # Sample string out = s.translate(string.maketrans(\"\",\"\"), string.punctuation)</code>Is there?", "acce_answer": "There are a variety of characters that are not legally encodeable in XML 1.0, e.g. <code>U+0007</code> ('bell') and <code>U+001B</code> ('escape'). Most of the interesting ones are non-whitespace 'control' characters.  It's clear from (e.g.) this question and others that it's the XML spec that's the issue -- but can anyone illuminate me as to why the XML spec forbids these characters? It seems like it could have been required that they be encoded in escapes, e.g. as <code>&amp;#x0007;</code> and <code>&amp;#x001B;</code> respectively, but perhaps there's a practical reason that the characters were forbidden rather than required to be escaped?Answerers have suggested that there is some motivation towards avoiding transmission control characters, but Unicode includes many other control-like characters (consider <code>U+200C</code> \"zero width non joiner\"). I recognize there may be no good reason for this behavior, but I would still like to understand it better.It's particularly frustrating because when those character values appear in other encodings data formats, I end up \"double-escaping\" new XML documents that need to encode this.\n", "acce_score": "818", "simquery1_title": "Passing a function to re.sub in Python I have strings that contain a number somewhere in them and I'm trying to replace this number with their word notation (ie. 3 -> three). I have a function that does this. The problem now is finding the number inside the string, while keeping the rest of the string intact. For this, I opted to use the <code>re.sub</code> function, which can accept a \"callable\". However, the object passed to it is the internal <code>_sre.SRE_Match</code> and I'm not sure how to handle it. My function accepts a number or its string representation.How should I write some helper function which can be used to bridge the <code>re.sub</code> call with my function doing the required processing? Alternatively, is there a better way to do what I want?", "simquery1_answer": "In registrationform, i need to display Admin in the interface that's why i put this code but the result is Expected Litteral got'\"':<code>$builder-&gt;add(\n        'type','entity', array\n                 (\n                'attr'=&gt;array('class'=&gt;\"form-control\",'data-type'=&gt;'type'),\n                'class'    =&gt; 'PublishDemandsBundle:Type',\n                'property' =&gt; 'name',\n                'multiple' =&gt; false,\n                'empty_value' =&gt; 'Select Type',\n                'query_builder'=&gt;function(EntityRepository $er) \n                 {\n                  return $er-&gt;createQueryBuilder('u')\n                  -&gt;andWhere('u.name != \"Admin\" ')                  ;\n                 }\n                 ));\n</code>\n", "simquery2_title": "Replace all quotes in a string with escaped quotes? Given a string in python, such as:<code>s = 'This sentence has some \"quotes\" in it\\n'</code>I want to create a new copy of that string with any quotes escaped (for further use in Javascript). So, for example, what I want is to produce this:<code>'This sentence has some \\\"quotes\\\" in it\\n'</code>I tried using <code>replace()</code>, such as:<code>s.replace('\"', '\\\"')</code>but that returns the same string. So then I tried this:<code>s.replace('\"', '\\\\\"')</code>but that returns double-escaped quotes, such as:<code>'This sentence has some \\\\\"quotes\\\\\" in it.\\n'</code>How to replace <code>\"</code> with <code>\\\"</code>?UPDATE:I need as output from this copyable text that shows both the quotes and the newlines as escaped.  In other words, I want to be able to copy:<code>'This sentence has some \\\"quotes\\\" in it.\\n'</code>If I use the raw string and <code>print</code> the result I get the correctly escaped quote, but the escaped newline doesn't print. If I don't use <code>print</code> then I get my newlines but double-escaped quotes. How can I create a string I can copy that shows both newline and quote escaped?", "simquery2_answer": "Hi I want share text in LinkedIn through my app. My code is below here...This method when I click the btn linkedIn share..<code> - (void)linkedBtnEvent\n    {\n    if(oAuthLoginView != nil) {        oAuthLoginView.delegate = nil;\n        oAuthLoginView = nil;\n    }    oAuthLoginView = [[OAuthLoginView alloc] initWithNibName:nil bundle:nil];\n    oAuthLoginView.delegate=self;    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(loginViewDidFinish:)\n                                                 name:@\"loginViewDidFinish\"\n                                               object:self.oAuthLoginView];    [self presentViewController:self.oAuthLoginView animated:YES completion:nil];\n}\n</code>This are the method to handle share after login..<code>-(void) loginViewDidFinish:(NSNotification*)notification\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self];    [self profileApiCall];\n}- (void)profileApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(profileApiCallResult:didFinish:)\n                  didFailSelector:@selector(profileApiCallResult:didFail:)];    }- (void)profileApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    NSString *responseBody = [[NSString alloc] initWithData:data\n                                                   encoding:NSUTF8StringEncoding];    NSDictionary *profile = [responseBody objectFromJSONString];    if ( profile )\n    {\n        NSLog(@\"%@\", [[NSString alloc] initWithFormat:@\"%@ %@\",\n                      [profile objectForKey:@\"firstName\"], [profile objectForKey:@\"lastName\"]]);\n    }    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)profileApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)networkApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/network/updates?scope=self&amp;count=1&amp;type=STAT\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(networkApiCallResult:didFinish:)\n                  didFailSelector:@selector(networkApiCallResult:didFail:)];    }- (void)networkApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    if (isSharedLinked)\n    {\n        NSLog(@\"Shared Successfully\");\n        linkedBtn.enabled = NO;\n    }\n    else\n    {\n        isSharedLinked = YES;\n        [self performSelector:@selector(postTextLinkedIn) withObject:nil afterDelay:1];\n    }\n}- (void)networkApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)postTextLinkedIn\n{    \n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/shares\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            [[NSDictionary alloc] \n                             initWithObjectsAndKeys:\n                             @\"anyone\",@\"code\",nil], @\"visibility\", \n                            @\"Wow its working... Share the text in Linked In\", @\"comment\", nil];    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    NSString *updateString = [update JSONString];    [request setHTTPBodyWithString:updateString];\n    [request setHTTPMethod:@\"POST\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)\n                  didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    \n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}\n</code>It shows no error it always haow it share successfully in LinkedIn but no text share in that.. \nPlease help me to fix this issue... I cant figure what mistake I done..\n", "total_len": 374, "s1_total_len": 404, "s2_total_len": 1760}
{"post_id": "303200", "title": "How do I remove/delete a folder that is not empty?", "query": "I am getting an 'access is denied' error when I attempt to delete a folder that is not empty. I used the following command in my attempt: <code>os.remove(\"/folder_name\")</code>. What is the most effective way of removing/deleting a folder/directory that is not empty?", "acce_answer": "I used it sometimes when the first iteration do something different from others.For example, if you want to print members to console and separate results by line, you can write.<code>using (IEnumerator&lt;MyClass&gt; classesEnum = myClasses.GetEnumerator()) {\n    if (classEnum.MoveNext())\n        Console.WriteLine(classesEnum.Current);\n    while (classesEnum.MoveNext()) {\n        Console.WriteLine(\"-----------------\");\n        Console.WriteLine(classesEnum.Current);\n    }\n}\n</code>Then the result is<code>myClass 1\n-----------------\nmyClass 2\n-----------------\nmyClass 3\n</code>And another situation is when I iterate 2 enumerators together.<code>using (IEnumerator&lt;MyClass&gt; classesEnum = myClasses.GetEnumerator()) {\n    using (IEnumerator&lt;MyClass&gt; classesEnum2 = myClasses2.GetEnumerator()) {\n        while (classesEnum.MoveNext() &amp;&amp; classEnum2.MoveNext())\n            Console.WriteLine(\"{0}, {1}\", classesEnum.Current, classesEnum2.Current);\n    }\n}\n</code>result<code>myClass 1, myClass A\nmyClass 2, myClass B\nmyClass 3, myClass C\n</code>Using enumerator allows you to do more flexible on your iteration. But in most case, you can use foreach\n", "acce_score": "1075", "simquery1_title": "os.mkdir(path) returns OSError when directory does not exist I am calling <code>os.mkdir</code> to create a folder with a certain set of generated data. However, even though the path I specified has not been created, the <code>os.mkdir(path)</code> raises an OSError that the path already exists.For example, I call:<code>os.mkdir(test)</code>This call results in <code>OSError: [Errno 17] File exists: 'test'</code> even though I don't have a test directory or a file named test anywhere.NOTE: the actual path name I use is not \"test\" but something more obscure that I'm sure is not named anywhere.Help, please?", "simquery1_answer": "I does not set them to empty but to the ASCII values 0 - 9, which is very different from the characters '0' - '9'.What you want:<code>for(int i = 0; i &lt; arr.Length; i++) \n{\n   arr[i] = (char)(i + '0');\n}\n</code>And by the way, \nyou don't need <code>ref</code> here, arrays are reference types. \nusing <code>arr.Length</code> is more legible and probably faster", "simquery2_title": "How to uninstall a package installed with pip install --user There is a <code>--user</code> option for pip which can install a Python package per user:<code>pip install --user [python-package-name]</code>I used this option to install a package on a server for which I do not have root access. What I need now is to uninstall the installed package on the current user. I tried to execute this command:<code>pip uninstall --user [python-package-name]</code>But I got:<code>no such option: --user</code>How can I uninstall a package that I installed with <code>pip install --user</code>, other than manually finding and deleting the package?I've found this article pip cannot uninstall from per-user site-packages directorywhich describes that uninstalling packages from user directory does not supported. According to the article if it was implemented correctly then with<code>pip uninstall [package-name]</code>the package that was installed will be also searched in user directories. But a problem still remains for me. What if the same package was installed both system-wide and per-user?What if someone needs to target a specific user directory?", "simquery2_answer": "A bit late...You should have a .tex file with the tikz code of your plot in <code>C:\\Users\\cgmil\\AppData\\Local\\Temp\\Rtmp6FouwP/</code>. Just replace the last two lines <code>\\makeatletter\n\\@@end\n</code>by<code>\\end{document}\n\\end{tikzpicture}\n</code>Then compile the document. New packages will be installed and it should works.\n", "total_len": 419, "s1_total_len": 303, "s2_total_len": 362}
{"post_id": "306400", "title": "How can I randomly select an item from a list?", "query": "How do I retrieve an item at random from the following list?<code>foo = ['a', 'b', 'c', 'd', 'e']</code>", "acce_answer": "There are some oddities in your code... But it seems that you should add a @MapKey annotation in Entity1:<code>(snippet)\n@OneToMany(mappedBy = \"e1\", fetch = FetchType.EAGER)\n@MapKey(name=\"iCantFigureTheRightPropertyName\")\npublic Map&lt;String, Entity2&gt; getE2s() {  \n    return e2s;  \n}  \n</code>\n", "acce_score": "2313", "simquery1_title": "How do I pick 2 random items from a Python set? I currently have a Python set of n size where n >= 0.  Is there a quick 1 or 2 lines Python solution to do it?  For example, the set will look like:<code>fruits = set(['apple', 'orange', 'watermelon', 'grape'])</code>The goal is to pick 2 random items from the above and it's possible that the above set can contain 0, 1 or more items.  The only way I can think of doing the above is to convert the set to a list(mutable) from where I can access 2 random unique index within the length of the set.", "simquery1_answer": "I have a C executable (named myprogram). When I run it by <code>./myprogram</code> I get some output statements on the standard output of my Linux shell.I used run.php to get access to whatever is being printed to the standard output:<code>#run.php\n&lt;?php\n$output = shell_exec('./myprogram');\necho $output;\n?&gt;\n</code>Then I called an HTTPService having id=\"service\" to access this run.php file and I also set the text attribute of a TextArea to {service.lastResult}. When I run my Flex app, the interface kind of halts for a moment and then the TextArea displays all the 20 lines at once.But if program is run from Linux shell they appear one by one.Is there a way by which I can display a line as soon as it gets printed to standard output? This will then make the TextArea show the output in real time.Or is Flex unable to do this? Rather how can a PHP program achieve such effect i.e. showing, whatever is being printed on standard output, concurrently in the browser in real time?Update:\nLet's make the question little more specific and/or simple.myprogram outputs 20 lines each after some microseconds. I want only the first line of standard output to appear in TextArea of Flex or in the browser (but in real time) while the program may then continue running the program.Doesn't look like simple :P\n", "simquery2_title": "Generate a random letter in Python Is there a way to generate random letters in Python (like random.randint but for letters)? The range functionality of random.randint would be nice but having a generator that just outputs a random letter would be better than nothing.", "simquery2_answer": "I have an anchor tag in my table header and it calls a controller method. I used this,<code>&lt;th width=\"15%\" align=\"center\" class=\"grid_header\"&gt;Category\n  &lt;?=anchor('customer/basic/'.$keyword.'/Category/'.$this-&gt;customerlist-&gt;\n fieldTest('dbCategory', $sort_field, $sort_order), 'Category')?&gt;&lt;/th&gt;\n</code>and i have this method,<code> function Basic($keyword = $this-&gt;input-&gt;post('keyword'),$sort_field = 'default_field',$sort_order = 'default_order')\n    {\n        //Using form input to determine what fields to search in the table with $keyword        $section = $this-&gt;input-&gt;post('section');\n        //Start prepping the query\n        foreach($section as $key =&gt; $tbl_field) \n        {\n            //For first field generate 'like' statement, the rest get 'or_like'\n            if($key == 0) {$this-&gt;db-&gt;like($tbl_field, $keyword); }\n            if($key &gt; 0) { $this-&gt;db-&gt;or_like($tbl_field, $keyword); }\n        }\n        //Perform the query, and set the results as an array\n        $query = $this-&gt;db-&gt;get('tbl_customer');\n        $result = $query-&gt;result_array;\n        //Sort the Array\n        $result = $this-&gt;customerlist-&gt;orderBy($result, $sort_field, $sort_order);\n        $data['customerdata'] = (object)$result;  //I like to work with objects in my views\n        print_r($data['customerdata']);\n        //Load the view with the sorted search results\n        $data['keyword']=$keyword;        //\n        $data['sort_field']=$sort_field;  // send these to the view for sorting links\n        $data['sort_order']=$sort_order;   //\n        $this-&gt;load-&gt;view('customerdetails', $data);\n   } \n</code>I get the error <code>Parse error: syntax error, unexpected T_VARIABLE</code> in the line <code>function Basic($keyword = $this-&gt;input-&gt;post('keyword'),$sort_field = \n                    'default_field',$sort_order = 'default_order')\n</code>Any suggestion...EDIT:\nSource: http://codeigniter.com/forums/viewthread/112696/#571876\n", "total_len": 162, "s1_total_len": 489, "s2_total_len": 707}
{"post_id": "308999", "title": "What does functools.wraps do?", "query": "In a comment on this answer to another question, someone said that they weren't sure what <code>functools.wraps</code> was doing. So, I'm asking this question so that there will be a record of it on StackOverflow for future reference: what does <code>functools.wraps</code> do, exactly?", "acce_answer": "It's an interesting idea, but apart from the drawbacks already pointed out, it would also not allow you to define an exception hierarchy: suppose that you want to define<code>class InvalidArgumentException {};\nclass NullPointerException : public InvalidArgumentException {};\n</code>then a TemplatedException&lt;NullPointerException&gt; would not inherit from TemplatedException&lt;InvalidArgumentException&gt;, and your exception handling mechanism might end up being more clumsy than the \"plain\" one.\n", "acce_score": "938", "simquery1_title": "__init__ vs __enter__ in context managers As far as I understand, <code>__init__()</code> and <code>__enter__()</code> methods of the context manager are called exactly once each, one after another, leaving no chance for any other code to be executed in between. What is the purpose of separating them into two methods, and what should I put into each?Edit: sorry, wasn't paying attention to the docs.Edit 2: actually, the reason I got confused is because I was thinking of <code>@contextmanager</code> decorator. A context manager created using <code>@contextmananger</code> can only be used once (the generator will be exhausted after the first use), so often they are written with the constructor call inside <code>with</code> statement; and if that was the only way to use <code>with</code> statement, my question would have made sense. Of course, in reality, context managers are more general than what <code>@contextmanager</code> can create; in particular context managers can, in general, be reused. I hope I got it right this time?", "simquery1_answer": "You could use a log link function to do this. Try using <code>glm()</code> specifying a log link.\n", "simquery2_title": "What is the purpose of class methods? I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions.I now realise that I don't need to use Class methods for what I would done with <code>static</code> methods in Java, but now I'm not sure when I would use them.  All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them.Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?", "simquery2_answer": "Gonna post an answer to my own question here as I read the manual after I typed this up.  In TortoiseSVN, goto settings.  Add <code>*ReSharper*\n</code>to the \"Global ignore pattern\".  Adding items to the global ignore pattern means that these files will be ignored for any project you work on for the client with TortoiseSVN installed, so it might not be appropriate to use the global ignore in all cases.You can also add specific files and directories to the ignore list for individual projects if you select this from the TortoiseSVN menu BEFORE they have been added to your repository.  The \"BEFORE\" part is what tripped me up originally.  Since this is a single developer project, I've been checking in binaries, etc. b/c it has no consequence for other developers, and the Resharper files got in there.\n", "total_len": 209, "s1_total_len": 286, "s2_total_len": 365}
{"post_id": "311627", "title": "How to print a date in a regular format?", "query": "This is my code:<code>import datetimetoday = datetime.date.today()print(today)</code>This prints: <code>2008-11-22</code> which is exactly what I want.But, I have a list I'm appending this to and then suddenly everything goes \"wonky\". Here is the code:<code>import datetimemylist = []today = datetime.date.today()mylist.append(today)print(mylist)</code>This prints the following: <code>[datetime.date(2008, 11, 22)]</code>How can I get just a simple date like <code>2008-11-22</code>?", "acce_answer": "From here, this is some sql that will work for you:<code>SELECT entityID\nFROM tags\nWHERE tagID in (...) --taglist\nGROUP BY entityID\nHAVING COUNT(DISTINCT tagID) = ... --tagcount\n</code>Now the trick is getting Linq to produce it...  Here's some LinqToSql code:<code>public List&lt;int&gt; GetEntityIds(List&lt;int&gt; tagIds)\n{\n  int tagCount = tagIds.Count;  CustomDataContext myDC = new CustomDataContext();  List&lt;int&gt; entityIds = myDC.Tags\n    .Where(t =&gt; tagIds.Contains(t.TagId))\n    .GroupBy(t =&gt; t.entityId)\n    .Where(g =&gt; g.Select(t =&gt; t.TagId).Distinct().Count() == tagCount)\n    .Select(g =&gt; g.Key)  return entityIds;\n}\n</code>A few caveats apply:\nList(T).Contains is translated by LinqToSql, but LinqToEntities will not translate it.  You will instead get a runtime exception.\nIList.Contains... nobody translates that.  Use List(T) instead.\nThere is a parameter count limit in effect for sql server.  It's approximately 2000 parameters (higher, but lower than 2500).  If you need to use more than 2000 tags, you should seek a different solution.\nI wrote this without tools, after midnight.  It's probably not perfect.", "acce_score": "809", "simquery1_title": "Check if string has date, any format How do I check if a string can be parsed to a date?Jan 19, 1990January 19, 1990Jan 19,199001/19/199001/19/901990Jan 1990January1990These are all valid dates. If there's any concern regarding the lack of space in between stuff in item #3 and the last item above, that can be easily remedied via automatically inserting a space in between letters/characters and numbers, if so needed.But first, the basics:I tried putting it in an <code>if statement</code>:<code>if datetime.strptime(item, '%Y') or datetime.strptime(item, '%b %d %y') or datetime.strptime(item, '%b %d %Y')  or datetime.strptime(item, '%B %d %y') or datetime.strptime(item, '%B %d %Y'):</code>But that's in a try-except block, and keeps returning something like this:<code>16343 time data 'JUNE1890' does not match format '%Y'</code>Unless, it met the first condition in the <code>if</code> statement.To clarify, I don't actually need the value of the date - I just want to know if it is. Ideally, it would've been something like this:<code>if item is date:    print dateelse:    print &quot;Not a date&quot;</code>Is there any way to do this?", "simquery1_answer": "Here are two suggestion.For all the names:\nGives number of times the names are repeated. <code>SELECT count(name) FROM persons GROUP BY name; \n</code>Specifically for the jake:<code>SELECT count(name) FROM persons WHERE name = \"Jake\";\n</code>\n", "simquery2_title": "How to print a date in a regular format? This is my code:<code>import datetimetoday = datetime.date.today()print(today)</code>This prints: <code>2008-11-22</code> which is exactly what I want.But, I have a list I'm appending this to and then suddenly everything goes \"wonky\". Here is the code:<code>import datetimemylist = []today = datetime.date.today()mylist.append(today)print(mylist)</code>This prints the following: <code>[datetime.date(2008, 11, 22)]</code>How can I get just a simple date like <code>2008-11-22</code>?", "simquery2_answer": "From here, this is some sql that will work for you:<code>SELECT entityID\nFROM tags\nWHERE tagID in (...) --taglist\nGROUP BY entityID\nHAVING COUNT(DISTINCT tagID) = ... --tagcount\n</code>Now the trick is getting Linq to produce it...  Here's some LinqToSql code:<code>public List&lt;int&gt; GetEntityIds(List&lt;int&gt; tagIds)\n{\n  int tagCount = tagIds.Count;  CustomDataContext myDC = new CustomDataContext();  List&lt;int&gt; entityIds = myDC.Tags\n    .Where(t =&gt; tagIds.Contains(t.TagId))\n    .GroupBy(t =&gt; t.entityId)\n    .Where(g =&gt; g.Select(t =&gt; t.TagId).Distinct().Count() == tagCount)\n    .Select(g =&gt; g.Key)  return entityIds;\n}\n</code>A few caveats apply:\nList(T).Contains is translated by LinqToSql, but LinqToEntities will not translate it.  You will instead get a runtime exception.\nIList.Contains... nobody translates that.  Use List(T) instead.\nThere is a parameter count limit in effect for sql server.  It's approximately 2000 parameters (higher, but lower than 2500).  If you need to use more than 2000 tags, you should seek a different solution.\nI wrote this without tools, after midnight.  It's probably not perfect.", "total_len": 564, "s1_total_len": 458, "s2_total_len": 562}
{"post_id": "373335", "title": "How do I get a Cron like scheduler in Python?", "query": "I'm looking for a library in Python which will provide <code>at</code> and <code>cron</code> like functionality.I'd quite like have a pure Python solution, rather than relying on tools installed on the box; this way I run on machines with no cron.For those unfamiliar with <code>cron</code>: you can schedule tasks based upon an expression like: <code> 0 2 * * 7 /usr/bin/run-backup # run the backups at 0200 on Every Sunday 0 9-17/2 * * 1-5 /usr/bin/purge-temps # run the purge temps command, every 2 hours between 9am and 5pm on Mondays to Fridays.</code>The cron time expression syntax is less important, but I would like to have something with this sort of flexibility. If there isn't something that does this for me out-the-box, any suggestions for the building blocks to make something like this would be gratefully received.EditI'm not interested in launching processes, just \"jobs\" also written in Python - python functions. By necessity I think this would be a different thread, but not in a different process.To this end, I'm looking for the expressivity of the cron time expression, but in Python. Cron has been around for years, but I'm trying to be as portable as possible. I cannot rely on its presence.", "acce_answer": "For a start, you can do the following obvious optimization:<code>while (b is even) {\n    b /= 2;\n    m -= 1;\n}\n</code>before multiplication/division.\n", "acce_score": "463", "simquery1_title": "Does Python support multithreading? Can it speed up execution time? I'm slightly confused about whether multithreading works in Python or not. I know there has been a lot of questions about this and I've read many of them, but I'm still confused. I know from my own experience and have seen others post their own answers and examples here on StackOverflow that multithreading is indeed possible in Python. So why is it that everyone keep saying that Python is locked by the GIL and that only one thread can run at a time? It clearly does work. Or is there some distinction I'm not getting here? Many posters/respondents also keep mentioning that threading is limited because it does not make use of multiple cores. But I would say they are still useful because they do work simultaneously and thus get the combined workload done faster. I mean why would there even be a Python thread module otherwise?Update:Thanks for all the answers so far. The way I understand it is that multithreading will only run in parallel for some IO tasks, but can only run one at a time for CPU-bound multiple core tasks.I'm not entirely sure what this means for me in practical terms, so I'll just give an example of the kind of task I'd like to multithread. For instance, let's say I want to loop through a very long list of strings and I want to do some basic string operations on each list item. If I split up the list, send each sublist to be processed by my loop/string code in a new thread, and send the results back in a queue, will these workloads run roughly at the same time? Most importantly will this theoretically speed up the time it takes to run the script? Another example might be if I can render and save four different pictures using PIL in four different threads, and have this be faster than processing the pictures one by one after each other? I guess this speed-component is what I'm really wondering about rather than what the correct terminology is.I also know about the multiprocessing module but my main interest right now is for small-to-medium task loads (10-30 secs) and so I think multithreading will be more appropriate because subprocesses can be slow to initiate. ", "simquery1_answer": "I think you are made mistake this chaage this <code>NSDocumentationDirectory</code> to <code>NSDocumentDirectory</code>\n", "simquery2_title": "A clean, lightweight alternative to Python's twisted? A (long) while ago I wrote a web-spider that I multithreaded to enable concurrent requests to occur at the same time.  That was in my Python youth, in the days before I knew about the GIL and the associated woes it creates for multithreaded code (IE, most of the time stuff just ends up serialized!)...I'd like to rework this code to make it more robust and perform better.  There are basically two ways I could do this: I could use the new multiprocessing module in 2.6+ or I could go for a reactor / event-based model of some sort.  I would rather do the later since it's far simpler and less error-prone.So the question relates to what framework would be best suited to my needs.  The following is a list of the options I know about so far:Twisted: The granddaddy of Python reactor frameworks: seems complex and a bit bloated however.  Steep learning curve for a small task.Eventlet: From the guys at lindenlab.  Greenlet based framework that's geared towards these kinds of tasks. I had a look at the code though and it's not too pretty: non-pep8 compliant, scattered with prints (why do people do this in a framework!?), API seems a little inconsistent.PyEv: Immature, doesn't seem to be anyone using it right now though it is based on libevent so it's got a solid backend.asyncore: From the stdlib: \u00fcber low-level, seems like a lot of legwork involved just to get something off the ground.tornado: Though this is a server oriented product designed to server dynamic websites it does feature an async HTTP client and a simple ioloop.  Looks like it could get the job done but not what it was intended for. [edit: doesn't run on Windows unfortunately, which counts it out for me - its a requirement for me to support this lame platform]Is there anything I have missed at all?  Surely there must be a library out there that fits the sweet-spot of a simplified async networking library![edit: big thanks to intgr for his pointer to this page.  If you scroll to the bottom you will see there is a really nice list of projects that aim to tackle this task in one way or another.  It seems actually that things have indeed moved on since the inception of Twisted: people now seem to favour a co-routine based solution rather than a traditional reactor / callback oriented one.  The benefits of this approach are clearer more direct code: I've certainly found in the past, especially when working with boost.asio in C++ that callback based code can lead to designs that can be hard-to-follow and are relatively obscure to the untrained eye.  Using co-routines allows you to write code that looks a little more synchronous at least.  I guess now my task is to work out which one of these many libraries I like the look of and give it a go!  Glad I asked now...][edit: perhaps of interest to anyone who followed or stumbled on this this question or cares about this topic in any sense: I found a really great writeup of the current state of the available tools for this job]", "simquery2_answer": "I'm writing and testing a ClassLoader component, which can be instantiated many times, with various mappings between class names and their relevant paths. Each ClassLoader should work as a loader for a specific package.Is there an easy, unobtrusive way to test or mock inclusion of files handled by the ClassLoader?Let me clarify with a simplest possible Loader:<code>class TestTwoPackageLoader implements IPackageLoader\n{\n private $directory; public function register()\n {\n  spl_autoload_register(array($this, 'loadClass'));\n  $this-&gt;directory = dirname(__FILE__);\n } public function loadClass($class)\n {\n  if (isset($this-&gt;classes[$class]))\n   include $this-&gt;directory.'/'.$this-&gt;classes[$class];\n } private $classes = array(\n  'SecClass' =&gt; 'test_two/SecClass.php',\n  'ThClass' =&gt; 'test_two/ThClass.php',\n );\n}\n</code>\n", "total_len": 393, "s1_total_len": 522, "s2_total_len": 978}
{"post_id": "377454", "title": "How do I get my program to sleep for 50 milliseconds?", "query": "How do I get my Python program to sleep for 50 milliseconds?", "acce_answer": "The problem is probably that the child control also instantiates a child control. There has to be a stop condition or controls will be generated until the stack overflows.This should work:<code>public partial class CustomX : UserControl\n    {\n        private IList _children = new List();        public CustomX(int depth)\n        {\n            InitializeComponent();\n            if(depth &gt; 0)\n            {\n                CustomX child = new CustomX(depth-1);\n                this.Controls.Add(child)\n            }\n        }\n    }\n</code>\n", "acce_score": "750", "simquery1_title": "In Python, how can I put a thread to sleep until a specific time? I know that I can cause a thread to sleep for a specific amount of time with:<code>time.sleep(NUM)</code>How can I make a thread sleep until 2AM?  Do I have to do math to determine the number of seconds until 2AM?  Or is there some library function?( Yes, I know about cron and equivalent systems in Windows, but I want to sleep my thread in python proper and not rely on external stimulus or process signals.)", "simquery1_answer": "I have an $.ajax call that includes both a success and error condition:<code>$('input[name=\"StateName\"]').live('change', function() {\n    var StateID = $(this).parents('tr').attr('id');\n    var StateName = $(this).val();\n    $.ajax({\n        url: 'Remote/State.cfc'\n        ,type: \"POST\"\n        ,data: {\n            'method': 'UpdateStateName'\n            ,'StateID': StateID\n            ,'StateName': StateName\n        }\n        ,success: function(result){\n            if (isNaN(result)) {\n                $('#msg').text(result).addClass('err');\n            } else {\n                $('#' + result + ' input[name=\"StateName\"]').addClass('changed');\n            };\n        }\n        ,error: function(msg){\n            $('#msg').text('Connection error').addClass('err');\n        }\n    });\n});\n</code>Q: Should I also wrap this in a try/catch?\n", "simquery2_title": "accurately measure time python function takes I need to measure the time certain parts of my program take (not for debugging but as a feature in the output). Accuracy is important because the total time will be a fraction of a second.I was going to use the time module when I came across timeit, which claims to avoid a number of common traps for measuring execution times. Unfortunately it has an awful interface, taking a string as input which it then eval's. So, do I need to use this module to measure time accurately, or will time suffice? And what are the pitfalls it refers to?Thanks", "simquery2_answer": "This may be faster than firing up the regex engine:<code>if (strspn ( $subject , '01') == strlen($subject)) {\n    echo 'It\\'s binary!';\n} else {\n    echo 'Not binary!';\n}\n</code>If you just look for simple characters or want to count them, regex is often quite slow while one or two built in string function can do the job much faster.\nMaybe this does apply here, maybe not.After hearing some remarks in the comments, that this might not work, here's a test case:<code>&lt;?php$strings = array('10001001', '22229999', '40004000');foreach ( $strings as $string )\n{\n    if ( strspn( $string, '01') == strlen( $string ) ) {\n        echo $string . ' is binary!' . \"\\n\";\n    } else {\n        echo $string . ' is NOT binary!' . \"\\n\";\n    }\n}\n</code>It does the job.\n", "total_len": 167, "s1_total_len": 359, "s2_total_len": 384}
{"post_id": "394809", "title": "Does Python have a ternary conditional operator?", "query": "Is there a ternary conditional operator in Python?", "acce_answer": "I solved this issue by:\nAdding a custom header to the response:<code>public ActionResult Index(){\n    if (!HttpContext.User.Identity.IsAuthenticated)\n    {\n        HttpContext.Response.AddHeader(\"REQUIRES_AUTH\",\"1\");\n    }\n    return View();\n}\n</code>\nBinding a JavaScript function to the <code>ajaxSuccess</code> event and checking to see if the header exists:<code>$(document).ajaxSuccess(function(event, request, settings) {\n    if (request.getResponseHeader('REQUIRES_AUTH') === '1') {\n       window.location = '/';\n    }\n});\n</code>", "acce_score": "7717", "simquery1_title": "any() function in Python with a callback The Python standard library defines an <code>any()</code> function that  Return True if any element of the iterable is true. If the iterable is empty, return False.It checks only if the elements evaluate to <code>True</code>. What I want it to be able so specify a callback to tell if an element fits the bill like:<code>any([1, 2, 'joe'], lambda e: isinstance(e, int) and e &gt; 0)</code>", "simquery1_answer": "Im writing a program that should read input via stdin, so I have the following contruct.<code>FILE *fp=stdin;\n</code>But this just hangs if the user hasn't piped anything into the program, how can I check if the user is actually piping data into my program like<code>gunzip -c file.gz |./a.out #should work\n./a.out  #should exit program with nice msg.\n</code>thanks\n", "simquery2_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery2_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "total_len": 187, "s1_total_len": 228, "s2_total_len": 349}
{"post_id": "403421", "title": "How do I sort a list of objects based on an attribute of the objects?", "query": "I have a list of Python objects that I want to sort by a specific attribute of each object:<code>[Tag(name=&quot;toe&quot;, count=10), Tag(name=&quot;leg&quot;, count=2), ...]</code>How do I sort the list by <code>.count</code> in descending order?", "acce_answer": "Install a <code>DocumentFilter</code> into the <code>AbstractDocument</code>.(BTW: In Swing it's usually best to go straight to the model (in this case document).)\n", "acce_score": "1174", "simquery1_title": "Sort by multiple keys using different orderings   Possible Duplicate:  How to write Python sort key functions for descending values  In Python 3, it's pretty easy to sort a list of objects lexicographically using multiple keys.  For example:<code>items.sort(key = lambda obj: obj.firstname, obj.lastname)</code>The <code>reverse</code> argument lets you specify whether you want ascending or descending order.  But what do you do in the case where you want to sort by multiple keys, but you want to sort using descending order for the first key, and ascending order for the second?For example, suppose we have an object with two attributes, <code>points</code> and <code>name</code>, where <code>points</code> is an <code>int</code> and <code>name</code> is a <code>str</code>.  We want to sort a list of these objects by <code>points</code> in descending order (so that the object with the greatest number of points comes first), but for objects with an equal number of <code>points</code>, we want to sort these by <code>name</code> in alphabetical (ascending) order.How can this be achieved?", "simquery1_answer": "I think the modulus operator is of use here. Perhaps the basic idea you have will work, but allow that SEQ_NUM to grow unbounded, and when you select it for your sequence number, wrap it in MOD().But in reality, I would wonder if you already had a unique &amp; auto-incrementing ID column which could be used this way (i.e. <code>SELECT MOD(id, 99) as trans_seq</code>)...\n", "simquery2_title": "Given parallel lists, how can I sort one while permuting (rearranging) the other in the same way? Suppose I have:<code>list1 = [3, 2, 4, 1, 1]list2 = ['three', 'two', 'four', 'one', 'one2']</code>Calling <code>list1.sort()</code> will sort it, resulting in <code>[1, 1, 2, 3, 4]</code>. However, can I get <code>list2</code> to be rearranged in sync with that, to get a result like this?<code>list1 = [1, 1, 2, 3, 4]list2 = ['one', 'one2', 'two', 'three', 'four']</code>Sometimes, people phrase the problem differently: given two lists, they would like to use one to determine the sort order for the other - i.e., sort <code>list2</code> in the order described by the corresponding values in <code>list1</code>. The trick is that this is equivalent to sorting the &quot;key&quot; values (<code>list1</code>), and then rearranging <code>list2</code> in the same way. In other words, exactly what is described here. Some answers for the other question, though, discard the &quot;sorted keys&quot; afterwards.See also: How can I sort a list, according to where its elements appear in another list? - this is another common way that people want to sort one list &quot;based on&quot; another. Before attempting to close duplicate questions, take special care to check exactly what the OP wants. A key clue: do the lists need to be the same length?", "simquery2_answer": "Looks like the answer was that <code>ItemConverterType</code> is for converting items in an array.  Double-annotating the property with <code>JsonProperty</code> and <code>JsonConverter</code> attributes works:<code>[JsonProperty(PropertyName=\"id\")]\n[JsonConverter(typeof(IdConverter))]\npublic string Id { get; set; }\n</code>\n", "total_len": 147, "s1_total_len": 389, "s2_total_len": 485}
{"post_id": "419163", "title": "What does if __name__ == \"__main__\": do?", "query": "What does this do, and why should one include the <code>if</code> statement?<code>if __name__ == &quot;__main__&quot;:    print(&quot;Hello, World!&quot;)</code>If you are trying to close a question where someone should be using this idiom and isn't, consider closing as a duplicate of Why is Python running my module when I import it, and how do I stop it? instead. For questions where someone simply hasn't called any functions, or incorrectly expects a function named <code>main</code> to be used as an entry point automatically, use Why doesn&#39;t the main() function run when I start a Python script? Where does the script start running?.", "acce_answer": "It sounds like you are doing premature optimisation. Profile, and you will usually be surprised where the time is going. I doubt it will be here, unless your \"clone\" is using serialization.That said; <code>ICloneable.Clone()</code> is worth avoiding simply because it is poorly defined (deep vs shallow) and rarely supported. Behind the scenes, most <code>Clone()</code> implementations either just do a <code>new(); // now copy properties</code>, or they use serialization.\n", "acce_score": "8004", "simquery1_title": "What does \"sys.argv[1]\" mean? (What is sys.argv, and where does it come from?) I'm currently teaching myself Python and was just wondering (In reference to my example below) in simplified terms what the <code>sys.argv[1]</code> represents. Is it simply asking for an input?<code>#!/usr/bin/python3.1# import modules used here -- sys is a very standard oneimport sys# Gather our code in a main() functiondef main():  print ('Hello there', sys.argv[1])  # Command line args are in sys.argv[1], sys.argv[2] ..  # sys.argv[0] is the script name itself and can be ignored# Standard boilerplate to call the main() function to begin# the program.if __name__ == '__main__':  main()</code>You may have been directed here because you were asking about an <code>IndexError</code> in your code that uses <code>sys.argv</code>. The problem is not in your code; the problem is that you need to run the program in a way that makes <code>sys.argv</code> contain the right values. Please read the answers to understand how <code>sys.argv</code> works.If you have read and understood the answers, and are still having problems on Windows, check if Python Script does not take sys.argv in Windows fixes the issue. If you are trying to run the program from inside an IDE, you may need IDE-specific help - please search, but first check if you can run the program successfully from the command line.", "simquery1_answer": "You should use Film.order(\"id DESC\") (or \"ASC\") method which aplies SQL ORDER BY clause to the query.\nBy default, records are sorted by the primary key column, at least in MySQL.If this hasn't answered your question, please provide some more information on your database.Edited\nYes, I do see. The only thing that comes to mind is that you're using some kind of string datatype for the spine numbers column. In this case, this kind of sorting makes sense, because values are compared alpabetically char to char like this<code>1| |\n0|5|4\n2|5|\n1|4|3\n</code>which'll return\n054 \n1\n143\n25\nwhile numeric values such as integer, or float, are compared by their actual value, and not by separate bytes.So you should create a migration to change the datatype of your spine number to integer.\n", "simquery2_title": "__init__ vs __enter__ in context managers As far as I understand, <code>__init__()</code> and <code>__enter__()</code> methods of the context manager are called exactly once each, one after another, leaving no chance for any other code to be executed in between. What is the purpose of separating them into two methods, and what should I put into each?Edit: sorry, wasn't paying attention to the docs.Edit 2: actually, the reason I got confused is because I was thinking of <code>@contextmanager</code> decorator. A context manager created using <code>@contextmananger</code> can only be used once (the generator will be exhausted after the first use), so often they are written with the constructor call inside <code>with</code> statement; and if that was the only way to use <code>with</code> statement, my question would have made sense. Of course, in reality, context managers are more general than what <code>@contextmanager</code> can create; in particular context managers can, in general, be reused. I hope I got it right this time?", "simquery2_answer": "You could use a log link function to do this. Try using <code>glm()</code> specifying a log link.\n", "total_len": 301, "s1_total_len": 569, "s2_total_len": 286}
{"post_id": "432842", "title": "How do you get the logical xor of two variables in Python?", "query": "How do you get the logical xor of two variables in Python?For example, I have two variables that I expect to be strings. I want to test that only one of them contains a True value (is not None or the empty string):<code>str1 = raw_input(\"Enter string one:\")str2 = raw_input(\"Enter string two:\")if logical_xor(str1, str2):    print \"ok\"else:    print \"bad\"</code>The <code>^</code> operator seems to be bitwise, and not defined on all objects:<code>&gt;&gt;&gt; 1 ^ 10&gt;&gt;&gt; 2 ^ 13&gt;&gt;&gt; \"abc\" ^ \"\"Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: unsupported operand type(s) for ^: 'str' and 'str'</code>", "acce_answer": "mine is faster to type from the command line. :)do the other suggestions offer any real advantage over the following?<code>find -name '*.jpg' | wc -l               # recursive\nfind -maxdepth 1 -name '*.jpg' | wc -l   # current directory only\n</code>\n", "acce_score": "934", "simquery1_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery1_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "simquery2_title": "What is a \"bytestring\" (the `bytes` data type) in Python? What exactly is a &quot;bytestring&quot; in Python? What is the <code>bytes</code> type, and how does it work internally?My understanding is that there are normal &quot;ASCII strings&quot;, which store a sequence of &quot;characters&quot; which are &quot;ASCII values&quot; ranging from 0-255 inclusive, and each number represents a character. Similarly, I understand that Unicode uses either an 8-bit or 16-bit representation for each character.To give a clearer example: suppose I do<code>&gt;&gt;&gt; 'a'.encode()b'a'</code>Okay; the result is a <code>bytes</code> that stores one byte.However, I was told that <code>bytes</code> represents an immutable sequence of bytes with no particular interpretation. So... why can I read the &quot;a&quot;?If I use the command line to see the ASCII value of the character:<code>$ printf &quot;%d\\n&quot; &quot;'a&quot;97</code>This makes some sense. If we interpret the number <code>97</code> as ASCII, then we get the letter <code>a</code>. Similarly, that value in binary - extended to 8 bits - would look like <code>01100001</code>.So why does <code>'a'.encode()</code> look like <code>b'a'</code> instead of <code>b'97'</code>, or <code>b'01100001'</code> (the underlying bit pattern)? Why does it look the same as if it were being interpreted like ASCII?For that matter, if I write a <code>bytes</code> to a file opened in binary mode:<code>with open('testbytestring.txt', 'wb') as f:    f.write(b'helloworld')</code>I still see the human-readable text <code>helloworld</code> in the file! Why is that?", "simquery2_answer": "<code>    global $wpdb;\n    $wp_users = $wpdb-&gt;prefix . 'users';\n    $users = $wpdb-&gt;get_results(\"SELECT id, user_email FROM $wp_users;\");\n    //$user11 = get_userdata(2);\n    //$capabilities11 = $user11-&gt;{$wpdb-&gt;prefix . 'capabilities'};        foreach($users as $u){\n            $userdata = get_userdata($u-&gt;id);\n            $capabilities = $userdata-&gt;{wpdb-&gt;prefix . 'capabilities'};\n        }\n</code>The code gives me: Parse error: syntax error, unexpected T_OBJECT_OPERATOR in /home.../asd.php on line <code>$capabilities = $userdata-&gt;{wpdb-&gt;prefix . 'capabilities'};\n</code>When I however use<code>$user11 = get_userdata(2);\n$capabilities11 = $user11-&gt;{$wpdb-&gt;prefix . 'capabilities'};\n</code>everything works fine. Does anyone know what's going on and how to fix this?\n", "total_len": 309, "s1_total_len": 629, "s2_total_len": 796}
{"post_id": "437589", "title": "How do I unload (reload) a Python module?", "query": "I have a long-running Python server and would like to be able to upgrade a service without restarting the server. What's the best way do do this?<code>if foo.py has changed:    unimport foo  &lt;-- How do I do this?    import foo    myfoo = foo.Foo()</code>", "acce_answer": "I had a similar problem and consequent question. Take a look at the answers there. The short answer is: use property sheets.For example:<code>&lt;?xml version=\"1.0\" encoding=\"Windows-1252\"?&gt;\n&lt;VisualStudioPropertySheet\n    ProjectType=\"Visual C++\"\n    Version=\"8.00\"\n    Name=\"MyIncludes\"\n    &gt;\n    &lt;UserMacro\n        Name=\"BoostInclude\"\n        Value=\"C:\\Program Files\\boost\\boost_1_35_0\"\n        PerformEnvironmentSet=\"true\"\n    /&gt;\n&lt;/VisualStudioPropertySheet&gt;\n</code>\n", "acce_score": "1071", "simquery1_title": "pip or pip3 to install packages for Python 3? I have a Macbook with OS X El Captain. I think that Python 2.7 comes preinstalled on it. However, I installed Python 3.5 too. When I started using Python 3, I read that if I want to install a package, I should type:<code>pip3 install some_package</code>Anyway, now when I use<code>pip install some_package</code>I get <code>some_package</code> installed for Python 3. I mean I can import it and use it without problems. Moreover, when I type just <code>pip3</code> in the Terminal. I got this message about the usage:<code>Usage:     pip &lt;command&gt; [options]</code>which is the same message I get when I type just <code>pip</code>.Does it mean that in previous versions, things were different, and now <code>pip</code> and <code>pip3</code> can be used interchangeably? If so, and for the sake of argument, how can I install packages for Python 2 instead of Python 3?", "simquery1_answer": "the Django docs that you mentioned here making queries is using interactive  Python shell configured for your Django project, to access that you can run the following command <code>python manage.py shell \n</code>from there you can access  all those commands \n", "simquery2_title": "How do I write to a Python subprocess' stdin? I'm trying to write a Python script that starts a subprocess, and writes to the subprocess stdin. I'd also like to be able to determine an action to be taken if the subprocess crashes.The process I'm trying to start is a program called <code>nuke</code> which has its own built-in version of Python which I'd like to be able to submit commands to, and then tell it to quit after the commands execute. So far I've worked out that if I start Python on the command prompt like and then start <code>nuke</code> as a subprocess then I can type in commands to <code>nuke</code>, but I'd like to be able to put this all in a script so that the master Python program can start <code>nuke</code> and then write to its standard input (and thus into its built-in version of Python) and tell it to do snazzy things, so I wrote a script that starts <code>nuke</code> like this:<code>subprocess.call([\"C:/Program Files/Nuke6.3v5/Nuke6.3\", \"-t\", \"E:/NukeTest/test.nk\"])</code>Then nothing happens because <code>nuke</code> is waiting for user input. How would I now write to standard input?I'm doing this because I'm running a plugin with <code>nuke</code> that causes it to crash intermittently when rendering multiple frames. So I'd like this script to be able to start <code>nuke</code>, tell it to do something and then if it crashes, try again. So if there is a way to catch a crash and still be OK then that'd be great.", "simquery2_answer": "I think the question here really comes down to the concept of scope binding.  You're right that the specification states that the scope parameter is optional, but whether the scope has to be defined in a service implementing OAuth 2 is really up to the implementer (in this case Spring).Now to the concept of scope binding.  When implementing scopes, or the information that you want to be able to access from a user, you have two basic types - bound and unbound scopes.  When using bound scopes, the scopes will need to be defined when you create your application and get your OAuth key and secret.  If implementing unbound scopes (like Spring), the scopes need to be defined during the first redirect call to have the user auth.  In many cases when no scopes are defined, a service implementing unbound scopes will use a default set of user details that you can access.  It appears that in the Spring case the scope is required.  Disclaimer: I have not worked with the Spring security OAuth implementation before.  Just to give you some visuals on the difference between bound and unbound, here are some examples:Facebook uses unbound scopes to request user data, so their initial redirect request can look like this:<code>//construct Facebook auth URI\n$auth_url = sprintf(\"%s?redirect_uri=%s&amp;client_id=%s&amp;scope=email,publish_stream\", \n            $authorization_endpoint, \n            $callback_url, \n            $key);\n</code>In the case of Gowalla (back when Gowalla was still available), they used scopes that were bound to the OAuth key, so when you made that initial request the scope didn't need to be defined, giving you a request that looked more like this (notice the missing scope param):<code>//construct Gowalla auth URI\n$auth_url = sprintf(\"%s?redirect_uri=%s&amp;client_id=%s\", \n            $authorization_endpoint, \n            $callback_url, \n            $key);\n</code>I hope that helps,Jon\n", "total_len": 252, "s1_total_len": 314, "s2_total_len": 876}
{"post_id": "441147", "title": "How to subtract a day from a date?", "query": "I have a Python <code>datetime.datetime</code> object. What is the best way to subtract one day?", "acce_answer": "I have the following table: <code>log(productId, status, statusDate, department...)</code>, where productId, status and statusDate is the primary key.\nExample:\nid1 01 01/01/2009\nid1 02 02/01/2009\nid1 03 03/01/2009\nid1 01 06/01/2009\nid1 02 07/01/2009\nid1 03 09/01/2009\nid2 01 02/01/2009\nid2 02 03/01/2009\nid2 01 04/01/2009\nid2 03 06/01/2009\nid3 01 03/01/2009\nid3 02 04/01/2009\nI want to make a query that retrieves for each productId in status03, the time that has passed between the first time it reached status01 and status03.Result expected:\nid1 2\nid1 3\nid2 4\nAny idea? Thank you\n", "acce_score": "1132", "simquery1_title": "How do we determine the number of days for a given month in python I need to calculate the number of days for a given month in python. If a user inputs Feb 2011 the program should be able to tell me that Feb 2011 has 28 days. Could anyone tell me which library I should use to determine the length of a given month?", "simquery1_answer": "Try setting:<code>setRangeLimited(false)\n</code>More details:http://groups.google.com/group/google-web-toolkit/browse_thread/thread/45e77082b796281d/d5101729e83a74ff?lnk=gst&amp;q=pager+last+page#d5101729e83a74ff\n", "simquery2_title": "Convert date to datetime in Python Is there a built-in method for converting a <code>date</code> to a <code>datetime</code> in Python, for example getting the <code>datetime</code> for the midnight of the given date? The opposite conversion is easy: <code>datetime</code> has a <code>.date()</code> method.Do I really have to manually call <code>datetime(d.year, d.month, d.day)</code>?", "simquery2_answer": "Ingoring the crypting part that does not have much to do with creating a unique value I usually use this one:<code>function GetUniqueValue()\n{\n   static $counter = 0; //initalized only 1st time function is called\n   return strtr(microtime(), array('.' =&gt; '', ' ' =&gt; '')) . $counter++;\n}\n</code>When called in same process $counter is increased so value is always unique in same process.When called in different processes you must be really unlucky to get 2 microtime() call with the same values, think that microtime() calls usually have different values also when called in same script.\n", "total_len": 347, "s1_total_len": 193, "s2_total_len": 265}
{"post_id": "464864", "title": "Get all possible (2^N) combinations of a list\u2019s elements, of any length", "query": "I have a list with 15 numbers. How can I produce all 32,768 combinations of those numbers (i.e., any number of elements, in the original order)?I thought of looping through the decimal integers 1\u201332768 and using the binary representation of each numbers as a filter to pick out the appropriate list elements. Is there a better way to do it?For combinations of a specific length, see Get all (n-choose-k) combinations of length n. Please use that question to close duplicates instead where appropriate.When closing questions about combinatorics as duplicates, it is very important to make sure of what OP actually wants, not the words that were used to describe the problem. It is extremely common for people who want, for example, a Cartesian product (see How to get the cartesian product of multiple lists) to ask about &quot;combinations&quot;.", "acce_answer": "Have you tried.  <code>&lt;%= Html.Hidden(\"RecordVersion\", System.Text.Encoding.Unicode.GetString(Model.RecordVersion)) %&gt;\n</code>\n", "acce_score": "687", "simquery1_title": "Python alternative to reduce() There is a semi-famous article written by Guido himself hinting that <code>reduce()</code> should go the way of the dodo and leave the language.  It was even demoted from being a top-level function in Python 3 (instead getting stuffed in the <code>functools</code> module).With many other functional programming staples (map, etc) common clear alternatives are available.  For example, most of the time a <code>map()</code> is better written as a list comprehension.What I'd like to know is if there is a similar \"more pythonic\" alternative to the reduce function.  I have a bit of a functional programming background (ML in particular), so <code>reduce()</code> often springs to my mind when thinking of a solution, but if there's a better way to do them (short of unrolling a reduce call into a for loop) I'd like to know.", "simquery1_answer": "Try this.<code>List&lt;MarkerCustom&gt; myList=new ArrayList&lt;MarkerCustom&gt;();\nMarkerCustom entry1=new MarkerCustom(myInt, myString, myBitmap);\nMarkerCustom entry2=new MarkerCustom(myInt, myString, myBitmap);myList.add(entry1);\nmyList.add(entry2);\n</code>\n", "simquery2_title": "Python Set Comprehension So I have these two problems for a homework assignment and I'm stuck on the second one. Use a Python Set Comprehension (Python's equivalent of Set Builder notation) to generate a set of all of the prime numbers that are less than 100. Recall that a prime number is an integer that is greater than 1 and not divisible by any integer other than itself and 1. Store your set of primes in a variable (you will need it for additional parts). Output your set of primes (e.g., with the print function). Use a Python Set Comprehension to generate a set of ordered pairs (tuples of length 2) consisting of all of the prime pairs consisting of primes less than 100. A Prime Pair is a pair of consecutive odd numbers that are both prime. Store your set of Prime Pairs in a variable. Your set of number 1 will be very helpful. Output your Set of Prime Pairs. For the first one, this works perfectly: <code>r= {x for x in range(2, 101) if not any(x % y == 0 for y in range(2, x))} </code>However, I'm pretty stumped on the second one. I think I may have to take the Cartesian                       product of the set r with something but I'm just not sure. This gets me somewhat close but I just want the consecutive pairs.<code>cart = { (x, y) for x in r for y in r     if x &lt; y }</code>", "simquery2_answer": "You can use just a regular seekbar and rotate it 90 degrees and set custom drawables to look like in your picture.<code>&lt;SeekBar\n    android:id=\"@+id/seekBar1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:rotation=\"90\" /&gt;\n</code>And to acquaire zero value at center you can use simple calculation, something like this: <code>private int getSeekbarValue(){\n    SeekBar bar;\n    return (bar.getProgress() - seekbar min value) * (max output value - min output value) / (seekbar max value - seekbar min value) + min output value;\n}\n</code>\n", "total_len": 263, "s1_total_len": 309, "s2_total_len": 528}
{"post_id": "466345", "title": "Convert string \"Jun 1 2005 1:33PM\" into datetime", "query": "I have a huge list of datetime strings like the following<code>[&quot;Jun 1 2005 1:33PM&quot;, &quot;Aug 28 1999 12:00AM&quot;]</code>How do I convert them into <code>datetime</code> objects?", "acce_answer": "From the PIL docs:<code>getpixelim.getpixel(xy) =&gt; value or tupleReturns the pixel at the given position. If the image is a multi-layer image, this method returns a tuple.\n</code>So it seems that some of your images are multilayer, and some are single-layer.\n", "acce_score": "2921", "simquery1_title": "How to convert a time string to seconds? I need to convert time value strings given in the following format to seconds, for example:<code>1.'00:00:00,000' -&gt; 0 seconds2.'00:00:10,000' -&gt; 10 seconds3.'00:01:04,000' -&gt; 64 seconds4.'01:01:09,000' -&gt; 3669 seconds</code>Do I need to use regex to do this? I tried to use the time module, but <code>time.strptime('00:00:00,000','%I:%M:%S')</code>throws: <code>ValueError: time data '00:00:00,000' does not match format '%I:%M:%S'</code>Edit:Looks like this:<code>from datetime import datetimept = datetime.strptime(timestring,'%H:%M:%S,%f')total_seconds = pt.second + pt.minute*60 + pt.hour*3600</code>gives the correct result. I was just using the wrong module.", "simquery1_answer": "I have a CLR-class that I want to send via a WCF service (Net TCP Binding). Both the client and server use the same data classes and service interfaces. There are no stubs generated. Here are the basic parts of two classes:<code>[DataContract]\npublic class ContainerClass\n{\n    //some primitive data with [DataMember] ...    [DataMember] /**/\n    public virtual BindingList&lt;ItemClass&gt; Items{ get; private set; }\n}[DataContract]\npublic class ItemClass\n{\n    //some primitive data with [DataMember] ...    public ContainerClass Parent { get; set; } // (no [DataMember])\n}\n</code>The data is correctly transmitted, if I omitt the <code>[DataMember]</code> attribute of the <code>BindingList</code> (marked with <code>/**/</code>). Of course, whithout the items.As soon as I add the <code>[DataMember]</code>, a call to the service method, which returns an object of type <code>ContainerClass</code> fails with the following error message:\n  The server did not provide a meaningful reply; this might be caused by a contract mismatch, a premature session shutdown or an internal server error.\nA contract mismatch is impossible by design. There is probably an internal server error of which I am not notified.How can I solve this problem and make the server send the items to the client?\n", "simquery2_title": "Convert string \"Jun 1 2005 1:33PM\" into datetime I have a huge list of datetime strings like the following<code>[&quot;Jun 1 2005 1:33PM&quot;, &quot;Aug 28 1999 12:00AM&quot;]</code>How do I convert them into <code>datetime</code> objects?", "simquery2_answer": "From the PIL docs:<code>getpixelim.getpixel(xy) =&gt; value or tupleReturns the pixel at the given position. If the image is a multi-layer image, this method returns a tuple.\n</code>So it seems that some of your images are multilayer, and some are single-layer.\n", "total_len": 182, "s1_total_len": 621, "s2_total_len": 180}
{"post_id": "472000", "title": "Usage of __slots__?", "query": "What is the purpose of <code>__slots__</code> in Python \u2014 especially with respect to when I would want to use it, and when not?", "acce_answer": "<code>navigator.donottrack</code> only shows the setting of the \"Do not track\" preference. It does not tell if tracking protection, which is a different feature, is enabled. Tracking protection is enabled automatically when in private browsing mode, but users can change a setting in about:config to have it enabled full time.While you can't tell directly if the feature is enabled, you can check for its effects with something like this:<code>var canreach = false;\n$(function() {\n    $('&lt;img/&gt;')\n        .attr(\"src\", \"//apps.facebook.com/favicon.ico\")\n        .load(function(){canreach = true;})\n        .css(\"display\", \"none\")\n        .appendTo(document.body);\n});\n</code>Firefox uses a list obtained from Disconnect for its tracking protection; just use a domain that you know is on that list, and an image that you know will exist.Of course, this could flag any number of causes for the image not to load, including network connectivity problems, ad blocking software, filtering proxies, etc.\n", "acce_score": "1173", "simquery1_title": "Why is 'dir()' named 'dir' in python? In Python there is a built-in function called <code>dir</code>.  This is used to get a list of all the attributes for an object.I understand what it does, but I am confused about why it is called <code>dir</code>.  How is this name related to getting the attributes from an object?", "simquery1_answer": "You could do it any number of wayslet's say, in your action method, you add a template variable like so<code>$this-&gt;jsVar = 'foo';\n</code>Then, in your template file(s)<code>echo javascript_tag( 'var name=\"' . $jsVar . '\";' );\n</code>or<code>&lt;script type=\"text/javascript\"&gt;\n  var name='&lt;?php echo $jsVar; ?&gt;';\n&lt;/script&gt;\n</code>EDITOk, based on your specific needs, you'll need to do a few things.  First, look at your page template (the one located in <code>apps/app-name/templates</code> - you should see a line that looks like this<code>&lt;?php include_javascripts(); ?&gt;\n</code>That's the function that takes all javascript resources defined in <code>view.yml</code> files or those included by the <code>use_javascript()</code> helper and prints them to the page.So our goal, then, is to put a javascript block in front of where all the other scripts are included (and by in-front, I mean appearing first in source-order)To solve this in a somewhat flexible manner, let's use a slot.  Modify the above line in your page template to look like this<code>&lt;?php\n  if ( has_slot( 'global_js_setup' ) )\n  {\n    include_slot( 'global_js_setup' );\n  }\n  include_javascripts();\n?&gt;\n</code>Then, in your action method<code>sfLoader::loadHelpers( 'Asset' );\n$this-&gt;getResponse()-&gt;setSlot(\n    'global_js_setup',\n  , javascript_tag( 'var name=\"value\";' );\n);\n</code>You could extend this idea by using component slots if you wanted to.\n", "simquery2_title": "Simple example of use of __setstate__ and __getstate__ I don't know what the <code>__setstate__</code> and  <code>__getstate__</code> methods do, so help me with a simple example.", "simquery2_answer": "<code>sed 's/,*:\\/.*//;s/^.*://;s/.*,//' /etc/passwd\n</code>\n", "total_len": 303, "s1_total_len": 548, "s2_total_len": 93}
{"post_id": "477486", "title": "How do I use a decimal step value for range()?", "query": "How do I iterate between 0 and 1 by a step of 0.1?This says that the step argument cannot be zero:<code>for i in range(0, 1, 0.1):    print(i)</code>", "acce_answer": "I am trying to get into LINQ to objects as I can see the power of it. Lucky enough I have a question that I think LINQ should be able to solve.Here is the question (the details are an example);<code>public class SchoolClass\n{\n    public int ID;\n    public string Name;\n    public string Teacher;\n    public string RoomName;    public string Student_Name;\n    public int Student_Age;\n}\n</code>As you can see by the example, there is a one to many relationship between the ClassName, Teacher and Room and the Students, i.e. there are potentially many students in the one class.If we have a List is it possible using LINQ to create a List but have only one instance ID, Name, Teacher, RoomName and an ArrayList of Student_Name and Age?Producing this:<code>public class Students\n{\n    public string Student_Name;\n    public int Student_Age;\n}public class SchoolClass\n{\n    public int ID;\n    public string Name;\n    public string Teacher;\n    public string RoomName;    public ArrayList Students;\n}\n</code>Essentially, using LINQ to clean the List to a more logical structure?To give some background to this example. The second structure is used by a DataGrid to produce a Master-Child relationship. We store SchoolClass and StudentInformation in classes as shown above. It would be good use of LINQ to be able to convert our initial List into a structure which can be used by the DataGrid.\n", "acce_score": "992", "simquery1_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery1_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "simquery2_title": "Difference between the built-in pow() and math.pow() for floats, in Python? Is there a difference in the results returned by Python's built-in <code>pow(x, y)</code> (no third argument) and the values returned by <code>math.pow()</code>, in the case of two float arguments.I am asking this question because the documentation for <code>math.pow()</code> implies that <code>pow(x, y)</code> (i.e. <code>x**y</code>) is essentially the same as <code>math.pow(x, y)</code>:  math.pow(x, y)    Return x raised to the power y. Exceptional cases  follow Annex \u2018F\u2019 of the C99 standard as far as possible. In  particular, pow(1.0, x) and pow(x, 0.0) always return 1.0, even when x  is a zero or a NaN. If both x and y are finite, x is negative, and y  is not an integer then pow(x, y) is undefined, and raises ValueError.    Changed in version 2.6: The outcome of 1**nan and nan**0 was undefined.Note the last line: the documentation implies that the behavior of <code>math.pow()</code> is that of the exponentiation operator <code>**</code> (and therefore of <code>pow(x, y)</code>).  Is this officially guaranteed?Background: My goal is to provide an implementation of both the built-in <code>pow()</code> and of <code>math.pow()</code> for numbers with uncertainty that behaves in the same way as with regular Python floats (same numerical results, same exceptions, same results for corner cases, etc.). I have already implemented something that works quite well, but there are some corner cases that need to be handled.", "simquery2_answer": "Try removing the <code>belongsTo</code> in your <code>Phone</code> class.  By defining <code>cascades</code> in the mapping of <code>Network</code> you don't need the <code>belongsTo</code>, as that defines only a save-delete cascade for the relationship.\n", "total_len": 413, "s1_total_len": 218, "s2_total_len": 509}
{"post_id": "493819", "title": "Why is it string.join(list) instead of list.join(string)?", "query": "This has always confused me. It seems like this would be nicer:<code>[&quot;Hello&quot;, &quot;world&quot;].join(&quot;-&quot;)</code>Than this:<code>&quot;-&quot;.join([&quot;Hello&quot;, &quot;world&quot;])</code>Is there a specific reason it is like this?", "acce_answer": "You can use reflection to get those fields, but in this case that wouldn't have much meaning.  How would you know that the passed type has the field you're looking for?  There are other problems with that code as well.  Instead, to do this I would normally create an interface for something like this that had a public ID property, and constrain my input to the function to implement that interface, or as others mentioned use a built-in feature in the clr.But that may be ahead of where your students are.  If you just want an example of a generic function, my suggestion is to show them a type-safe implementation of the old vb <code>imediate if</code> function:<code>Public Function IIf(Of T)(ByVal Expression As Boolean, ByVal TruePart As T, ByVal FalsePart As T) AS T\n    If Expression Then Return TruePart Else Return FalsePart\nEnd Function\n</code>Note that this is obsolete, too, as in VS2008 and beyond you can use the new <code>If</code> operator instead, which will work better with type inference and won't try to evaluate the expression that isn't returned.\n", "acce_score": "2052", "simquery1_title": "How can I print a single backslash? When I write <code>print('\\')</code> or <code>print(&quot;\\&quot;)</code> or <code>print(&quot;'\\'&quot;)</code>, Python doesn't print the backslash <code>\\</code> symbol. Instead it errors for the first two and prints <code>''</code> for the third. What should I do to print a backslash?This question is about producing a string that has a single backslash in it. This is particularly tricky because it cannot be done with raw strings. For the related question about why such a string is represented with two backslashes, see Why do backslashes appear twice?. For including literal backslashes in other strings, see using backslash in python (not to escape).", "simquery1_answer": "I have a table that looks similar to this here:<code>id  Continent       Country    State        Area                    Sub Area                   City77  North America   USA     California  California Desert                                           Ridgecrest\n78  North America   USA     California  California Desert                                           Thousand Palms\n79  North America   USA     California  California Desert                                           Yucca Valley\n80  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Agate Bay\n82  North America   USA     California  California Desert                                           Yucca Valley\n83  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Alpine Meadows\n185 North America   USA     California  Lake Tahoe Area                                             Twin Bridges\n188 North America   USA     California  Central Coast California    Santa Cruz County               Aptos\n189 North America   USA     California  Central Coast California    Santa Cruz County               Ben Lomond\n</code>I am trying to request data such way that if I search for \"California\"(State) then only the name of area (next column) and not sub area or cities. Same ways if searched for 'California Desert'(Area) sub Area should show.. (PS at some place I don't have sub areas so it should display sub area where ever applicable if one doesnt have it, move to next which is city)<code>if($result = $con-&gt;query(\"SELECT * FROM MasterData WHERE state LIKE '%\".$_POST['search'].\"%' OR city LIKE '%\".$_POST['search'].\"%'\")){\nif($count = $result-&gt;num_rows) {while($rows = $result-&gt;fetch_object()) {\necho $rows-&gt;city, '&lt;/br&gt;';\n    }\n$result-&gt;free();\n}\n</code>\n", "simquery2_title": "How to make print call the __str__ method of Python objects inside a list? In Java, if I call <code>List.toString()</code>, it will automatically call the <code>toString()</code> method on each object inside the List. For example, if my list contains objects <code>o1</code>, <code>o2</code>, and <code>o3</code>, <code>list.toString()</code> would look something like this:<code>&quot;[&quot; + o1.toString() + &quot;, &quot; + o2.toString() + &quot;, &quot; + o3.toString() + &quot;]&quot;</code>Is there a way to get similar behavior in Python? I implemented a <code>__str__()</code> method in my class, but when I print out a list of objects, using:<code>print 'my list is %s'%(list)</code>it looks something like this:<code>[&lt;__main__.cell instance at 0x2a955e95f0&gt;, &lt;__main__.cell instance at 0x2a955e9638&gt;, &lt;__main__.cell instance at 0x2a955e9680&gt;]</code>how can I get python to call my <code>__str__()</code> automatically for each element inside the list (or dict for that matter)?", "simquery2_answer": "For one thing you can not have an element that has the same id as another. Id is unique, but class names can be used as many times as you want<code>&lt;div id=\"top\"&gt;\n &lt;div id=\"potato1\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n &lt;div id=\"bottom\"&gt;\n &lt;div id=\"potato2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code>jquery as so:<code>$(function{\n $(\"#potato2\").html('Idaho'); //if you're going to name it with an id, \n  //  that's all the selector you need\n});\n</code>\n", "total_len": 373, "s1_total_len": 630, "s2_total_len": 517}
{"post_id": "525592", "title": "Find and Replace Inside a Text File from a Bash Command", "query": "What's the simplest way to do a find and replace for a given input string, say <code>abc</code>, and replace with another string, say <code>XYZ</code> in file <code>/tmp/file.txt</code>?I am writting an app and using IronPython to execute commands through SSH &mdash; but I don't know Unix that well and don't know what to look for.I have heard that Bash, apart from being a command line interface, can be a very powerful scripting language. So, if this is true, I assume you can perform actions like these.Can I do it with bash, and what's the simplest (one line) script to achieve my goal?", "acce_answer": "Sure, why not:<code>public void SomeMethod(ArrayList list)\n{\n    // your code here\n}\n</code>But as Jon S. mentioned using interfaces is preferred instead of hard coded types.<code>public void SomeMethod(IList list)\n{\n    // your code here\n}\n</code>See also:\nInterfaces (C# Programming Guide) \nGeneric Interfaces (C# Programming Guide) ", "acce_score": "761", "simquery1_title": "What kinds of patterns could I enforce on the code to make it easier to translate to another programming language? I am setting out to do a side project that has the goal of translating code from one programming language to another. The languages I am starting with are PHP and Python (Python to PHP should be easier to start with), but ideally I would be able to add other languages with (relative) ease. The plan is:This is geared towards web development. The original and target code will be be sitting on top of frameworks (which I will also have to write). These frameworks will embrace an MVC design pattern and follow strict coding conventions. This should make translation somewhat easier.I am also looking at IOC and dependency injection, as they might make the translation process easier and less error prone.I'll make use of Python's parser module, which lets me fiddle with the Abstract Syntax Tree. Apparently the closest I can get with PHP is token_get_all(), which is a start.From then on I can build the AST, symbol tables and control flow.Then I believe I can start outputting code. I don't need a perfect translation. I'll still have to review the generated code and fix problems. Ideally the translator should flag problematic translations.Before you ask &quot;What the hell is the point of this?&quot; The answer is... It'll be an interesting learning experience. If you have any insights on how to make this less daunting, please let me know.EDIT:I am more interested in knowing what kinds of patterns I could enforce on the code to make it easier to translate (ie: IoC, SOA ?) the code than how to do the translation.", "simquery1_answer": "Because of the quotes.<code>$(\"a[href='#']\").click(function(){\n  alert(\"test\");\n  return false;\n});\n</code>\n", "simquery2_title": "Why are scripting languages (e.g. Perl, Python, and Ruby) not suitable as shell languages? What are the differences between shell languages like Bash (<code>bash</code>), Z shell (<code>zsh</code>), Fish (<code>fish</code>) and the scripting languages above that makes them more suitable for the shell?When using the command line, the shell languages seem to be much easier. It feels for me much smoother to use bash for example than to use the shell profile in IPython, despite reports to the contrary. I think most will agree with me that a large portion of medium to large scale programming is easier in Python than in Bash. I use Python as the language I am most familiar with. The same goes for Perl and Ruby.I have tried to articulate the reason, but I am unable to, aside from assuming that the treatment of strings differently in both has something to do with it.The reason of this question is that I am hoping to develop a language usable in both. If you know of such a language, please post it as well.As S.Lott explains, the question needs some clarification. I am asking about the features of the shell language versus that of scripting languages. So the comparison is not about the characteristics of various interactive (REPL) environments such as history and command line substitution. An alternative expression for the question would be:Can a programming language that is suitable for design of complex systems be at the same time able to express useful one-liners that can access the file system or control jobs? Can a programming language usefully scale up as well as scale down?", "simquery2_answer": "Examine your <code>while</code> loop condition : <code>dirs[i]</code> is a <code>std::string</code>. You are using a string object in a boolean context : would you expect <code>std::string</code> to convert to <code>bool</code> ?My recommendation : ditch the fixed sized array and go for <code>std::vector</code>.<code>void listdir(const char *path, std::vector&lt;std::string&gt; &amp;dirs)\n{\n    /* ... */\n    while (pent = readdir (pdir))\n    {\n        /* ... */\n        dirs.push_back(pent-&gt;d-name);\n    }    closedir(pdir);\n}int main()\n{\n    std::vector&lt;std::string&gt; dirs;    listdir(\"c:\\\\\", dirs);\n    for (std::vector&lt;std::string&gt;::const_iterator it = dirs.begin(), end = dirs.end(); it != end; ++it)\n        std::cout &lt;&lt; *it &lt;&lt; std::endl;\n}\n</code>\n", "total_len": 270, "s1_total_len": 408, "s2_total_len": 631}
{"post_id": "529424", "title": "Traverse a list in reverse order in Python", "query": "How do I traverse a list in reverse order in Python? So I can start from <code>collection[len(collection)-1]</code> and end in <code>collection[0]</code>.I also want to be able to access the loop index.", "acce_answer": "Just like Ian says, this is impossible in IE6 and AFAIK in IE7 as well.  IE7 and IE8 actually support the <code>:first-child</code> selector from CSS 2.1 (I'm sure you can guess what that does), but not <code>:nth-child</code> nor <code>:last-child</code> which are CSS 3.\n", "acce_score": "1026", "simquery1_title": "Colon (:) in Python list index I'm new to Python. I see <code>:</code> used in list indices especially when it's associated with function calls. Python 2.7 documentation suggests that <code>lists.append</code> translates to <code>a[len(a):] = [x]</code>. Why does one need to suffix <code>len(a)</code> with a colon?I understand that <code>:</code> is used to identify keys in dictionary.", "simquery1_answer": "That's because you bind DataContext to the same value as you binding <code>IsEnabled</code>. So for <code>IsEnabled</code> it actually looking for MyVal.MyVal. Replace to:<code>IsEnabled=\"{Binding Converter={StaticResource NullCheckConverter}}\" \n</code>Also further if you have issues with binding, check in debug mode output window for binding errors.\n", "simquery2_title": "Access multiple elements of list knowing their index I need to choose some elements from the given list, knowing their index. Let say I would like to create a new list, which contains element with index 1, 2, 5, from given list [-2, 1, 5, 3, 8, 5, 6]. What I did is:<code>a = [-2,1,5,3,8,5,6]b = [1,2,5]c = [ a[i] for i in b]</code>Is there any better way to do it? something like c = a[b] ?", "simquery2_answer": "You can try with this:<code>File.WriteAllLines(\n    \"transactions.txt\",\n    File.ReadAllLines(\"transactions.txt\")\n        .Select(x =&gt; x.Contains(ID) ? textBox2.Text : x));\n</code>It works fine, but if the file is big you have to find other solutions.\n", "total_len": 157, "s1_total_len": 203, "s2_total_len": 226}
{"post_id": "533631", "title": "What is a mixin and why is it useful?", "query": "In Programming Python, Mark Lutz mentions the term mixin. I am from a C/C++/C# background and I have not heard the term before. What is a mixin?Reading between the lines of this example (which I have linked to because it is quite long), I am presuming it is a case of using multiple inheritance to extend a class as opposed to proper subclassing. Is this right?Why would I want to do that rather than put the new functionality into a subclass? For that matter, why would a mixin/multiple inheritance approach be better than using composition?What separates a mixin from multiple inheritance? Is it just a matter of semantics?", "acce_answer": "Also, your <code>incrementable</code> class should really be <code>Incrementable</code>.\n", "acce_score": "1300", "simquery1_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery1_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "simquery2_title": "What kinds of patterns could I enforce on the code to make it easier to translate to another programming language? I am setting out to do a side project that has the goal of translating code from one programming language to another. The languages I am starting with are PHP and Python (Python to PHP should be easier to start with), but ideally I would be able to add other languages with (relative) ease. The plan is:This is geared towards web development. The original and target code will be be sitting on top of frameworks (which I will also have to write). These frameworks will embrace an MVC design pattern and follow strict coding conventions. This should make translation somewhat easier.I am also looking at IOC and dependency injection, as they might make the translation process easier and less error prone.I'll make use of Python's parser module, which lets me fiddle with the Abstract Syntax Tree. Apparently the closest I can get with PHP is token_get_all(), which is a start.From then on I can build the AST, symbol tables and control flow.Then I believe I can start outputting code. I don't need a perfect translation. I'll still have to review the generated code and fix problems. Ideally the translator should flag problematic translations.Before you ask &quot;What the hell is the point of this?&quot; The answer is... It'll be an interesting learning experience. If you have any insights on how to make this less daunting, please let me know.EDIT:I am more interested in knowing what kinds of patterns I could enforce on the code to make it easier to translate (ie: IoC, SOA ?) the code than how to do the translation.", "simquery2_answer": "Because of the quotes.<code>$(\"a[href='#']\").click(function(){\n  alert(\"test\");\n  return false;\n});\n</code>\n", "total_len": 184, "s1_total_len": 414, "s2_total_len": 408}
{"post_id": "534839", "title": "How to create a GUID/UUID in Python", "query": "How do I create a GUID/UUID in Python that is platform independent? I hear there is a method using ActivePython on Windows but it's Windows only because it uses COM. Is there a method using plain Python?", "acce_answer": "You should use prototypes to define methods and do inheritance:<code>function Parent(x) {\n  this.x = x;  /* Set an instance variable. Methods come later. */\n}/* Make Parent inherit from Object by assigning an\n * instance of Object to Parent.prototype. This is\n * very different from how you do inheritance in\n * Java or C# !\n */\nParent.prototype = {  /* Define a method in the parent class. */\n  foo: function () {\n    return 'parent ' + this.x;  /* Use an instance variable. */\n  }\n}function Child(x) {\n  Parent.call(this, x)  /* Call the parent implementation. */\n}/* Similar to how Parent inherits from Object; you\n * assign an instance of the parent class (Parent) to\n * the prototype attribute of the child constructor\n * (Child).\n */\nChild.prototype = new Parent();/* Specialize the parent implementation. */\nChild.prototype.foo = function() {\n  return Parent.prototype.foo.call(this) + ' child ' + this.x;\n}/* Define a method in Child that does not override\n * something in Parent.\n */\nChild.prototype.bar = function() {\n  return 'bar';\n}var p = new Parent(1);\nalert(p.foo());var ch = new Child(2);\nalert(ch.foo());\nalert(ch.bar());\n</code>I'm not familiar with jQuery, but I know the Prototype library (worst name choice ever) has some functionality that make it easier to work with inheritance.Also, while coming up with the answer to this question, I found a nice page that goes into more detail on how to do OO right in JS, which you may want to look at.\n", "acce_score": "1155", "simquery1_title": "How to create a GUID/UUID in Python How do I create a GUID/UUID in Python that is platform independent? I hear there is a method using ActivePython on Windows but it's Windows only because it uses COM. Is there a method using plain Python?", "simquery1_answer": "You should use prototypes to define methods and do inheritance:<code>function Parent(x) {\n  this.x = x;  /* Set an instance variable. Methods come later. */\n}/* Make Parent inherit from Object by assigning an\n * instance of Object to Parent.prototype. This is\n * very different from how you do inheritance in\n * Java or C# !\n */\nParent.prototype = {  /* Define a method in the parent class. */\n  foo: function () {\n    return 'parent ' + this.x;  /* Use an instance variable. */\n  }\n}function Child(x) {\n  Parent.call(this, x)  /* Call the parent implementation. */\n}/* Similar to how Parent inherits from Object; you\n * assign an instance of the parent class (Parent) to\n * the prototype attribute of the child constructor\n * (Child).\n */\nChild.prototype = new Parent();/* Specialize the parent implementation. */\nChild.prototype.foo = function() {\n  return Parent.prototype.foo.call(this) + ' child ' + this.x;\n}/* Define a method in Child that does not override\n * something in Parent.\n */\nChild.prototype.bar = function() {\n  return 'bar';\n}var p = new Parent(1);\nalert(p.foo());var ch = new Child(2);\nalert(ch.foo());\nalert(ch.bar());\n</code>I'm not familiar with jQuery, but I know the Prototype library (worst name choice ever) has some functionality that make it easier to work with inheritance.Also, while coming up with the answer to this question, I found a nice page that goes into more detail on how to do OO right in JS, which you may want to look at.\n", "simquery2_title": "How can I rewrite python __version__ with git? I would like to define a <code>__version__</code> variable in my module which should be automatically updated on git commit similarly to what SVN keywords do. Is there a way to achieve it in Git? Does anyone have a working example?I considered using GitPython, but I would not like to introduce another dependency and I want users who download the module from SVN repo or as a zip package to have the same versioning scheme (I do not care that is some illegible hash).Edit: My particular problem is that I have to run simulations whose result depend on the exact version of the simulation script. Therefore each time I have to store version number together with the simulation results. If both run out of sync, it may have very dire outcomes.", "simquery2_answer": "How do I position this ViewController over the detail view modally? I want it to be right aligned so you can see the navigation portion greyed out.<code>[self.window addSubview:self.splitViewController.view];\nMyModalViewController *modalvc= [MyModalViewController new]; //brevity\nmodalvc.modalInPopover = YES;\nmodalvc.modalPresentationStyle = UIModalPresentationStylePageSheet;\nmodalvc.view.autoresizeMask = UIViewAutoresizeFlexibleRightMargin;\n[self.splitViewController presentModalView:modalvc animated:NO];\n[self.window makeKeyAndVisible];\n</code>I also checked in MyModalViewController if im setting the views mask and I am not, nor is it getting magic values from a Nib.  Adjusting the frame before the present (using modalvc.view.frame) does nothing.Adjusting the frame after the present seems to yield crazy results, and I only really need it to be half a width over in landscape... portrait is normal behavior.edit\nthe picture confused people so I took it out, I dont want the modal view to be the size of the screen, I want to keep it UIModalPresentationStylePageSheet but have its ORIGIN moved right so that it covers the detail view portion in landscape\n", "total_len": 465, "s1_total_len": 463, "s2_total_len": 459}
{"post_id": "541390", "title": "Extracting extension from filename in Python", "query": "Is there a function to extract the extension from a filename?", "acce_answer": "Try this,<code>StringBuffer Shanghai_StrBuf=new StringBuffer(\"\\u4E0A\\u6D77\");\n    boolean Append=true;    Writer out = new BufferedWriter(new OutputStreamWriter(\n        new FileOutputStream(FileName,Append), \"UTF8\"));\n    for (int i=0;i&lt;Shanghai_StrBuf.length();i++) out.write(Shanghai_StrBuf.charAt(i));\n    out.close();\n</code>\n", "acce_score": "1767", "simquery1_title": "Python Glob without the whole path - only the filename Is there a way I can use glob on a directory, to get files with a specific extension, but only the filename itself, not the whole path?", "simquery1_answer": "It does not, you should ignore the faulty incomplete GeoCoder object and just use the online version in a get request<code>http://maps.googleapis.com/maps/api/geocode/json?address=DESIREDADDRESS&amp;sensor=true</code>it returns a JSON object\n", "simquery2_title": "Remove last character if it's a backslash Is there a function to chomp last character in the string if it's some special character? For example, I need to remove backslash if it's there, and do nothing, if not. I know I can do it with regex easily, but wonder if there something like a small built-in function for that.", "simquery2_answer": "I try to get an Environment variable specified in Tomcat's <code>server.xml</code> in a 'PropertyPlaceholderConfigurer' located in my <code>jpa-spring.xml</code> file.So far, the setup looks as follows:Tomcat <code>server.xml</code><code>&lt;Environment description=\"Identifies the server environement\" \n             name=\"server-env\" \n             type=\"java.lang.String\" \n             value=\"dev\" /&gt;\n</code>The in <code>WebContent/META-INF/context.xml</code>:<code>&lt;Context&gt;\n    &lt;ResourceLink name=\"server-env\" global=\"server-env\" type=\"java.lang.String\"/&gt;\n&lt;/Context&gt;\n</code>Which is referenced in <code>WebContent/WEB-INF/web.xml</code> like:<code>&lt;resource-env-ref&gt;\n    &lt;description&gt;Identifies server environement&lt;/description&gt;\n    &lt;resource-env-ref-name&gt;server-env&lt;/resource-env-ref-name&gt;\n    &lt;resource-env-ref-type&gt;java.lang.String&lt;/resource-env-ref-type&gt;\n&lt;/resource-env-ref&gt;&lt;!-- Spring Integration --&gt;&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/config/jpa-spring.xml\n&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code>And in <code>/WEB-INF/config/jpa-spring.xml</code> I try to get that variable as a replacement:<code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;WEB-INF/config/db.${server-env}.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code>This is a setup I put together using information from several articles found on the web.However, I get an error like ...<code>Could not resolve placeholder 'server-env' in [WEB-INF/config/db.${server-env}.properties] as system property: neither system property nor environment variable found\n05 Nov 2011 14:45:13,385 org.springframework.web.context.ContextLoader\nERROR Context initialization failedorg.springframework.beans.factory.BeanInitializationException: Could not load properties; nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/config/db.${server-env}.properties]\n</code>... when starting tomcat.What is the right approach to achieve what I am looking for?I know that this question is similar to this, and this question. However, I even couldn't figure it out with the information from these answers.\n", "total_len": 145, "s1_total_len": 115, "s2_total_len": 859}
{"post_id": "574730", "title": "Python: How to ignore an exception and proceed?", "query": "I have a try...except block in my code and When an exception is throw. I really just want to continue with the code because in that case, everything is still able to run just fine. The problem is if you leave the except: block empty or with a #do nothing, it gives you a syntax error. I can't use continue because its not in a loop. Is there a keyword i can use that tells the code to just keep going?", "acce_answer": "To be fair, I'm not very familiar with Ruby, so take this as more of an algorithm idea rather than a code one... and rewrite the ?: operator as whatever Ruby has that's cleaner.Can't you just check for nil in the comparison:<code>class Parent\n  def sorted_children\n     children.sort{|a,b|( a and b ) ? a &lt;=&gt; b : ( a ? -1 : 1 ) }\n  end\nend\n</code>Edited to use Glenra's code, which implements the same thing as mine but in a smaller (and probably easier to read) amount of code.\n", "acce_score": "558", "simquery1_title": "Re-raise exception with a different type and message, preserving existing information I'm writing a module and want to have a unified exception hierarchy for the exceptions that it can raise (e.g. inheriting from a <code>FooError</code> abstract class for all the <code>foo</code> module's specific exceptions). This allows users of the module to catch those particular exceptions and handle them distinctly, if needed. But many of the exceptions raised from the module are raised because of some other exception; e.g. failing at some task because of an OSError on a file.What I need is to \u201cwrap\u201d the exception caught such that it has a different type and message, so that information is available further up the propagation hierarchy by whatever catches the exception. But I don't want to lose the existing type, message, and stack trace; that's all useful information for someone trying to debug the problem. A top-level exception handler is no good, since I'm trying to decorate the exception before it makes its way further up the propagation stack, and the top-level handler is too late.This is partly solved by deriving my module <code>foo</code>'s specific exception types from the existing type (e.g. <code>class FooPermissionError(OSError, FooError)</code>), but that doesn't make it any easier to wrap the existing exception instance in a new type, nor modify the message.Python's PEP 3134 \u201cException Chaining and Embedded Tracebacks\u201d discusses a change accepted in Python 3.0 for \u201cchaining\u201d exception objects, to indicate that a new exception was raised during the handling of an existing exception.What I'm trying to do is related: I need it also working in earlier Python versions, and I need it not for chaining, but only for polymorphism. What is the right way to do this?", "simquery1_answer": "Yes, this is generally the correct approach.A tip:  \nSet the callback for your button events, so that it actually does something when clicked.<code>[myButton addTarget:self action:@selector(whatMyButtonShouldDo:)   \n  forControlEvents:UIControlEventTouchUpInside];\n</code>\nEDIT: Adjusted code for using a system button, which renders a lot of what I had written uneccessary.\n", "simquery2_title": "What is the purpose of class methods? I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions.I now realise that I don't need to use Class methods for what I would done with <code>static</code> methods in Java, but now I'm not sure when I would use them.  All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them.Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?", "simquery2_answer": "Gonna post an answer to my own question here as I read the manual after I typed this up.  In TortoiseSVN, goto settings.  Add <code>*ReSharper*\n</code>to the \"Global ignore pattern\".  Adding items to the global ignore pattern means that these files will be ignored for any project you work on for the client with TortoiseSVN installed, so it might not be appropriate to use the global ignore in all cases.You can also add specific files and directories to the ignore list for individual projects if you select this from the TortoiseSVN menu BEFORE they have been added to your repository.  The \"BEFORE\" part is what tripped me up originally.  Since this is a single developer project, I've been checking in binaries, etc. b/c it has no consequence for other developers, and the Resharper files got in there.\n", "total_len": 253, "s1_total_len": 511, "s2_total_len": 365}
{"post_id": "582336", "title": "How do I profile a Python script?", "query": "Project Euler and other coding contests often have a maximum time to run or people boast of how fast their particular solution runs. With Python, sometimes the approaches are somewhat kludgey - i.e., adding timing code to <code>__main__</code>.What is a good way to profile how long a Python program takes to run?", "acce_answer": "Are you sure that hide() function call is even getting called on the page load?  Try putting an <code>alert('hi')</code> right before that function call, and see if that happens in IE8.  \n", "acce_score": "1655", "simquery1_title": "accurately measure time python function takes I need to measure the time certain parts of my program take (not for debugging but as a feature in the output). Accuracy is important because the total time will be a fraction of a second.I was going to use the time module when I came across timeit, which claims to avoid a number of common traps for measuring execution times. Unfortunately it has an awful interface, taking a string as input which it then eval's. So, do I need to use this module to measure time accurately, or will time suffice? And what are the pitfalls it refers to?Thanks", "simquery1_answer": "This may be faster than firing up the regex engine:<code>if (strspn ( $subject , '01') == strlen($subject)) {\n    echo 'It\\'s binary!';\n} else {\n    echo 'Not binary!';\n}\n</code>If you just look for simple characters or want to count them, regex is often quite slow while one or two built in string function can do the job much faster.\nMaybe this does apply here, maybe not.After hearing some remarks in the comments, that this might not work, here's a test case:<code>&lt;?php$strings = array('10001001', '22229999', '40004000');foreach ( $strings as $string )\n{\n    if ( strspn( $string, '01') == strlen( $string ) ) {\n        echo $string . ' is binary!' . \"\\n\";\n    } else {\n        echo $string . ' is NOT binary!' . \"\\n\";\n    }\n}\n</code>It does the job.\n", "simquery2_title": "Profiling in Python: Who called the function? I'm profiling in Python using <code>cProfile</code>. I found a function that takes a lot of CPU time. How do I find out which function is calling this heavy function the most?EDIT:I'll settle for a workaround: Can I write a Python line inside that heavy function that will print the name of the function that called it?", "simquery2_answer": "Even though the problems appears to arise with the last chunk doesn't necessarily mean that there are no errors in your loops. If you go out of bounds on any of your arrays you may not get any indication about it until later on.In the first interior <code>while</code> loop you have<code>while ((k != dim) &amp;&amp; partMap[dim * ((dim - 1 - k) + dim * i) + j] &lt; stage) \n    k++;\n</code>which means that potentially <code>k</code> could have the value <code>dim</code> when finished with the <code>while</code> loop. The next line then does<code>positiveProjection[dim * k + j] = k;\n</code>which will go out of bounds in <code>positiveProjection</code> for any <code>j</code> since you're trying to index with <code>dim*dim + j</code> and it only has dimension <code>dim*dim</code>.\n", "total_len": 135, "s1_total_len": 384, "s2_total_len": 323}
{"post_id": "600268", "title": "mkdir -p functionality in Python", "query": "Is there a way to get functionality similar to <code>mkdir -p</code> on the shell from within Python.  I am looking for a solution other than a system call.  I am sure the code is less than 20 lines, and I am wondering if someone has already written it?", "acce_answer": "I created a custom class called MoreOpenStruct to deal with Hash's lack of aesthetics, and using that class, your example would look like:<code>form_params = MoreOpenStruct.new\nform_params.tid = tid\nform_params.qid = qid\nform_params.pri = pri\nform_params.sec = sec\nform_params.to_u = to_u\nform_params.to_d = to_d\nform_params.from = from\nform_params.wl = wlform_params_hash = form_params._to_hash\n  #=&gt; { :tid =&gt; tid, :qid =&gt; qid, etc }\n</code>If you need string literals rather than symbols as the key to your hash then a couple more tweaks are required.I use my custom struct class when I want easy to read/manipulate Hashes, but if all you're doing is an assignment and don't need to parse the hash beyond that, I'd use Roger's solution.\n", "acce_score": "1010", "simquery1_title": "os.mkdir(path) returns OSError when directory does not exist I am calling <code>os.mkdir</code> to create a folder with a certain set of generated data. However, even though the path I specified has not been created, the <code>os.mkdir(path)</code> raises an OSError that the path already exists.For example, I call:<code>os.mkdir(test)</code>This call results in <code>OSError: [Errno 17] File exists: 'test'</code> even though I don't have a test directory or a file named test anywhere.NOTE: the actual path name I use is not \"test\" but something more obscure that I'm sure is not named anywhere.Help, please?", "simquery1_answer": "I does not set them to empty but to the ASCII values 0 - 9, which is very different from the characters '0' - '9'.What you want:<code>for(int i = 0; i &lt; arr.Length; i++) \n{\n   arr[i] = (char)(i + '0');\n}\n</code>And by the way, \nyou don't need <code>ref</code> here, arrays are reference types. \nusing <code>arr.Length</code> is more legible and probably faster", "simquery2_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery2_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "total_len": 317, "s1_total_len": 303, "s2_total_len": 575}
{"post_id": "624926", "title": "How do I detect whether a variable is a function?", "query": "I have a variable, <code>x</code>, and I want to know whether it is pointing to a function or not.I had hoped I could do something like:<code>&gt;&gt;&gt; isinstance(x, function)</code>But that gives me:<code>Traceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in ?NameError: name 'function' is not defined</code>The reason I picked that is because<code>&gt;&gt;&gt; type(x)&lt;type 'function'&gt;</code>", "acce_answer": "Use some function to split your delimited string into a table:Here is an example.Then use a stored procedure like this:<code>CREATE PROCEDURE GetProductsByDelimitedString \n@myString nvarchar(max)\nAS\nBEGIN\nselect * from Products where ID in (select * from SplitFunction(@myString))\nEND\n</code>Then bind your gridview to the result of the stored procedure:<code>    string myString = \"3,6,12\";    SqlConnection conn = GetSqlConnection();\n    GridView gvw = GetGridView();\n    SqlCommand cmd = new SqlCommand(\"GetProductsByDelimitedString\", conn);    cmd.CommandType = System.Data.CommandType.StoredProcedure;        \n    cmd.Parameters.AddWithValue(\"@myString\", myString);\n    try\n    {\n        conn.Open();\n        gvw.DataSource = cmd.ExecuteReader();\n        gvw.DataBind();\n        conn.Close();\n    }\n    catch\n    {\n        // something bad happened\n    }\n</code>\n", "acce_score": "945", "simquery1_title": "What's the canonical way to check for type in Python? How do I check if an object is of a given type, or if it inherits from a given type?How do I check if the object <code>o</code> is of type <code>str</code>?Beginners often wrongly expect the string to already be &quot;a number&quot; - either expecting Python 3.x <code>input</code> to convert type, or expecting that a string like <code>'1'</code> is also simultaneously an integer. This is the wrong canonical for those questions. Please carefully read the question and then use How do I check if a string represents a number (float or int)?, How can I read inputs as numbers? and/or Asking the user for input until they give a valid response as appropriate.", "simquery1_answer": "Try this:<code>foreach (string propertyName in result.Properties.PropertyNames)\n{\n    MessageBox.Show(result.Properties[propertyName].ToString());\n}\n</code>Or this:<code>foreach (object prop in result.Properties)\n{\n     MessageBox.Show(prop.ToString());\n}\n</code>Also: there are a couple different PropertyCollections classes in the framework.  These examples are based on the System.Data class, but you might also be using the System.DirectoryServices class.  However, neither of those classes are really \"reflection\".  Reflection refers to something different- namely the System.Reflection namespace plus a couple special operators.\n", "simquery2_title": "How to use type hints in python 3.6? I noticed Python 3.5 and Python 3.6 added a lot of features about static type checking, so I tried with the following code (in python 3.6, stable version).<code>from typing import Lista: List[str] = []a.append('a')a.append(1)print(a)</code>What surprised me was that, Python didn't give me an error or warning, although <code>1</code> was appended to a <code>list</code> which should only contain strings. <code>Pycharm</code> detected the type error and gave me a warning about it, but it was not obvious and it was not shown in the output console, I was afraid sometimes I might miss it. I would like the following effects:If it's obvious that I used the wrong type just as shown above, throw out a warning or error.If the compiler couldn't reliably check if the type I used was right or wrong, ignore it.Is that possible? Maybe <code>mypy</code> could do it, but I'd prefer to use Python-3.6-style type checking (like <code>a: List[str]</code>) instead of the comment-style (like <code># type List[str]</code>) used in <code>mypy</code>. And I'm curious if there's a switch in native python 3.6 to achieve the two points I said above.", "simquery2_answer": "one method using join<code>  select t1.* from \n(\nselect * from results where EXAM ='ssc' and RESULT&gt;4.0\n    ) t1\n  join\n(\n    select * from  results where EXAM ='hsc' and RESULT&gt;4.2\n) as t2 on t1.USER=t2.USER\n</code>\n", "total_len": 402, "s1_total_len": 333, "s2_total_len": 428}
{"post_id": "626759", "title": "What's the difference between lists and tuples?", "query": "What's the difference between tuples/lists and what are their  advantages/disadvantages?", "acce_answer": "<code>while(choice!=99)\n{\n  cin&gt;&gt;choice;\n  if (choice==99)\n    exit(0);\n  cin&gt;&gt;gNum;\n}\n</code>Trust me, that will exit the loop. If that doesn't work nothing will. Mind, this may not be what you want...\n", "acce_score": "1141", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "How is set() implemented? I've seen people say that <code>set</code> objects in python have O(1) membership-checking. How are they implemented internally to allow this? What sort of data structure does it use? What other implications does that implementation have?Every answer here was really enlightening, but I can only accept one, so I'll go with the closest answer to my original question. Thanks all for the info!", "simquery2_answer": "Declare them as readonly and move initialization to constructor:<code>public class Global : System.Web.HttpApplication\n{    public readonly string globalServernameSHA;\n    public readonly string globalSqlConnection;    public Global()\n    {\n        globalServernameSHA = ConfigurationManager.AppSettings[\"varServernameSHA\"].ToString();\n        globalSqlConnection = ConfigurationManager.ConnectionStrings[\"varConnectionString\"].ToString();\n    }\n</code>\n", "total_len": 122, "s1_total_len": 337, "s2_total_len": 197}
{"post_id": "627435", "title": "How to remove an element from a list by index", "query": "How do I remove an element from a list by index?I found <code>list.remove()</code>, but this slowly scans the list for an item by value.", "acce_answer": "To write a link that will only change the query string, just use<code>&lt;a href=\"?foo=bar\"&gt;whatever&lt;/a&gt;\n</code>So if you're at <code>http://the/current/url.php</code>, it goes to <code>http://the/current/url.php?foo=bar</code>, or if you're <code>http://somewhere/else?entire=ly</code>, it goes to <code>http://somewhere/else?foo=bar</code>.\n", "acce_score": "2176", "simquery1_title": "Access multiple elements of list knowing their index I need to choose some elements from the given list, knowing their index. Let say I would like to create a new list, which contains element with index 1, 2, 5, from given list [-2, 1, 5, 3, 8, 5, 6]. What I did is:<code>a = [-2,1,5,3,8,5,6]b = [1,2,5]c = [ a[i] for i in b]</code>Is there any better way to do it? something like c = a[b] ?", "simquery1_answer": "You can try with this:<code>File.WriteAllLines(\n    \"transactions.txt\",\n    File.ReadAllLines(\"transactions.txt\")\n        .Select(x =&gt; x.Contains(ID) ? textBox2.Text : x));\n</code>It works fine, but if the file is big you have to find other solutions.\n", "simquery2_title": "Delete an element from a dictionary How do I delete an item from a dictionary in Python?Without modifying the original dictionary, how do I obtain another dict with the item removed?See also How can I remove a key from a Python dictionary? for the specific issue of removing an item (by key) that may not already be present.", "simquery2_answer": "We have been searching a WYSIWYG editor for our Spring Project and we decided on CKEditor but we also needed an plugin for to insert iamge from localhost so I tried to implement CKFinder for Java. But I couldn't event make work CKFinder's example app work.The screen:\nhttp://imgur.com/ZortmThe debug output:<code>java.lang.NullPointerException\n    at com.ckfinder.connector.ConnectorServlet.getResponse(ConnectorServlet.java:114)\n    at com.ckfinder.connector.ConnectorServlet.doGet(ConnectorServlet.java:76)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code>\n", "total_len": 182, "s1_total_len": 226, "s2_total_len": 728}
{"post_id": "645312", "title": "What is the quickest way to HTTP GET in Python?", "query": "What is the quickest way to HTTP GET in Python if I know the content will be a string? I am searching the documentation for a quick one-liner like:<code>contents = url.get(\"http://example.com/foo/bar\")</code>But all I can find using Google are <code>httplib</code> and <code>urllib</code> - and I am unable to find a shortcut in those libraries.Does standard Python 2.5 have a shortcut in some form as above, or should I write a function <code>url_get</code>?I would prefer not to capture the output of shelling out to <code>wget</code> or <code>curl</code>.", "acce_answer": "I've used <code>apc_define_constants</code> quite a bit without any trouble - I've never tried hidef because of its 'alpha' status.\n", "acce_score": "728", "simquery1_title": "Python request with authentication (access_token) I am trying to use an API query in Python. From the command line I can use <code>curl</code> like so:<code>curl --header &quot;Authorization:access_token myToken&quot; https://website.example/id</code>This gives some JSON output. <code>myToken</code> is a hexadecimal variable that remains constant throughout.I would like to make this call from python so that I can loop through different ids and analyze the output. Before authentication was needed I had done that with <code>urllib2</code>. I have also taken a look at the <code>requests</code> module but couldn't figure out how to authenticate with it.", "simquery1_answer": "Remove this Inner itemclicklistener- <code>gameList.setOnItemClickListener(new OnItemClickListener(){    @Override\n public void onItemClick(AdapterView&lt;?&gt; paren, View view,\n      int position, long id) {\n        Log.i(\"Value\", List_Data.get(position));    }\n});\n</code>\n", "simquery2_title": "Python: download files from google drive using url I am trying to download files from google drive and all I have is the drive's URL.I have read about google API that talks about some <code>drive_service</code> and <code>MedioIO</code>, which also requires some credentials( mainly JSON <code>file/OAuth</code>). But I am unable to get any idea about how it is working.Also, tried <code>urllib2.urlretrieve</code>, but my case is to get files from the drive. Tried <code>wget</code> too but no use.Tried <code>PyDrive</code> library. It has good upload functions to drive but no download options.Any help will be appreciated.Thanks.", "simquery2_answer": "I'm making lots of assumptions since your question doesn't have much detail. Here is some generic code assuming that everything is in 1 table: <code>Update employees\nset salary = salary * .85 \nwhere training_course_completed &lt; '2012-11-15' \nand start_date &gt; '2013-02-05'\n;\n</code>\n", "total_len": 214, "s1_total_len": 247, "s2_total_len": 270}
{"post_id": "653509", "title": "Breaking out of nested loops", "query": "Is there an easier way to break out of nested loops than throwing an exception? (In Perl, you can give labels to each loop and at least continue an outer loop.)<code>for x in range(10):    for y in range(10):        print x*y        if x*y &gt; 50:            &quot;break both loops&quot;</code>I.e., is there a nicer way than:<code>class BreakIt(Exception): passtry:    for x in range(10):        for y in range(10):            print x*y            if x*y &gt; 50:                raise BreakItexcept BreakIt:    pass</code>", "acce_answer": "Following up on Eoin Campbell's response, here's a code snippet that should do exactly that using the <code>System.Net</code> functionality:<code>using (var request = System.Net.HttpWebRequest.Create(\n    \"http://tempuri.org/pathToFile\"))\n{\n    request.Method = \"HEAD\";    using (var response = request.GetResponse())\n    {\n        switch (response.ContentType)\n        {\n            case \"text/xml\":\n                // ...\n                break;\n            case \"text/html\":\n                // ...\n                break;\n        }\n    }\n}\n</code>Of course, this assumes that the web server publishes the content (MIME) type and does so correctly. But since you stated that want a bandwidth-efficient way of doing this, I assume you don't want to download all the markup and analyse that! To be honest, the content type is usually set correctly in any case.\n", "acce_score": "413", "simquery1_title": "Python style - line continuation with strings? In trying to obey the python style rules, I've set my editors to a max of 79 cols.In the PEP, it recommends using python's implied continuation within brackets, parentheses and braces.  However, when dealing with strings when I hit the col limit, it gets a little weird.For instance, trying to use a multiline<code>mystr = \"\"\"Why, hello therewonderful stackoverflow people!\"\"\"</code>Will return<code>\"Why, hello there\\nwonderful stackoverflow people!\"</code>This works:<code>mystr = \"Why, hello there \\wonderful stackoverflow people!\"</code>Since it returns this:<code>\"Why, hello there wonderful stackoverflow people!\"</code>But, when the statement is indented a few blocks in, this looks weird:<code>do stuff:    and more stuff:        and even some more stuff:            mystr = \"Why, hello there \\wonderful stackoverflow people!\"</code>If you try and indent the second line:<code>do stuff:    and more stuff:        and even some more stuff:            mystr = \"Why, hello there \\            wonderful stackoverflow people!\"</code>Your string ends up as:<code>\"Why, hello there                wonderful stackoverflow people!\"</code>The only way I've found to get around this is:<code>do stuff:    and more stuff:        and even some more stuff:            mystr = \"Why, hello there\" \\            \"wonderful stackoverflow people!\"</code>Which I like better, but is also somewhat uneasy on the eyes, as it looks like there is a string just sitting in the middle of nowhere.  This will produce the proper:<code>\"Why, hello there wonderful stackoverflow people!\"</code>So, my question is - what are some people's recommendations on how to do this and is there something I'm missing in the style guide that does show how I should be doing this?Thanks.", "simquery1_answer": "You want the position parameter not the idSee the documentation of onItemClick:<code>public abstract void onItemClick (AdapterView&lt;?&gt; parent, View view, int position, long id) \n</code>Since: API Level 1 Callback method to be invoked when an item in this AdapterView has been clicked. Implementers can call getItemAtPosition(position) if they need to access the data associated with the selected item.Parameters\n  parent:   The AdapterView where the click happened. \n  \n  view:     The view within the AdapterView that was clicked (this will be a view provided by the adapter)\n  \n  position:  The position of the view in the adapter. \n  \n  id:  The row id of the item that was clicked.  ", "simquery2_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery2_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "total_len": 389, "s1_total_len": 625, "s2_total_len": 1038}
{"post_id": "730764", "title": "How to properly ignore exceptions", "query": "When you just want to do a try-except without handling the exception, how do you do it in Python?Is the following the right way to do it?<code>try:    shutil.rmtree(path)except:    pass</code>", "acce_answer": "You can rewrite it like this:<code> var opportunites =  from opp in oppDC.Opportunities\n                            join org in oppDC.Organizations on opp.OrganizationID equals org.OrgnizationID\n                            select new\n                            {\n                                opp.OpportunityID,\n                                opp.Title,\n                                opp.PostedBy,\n                                opp.Address1,\n                                opp.CreatedDate,\n                                org.OrganizationName\n                            };if(condition)\n{\n   opportunites  = opportunites.Where(opp =&gt; opp.Title.StartsWith(title));\n}\n</code>EDIT: To answer your question in the comments, yes, you can keep appending to the original Queryable. Remember, this is all lazily executed, so at this point all it's doing it building up the IQueryable so you can keep chaining them together as needed:<code>if(!String.IsNullOrEmpty(title))\n{\n   opportunites  = opportunites.Where(.....);\n}if(!String.IsNullOrEmpty(name))\n{\n   opportunites  = opportunites.Where(.....);\n}\n</code>\n", "acce_score": "935", "simquery1_title": "Catch and print full Python exception traceback without halting/exiting the program I want to catch and log exceptions without exiting, e.g.,<code>try:    do_stuff()except Exception as err:    print(Exception, err)    # I want to print the entire traceback here,    # not just the exception name and details</code>I want to print the exact same output that is printed when the exception is raised without the try/except intercepting the exception, and I do not want it to exit my program.", "simquery1_answer": "I am having trouble getting the data from JSON to insert into individual divs. I would like each of the image/videourls to insert into their own <code>&lt;div class=\"item\"&gt;&lt;/div&gt;\n</code>Currently, each object gets inserted on top of eachother (with my given template HTML) in the \"item\" class. I figure that there must be away to tell Mustache to insert each object in the array into it's own div with the class \"item\" so that the final result will be two divs with the HTML in the template inside each one. I have JSON data:<code>{ \"pictures\" : [\n  {\n    \"image\": \"1\",\n    \"videourl\": \"http://www.youtube.com/embed/\"\n  },\n  {\n    \"image\": \"4\",\n    \"videourl\": \"http://www.youtube.com/embed\"\n  }\n]}\n</code>and I have a template setup:<code>{{#pictures}}    &lt;div class=\"videoplay-main animated fadeIn\" data-videourl=\"{{videourl}}\"&gt;\n        &lt;img src=\"img/frontpage/{{image}}.jpg\"\u00a0/&gt;\n    &lt;/div&gt;{{/pictures}}\n</code>And I have JS:<code>$.getJSON('js/data.json', function(data){\n    var homeTemplate = $(\"#slider-template\").html();\n    var html = Mustache.render(homeTemplate, data);\n    $('.item').html(html);\n});\n</code>\n", "simquery2_title": "How to log python exception? How can I log an exception in Python?I've looked at some options and found out I can access the actual exception details using this code:<code>import sysimport tracebacktry:    1/0except:    exc_type, exc_value, exc_traceback = sys.exc_info()    traceback.print_exception(exc_type, exc_value, exc_traceback)</code>I would like to somehow get the string <code>print_exception()</code> throws to stdout so that I can log it.", "simquery2_answer": "If the loop values in column D are already there, I think this will work.<code>Sub x()Dim r As Range, rDist As Range, n As Variant, i As Long, wf As WorksheetFunctionConst nMax As Long = 62\nSet wf = WorksheetFunctionFor Each r In Range(\"D2\", Range(\"D\" &amp; Rows.Count).End(xlUp)).SpecialCells(xlCellTypeConstants)\n    Set rDist = r.Offset(, -3).Resize(r.Value, 3)\n    For i = 1 To r\n        n = Application.Match(i, rDist.Columns(1), 0)\n        If IsNumeric(n) Then\n            If wf.Max(rDist.Columns(2)) - wf.Sum(rDist.Columns(3)) &lt; nMax Then\n                rDist(n, 3) = wf.Max(rDist.Columns(2)) - wf.Sum(rDist.Columns(3))\n                Exit For\n            Else\n                rDist(n, 3) = nMax\n            End If\n        End If\n    Next i\nNext rColumns(3).SpecialCells(xlCellTypeBlanks).Value = 0End Sub\n</code>\n", "total_len": 339, "s1_total_len": 494, "s2_total_len": 420}
{"post_id": "739654", "title": "How do I make function decorators and chain them together?", "query": "How do I make two decorators in Python that would do the following?<code>@make_bold@make_italicdef say():   return &quot;Hello&quot;</code>Calling <code>say()</code> should return:<code>&quot;&lt;b&gt;&lt;i&gt;Hello&lt;/i&gt;&lt;/b&gt;&quot;</code>", "acce_answer": "What's the easiest way in python to concatenate string with binary values ?<code>sep = 0x1\ndata = [\"abc\",\"def\",\"ghi\",\"jkl\"]\n</code>Looking for result data <code>\"abc0x1def0x1ghi0x1jkl\"</code> with the 0x1 being binary value not string \"0x1\".\n", "acce_score": "3117", "simquery1_title": "converting JSON to string in Python I did not explain my questions clearly at beginning.Try to use <code>str()</code> and <code>json.dumps()</code> when converting JSON to string in python.<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print json.dumps(data){&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print str(data){'jsonKey': 'jsonValue', 'title': 'hello world'}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}'&gt;&gt;&gt; str(data)&quot;{'jsonKey': 'jsonValue', 'title': 'hello world'}&quot;</code>My question is:<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world'&quot;}&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': &quot;hello world\\'&quot;}'&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\'&quot;}'&gt;&gt;&gt; </code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world''}&quot;</code><code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}  File &quot;&lt;stdin&gt;&quot;, line 1    data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}                                                          ^SyntaxError: EOL while scanning string literal&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world\\&quot;&quot;}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\\\&quot;&quot;}'&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': \\'hello world&quot;\\'}'</code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world\\&quot;'}&quot;</code>It is not necessary to change the output string to json (dict) again for me.How to do this?", "simquery1_answer": "IziToast is already available for angular 2 as <code>ng2-izitoast</code>. Please use: https://github.com/plauzul/ng2-izitoast\n", "simquery2_title": "How to make print call the __str__ method of Python objects inside a list? In Java, if I call <code>List.toString()</code>, it will automatically call the <code>toString()</code> method on each object inside the List. For example, if my list contains objects <code>o1</code>, <code>o2</code>, and <code>o3</code>, <code>list.toString()</code> would look something like this:<code>&quot;[&quot; + o1.toString() + &quot;, &quot; + o2.toString() + &quot;, &quot; + o3.toString() + &quot;]&quot;</code>Is there a way to get similar behavior in Python? I implemented a <code>__str__()</code> method in my class, but when I print out a list of objects, using:<code>print 'my list is %s'%(list)</code>it looks something like this:<code>[&lt;__main__.cell instance at 0x2a955e95f0&gt;, &lt;__main__.cell instance at 0x2a955e9638&gt;, &lt;__main__.cell instance at 0x2a955e9680&gt;]</code>how can I get python to call my <code>__str__()</code> automatically for each element inside the list (or dict for that matter)?", "simquery2_answer": "For one thing you can not have an element that has the same id as another. Id is unique, but class names can be used as many times as you want<code>&lt;div id=\"top\"&gt;\n &lt;div id=\"potato1\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n &lt;div id=\"bottom\"&gt;\n &lt;div id=\"potato2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code>jquery as so:<code>$(function{\n $(\"#potato2\").html('Idaho'); //if you're going to name it with an id, \n  //  that's all the selector you need\n});\n</code>\n", "total_len": 196, "s1_total_len": 737, "s2_total_len": 517}
{"post_id": "739993", "title": "How do I get a list of locally installed Python modules?", "query": "How do I get a list of Python modules installed on my computer?", "acce_answer": "Here is the scenerio:I have a DOM element on a page with a jQuery plugin attached to it:<code>$('.flexslider').flexslider(arguments);</code>Now I want to dynamically pass different arguments to the <code>flexslider()</code> function depending on the width of the client window. This should work on resize. This is a simplified fragment of my code:<code>$(window).resize(function () {\n    if (jqUpdateSize() &gt;= 768) {\n        arguments = getDesktopSliderSettings();\n    } else {\n        arguments = getMobileSliderSettings();\n    }        \n    $('.flexslider').flexslider(arguments);        \n});\n</code>This would not work as the plugin has been initialized before.I know that it might not be easy once the plugin has been initialized, but one of the workarounds that I thought about was:\nCloning the <code>.flexslider</code> DOM element and attaching a new plugin\nwith different settings to the clone; \nReplacing the current slider with the the clone.\nWhat would be the best way to re-attach the plugin with appropriate arguments (mobile/desktop)?\n", "acce_score": "1210", "simquery1_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery1_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "simquery2_title": "Python and pip, list all versions of a package that's available? Given the name of a Python package that can be installed with pip, is there any way to find out a list of all the possible versions of it that pip could install? Right now it's trial and error.I'm trying to install a version for a third party library, but the newest version is too new, there were backwards incompatible changes made. So I'd like to somehow have a list of all the versions that pip knows about, so that I can test them.", "simquery2_answer": "You can use named buffers for this instead of the default unnamed buffer:  <code>\"lY</code> then <code>\"lp</code> to yank resp. paste from register <code>l</code>, then let the <code>dd</code> use the default buffer.\n", "total_len": 294, "s1_total_len": 319, "s2_total_len": 184}
{"post_id": "743164", "title": "How to emulate a do-while loop?", "query": "I need to emulate a do-while loop in a Python program. Unfortunately, the following straightforward code does not work:<code>list_of_ints = [ 1, 2, 3 ]iterator = list_of_ints.__iter__()element = Nonewhile True:  if element:    print element  try:    element = iterator.next()  except StopIteration:    breakprint \"done\"</code>Instead of \"1,2,3,done\", it prints the following output:<code>[stdout:]1[stdout:]2[stdout:]3None['Traceback (most recent call last):', '  File \"test_python.py\", line 8, in &lt;module&gt;    s = i.next()', 'StopIteration']</code>What can I do in order to catch the 'stop iteration' exception and break a whileloop properly?An example of why such a thing may be needed is shown below as pseudocode.State machine:<code>s = \"\"while True :  if state is STATE_CODE :    if \"//\" in s :      tokens.add( TOKEN_COMMENT, s.split( \"//\" )[1] )      state = STATE_COMMENT    else :      tokens.add( TOKEN_CODE, s )  if state is STATE_COMMENT :    if \"//\" in s :      tokens.append( TOKEN_COMMENT, s.split( \"//\" )[1] )    else      state = STATE_CODE      # Re-evaluate same line      continue  try :    s = i.next()  except StopIteration :    break</code>", "acce_answer": "That is, with a prepared statement like:\n<code>select col1,...coln from table where col3 = ?\n</code>\nI believe I can use $mysqli-&gt;field_count to get the number of columns being returned (haven't tried).\nBut is there a way to link each column name to the values returned in bind_results?\nI could always try to parse the column names out from the command itself, but that's not a road I want to go down.\nContext:\nI want to be able to define a PHP interface that maps class properties to column names returned from the database. So given\n<code>class A implements IColumnMapped{\n    public $prop1, $prop2; private $map;\n    public function __construct() {\n        $map = array();\n        $map['col1'] = &amp; $this-&gt;prop1;\n        $map['col2'] = &amp; $this-&gt;prop2;\n    }\n    public function getMap() { return $this-&gt;map;}\n}\n</code>\nand\n<code>$mysqli-&gt;prepare(&quot;select col0, col1, col2, col3 from table&quot;);\n</code>\nI can use bind_results and then do something like (pseudoish code)\n<code>for($resultColumns as $columnName) {\n    if(isset($map[$columnName])) $map[$columnName] = $results[$columnName];\n}\n</code>\nto pull out just the two columns I need (col1 and col2) and assign them to the correct properties of class A.\n", "acce_score": "1070", "simquery1_title": "Why is starred iterable unpacking in a return statement invalid syntax without parentheses before Python 3.8? The Python language (especially 3.x) allows very general unpacking of iterables, a simple example of which is<code>a, *rest = 1, 2, 3</code>Over the years, this unpacking has been gradually generalized (see e.g. PEP 3132 and PEP 448), allowing it to be used in more and more circumstances. As so, I was surprised to discover that the following is invalid syntax in Python 3.6 (and remains so in Python 3.7):<code>def f():    rest = [2, 3]    return 1, *rest  # Invalid</code>I can make it work by encapsulating the returned tuple in parentheses like so:<code>def f():    rest = [2, 3]    return (1, *rest)  # Valid</code>The fact that I use this in a <code>return</code> statement seems to be important, as<code>t = 1, *rest</code>is indeed legal and results in the same with and without parentheses.Have this case simply been forgotten by the Python developers, or are there any reason why this case is invalid syntax?Why I careThis breaks an important contract I thought I had with the Python language. Consider the following (also valid) solution:<code>def f():    rest = [2, 3]    t = 1, *rest    return t</code>Normally when I have code like this, I consider <code>t</code> to be a temporary name, which I ought to be able to get rid of simply be replacing <code>t</code> in the bottom line with its definition. In this case though, this leads to the invalid code<code>def f():    rest = [2, 3]    return 1, *rest</code>It's of course no big deal to have to place parentheses around the return value, but usually additional parentheses are only needed to distinguish between several possible outcomes (grouping). Here this is not the case, as leaving out the parentheses does not produce some other unwanted behavior, but rather no behavior at all.UpdateSince Python 3.8 (see item 7 on this list), the generalized syntax discussed above is now valid.", "simquery1_answer": "OP and I were communicating while we found a solution.First each fragment was changed to <code>public class MergedItemsFragment extends Fragment implements SearchView.OnQueryTextListener {    /// ------------------------------\n    /// SearchView.OnQueryTextListener    @Override\n    public boolean onQueryTextSubmit(String query) {\n        // ...\n        return false;    }    @Override\n    public boolean onQueryTextChange(String newText) {\n        // ...\n        return false;    }    /// --------\n    /// Fragment    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_merged_items, container, false);    }    @Override\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\n        super.onCreateOptionsMenu(menu, inflater);        final MenuItem   searchItem = menu.findItem(R.id.search);\n        final SearchView searchView = (SearchView) searchItem.getActionView();        searchView.setImeOptions(EditorInfo.IME_ACTION_DONE);\n        searchView.setOnQueryTextListener(this);    }}</code>\n<code>SearchView</code> was inflated by using a menu.xml file within the App's Activity.\n<code>SearchView.OnQueryTextListener</code> was implemented by each <code>Fragment</code> that needed access to the <code>SearchView</code>\nSince <code>onCreateOptionsMenu()</code> is invoked each time a <code>Fragment</code> is created, or subsequently comes into view (e.g. Swipe); the <code>SearchView</code>'s <code>OnQueryTextListener</code> is updated to the corresponding <code>Fragment</code>\nLastly, there was a line in OP's main <code>Fragment</code> containing the <code>ViewPager2</code>, which was removed: <code>viewPager2.setOffscreenPageLimit(5);</code> that caused each <code>Fragment</code> provided by the <code>FragmentStateAdapter</code> to instantiate and mutate the <code>SearchView</code>'s <code>OnQueryTextListener</code> each time a <code>Fragment</code> was created. \nRemoving the line made sure that only the <code>Fragment</code> that was in view was bound to the <code>Toolbar</code>'s <code>SearchView</code>.\nIf any more code is desired, i'd be happy to post what I have, and if I come up with a solution using <code>viewPager2.setOffscreenPageLimit(5);</code> i.e. caching, i'll post that as well\n", "simquery2_title": "Why does (1 in [1,0] == True) evaluate to False? When I was looking at answers to this question, I found I didn't understand my own answer.I don't really understand how this is being parsed. Why does the second example return False?<code>&gt;&gt;&gt; 1 in [1,0]             # This is expectedTrue&gt;&gt;&gt; 1 in [1,0] == True     # This is strangeFalse&gt;&gt;&gt; (1 in [1,0]) == True   # This is what I wanted it to beTrue&gt;&gt;&gt; 1 in ([1,0] == True)   # But it's not just a precedence issue!                           # It did not raise an exception on the second example.Traceback (most recent call last):  File \"&lt;pyshell#4&gt;\", line 1, in &lt;module&gt;    1 in ([1,0] == True)TypeError: argument of type 'bool' is not iterable</code>Thanks for any help. I think I must be missing something really obvious.I think this is subtly different to the linked duplicate:Why does the expression 0 &lt; 0 == 0 return False in Python?.Both questions are to do with human comprehension of the expression. There seemed to be two ways (to my mind) of evaluating the expression. Of course neither were correct, but in my example, the last interpretation is impossible.Looking at <code>0 &lt; 0 == 0</code> you could imagine each half being evaluated and making sense as an expression:<code>&gt;&gt;&gt; (0 &lt; 0) == 0True&gt;&gt;&gt; 0 &lt; (0 == 0)True</code>So the link answers why this evaluates <code>False</code>:<code>&gt;&gt;&gt; 0 &lt; 0 == 0False</code>But with my example <code>1 in ([1,0] == True)</code> doesn't make sense as an expression, so instead of there being two (admittedly wrong) possible interpretations, only one seems possible:<code>&gt;&gt;&gt; (1 in [1,0]) == True</code>", "simquery2_answer": "I using Bing Translate with GET (curl) method and everything work fine.But now i need using POST mothod, add new line:<code>$postData = array('text'=&gt;'home', 'to'=&gt;'it', 'from'=&gt;'en');\ncurl_setopt($ch, CURLOPT_POST, TRUE);   \ncurl_setopt($ch, CURLOPT_POSTFIELDS, $postData);\n</code>And now get error:\"Error Status Code: 'InternalServerError'Details: The server encountered an error processing the request. Please see the server logs for more details.\"\nBING does not support POST?\n", "total_len": 767, "s1_total_len": 1162, "s2_total_len": 666}
{"post_id": "761804", "title": "How do I trim whitespace from a string?", "query": "How do I remove leading and trailing whitespace from a string in Python?<code>&quot; Hello world &quot; --&gt; &quot;Hello world&quot;&quot; Hello world&quot;  --&gt; &quot;Hello world&quot;&quot;Hello world &quot;  --&gt; &quot;Hello world&quot;&quot;Hello world&quot;   --&gt; &quot;Hello world&quot;</code>", "acce_answer": "I will definitely be using the optional parameters feature of 4.0.  It gets rid of the ridiculous ...<code>public void M1( string foo, string bar )\n{\n   // do that thang\n}public void M1( string foo )\n{\n  M1( foo, \"bar default\" ); // I have always hated this line of code specifically\n}\n</code>... and puts the values right where the caller can see them ...<code>public void M1( string foo, string bar = \"bar default\" )\n{\n   // do that thang\n}\n</code>Much more simple and much less error prone.  I've actually seen this as a bug in the overload case ...<code>public void M1( string foo )\n{\n   M2( foo, \"bar default\" );  // oops!  I meant M1!\n}\n</code>I have not played with the 4.0 complier yet, but I would not be shocked to learn that the complier simply emits the overloads for you.\n", "acce_score": "1351", "simquery1_title": "Python Regex Engine - \"look-behind requires fixed-width pattern\" Error I am trying to handle un-matched double quotes within a string in the CSV format.To be precise,<code>&quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;</code>should be corrected as<code>&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;</code>So basically what I am trying to do is toreplace all the ' &quot; 'Not preceded by a beginning of line or a comma (and)Not followed by a comma or an end of linewith ' &quot; &quot; 'For that I use the below regex<code>(?&lt;!^|,)&quot;(?!,|$)</code>The problem is while Ruby regex engines ( http://www.rubular.com/ ) are able to parse the regex, python regex engines (https://pythex.org/ , http://www.pyregex.com/) throw the following error<code>Invalid regular expression: look-behind requires fixed-width pattern</code>And with python 2.7.3 it throws<code>sre_constants.error: look-behind requires fixed-width pattern</code>Can anyone tell me what vexes python here?Edit:Following Tim's response, I got the below output for a multi line string<code>&gt;&gt;&gt; str = &quot;&quot;&quot; &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot; &quot;&quot;&quot;&gt;&gt;&gt; re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str)' &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot; '</code>At the end of each line, next to 'it' two double-quotes were added.So I made a very small change to the regex to handle a new-line.<code>re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str,flags=re.MULTILINE)</code>But this gives the output<code>&gt;&gt;&gt; re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str,flags=re.MULTILINE)' &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot; '</code>The last 'it' alone has two double-quotes.But I wonder why the '$' end of line character will not identify that the line has ended.The final answer is<code>re.sub(r'\\b\\s*&quot;(?!,|[ \\t]*$)', '&quot; &quot;', str,flags=re.MULTILINE)</code>", "simquery1_answer": "I am not sure why do you need <code>getGenericPredicate</code> since instead of <code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = getGenericPredicate(SomeType::bar());\n    Predicate&lt;SomeType&gt; secondPredicate = getGenericPredicate(SomeType::foo());\n    //...\n}\n</code>you could simply use <code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = SomeType::bar;\n    Predicate&lt;SomeType&gt; secondPredicate = SomeType::foo;\n    //...\n}\n</code>Assuming that <code>getGenericPredicate</code> would actually need to do some additional tasks (logging for instance) you could try with <code>public &lt;T&gt; Predicate&lt;T&gt; getGenericPredicate(Predicate&lt;T&gt; p) {\n    //some additional code goes here\n    return p;\n}\n</code>and then you can use it like<code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = getGenericPredicate(SomeType::bar);\n    Predicate&lt;SomeType&gt; secondPredicate = getGenericPredicate(SomeType::foo);\n    //...\n}\n</code>\n", "simquery2_title": "converting JSON to string in Python I did not explain my questions clearly at beginning.Try to use <code>str()</code> and <code>json.dumps()</code> when converting JSON to string in python.<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print json.dumps(data){&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}&gt;&gt;&gt; print str(data){'jsonKey': 'jsonValue', 'title': 'hello world'}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world&quot;}'&gt;&gt;&gt; str(data)&quot;{'jsonKey': 'jsonValue', 'title': 'hello world'}&quot;</code>My question is:<code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world'&quot;}&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': &quot;hello world\\'&quot;}'&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\'&quot;}'&gt;&gt;&gt; </code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world''}&quot;</code><code>&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}  File &quot;&lt;stdin&gt;&quot;, line 1    data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world&quot;&quot;}                                                          ^SyntaxError: EOL while scanning string literal&gt;&gt;&gt; data = {'jsonKey': 'jsonValue',&quot;title&quot;: &quot;hello world\\&quot;&quot;}&gt;&gt;&gt; json.dumps(data)'{&quot;jsonKey&quot;: &quot;jsonValue&quot;, &quot;title&quot;: &quot;hello world\\\\&quot;&quot;}'&gt;&gt;&gt; str(data)'{\\'jsonKey\\': \\'jsonValue\\', \\'title\\': \\'hello world&quot;\\'}'</code>My expected output: <code>&quot;{'jsonKey': 'jsonValue','title': 'hello world\\&quot;'}&quot;</code>It is not necessary to change the output string to json (dict) again for me.How to do this?", "simquery2_answer": "IziToast is already available for angular 2 as <code>ng2-izitoast</code>. Please use: https://github.com/plauzul/ng2-izitoast\n", "total_len": 355, "s1_total_len": 1577, "s2_total_len": 737}
{"post_id": "805066", "title": "How do I call a parent class's method from a child class in Python?", "query": "When creating a simple object hierarchy in Python, I'd like to be able to invoke methods of the parent class from a derived class.  In Perl and Java, there is a keyword for this (<code>super</code>).  In Perl, I might do this:<code>package Foo;sub frotz {    return \"Bamf\";}package Bar;@ISA = qw(Foo);sub frotz {   my $str = SUPER::frotz();   return uc($str);}</code>In Python, it appears that I have to name the parent class explicitly from the child.In the example above, I'd have to do something like <code>Foo::frotz()</code>.  This doesn't seem right since this behavior makes it hard to make deep hierarchies.  If children need to know what class defined an inherited method, then all sorts of information pain is created.  Is this an actual limitation in python, a gap in my understanding or both?", "acce_answer": "I answered a similar question recently, Getting values from viewstate using JQuery?.Basically, by default <code>ViewState</code> is just Base64-encoded, so you can decode it as long as the administrator hasn't configured the site to encrypt it. Quoting from my previous answer:\n  If you are writing the control for\n  your own consumption and you only need\n  to read from <code>ViewState</code>, you could do\n  so, but I wouldn't recommend it unless\n  you find a well-debugged library to\n  parse it for you. The format is a bit\n  hairy (see ViewState: All You Wanted\n  to Know for more details).\nThat link provides an extremely thorough and clear introduction to <code>ViewState</code>.As for Event Validation, I'm unsure whether it's Base64-encoded or if it just looks like Base64 (I can't find a conclusive, authoritative reference). This Rexiology article might help though.\n", "acce_score": "786", "simquery1_title": "What is the purpose of class methods? I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions.I now realise that I don't need to use Class methods for what I would done with <code>static</code> methods in Java, but now I'm not sure when I would use them.  All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them.Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?", "simquery1_answer": "Gonna post an answer to my own question here as I read the manual after I typed this up.  In TortoiseSVN, goto settings.  Add <code>*ReSharper*\n</code>to the \"Global ignore pattern\".  Adding items to the global ignore pattern means that these files will be ignored for any project you work on for the client with TortoiseSVN installed, so it might not be appropriate to use the global ignore in all cases.You can also add specific files and directories to the ignore list for individual projects if you select this from the TortoiseSVN menu BEFORE they have been added to your repository.  The \"BEFORE\" part is what tripped me up originally.  Since this is a single developer project, I've been checking in binaries, etc. b/c it has no consequence for other developers, and the Resharper files got in there.\n", "simquery2_title": "__init__ as a constructor? Dive into Python -  It would be tempting but incorrect to  call this the constructor of the  class. It's tempting, because it looks  like a constructor (by convention,  <code>__init__</code> is the first method defined for the class), acts like one (it's  the first piece of code executed in a  newly created instance of the class),  and even sounds like one (\u201cinit\u201d  certainly suggests a constructor-ish  nature). Incorrect, because the object  has already been constructed by the  time <code>__init__</code> is called, and you  already have a valid reference to the  new instance of the class.Quote suggests it is incorrect to call <code>__init__</code> as a constructor because the object is already constructed by the time <code>__init__</code> is called. But! I have always been under the impression that the constructor is called only after the object is constructed because it is essentially used  to initialized the data members of the instance which wouldn't make sense if the object didn't exist by the time constructor was called? (coming from C++/Java background)", "simquery2_answer": "i have this html:<code>&lt;ul class=\"cont_ul4\"&gt;&lt;li class=\"cont_li\"&gt;\n&lt;div class=\"cont_picture\"&gt;\n&lt;a href=\"\"&gt;&lt;img src=\"1.jpg\" width=\"150\" height=\"225\" &gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;/li&gt;&lt;li class=\"cont_li\"&gt;\n&lt;div class=\"cont_picture\"&gt;\n&lt;a href=\"\"&gt;&lt;img src=\"2.jpg\" width=\"150\" height=\"225\" &gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;/li&gt;&lt;/ul&gt;\n</code>and this function:<code>function ajax_request() {\n$('#placeholder').html('&lt;p&gt;&lt;img class=\"loader\" src=\"/loader.gif\"&gt;&lt;/p&gt;');\n$('#placeholder').load(\"/test.php?id=1234556\");\n}\n</code>what i need is when i click on the image to trigger this function.with an input button i could do this:<code>&lt;input type=\"button\" onclick=\"ajax_request()\" value=\"Click Me!\" /&gt;\n</code>any ideas?\nThanks\n", "total_len": 468, "s1_total_len": 365, "s2_total_len": 602}
{"post_id": "842059", "title": "Is there a portable way to get the current username in Python?", "query": "What is a portable way (e.g. for Linux and Windows) to get the current user's username? Something similar to <code>os.getuid()</code> would be nice:<code>&gt;&gt;&gt; os.getuid()42# Does not currently exist in Python&gt;&gt;&gt; os.getusername()'slartibartfast'</code>The <code>pwd</code> module works for Unix only. Some people suggest that getting the username under Windows can be complicated in certain circumstances (e.g., running as a Windows service).", "acce_answer": "If you are not using the assembly directly in code then Visual Studio whilst trying to be helpful detects that it is not used and doesn't include it in the output. I'm not sure why you are seeing different behaviour between Visual Studio and MSBuild. You could try setting the build output to diagnostic for both and compare the results see where it diverges.As for your elmah.dll reference if you are not referencing it directly in code you could add it as an item to your project and set the Build Action to <code>Content</code> and the Copy to Output Directory to <code>Always</code>.\n", "acce_score": "736", "simquery1_title": "Make python3 as my default python on Mac What I'm trying to do here is to make python3 as my default python. Except the python 2.7 which automatically installed on mac, I installed python3 with homebrew. This is the website that I'm following. http://docs.python-guide.org/en/latest/starting/install3/osx/#install3-osxI guess I followed every instruction well, got xcode freshly installed, Command line tools, and homebrew. But here's my little confusion occurs.The script will explain what changes it will make and prompt you before the installation begins. Once you\u2019ve installed Homebrew, insert the Homebrew directory at the top of your PATH environment variable. You can do this by adding the following line at the bottom of your ~/.profile fileexport PATH=/usr/local/bin:/usr/local/sbin:$PATHI was really confused what this was, but I concluded that I should just add this following line at the bottom of ~/.profile file. So I opened the ~/.profile file by open .profile in the terminal, and added following line at the bottom. And now it looks like this.<code>export PATH=/usr/local/bin:/usr/local/sbin:$PATH# Setting PATH for Python 3.6# The original version is saved in .profile.pysaveexport PATH=/usr/local/bin:/usr/local/sbin:$PATH</code>And then I did brew install python, and was hoping to see python3 when I do python --version.But it just shows me python 2.7.10. I want my default python to be python3 not 2.7And I found a little clue from the website.Do I have a Python 3 installed?<code>$ python --versionPython 3.6.4</code>If you still see 2.7 ensure in PATH /usr/local/bin/ takes pecedence over /usr/bin/Maybe it has to do something with PATH? Could someone explain in simple English what PATH exactly is and how I could make my default python to be python3 when I run python --version in the terminal?", "simquery1_answer": "i just had to remove the <code>i</code> in the\n<code>for i, d in data[&quot;keys&quot;]:\n            if(d[&quot;key&quot;] == key):\n                d[&quot;uses&quot;] = d[&quot;uses&quot;] + 1\n</code>\nso it would be\n<code>for d in data[&quot;keys&quot;]:\n            if(d[&quot;key&quot;] == key):\n                d[&quot;uses&quot;] = d[&quot;uses&quot;] + 1\n</code>\n", "simquery2_title": "How can I rewrite python __version__ with git? I would like to define a <code>__version__</code> variable in my module which should be automatically updated on git commit similarly to what SVN keywords do. Is there a way to achieve it in Git? Does anyone have a working example?I considered using GitPython, but I would not like to introduce another dependency and I want users who download the module from SVN repo or as a zip package to have the same versioning scheme (I do not care that is some illegible hash).Edit: My particular problem is that I have to run simulations whose result depend on the exact version of the simulation script. Therefore each time I have to store version number together with the simulation results. If both run out of sync, it may have very dire outcomes.", "simquery2_answer": "How do I position this ViewController over the detail view modally? I want it to be right aligned so you can see the navigation portion greyed out.<code>[self.window addSubview:self.splitViewController.view];\nMyModalViewController *modalvc= [MyModalViewController new]; //brevity\nmodalvc.modalInPopover = YES;\nmodalvc.modalPresentationStyle = UIModalPresentationStylePageSheet;\nmodalvc.view.autoresizeMask = UIViewAutoresizeFlexibleRightMargin;\n[self.splitViewController presentModalView:modalvc animated:NO];\n[self.window makeKeyAndVisible];\n</code>I also checked in MyModalViewController if im setting the views mask and I am not, nor is it getting magic values from a Nib.  Adjusting the frame before the present (using modalvc.view.frame) does nothing.Adjusting the frame after the present seems to yield crazy results, and I only really need it to be half a width over in landscape... portrait is normal behavior.edit\nthe picture confused people so I took it out, I dont want the modal view to be the size of the screen, I want to keep it UIModalPresentationStylePageSheet but have its ORIGIN moved right so that it covers the detail view portion in landscape\n", "total_len": 283, "s1_total_len": 627, "s2_total_len": 459}
{"post_id": "855759", "title": "What is the intended use of the optional \"else\" clause of the \"try\" statement in Python?", "query": "What is the intended use of the optional <code>else</code> clause of the <code>try</code> statement?", "acce_answer": "<code>rake log:clear</code> is a rake task that truncates all files that match <code>log/*.log</code> to zero bytes.\nYou could call it in your server start and run tests tasks.\n", "acce_score": "771", "simquery1_title": "Can I get the exception from the finally block in python? I have a <code>try</code>/<code>finally</code> clause in my script. Is it possible to get the exact error message from within the <code>finally</code> clause?", "simquery1_answer": "Based on the documentation replaceWith (http://docs.jquery.com/Manipulation/replaceWith#content) should do what you want, maybe the selector you are using is targeting something other than the tr?<code>$(\"tr\").click(function () {\n  $(this).replaceWith(\"&lt;tr&gt;&lt;td&gt;Something New!&lt;/td&gt;&lt;/tr&gt;\");\n});\n</code>\n", "simquery2_title": "Example use of \"continue\" statement in Python? The definition of the <code>continue</code> statement is:   The <code>continue</code> statement continues with the next iteration of the loop.I can't find any good examples of code. Could someone suggest some simple cases where <code>continue</code> is necessary? ", "simquery2_answer": "You <code>getCount()</code> method returns zero.  This will cause the ListView to act as though there is no data.\n", "total_len": 106, "s1_total_len": 165, "s2_total_len": 106}
{"post_id": "886221", "title": "Has Django served an excess of 100k daily visits?", "query": "I'm building a web application with Django. The reasons I chose Django were:I wanted to work with free/open-source tools.I like Python and feel it's a long-term language, whereas regarding Ruby I wasn't sure, and PHP seemed like a huge hassle to learn.I'm building a prototype for an idea and wasn't thinking too much about the future. Development speed was the main factor, and I already knew Python.I knew the migration to Google App Engine would be easier should I choose to do so in the future.I heard Django was &quot;nice&quot;.Now that I'm getting closer to thinking about publishing my work, I start being concerned about scale. The only information I found about the scaling capabilities of Django is provided by the Django team (I'm not saying anything to disregard them, but this is clearly not objective information...).Has an independent development team reported building a Django-based site that reliably handles an excess of 100k daily visits?", "acce_answer": "The border property is short hand for setting three different properties.\n<code>border-style</code>\n<code>border-width</code>\n<code>border-color</code>\nYou have set the <code>border-style</code> to <code>none</code>, set it to something else.<code>#commentform input {\n  border: thick black solid;\n}\n</code>\n", "acce_score": "1218", "simquery1_title": "Using Flask-SQLAlchemy in Blueprint models without reference to the app I'm trying to create a &quot;modular application&quot; in Flask using Blueprints.When creating models, however, I'm running into the problem of having to reference the app in order to get the <code>db</code>-object provided by Flask-SQLAlchemy. I'd like to be able to use some blueprints with more than one app (similar to how Django apps can be used), so this is not a good solution.*It's possible to do a switcharoo, and have the Blueprint create the <code>db</code> instance, which the app then imports together with the rest of the blueprint. But then, any other blueprint wishing to create models need to import from that blueprint instead of the app.My questions are thus:Is there a way to let Blueprints define models without any awareness of the app they're being used in later -- and have several Blueprints come together? By this, I mean having to import the app module/package from your Blueprint.Am I wrong from the outset? Are Blueprints not meant to be independent of the app and be redistributable (\u00e0 la Django apps)?If not, then what pattern should you use to create something like that? Flask extensions? Should you simply not do it -- and maybe centralize all models/schemas \u00e0 la Ruby on Rails?Edit: I've been thinking about this myself now, and this might be more related to SQLAlchemy than Flask because you have to have the <code>declarative_base()</code> when declaring models. And that's got to come from somewhere, anyway!Perhaps the best solution is to have your project's schema defined in one place and spread it around, like Ruby on Rails does. Declarative SQLAlchemy class definitions are really more like schema.rb than Django's models.py. I imagine this would also make it easier to use migrations (from alembic or sqlalchemy-migrate).I was asked to provide an example, so let's do something simple: Say I have a blueprint describing &quot;flatpages&quot; -- simple, &quot;static&quot; content stored in the database. It uses a table with just shortname (for URLs), a title and a body. This is <code>simple_pages/__init__.py</code>:<code>from flask import Blueprint, render_templatefrom .models import Pageflat_pages = Blueprint('flat_pages', __name__, template_folder='templates')@flat_pages.route('/&lt;page&gt;')def show(page):    page_object = Page.query.filter_by(name=page).first()    return render_template('pages/{}.html'.format(page), page=page_object)</code>Then, it would be nice to let this blueprint define its own model (this in <code>simple_page/models.py</code>):<code># TODO Somehow get ahold of a `db` instance without referencing the app# I might get used in!class Page(db.Model):    name = db.Column(db.String(255), primary_key=True)    title = db.Column(db.String(255))    content = db.Column(db.String(255))    def __init__(self, name, title, content):        self.name = name        self.title = title        self.content = content</code>This question is related to:Flask-SQLAlchemy import/context issueWhat&#39;s your folder layout for a Flask app divided in modules?And various others, but all replies seem to rely on import the app's <code>db</code> instance, or doing the reverse. The &quot;Large app how to&quot; wiki page also uses the &quot;import your app in your blueprint&quot; pattern.* Since the official documentation shows how to create routes, views, templates and assets in a Blueprint without caring about what app it's &quot;in&quot;, I've assumed that Blueprints should, in general, be reusable across apps. However, this modularity doesn't seem that useful without also having independent models.Since Blueprints can be hooked into an app more than once, it might simply be the wrong approach to have models in Blueprints?", "simquery1_answer": "I guess you could do something like the following, not sure if it's better or not:<code>class PropertyManagersController &lt; ApplicationController\n  before_filter :find_company  def new\n    @property_manager = @company.property_managers.build\n  end  def create\n    @property_manager = @company.property_managers.build(params[:property_manager])\n    respond_to do |format|\n      ...\n    end\n  end  private  def find_company\n    @company ||= Company.find(params[:company_id])\n  endend\n</code>\n", "simquery2_title": "Typical AngularJS workflow and project structure (with Python Flask) I am pretty new to this whole MV* client-side framework frenzy. It doesn't have to be AngularJS, but I picked it because it feels more natural to me than either Knockout, Ember or Backbone. Anyway what is the workflow like? Do people start with developing a client-side application in AngularJS and then hooking up the back-end to it?Or the other way around by first building the back-end in Django, Flask, Rails and then attaching an AngularJS app to it? Is there a \"right\" way of doing it, or is it just a personal preference in the end?I am also not sure whether to structure my project according to the Flask or AngularJS? community practices.For example, Flask's minitwit app is structured like so:<code>minitwit|-- minitwit.py|-- static   |-- css, js, images, etc...`-- templates   |-- html files and base layout</code>AngularJS tutorial app is structured like this:<code>angular-phonecat|-- app    `-- css    `-- img    `-- js    `-- lib    `-- partials    `-- index.html|-- scripts `-- node.js server and test server files</code>I could picture a Flask app by itself, and it's fairly easy to see AngularJS app like ToDo List by itself but when it comes to using both of these technologies I don't understand how they work together. It almost seems like I don't need a server-side web-framework when you already have AngularJS, a simple Python web server will suffice. In the AngularJS to-do app for example they use MongoLab to talk to the database using Restful API. There was no need having a web framework on the back-end.Maybe I am just awfully confused, and AngularJS is nothing more than a fancy jQuery library so I should use just like I would use jQuery in my Flask projects (assuming I change the AngularJS template syntax to something that doesn't conflict with Jinja2). I hope my questions make some sense. I mainly work on the back-end and this client-side framework is an unknown territory for me.", "simquery2_answer": "How can I verify SSL certificate on https of given domain by NodeJS?I need to know if user open this like is it trusted or should add it as exception?-- I think this code should raise error during unsigned or selfsigned certificate.<code>var https = require('https');var options = {\n  host: 'daarkoob.ir',\n  port: 2222,\n  path: '/',\n  method: 'GET',\n  rejectUnauthorized:true\n};var req = https.request(options, function(res) {\n  console.log(\"statusCode: \", res.statusCode);\n  console.log(\"headers: \", res.headers);\n});\nreq.end();req.on('error', function(e) {\n  console.error(e);\n});\n</code>https://daarkoob.ir:2222 is self signed certificated,so above code should raise error during surfing.but nothing happened. \n", "total_len": 331, "s1_total_len": 1133, "s2_total_len": 716}
{"post_id": "931092", "title": "How do I reverse a string in Python?", "query": "There is no built in <code>reverse</code> function for Python's <code>str</code> object. What is the best way of implementing this method?If supplying a very concise answer, please elaborate on its efficiency. For example, whether the <code>str</code> object is converted to a different object, etc. ", "acce_answer": "You can use the <code>sp_who</code> stored procedure. \n  Provides information about current users, sessions, and processes in an instance of the Microsoft SQL Server Database Engine. The information can be filtered to return only those processes that are not idle, that belong to a specific user, or that belong to a specific session.", "acce_score": "1622", "simquery1_title": "Understanding the map function The Python 2 documentation says:Built-in Functions: <code>map(function, iterable, ...)</code>Apply function to every item of iterable and return a list of theresults. If additional iterable arguments are passed, function musttake that many arguments and is applied to the items from alliterables in parallel.If one iterable is shorter than another it is assumed to be extendedwith None items.If function is <code>None</code>, the identity function is assumed; if there aremultiple arguments, <code>map()</code> returns a list consisting of tuplescontaining the corresponding items from all iterables (a kind oftranspose operation).The iterable arguments may be a sequence or any iterable object; theresult is always a list.What role does this play in making a Cartesian product?<code>content = map(tuple, array)</code>What effect does putting a tuple anywhere in there have? I also noticed that without the map function the output is <code>abc</code> and with it, it's <code>a, b, c</code>.I want to fully understand this function. The reference definitions is also hard to understand. Too much fancy fluff.", "simquery1_answer": "I'm trying to get the field values \u200b\u200busing as JSON query variables, but with variable nothing works.\nI try this:<code>var a='ptmedia';var c='2.90';var v='ver';var n='name';\n$.getJSON('http://example.com?callback=?',function(d){\n    var q=d.app.a.v;\n    if(c&lt;q){alert('Some text'+d.n+'some text');}\n});\n</code>but i did something wrong...\n", "simquery2_title": "chr() equivalent returning a bytes object, in py3k Python 2.x has <code>chr()</code>, which converts a number in the range 0-255 to a byte string with one character with that numeric value, and <code>unichr()</code>, which converts a number in the range 0-0x10FFFF to a Unicode string with one character with that Unicode codepoint.  Python 3.x replaces <code>unichr()</code> with <code>chr()</code>, in keeping with its \"Unicode strings are default\" policy, but I can't find anything that does exactly what the old <code>chr()</code> did.  The <code>2to3</code> utility (from 2.6) leaves <code>chr</code> calls alone, which is not right in general :((This is for parsing and serializing a file format which is explicitly defined in terms of 8-bit bytes.)", "simquery2_answer": "The include expects a regex pattern. As @jgr pointed out this is true only for versions of elasticsearch &lt; 1.5.0. So for the example provided in query\nwould look something as below for versions &lt; 1.5.0 :<code>   \"aggs\": {\n      \"aggterm\": {\n         \"terms\": {\n            \"field\": \"type\",\n            \"include\" : \"billing|expenditure\"\n         }\n      }\n   }\n</code>If not the example you have in the OP should work\n", "total_len": 160, "s1_total_len": 398, "s2_total_len": 346}
{"post_id": "944592", "title": "Best practice for using assert?", "query": "Is there a performance or code maintenance issue with using <code>assert</code> as part of the standard code instead of using it just for debugging purposes?Is<code>assert x &gt;= 0, 'x is less than zero'</code>better or worse than<code>if x &lt; 0:    raise Exception('x is less than zero')</code>Also, is there any way to set a business rule like <code>if x &lt; 0 raise error</code> that is always checked without the <code>try/except/finally</code> so, if at anytime throughout the code <code>x</code> is less than 0 an error is raised, like if you set <code>assert x &lt; 0</code> at the start of a function, anywhere within the function where <code>x</code> becomes less then 0 an exception is raised?", "acce_answer": "It sounds like you don't have any chapters contained in your <code>item.Chapter</code> property. Can you check that they do exist- ie you are adding them somewhere in your logic. A breakpoint in the view would be one way of confirming this.\n", "acce_score": "586", "simquery1_title": "Making Python's `assert` throw an exception that I choose Can I make <code>assert</code> throw an exception that I choose instead of <code>AssertionError</code>?UPDATE:I'll explain my motivation: Up to now, I've had assertion-style tests that raised my own exceptions; For example, when you created a <code>Node</code> object with certain arguments, it would check if the arguments were good for creating a node, and if not it would raise <code>NodeError</code>.But I know that Python has a <code>-o</code> mode in which asserts are skipped, which I would like to have available because it would make my program faster. But I would still like to have my own  exceptions. That's why I want to use assert with my own exceptions.", "simquery1_answer": "As far as I understand, the instrumented classes are only needed by cobertura for report generation. If you create them in <code>target/classes</code>, they will overwrite the original class files.If you need the instrumented files in a jar as a result, you can configure the <code>maven-jar-plugin</code> to pick up the files from the <code>target/generated-classes</code> directory instead of or in addition to the files from the standard <code>${build.project.outputDirectory}</code>.EditHave a look at the maven-jar-plugin description. To only use <code>target/generated-classes</code>, the following addition to your POM should work - try it and modify it to your needs:<code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt; &lt;!-- replace with correct version nbr! --&gt;\n        &lt;configuration&gt;\n          &lt;includes&gt;\n            &lt;include&gt;${project.build.directory}/generated-classes/**/*.class&lt;/include&gt;\n          &lt;/includes&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;${project.build.directory}/classes/**/*.class&lt;/include&gt;\n          &lt;/excludes&gt;        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      ...\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code><code>${project.build.directory}</code> points to your target folder, <code>${project.build.ouputDirectory}</code> to target/classes. I do not know if you can simply set <code>${project.build.ouputDirectory}</code> to a new value - have a look at the this chapter of the maven book, maybe you find some hintsEdit 2Alternativly or additionally you can use maven to copy the files from target/generated-classes to target/classes after <code>coberture:instrument</code> has finished. This question has one answer with an example POM (fragment), you just have to identify the correct phase (process-resources is definitely too early for your case)\n", "simquery2_title": "Python project directory structure / pytest trouble This should be the easiest problem on earth, but even after extensive searching and tinkering, I'm still in deep trouble with finding a \"correct\" way to lay a directory structure and manage to run pytest etc correctly.Let's say my I have a program called apple.<code>|- README.md|- apple|   |-- __init__.py|   |-- apple.py| - tests|   |-- test_everything.py</code>The apple.py contains some functions, for examples sake let's call one <code>eat()</code>. And the <code>test_everything.py</code> file contains some tests like <code>assert eat()==\"foobar\"</code>. So good so easy, but then the fun begins:What about the <code>__init__.py</code> in the apple directory... correct? Empty or what should be inside?Is it best practice to call <code>py.test</code> from the root directory? Or <code>py.test tests</code>?So many projects have a <code>__init__.py</code> in their test directory, but that's explicitly said to be wrong in the py.test documentation. So why god whyWhat comes at the top of the <code>test_everything.py</code> file: an <code>import apple</code> or <code>from apple import *</code>? or something else entirelyDo you call the functions then by <code>eat()</code> or <code>apple.eat()</code>?Some even recommend manipulating <code>os.path.dirname</code> in pythonThis should be easy, but I've seen every combination of the above, not even speaking about tox and the myriad of other tools. Yet with the slightest error, you get thrown some <code>ImportError: No module named 'apple'</code> or some other funky error. What is the \"right\" way? The advice and the existing code on github etc follows extremely different conventions. For a medium-experienced coder, this should be much easier.", "simquery2_answer": "Going to try to keep it short. I have a while loop in grid.php file to fill up a table as such...<code>&lt;?php while($product = $products-&gt;fetch_assoc()) { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_id']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_title']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_fname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_lname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_price']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"edit.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-primary\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"delete.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;?php } ?&gt;\n</code>If I click the first anchor tag takes me to a edit.php file and here is the head code for that file.<code>&lt;?php include '_includes/db.php';\n$cd_id   = trim($_GET['id']);\n$message = '';\ninclude '_includes/connection.php';\nif($db-&gt;connect_error){\n  $message = $db-&gt;connect_error;\n}else{\n  $sql  = \"SELECT * FROM CD WHERE cd_id = $cd_id\";\n  $result = $db-&gt;query($sql);\n  $row = $result-&gt;fetch_assoc();\n  if($db-&gt;error){\n    $message = $db-&gt;error;\n   }\n }\n?&gt;\n</code>Now I will show the html of edit.php<code>&lt;!--        Product Musician last name--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_musician_lname\"&gt;Musician's lirst name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_musician_lname\" name=\"cd_musician_lname\" value=\"&lt;?php echo $row['cd_musician_lname'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--        End of Musician last name--&gt;      &lt;!--        Product price--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_price\"&gt;Product price&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_price\" name=\"cd_price\" value=\"&lt;?php echo $row['cd_price'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--    End of Product price--&gt;      &lt;!--    Form submit button--&gt;\n      &lt;a href=\"edit_confirm.php?id=&lt;?echo $row['cd_id'];?&gt;\" type=\"submit\" class=\"btn btn-primary\"&gt;Update Record&lt;/a&gt;\n      &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n</code>I have the edit.php page working just fine but if I make changes in the fields and click the submit anchor tag I get all the fields of the row empty but the PK. Here is the code for the final edit_confirm.php file<code>&lt;?php\ninclude '_includes/db.php';$cd_id             = trim($_GET['id']);\n$cd_title          = $_POST['cd_title'];\n$cd_musician_fname = $_POST['cd_musician_fname'];\n$cd_musician_lname = $_POST['cd_musician_lname'];\n$cd_price          = $_POST['cd_price'];$message = '';\ninclude '_includes/connection.php';if($db-&gt;connect_error){\n  die(\"Connection failed: \".$db-&gt;connect_error);\n} else {\n$sql = \"UPDATE CD SET cd_title='\".$cd_title.\"', cd_musician_fname='\".\n$cd_musician_fname.\"', cd_musician_lname='\".\n$cd_musician_lname.\"',   cd_price='\".$cd_price.\"' WHERE cd_id = $cd_id \";\n$db-&gt;query($sql);\nvar_dump($sql);\n }\n?&gt;&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;?php include '_includes/main-head.php';?&gt;\n&lt;/head&gt;\n  &lt;body&gt;\n  &lt;?php include '_includes/main-navbar.php';?&gt;  &lt;div class=\"container\"&gt;\n    &lt;hr&gt;\n    &lt;?php\n    if($db-&gt;query($sql) === TRUE){ ?&gt;\n      &lt;h1&gt;Record updated successfully.&lt;/h1&gt;\n      &lt;?php echo $cd_title; ?&gt;\n      &lt;?php echo $record-&gt;affected_rows ?&gt; \n      &lt;p&gt; record was updated in the database.&lt;/p&gt;&lt;/br&gt;\n   &lt;?php } else { ?&gt;\n    &lt;p&gt;Error updating the record: &lt;/p&gt; &lt;?php $db-&gt;error; ?&gt;\n   &lt;?php }; ?&gt;\n    &lt;hr&gt;\n    &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;?php include '_includes/main-script.php';?&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code>If you notice in the edit_confirm.php I did a var_dump to see what are the values in the variables and it shows empty.I need help with this.\nThank you in advance.\n", "total_len": 273, "s1_total_len": 797, "s2_total_len": 2190}
{"post_id": "944700", "title": "How can I check for NaN values?", "query": "<code>float('nan')</code> represents NaN (not a number). But how do I check for it?", "acce_answer": "Or using the GetDataTable method in the OM:<code>SPWeb oWebsite = SPContext.Current.Web;\nSPList oList = oWebsite.Lists[\"List_Name\"];\nSPListItemCollection collListItems = oList.Items;DataGrid1.DataSource = collListItems.GetDataTable();\nDataGrid1.DataBind();\n</code>\n", "acce_score": "1561", "simquery1_title": "Comparing boolean and int using isinstance Can someone give me an explanation why <code>isinstance()</code> returns True in the following case? I expected False, when writing the code.<code>print isinstance(True, (float, int))True</code>My guess would be that its Python's internal subclassing, as zero and one - whether float or int - both evaluate when used as boolean, but don't know the exact reason.What would be the most pythonic way to solve such a situation? I could use <code>type()</code> but in most cases this is considered less pythonic.", "simquery1_answer": "The target of the <code>shown.bs.modal</code> event is the <code>div.modal</code> from which you can retrieve the element ID \u2013 with a bit of parsing, you can get the original value of <code>id_seance</code> before it was interpolated.\r\n\r\n<code>$('[id^=\"reservationModal-\"]').on('shown.bs.modal', function (e) {\r\n    let id_seance = e.target.id.split('-').pop(-1);\r\n    console.log('works', { id_seance });\r\n});</code>\r\n<code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;!-- Latest compiled and minified CSS --&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\r\n\r\n&lt;!-- Optional theme --&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css\" integrity=\"sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp\" crossorigin=\"anonymous\"&gt;\r\n\r\n&lt;!-- Latest compiled and minified JavaScript --&gt;\r\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#reservationModal-1\"&gt;\r\n  Reservation 1\r\n&lt;/button&gt;\r\n\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#reservationModal-2\"&gt;\r\n  Reservation 2\r\n&lt;/button&gt;\r\n\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#reservationModal-3\"&gt;\r\n  Reservation 3\r\n&lt;/button&gt;\r\n\r\n&lt;div class=\"modal fade reservationModal\" id=\"reservationModal-1\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reservationModal-1\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\"&gt;Reservation 1&lt;/h5&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"modal fade reservationModal\" id=\"reservationModal-2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reservationModal-2\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\"&gt;Reservation 2&lt;/h5&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"modal fade reservationModal\" id=\"reservationModal-3\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reservationModal-3\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\"&gt;Reservation 3&lt;/h5&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code>\r\n\r\n\r", "simquery2_title": "What is inf and nan? Just a question that I'm kind of confused aboutSo I was messing around with <code>float('inf')</code> and kind of wondering what it is used for.Also I noticed that if I add <code>-inf + inf</code> i get <code>nan</code> is that the same as Zero or not.I'm confused about what the uses of these two values are.Also when I do <code>nan - inf</code> I don't get <code>-inf</code> I get <code>nan</code> I'm sure it's all pretty simple but I stumbled upon them and didn't know what they do.", "simquery2_answer": "I have created an application. It is working fine on Android 2.2. When I use emulator with API higher than 2.2, it's running properly, but some downloading code is not executing. It didn't store any data in SQLite. All functions works properly on Android 2.2 though. Is the mistake on my code or the emulator?<code>&lt;uses-sdk\n    android:minSdkVersion=\"8\"\n    android:targetSdkVersion=\"19\" /&gt;\n</code>This is My code<code>helper=new DBHelper(this);\n    try\n    {    XMLParser parser = new XMLParser();\n    String xml = parser.getXmlFromUrl(URL); // getting XML\n    Document doc = parser.getDomElement(xml); // getting DOM element    NodeList nl = doc.getElementsByTagName(KEY_TAG);    db=helper.getReadableDatabase();\n    Cursor c=db.query(DBHelper.Old_Data, new String [] {DBHelper.Old_id,DBHelper.OLD_NUM}, DBHelper.Old_id+\"=?\",new String [] {1+\"\"}, null, null, null);\n    if(c != null)\n    {\n        c.moveToFirst();\n    }\n    String strIndex = c.getString(1);\n    int index = Integer.parseInt(strIndex);\n    c.close();    i=0;\n    Log.d(\"Index , Length \",index + \" , \" + nl.getLength());\n    for (i = index; i &lt; nl.getLength(); i++) \n    {\n        Element e = (Element) nl.item(i);        ContentValues val = new ContentValues();\n        val.put(DBHelper.TEST, parser.getValue(e, TEST));\n        val.put(DBHelper.FILE, parser.getValue(e, FILE));\n        val.put(DBHelper.TEST_NO, parser.getValue(e, TEST_NO));\n        val.put(DBHelper.FILE_URL, parser.getValue(e, EXAM_URL));        db=helper.getWritableDatabase();\n        db.insert(DBHelper.EXAM_DATA, null, val);\n        db.close();\n    }\n    if(i != index)\n    {\n        db=helper.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(DBHelper.OLD_NUM, i);\n        db.update(DBHelper.Old_Data, values, DBHelper.Old_id+\"=?\", new String [] {1+\"\"});\n        db.close();\n    }\n    else\n    {\n        Toast.makeText(UserProfile.this, \"No Exam Available\", Toast.LENGTH_LONG).show();\n    }\n    }\n    catch (NullPointerException ne) \n    {\n        Toast.makeText(this, \"NPE\", Toast.LENGTH_LONG).show();\n    }\n    catch (Exception e) \n    {\n        Toast.makeText(this, \"E\", Toast.LENGTH_LONG).show();\n    }\n</code>\n", "total_len": 124, "s1_total_len": 1364, "s2_total_len": 877}
{"post_id": "969285", "title": "How do I translate an ISO 8601 datetime string into a Python datetime object?", "query": "I'm getting a datetime string in a format like \"2009-05-28T16:15:00\" (this is ISO 8601, I believe). One hackish option seems to be to parse the string using <code>time.strptime</code> and passing the first six elements of the tuple into the datetime constructor, like:<code>datetime.datetime(*time.strptime(\"2007-03-04T21:08:12\", \"%Y-%m-%dT%H:%M:%S\")[:6])</code>I haven't been able to find a \"cleaner\" way of doing this. Is there one?", "acce_answer": "Try this:<code>If Not ClientScript.IsClientScriptBlockRegistered(GetType(YourPageClass), \"alert\") Then\n    ClientScript.RegisterClientScriptBlock(GetType(YourPageClass), \"alert\", alertScript)\nEnd If     \n</code>(Replace <code>YourPageClass</code> by the name of your page's class).The type and the key parameters are used to prevent registering the same script in the same page. The type parameter probably does not make sense when you register your script directly in the page (like you do). However, it allows for example to avoid potential conflicts between different custom controls which register a script with the same key parameter.\n", "acce_score": "590", "simquery1_title": "Parsing time string in Python I have a date time string that I don't know how to parse it in Python.The string is like this:<code>Tue May 08 15:14:45 +0800 2012</code>I tried <code>datetime.strptime(\"Tue May 08 15:14:45 +0800 2012\",\"%a %b %d %H:%M:%S %z %Y\")</code>but Python raises <code>'z' is a bad directive in format '%a %b %d %H:%M:%S %z %Y'</code>According to Python doc:  %z    UTC offset in the form +HHMM or -HHMM (empty string if the the object is naive).What is the right format to parse this time string?", "simquery1_answer": "<code>&lt;?php\nif (comments_open()) {\n    echo '&lt;p&gt;';\n    comments_popup_link( '&lt;span class=\"one-comment\"&gt;leave a comment&lt;/span&gt;', '&lt;span    class=\"one-    comment\"&gt;1 comment&lt;/span&gt;', '&lt;span class=\"more-comments\"&gt;% comments&lt;/span&gt;', '');\n    echo '&lt;/p&gt;';\n} else {\n?&gt;\n    &lt;a href=\"&lt;?php echo comments_link(); ?&gt;\"&gt;&lt;?php echo comments_number('&lt;span   class=\"zerocomments\"&gt;kommentarer&lt;/span&gt;', '&lt;span class=\"onecomment\"&gt;1 kommentar&lt;/span&gt;',    '&lt;span class=\"morecomments\"&gt;% kommentarer&lt;/span&gt;'); ?&gt;&lt;/a&gt;\n&lt;?php\n}\n?&gt;\n</code>The best way to echo HTML when it contains PHP functions is to break back out of PHP, as done above.I'm not sure exactly what you're trying to do, but the rest is up to you. :)\n", "simquery2_title": "How do I translate an ISO 8601 datetime string into a Python datetime object? I'm getting a datetime string in a format like \"2009-05-28T16:15:00\" (this is ISO 8601, I believe). One hackish option seems to be to parse the string using <code>time.strptime</code> and passing the first six elements of the tuple into the datetime constructor, like:<code>datetime.datetime(*time.strptime(\"2007-03-04T21:08:12\", \"%Y-%m-%dT%H:%M:%S\")[:6])</code>I haven't been able to find a \"cleaner\" way of doing this. Is there one?", "simquery2_answer": "Try this:<code>If Not ClientScript.IsClientScriptBlockRegistered(GetType(YourPageClass), \"alert\") Then\n    ClientScript.RegisterClientScriptBlock(GetType(YourPageClass), \"alert\", alertScript)\nEnd If     \n</code>(Replace <code>YourPageClass</code> by the name of your page's class).The type and the key parameters are used to prevent registering the same script in the same page. The type parameter probably does not make sense when you register your script directly in the page (like you do). However, it allows for example to avoid potential conflicts between different custom controls which register a script with the same key parameter.\n", "total_len": 331, "s1_total_len": 530, "s2_total_len": 329}
{"post_id": "976882", "title": "Shuffling a list of objects", "query": "How do I shuffle a list of objects? I tried <code>random.shuffle</code>:<code>import randomb = [object(), object()]print(random.shuffle(b))</code>But it outputs:<code>None</code>", "acce_answer": "I believe your selector <code>$(this).next(\".accordion div\")</code> will not work. next() only grabs the next sibling therefore doing a filter that looks at children is odd.Also try to use selectors with a nodeName rather than a pure css class selector.\nUse <code>div.accordian</code> rather than just <code>.accordian</code> in your jsTry<code> $(function() {\n   $(\"div.accordion h4\").eq(2).addClass(\"active\");\n   $(\"div.accordion div\").eq(2).show();   $(\"div.accordion h4\").live('click', function(){\n       var $el = $(this);\n       $el.next()\n          .slideToggle(\"slow\")\n          .siblings(\"div:visible\")\n          .slideUp(\"slow\");\n       $el.toggleClass(\"active\");\n       $el.siblings(\"h4\").removeClass(\"active\");\n   });   $(\"div.accordion div\").hide();   $(\"h4#open\").trigger('click');});\n</code>\n", "acce_score": "913", "simquery1_title": "Why does random.shuffle return None? Why is <code>random.shuffle</code> returning <code>None</code> in Python?<code>&gt;&gt;&gt; x = ['foo','bar','black','sheep']&gt;&gt;&gt; from random import shuffle&gt;&gt;&gt; print shuffle(x)None</code>How do I get the shuffled value instead of <code>None</code>?", "simquery1_answer": "Use the placeholder attribute in a textarea tag. Thats what you are looking for<code>&lt;form action=\"demo_form.asp\"&gt;\n  &lt;input type=\"text\" name=\"fname\" placeholder=\"First name\"&gt;&lt;br&gt;\n  &lt;textarea  type=\"text\" placeholder=\"Enter text message\" &gt;&lt;/textarea&gt;\n  &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code>\n", "simquery2_title": "random.seed(): What does it do? I am a bit confused on what <code>random.seed()</code> does in Python. For example, why does the below trials do what they do (consistently)? <code>&gt;&gt;&gt; import random&gt;&gt;&gt; random.seed(9001)&gt;&gt;&gt; random.randint(1, 10)1&gt;&gt;&gt; random.randint(1, 10)3&gt;&gt;&gt; random.randint(1, 10)6&gt;&gt;&gt; random.randint(1, 10)6&gt;&gt;&gt; random.randint(1, 10)7</code>I couldn't find good documentation on this.", "simquery2_answer": "I'm trying to install Pageflow (latest v.0.6.0) and getting this error, after typing <code>rails generate install:pageflow</code>:<code>/Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:11:in `block (2 levels) in &lt;module:Pageflow&gt;': uninitialized constant Pageflow::User (NameError)\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:75:in `class_eval'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:75:in `controller'\nfrom /Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:9:in `block in &lt;module:Pageflow&gt;'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:16:in `instance_eval'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/dsl.rb:16:in `run_registration_block'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/namespace.rb:213:in `parse_registration_block'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/namespace.rb:48:in `register'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:117:in `register'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin.rb:72:in `register'\nfrom /Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:2:in `&lt;module:Pageflow&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/pageflow-0.6.0/admins/pageflow/membership.rb:1:in `&lt;top (required)&gt;'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:168:in `block in load!'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:168:in `each'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:168:in `load!'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:186:in `routes'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin.rb:76:in `routes'\nfrom /Users/uron/Desktop/onyva/git/suitcase-web/x/config/routes.rb:2:in `block in &lt;top (required)&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/routing/route_set.rb:341:in `instance_exec'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/routing/route_set.rb:341:in `eval_block'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/routing/route_set.rb:319:in `draw'\nfrom /Users/uron/Desktop/onyva/git/suitcase-web/x/config/routes.rb:1:in `&lt;top (required)&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:40:in `block in load_paths'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:40:in `each'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:40:in `load_paths'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/routes_reloader.rb:16:in `reload!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application.rb:102:in `reload_routes!'\nfrom /Users/uron/.bundler/ruby/2.0.0/active_admin-7d477d1bf249/lib/active_admin/application.rb:241:in `block in attach_reloader'\nfrom /Library/Ruby/Gems/2.0.0/gems/activesupport-4.0.2/lib/active_support/callbacks.rb:387:in `_run__3068857999573267334__prepare__callbacks'\nfrom /Library/Ruby/Gems/2.0.0/gems/activesupport-4.0.2/lib/active_support/callbacks.rb:80:in `run_callbacks'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/middleware/reloader.rb:74:in `prepare!'\nfrom /Library/Ruby/Gems/2.0.0/gems/actionpack-4.0.2/lib/action_dispatch/middleware/reloader.rb:46:in `prepare!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application/finisher.rb:50:in `block in &lt;module:Finisher&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:30:in `instance_exec'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:30:in `run'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:55:in `block in run_initializers'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:150:in `block in tsort_each'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:183:in `block (2 levels) in each_strongly_connected_component'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:219:in `each_strongly_connected_component_from'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:182:in `block in each_strongly_connected_component'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:180:in `each'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:180:in `each_strongly_connected_component'\nfrom /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:148:in `tsort_each'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/initializable.rb:54:in `run_initializers'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application.rb:215:in `initialize!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/railtie/configurable.rb:30:in `method_missing'\nfrom /Users/uron/Desktop/onyva/git/suitcase-web/x/config/environment.rb:5:in `&lt;top (required)&gt;'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/application.rb:189:in `require_environment!'\nfrom /Library/Ruby/Gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:44:in `&lt;top (required)&gt;'\nfrom bin/rails:4:in `require'\nfrom bin/rails:4:in `&lt;main&gt;'\n</code>rails server would give me the same.My Gemfile looks like this: <code>gem 'rails', '4.0.2'\ngem 'ransack'\ngem 'inherited_resources', '1.4.1'\ngem 'formtastic', '2.3.0'\ngem 'nokogiri', '1.5.5'\ngem 'resque-scheduler', '2.5.5'\ngem 'pageflow'\ngem 'activeadmin', git: 'https://github.com/codevise/active_admin.git', branch: 'rails4'\ngem 'cancan'\ngem 'friendly_id', '~&gt; 5.1.0'\ngem 'paperclip'\ngem 'marionette-rails'\ngem 'devise'</code>Thankful for any ideas! Just filling these lines up, because it seems like there is too much code in my post.\n", "total_len": 320, "s1_total_len": 226, "s2_total_len": 3045}
{"post_id": "986006", "title": "How do I pass a variable by reference?", "query": "Are parameters passed by reference or by value? How do I pass by reference so that the code below outputs <code>'Changed'</code> instead of <code>'Original'</code>?<code>class PassByReference:    def __init__(self):        self.variable = 'Original'        self.change(self.variable)        print(self.variable)    def change(self, var):        var = 'Changed'</code>See also: Why can a function modify some arguments as perceived by the caller, but not others?", "acce_answer": "Assuming I have a structure like this:<code>a = [\n('A',\n ['D',\n  'E',\n  'F',\n  'G']),\n('B',\n ['H']),\n('C',\n ['I'])\n]\n</code>How can I transform it into:<code>a = [\n('A', 'D'),\n('A', 'E'),\n('A', 'F'),\n('A', 'G'),\n('B', 'H'),\n('C', 'I'),\n]\n</code>Thanks for your time!\n", "acce_score": "3236", "simquery1_title": "How to warn about class (name) deprecation I have renamed a python class that is part of a library. I am willing to leave a possibility to use its previous name for some time but would like to warn user that it's deprecated and will be removed in the future.I think that to provide backward compatibility it will be enough to use an alias like that:<code>class NewClsName:    passOldClsName = NewClsName</code>I have no idea how to mark the <code>OldClsName</code> as deprecated in an elegant way. Maybe I could make <code>OldClsName</code> a function which emits a warning (to logs) and constructs the <code>NewClsName</code> object from its parameters (using <code>*args</code> and <code>**kvargs</code>) but it doesn't seem elegant enough (or maybe it is?).However, I don't know how Python standard library deprecation warnings work. I imagine that there may be some nice magic to deal with deprecation, e.g. allowing treating it as errors or silencing depending on some interpreter's command line option.The question is: How to warn users about using an obsolete class alias (or obsolete class in general).EDIT: The function approach doesn't work for me (I already gave it a try) because the class has some class methods (factory methods) which can't be called when the <code>OldClsName</code> is defined as a function. Following code won't work:<code>class NewClsName(object):    @classmethod    def CreateVariant1( cls, ... ):        pass    @classmethod    def CreateVariant2( cls, ... ):        passdef OldClsName(*args, **kwargs):    warnings.warn(\"The 'OldClsName' class was renamed [...]\",                  DeprecationWarning )    return NewClsName(*args, **kwargs)OldClsName.CreateVariant1( ... )</code>Because of:<code>AttributeError: 'function' object has no attribute 'CreateVariant1'</code>Is inheritance my only option? To be honest, it doesn't look very clean to me - it affects class hierarchy through introduction of unnecessary derivation. Additionally, <code>OldClsName is not NewClsName</code> what is not an issue in most cases but may be a problem in case of poorly written code using the library.I could also create a dummy, unrelated <code>OldClsName</code> class and implement a constructor as well as wrappers for all class methods in it, but it is even worse solution, in my opinion.", "simquery1_answer": "As suggested by Devin, this kind of code solves your problem:<code>(this.FindForm() as FormName).psTablename\n</code>But I think that this is not what you really want. In fact, this works only when your custom TextBox is used in FormName, or in a Form derived from FormName, since <code>this.FindForm() as FormName</code> would return null in every other situation. This is a strong limitation for a control, and I'd try to avoid it.For instance you could add a psTableName property to your control that could be passed by the form, but you should be careful to update it everytime the property in the Form changes (maybe with an ad hoc event).Otherwise you should use reflection in this way:<code>string s;\nForm parentForm = FindForm();\nPropertyInfo pi = parentForm.GetType().GetProperty(\"psTableName\");\nif (pi != null)\n    s = (string)pi.GetValue(parentForm, null);\n</code>\n", "simquery2_title": "Prevent creating new attributes outside __init__ I want to be able to create a class (in Python) that once initialized with <code>__init__</code>, does not accept new attributes, but accepts modifications of existing attributes. There's several hack-ish ways I can see to do this, for example having a <code>__setattr__</code> method such as<code>def __setattr__(self, attribute, value):    if not attribute in self.__dict__:        print \"Cannot set %s\" % attribute    else:        self.__dict__[attribute] = value</code>and then editing <code>__dict__</code> directly inside <code>__init__</code>, but I was wondering if there is a 'proper' way to do this?", "simquery2_answer": "I have a solution for you if you have to do stuff with paperclip. Include this class in your lib folder as heroku_compliant_file.rb<code>class HerokuCompliantFile &lt; StringIO\n  def initialize(str,filename,content_type)\n    @original_filename = filename\n    @content_type = content_type\n    super(str)\n  end\nend\n</code>In your model containing the paperclip - <code>def insert_a_hunk_of_string_into_paperclip(some_object)\n  f = HerokuCompliantFile.new(some_object.render,\"myfile_#{Process.pid}\",\"application/pdf\")\n  self.paperclip_model = f\n  save\nend\n</code>\n", "total_len": 260, "s1_total_len": 834, "s2_total_len": 358}
{"post_id": "988228", "title": "Convert a String representation of a Dictionary to a dictionary", "query": "How can I convert the <code>str</code> representation of a <code>dict</code>, such as the following string, into a <code>dict</code>?<code>s = \"{'muffin' : 'lolz', 'foo' : 'kitty'}\"</code>I prefer not to use <code>eval</code>. What else can I use?The main reason for this, is one of my coworkers classes he wrote, converts all input into strings. I'm not in the mood to go and modify his classes, to deal with this issue.", "acce_answer": "Well, to answer your question directly, you have the if-statement backwards; it should be this way.<code>    (if (this-time-have-common-factors?)\n        (execute-experiment (- n-times 1) (+ acc 1)\n        (execute-experiment (- n-times 1) acc))\n</code>So you're calculating 1 - 6/&pi;2 in the limit as the # of trials approaches infinity. This yields \"pi\" = sqrt(6/(1 - 6/&pi;2)) = sqrt(6&pi;2/(&pi;2-6)) = 3.911).Let's take a step back here, though, and look at what the Monte Carlo method does for us with this calculation (hint: expect very slow convergence. How many times are you running it?)...Each trial either gives us 0 or 1, with probability p = 6/&pi;2. This is an example of a Bernoulli process, which has, for the number of 1's m in a number of trials n, a binomial distribution.Consider &rho; = m/n, the fraction of times passing the common-divisors test. This a has mean value of p and a variance of p(1-p)/n, or std dev &sigma;&rho; = sqrt(p(1-p)/n). For n = 10000, you should expect a std dev of 0.00488. 95% of the time you will be within 2 std devs of the mean, and 5% of the time you'll be outside 2 std devs, or between 0.5982 and 0.6177. So an estimate of &pi; from this method, given n=10000, will be between 3.117 and 3.167 95% of the time and outside this range 5% of the time.If you want increase the number of trials by 100, that reduces std dev by a factor of 10 and the estimate of &pi; gets narrowed between 3.1391 and 3.1441 with 95% confidence.Monte Carlo methods are nice for a rough estimate but they need LOTS and lots of trials for an accurate answer, and usually reach a point of diminishing returns.Not that this is a fruitless way to approximate pi, just be aware of the issue.\n", "acce_score": "1117", "simquery1_title": "Convert a String representation of a Dictionary to a dictionary How can I convert the <code>str</code> representation of a <code>dict</code>, such as the following string, into a <code>dict</code>?<code>s = \"{'muffin' : 'lolz', 'foo' : 'kitty'}\"</code>I prefer not to use <code>eval</code>. What else can I use?The main reason for this, is one of my coworkers classes he wrote, converts all input into strings. I'm not in the mood to go and modify his classes, to deal with this issue.", "simquery1_answer": "Well, to answer your question directly, you have the if-statement backwards; it should be this way.<code>    (if (this-time-have-common-factors?)\n        (execute-experiment (- n-times 1) (+ acc 1)\n        (execute-experiment (- n-times 1) acc))\n</code>So you're calculating 1 - 6/&pi;2 in the limit as the # of trials approaches infinity. This yields \"pi\" = sqrt(6/(1 - 6/&pi;2)) = sqrt(6&pi;2/(&pi;2-6)) = 3.911).Let's take a step back here, though, and look at what the Monte Carlo method does for us with this calculation (hint: expect very slow convergence. How many times are you running it?)...Each trial either gives us 0 or 1, with probability p = 6/&pi;2. This is an example of a Bernoulli process, which has, for the number of 1's m in a number of trials n, a binomial distribution.Consider &rho; = m/n, the fraction of times passing the common-divisors test. This a has mean value of p and a variance of p(1-p)/n, or std dev &sigma;&rho; = sqrt(p(1-p)/n). For n = 10000, you should expect a std dev of 0.00488. 95% of the time you will be within 2 std devs of the mean, and 5% of the time you'll be outside 2 std devs, or between 0.5982 and 0.6177. So an estimate of &pi; from this method, given n=10000, will be between 3.117 and 3.167 95% of the time and outside this range 5% of the time.If you want increase the number of trials by 100, that reduces std dev by a factor of 10 and the estimate of &pi; gets narrowed between 3.1391 and 3.1441 with 95% confidence.Monte Carlo methods are nice for a rough estimate but they need LOTS and lots of trials for an accurate answer, and usually reach a point of diminishing returns.Not that this is a fruitless way to approximate pi, just be aware of the issue.\n", "simquery2_title": "Python hashable dicts As an exercise, and mostly for my own amusement, I'm implementing a backtracking packrat parser.  The inspiration for this is i'd like to have a better idea about how hygenic macros would work in an algol-like language (as apposed to the syntax free lisp dialects you normally find them in).  Because of this, different passes through the input might see different grammars, so cached parse results are invalid, unless I also store the current version of the grammar along with the cached parse results.  (EDIT: a consequence of this use of key-value collections is that they should be immutable, but I don't intend to expose the interface to allow them to be changed, so either mutable or immutable collections are fine)The problem is that python dicts cannot appear as keys to other dicts.  Even using a tuple (as I'd be doing anyways) doesn't help.<code>&gt;&gt;&gt; cache = {}&gt;&gt;&gt; rule = {\"foo\":\"bar\"}&gt;&gt;&gt; cache[(rule, \"baz\")] = \"quux\"Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: unhashable type: 'dict'&gt;&gt;&gt; </code>I guess it has to be tuples all the way down.  Now the python standard library provides approximately what i'd need, <code>collections.namedtuple</code> has a very different syntax, but can be used as a key.  continuing from above session:<code>&gt;&gt;&gt; from collections import namedtuple&gt;&gt;&gt; Rule = namedtuple(\"Rule\",rule.keys())&gt;&gt;&gt; cache[(Rule(**rule), \"baz\")] = \"quux\"&gt;&gt;&gt; cache{(Rule(foo='bar'), 'baz'): 'quux'}</code>Ok.  But I have to make a class for each possible combination of keys in the rule I would want to use, which isn't so bad, because each parse rule knows exactly what parameters it uses, so that class can be defined at the same time as the function that parses the rule.  Edit: An additional problem with <code>namedtuple</code>s is that they are strictly positional.  Two tuples that look like they should be different can in fact be the same: <code>&gt;&gt;&gt; you = namedtuple(\"foo\",[\"bar\",\"baz\"])&gt;&gt;&gt; me = namedtuple(\"foo\",[\"bar\",\"quux\"])&gt;&gt;&gt; you(bar=1,baz=2) == me(bar=1,quux=2)True&gt;&gt;&gt; bob = namedtuple(\"foo\",[\"baz\",\"bar\"])&gt;&gt;&gt; you(bar=1,baz=2) == bob(bar=1,baz=2)False</code>tl'dr: How do I get <code>dict</code>s that can be used as keys to other <code>dict</code>s?Having hacked a bit on the answers, here's the more complete solution I'm using.  Note that this does a bit extra work to make the resulting dicts vaguely immutable for practical purposes.  Of course it's still quite easy to hack around it by calling <code>dict.__setitem__(instance, key, value)</code> but we're all adults here.<code>class hashdict(dict):    \"\"\"    hashable dict implementation, suitable for use as a key into    other dicts.        &gt;&gt;&gt; h1 = hashdict({\"apples\": 1, \"bananas\":2})        &gt;&gt;&gt; h2 = hashdict({\"bananas\": 3, \"mangoes\": 5})        &gt;&gt;&gt; h1+h2        hashdict(apples=1, bananas=3, mangoes=5)        &gt;&gt;&gt; d1 = {}        &gt;&gt;&gt; d1[h1] = \"salad\"        &gt;&gt;&gt; d1[h1]        'salad'        &gt;&gt;&gt; d1[h2]        Traceback (most recent call last):        ...        KeyError: hashdict(bananas=3, mangoes=5)    based on answers from       http://stackoverflow.com/questions/1151658/python-hashable-dicts    \"\"\"    def __key(self):        return tuple(sorted(self.items()))    def __repr__(self):        return \"{0}({1})\".format(self.__class__.__name__,            \", \".join(\"{0}={1}\".format(                    str(i[0]),repr(i[1])) for i in self.__key()))    def __hash__(self):        return hash(self.__key())    def __setitem__(self, key, value):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def __delitem__(self, key):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def clear(self):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def pop(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def popitem(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def setdefault(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def update(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    # update is not ok because it mutates the object    # __add__ is ok because it creates a new object    # while the new object is under construction, it's ok to mutate it    def __add__(self, right):        result = hashdict(self)        dict.update(result, right)        return resultif __name__ == \"__main__\":    import doctest    doctest.testmod()</code>", "simquery2_answer": "Tom McNulty helped me out and pointed out that my regex's were super-pants, in particular I wasn't using the global flag :(The working code is:<code>var converter;\nvar text = \"\";\nvar item;\nvar input;\nvar output;\nvar head;\nvar tail;\nconverter = new Attacklab.showdown.converter();\nitem = document.getElementById(\"tests\");\nfor (var test in tests) {\n  input = tests[test].replace(/[\\n\\r]+/gi,\"\\\\n\" );\n  input = input.replace(/[\\\"]+/gi, \"\\\\\\\"\");\n  output = converter.makeHtml(tests[test]).replace(/[\\n\\r]+/gi, \"\\\\n\");\n  output = output.replace(/[\\\"]+/gi, \"\\\\\\\"\");\n  text += \"     ?_assert(conv(\\\"\" + input + \"\\\") == \\\"\" + output + \"\\\"),\\n\";\n};\nhead = \"unit_test_() -&gt; \\n    [\\n\";\ntail = \"\\n    ].\";\ntext = text.slice(0, text.length - 2);\nitem.value = head + text + tail;\n</code>\n", "total_len": 713, "s1_total_len": 711, "s2_total_len": 1762}
{"post_id": "990754", "title": "How to leave/exit/deactivate a Python virtualenv", "query": "I'm using virtualenv and the virtualenvwrapper. I can switch between virtualenv's just fine using the <code>workon</code> command.<code>me@mymachine:~$ workon env1(env1)me@mymachine:~$ workon env2(env2)me@mymachine:~$ workon env1(env1)me@mymachine:~$ </code>How do I exit all virtual environments and work on my system environment again? Right now, the only way I have of getting back to <code>me@mymachine:~$</code> is to exit the shell and start a new one. That's kind of annoying. Is there a command to work on &quot;nothing&quot;, and if so, what is it? If such a command does not exist, how would I go about creating it?", "acce_answer": "Don't split! Add one big tag around it! Then it becomes one XML file again:<code>&lt;BIGTAG&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;someData&gt;...&lt;/someData&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;someData&gt;...&lt;/someData&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;someData&gt;...&lt;/someData&gt;\n&lt;/BIGTAG&gt;\n</code>Now, using /BIGTAG/SomeData would give you all the XML roots.If processing instructions are in the way, you can always use a RegEx to remove them. It's easier to just remove all processing instructions than to use a RegEx to find all root nodes.\nIf encoding differs for all documents then remember this: the whole document itself must have been encoded by some encoding type, thus all those XML documents it includes will be using the same encoding, no matter what each header is telling you. If the big file is encoded as UTF-16 then it doesn't matter if the XML processing instructions say the XML itself is UTF-8. It won't be UTF-8 since the whole file is UTF-16. The encoding in those XML processing instructions is therefor invalid.By merging them into one file, you've altered the encoding...By RegEx, I mean regular expressions. You just have to remove all text that's between a &lt;? and a ?&gt; which should not be too difficult with a regular expression and slightly more complicated if you're trying other string manipulation techniques.\n", "acce_score": "2417", "simquery1_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery1_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "simquery2_title": "How to uninstall a package installed with pip install --user There is a <code>--user</code> option for pip which can install a Python package per user:<code>pip install --user [python-package-name]</code>I used this option to install a package on a server for which I do not have root access. What I need now is to uninstall the installed package on the current user. I tried to execute this command:<code>pip uninstall --user [python-package-name]</code>But I got:<code>no such option: --user</code>How can I uninstall a package that I installed with <code>pip install --user</code>, other than manually finding and deleting the package?I've found this article pip cannot uninstall from per-user site-packages directorywhich describes that uninstalling packages from user directory does not supported. According to the article if it was implemented correctly then with<code>pip uninstall [package-name]</code>the package that was installed will be also searched in user directories. But a problem still remains for me. What if the same package was installed both system-wide and per-user?What if someone needs to target a specific user directory?", "simquery2_answer": "A bit late...You should have a .tex file with the tikz code of your plot in <code>C:\\Users\\cgmil\\AppData\\Local\\Temp\\Rtmp6FouwP/</code>. Just replace the last two lines <code>\\makeatletter\n\\@@end\n</code>by<code>\\end{document}\n\\end{tikzpicture}\n</code>Then compile the document. New packages will be installed and it should works.\n", "total_len": 615, "s1_total_len": 575, "s2_total_len": 362}
{"post_id": "993984", "title": "What are the advantages of NumPy over regular Python lists?", "query": "What are the advantages of NumPy over regular Python lists?I have approximately 100 financial markets series, and I am going to create a cube array of 100x100x100 = 1 million cells. I will be regressing (3-variable) each x with each y and z, to fill the array with standard errors.I have heard that for \"large matrices\" I should use NumPy as opposed to Python lists, for performance and scalability reasons. Thing is, I know Python lists and they seem to work for me. What will the benefits be if I move to NumPy?What if I had 1000 series (that is, 1 billion floating point cells in the cube)? ", "acce_answer": "Are you trying to drag the entire <code>UITableViewCell</code>, or a <code>UIView</code> inside the cell? Either way, I don't think you'll be able to move the view outside the bounds of its parent, which would be the <code>UITableView</code>.I have another project where I have a icon or tile (<code>UIImageView</code>) that the user can drag around the screen. After it reaches a certain distance, it snaps back.Similarly, a possible solution might involve popping up a <code>UIView</code> (perhaps a <code>UIImageView</code>) over top of the table cell when the cell is tapped. The user could drag that around the screen, and you could make it disappear when it's \"dropped\" on whatever target you have.\n", "acce_score": "554", "simquery1_title": "How can I improve my paw detection? After my previous question on finding toes within each paw, I started loading up other measurements to see how it would hold up. Unfortunately, I quickly ran into a problem with one of the preceding steps: recognizing the paws.You see, my proof of concept basically took the maximal pressure of each sensor over time and would start looking for the sum of each row, until it finds on that != 0.0. Then it does the same for the columns and as soon as it finds more than 2 rows with that are zero again. It stores the minimal and maximal row and column values to some index.As you can see in the figure, this works quite well in most cases. However, there are a lot of downsides to this approach (other than being very primitive):Humans can have 'hollow feet' which means there are several empty rows within the footprint itself. Since I feared this could happen with (large) dogs too, I waited for at least 2 or 3 empty rows before cutting off the paw. This creates a problem if another contact made in a different column before it reaches several empty rows, thus expanding the area. I figure I could compare the columns and see if they exceed a certain value, they must be separate paws.The problem gets worse when the dog is very small or walks at a higher pace. What happens is that the front paw's toes are still making contact, while the hind paw's toes just start to make contact within the same area as the front paw!With my simple script, it won't be able to split these two, because it would have to determine which frames of that area belong to which paw, while currently I would only have to look at the maximal values over all frames.Examples of where it starts going wrong:So now I'm looking for a better way of recognizing and separating the paws (after which I'll get to the problem of deciding which paw it is!).Update:I've been tinkering to get Joe's (awesome!) answer implemented, but I'm having difficulties extracting the actual paw data from my files.The coded_paws shows me all the different paws, when applied to the maximal pressure image (see above). However, the solution goes over each frame (to separate overlapping paws) and sets the four Rectangle attributes, such as coordinates or height/width. I can't figure out how to take these attributes and store them in some variable that I can apply to the measurement data. Since I need to know for each paw, what its location is during which frames and couple this to which paw it is (front/hind, left/right).So how can I use the Rectangles attributes to extract these values for each paw?I have the measurements I used in the question setup in my public Dropbox folder (example 1, example 2, example 3). For anyone interested I also set up a blog to keep you up to date :-)", "simquery1_answer": "You're rescuing the exception, so it won't log it because nothing bad actually happened since it was, in fact, \"rescued\".You can put the following code within your <code>rescue</code> block to put an entry in the log:<code>logger.warn \"Exception rescued!\"\n</code>You can read more about using the logger in the Rails Guides.\n", "simquery2_title": "Parallel Coordinates plot in Matplotlib Two and three dimensional data can be viewed relatively straight-forwardly using traditional plot types.  Even with four dimensional data, we can often find a way to display the data.  Dimensions above four, though, become increasingly difficult to display.  Fortunately, parallel coordinates plots provide a mechanism for viewing results with higher dimensions.Several plotting packages provide parallel coordinates plots, such as Matlab, R, VTK type 1 and VTK type 2, but I don't see how to create one using Matplotlib.  Is there a built-in parallel coordinates plot in Matplotlib?  I certainly don't see one in the gallery.  If there is no built-in-type, is it possible to build a parallel coordinates plot using standard features of Matplotlib?Edit:Based on the answer provided by Zhenya below, I developed the following generalization that supports an arbitrary number of axes.  Following the plot style of the example I posted in the original question above, each axis gets its own scale.  I accomplished this by normalizing the data at each axis point and making the axes have a range of 0 to 1.  I then go back and apply labels to each tick-mark that give the correct value at that intercept.The function works by accepting an iterable of data sets.  Each data set is considered a set of points where each point lies on a different axis.  The example in <code>__main__</code> grabs random numbers for each axis in two sets of 30 lines.  The lines are random within ranges that cause clustering of lines; a behavior I wanted to verify.This solution isn't as good as a built-in solution since you have odd mouse behavior and I'm faking the data ranges through labels, but until Matplotlib adds a built-in solution, it's acceptable.<code>#!/usr/bin/pythonimport matplotlib.pyplot as pltimport matplotlib.ticker as tickerdef parallel_coordinates(data_sets, style=None):    dims = len(data_sets[0])    x    = range(dims)    fig, axes = plt.subplots(1, dims-1, sharey=False)    if style is None:        style = ['r-']*len(data_sets)    # Calculate the limits on the data    min_max_range = list()    for m in zip(*data_sets):        mn = min(m)        mx = max(m)        if mn == mx:            mn -= 0.5            mx = mn + 1.        r  = float(mx - mn)        min_max_range.append((mn, mx, r))    # Normalize the data sets    norm_data_sets = list()    for ds in data_sets:        nds = [(value - min_max_range[dimension][0]) /                 min_max_range[dimension][2]                 for dimension,value in enumerate(ds)]        norm_data_sets.append(nds)    data_sets = norm_data_sets    # Plot the datasets on all the subplots    for i, ax in enumerate(axes):        for dsi, d in enumerate(data_sets):            ax.plot(x, d, style[dsi])        ax.set_xlim([x[i], x[i+1]])    # Set the x axis ticks     for dimension, (axx,xx) in enumerate(zip(axes, x[:-1])):        axx.xaxis.set_major_locator(ticker.FixedLocator([xx]))        ticks = len(axx.get_yticklabels())        labels = list()        step = min_max_range[dimension][2] / (ticks - 1)        mn   = min_max_range[dimension][0]        for i in xrange(ticks):            v = mn + i*step            labels.append('%4.2f' % v)        axx.set_yticklabels(labels)    # Move the final axis' ticks to the right-hand side    axx = plt.twinx(axes[-1])    dimension += 1    axx.xaxis.set_major_locator(ticker.FixedLocator([x[-2], x[-1]]))    ticks = len(axx.get_yticklabels())    step = min_max_range[dimension][2] / (ticks - 1)    mn   = min_max_range[dimension][0]    labels = ['%4.2f' % (mn + i*step) for i in xrange(ticks)]    axx.set_yticklabels(labels)    # Stack the subplots     plt.subplots_adjust(wspace=0)    return pltif __name__ == '__main__':    import random    base  = [0,   0,  5,   5,  0]    scale = [1.5, 2., 1.0, 2., 2.]    data = [[base[x] + random.uniform(0., 1.)*scale[x]            for x in xrange(5)] for y in xrange(30)]    colors = ['r'] * 30    base  = [3,   6,  0,   1,  3]    scale = [1.5, 2., 2.5, 2., 2.]    data.extend([[base[x] + random.uniform(0., 1.)*scale[x]                 for x in xrange(5)] for y in xrange(30)])    colors.extend(['b'] * 30)    parallel_coordinates(data, style=colors).show()</code>Edit 2:Here is an example of what comes out of the above code when plotting Fisher's Iris data.  It isn't quite as nice as the reference image from Wikipedia, but it is passable if all you have is Matplotlib and you need multi-dimensional plots.", "simquery2_answer": "<code>/usr/bin/env: node: No such file or directory\n</code>This means <code>bosh</code> has been written to use an odd little idiom for shell scripts:<code>#!/usr/bin/env node\n</code>This runs the <code>env(1)</code> program, which will search its <code>PATH</code> for the <code>node</code> executable and execute it with a modified environment -- but, without environment modifications, it just runs <code>node</code>. It's a bit silly, but it is also the easiest way to write a script that doesn't hardcode the path to its interpreter.You don't have a <code>node</code> program executable on your system. Perhaps <code>node</code> isn't yet installed. (I have a vague memory that old versions were actually named <code>nodejs</code> -- but I cannot find documentation to support this memory.)To make sure <code>node</code> is installed, run:<code>apt-get update &amp;&amp; apt-get install -u nodejs\n</code>If the <code>nodejs</code> package is already installed, then perhaps the executable name is different. Run <code>dpkg -L nodejs | grep bin</code>, and look for the executable name in the output. If you don't see <code>/usr/bin/node</code>, I'll help walk you through setting up a symbolic link.\n", "total_len": 356, "s1_total_len": 745, "s2_total_len": 1704}
{"post_id": "1006289", "title": "How to find out the number of CPUs using python", "query": "I want to know the number of CPUs on the local machine using Python. The result should be <code>user/real</code> as output by <code>time(1)</code> when called with an optimally scaling userspace-only program.", "acce_answer": "Got it!I create a bindings class<code>class BindMe\n    def initialize(key,val)\n        @key=key\n        @val=val\n    end\n    def get_binding\n        return binding()\n    end\nend\n</code>and pass an instance to ERB<code>dataHash.keys.each do |current|\n    key = current.to_s\n    val = dataHash[key]    # here, I pass the bindings instance to ERB\n    bindMe = BindMe.new(key,val)    result = template.result(bindMe.get_binding)    # unnecessary code goes here\nend\n</code>The .erb template file looks like this:<code>Key: &lt;%= @key %&gt;\n</code>\n", "acce_score": "788", "simquery1_title": "accurately measure time python function takes I need to measure the time certain parts of my program take (not for debugging but as a feature in the output). Accuracy is important because the total time will be a fraction of a second.I was going to use the time module when I came across timeit, which claims to avoid a number of common traps for measuring execution times. Unfortunately it has an awful interface, taking a string as input which it then eval's. So, do I need to use this module to measure time accurately, or will time suffice? And what are the pitfalls it refers to?Thanks", "simquery1_answer": "This may be faster than firing up the regex engine:<code>if (strspn ( $subject , '01') == strlen($subject)) {\n    echo 'It\\'s binary!';\n} else {\n    echo 'Not binary!';\n}\n</code>If you just look for simple characters or want to count them, regex is often quite slow while one or two built in string function can do the job much faster.\nMaybe this does apply here, maybe not.After hearing some remarks in the comments, that this might not work, here's a test case:<code>&lt;?php$strings = array('10001001', '22229999', '40004000');foreach ( $strings as $string )\n{\n    if ( strspn( $string, '01') == strlen( $string ) ) {\n        echo $string . ' is binary!' . \"\\n\";\n    } else {\n        echo $string . ' is NOT binary!' . \"\\n\";\n    }\n}\n</code>It does the job.\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 251, "s1_total_len": 384, "s2_total_len": 597}
{"post_id": "1024847", "title": "How can I add new keys to a dictionary?", "query": "How do I add a key to an existing dictionary? It doesn't have an <code>.add()</code> method.", "acce_answer": "A simplest solution (although not quite as clean) would be to store the fact that an admin user exists in the class.<code>class EnsureAdminUser\n  def self.call(env)\n    if @admin_defined or Admin.any?\n      @admin_defined = true\n      [404, {\"Content-Type\" =&gt; \"text/html\"}, \"Not Found\"]\n    else\n      \u2026\n    end\n  end\nend\n</code>This saves you the DB hit on each request.To actually delete the metal you will need to do something a bit more radical (and evil):<code>ObjectSpace.each_object(Rails::Rack::Metal){|metal_handler|\n  metal_handler.instance_eval{ @metals.delete(EnsureAdminUser) }\n}\n</code>\n", "acce_score": "3462", "simquery1_title": "Delete an element from a dictionary How do I delete an item from a dictionary in Python?Without modifying the original dictionary, how do I obtain another dict with the item removed?See also How can I remove a key from a Python dictionary? for the specific issue of removing an item (by key) that may not already be present.", "simquery1_answer": "We have been searching a WYSIWYG editor for our Spring Project and we decided on CKEditor but we also needed an plugin for to insert iamge from localhost so I tried to implement CKFinder for Java. But I couldn't event make work CKFinder's example app work.The screen:\nhttp://imgur.com/ZortmThe debug output:<code>java.lang.NullPointerException\n    at com.ckfinder.connector.ConnectorServlet.getResponse(ConnectorServlet.java:114)\n    at com.ckfinder.connector.ConnectorServlet.doGet(ConnectorServlet.java:76)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code>\n", "simquery2_title": "Use `__dict__` or `vars()`? Builtin function <code>vars()</code> looks more Pythonic to me, but I see <code>__dict__</code> used more frequently.The Python documentation indicates that they are equivalent.One blogger claims that <code>__dict__</code> is faster than <code>vars()</code>.Which shall I use?", "simquery2_answer": "I'm trying to pull the first occurence of a regex pattern from a string all in one statement to make my code look cleaner. This is what I want to do:<code>var matchedString = somestring.match(/some regex/g)[0];\n</code>I would expect this to be legal but it throws an exception: <code>Exception: somestring.match(...) is null\n</code>It seems like JS is trying to index the array before match is finsihed, as the array does provide atleast one match, so I don't expect it to be null.I would like some insight in why it happens. Could it be a bug? My machine is a PC running Arch Linux x86_64. The code is being executed within the scratchpad of firefox 32.0.3.Thanks for your interest.\n", "total_len": 231, "s1_total_len": 728, "s2_total_len": 274}
{"post_id": "1093322", "title": "How do I check which version of Python is running my script?", "query": "How do I check which version of the Python interpreter is running my script?", "acce_answer": "What's the equivalent of Java's <code>Thread.sleep()</code> in JavaScript?\n", "acce_score": "1446", "simquery1_title": "How can I rewrite python __version__ with git? I would like to define a <code>__version__</code> variable in my module which should be automatically updated on git commit similarly to what SVN keywords do. Is there a way to achieve it in Git? Does anyone have a working example?I considered using GitPython, but I would not like to introduce another dependency and I want users who download the module from SVN repo or as a zip package to have the same versioning scheme (I do not care that is some illegible hash).Edit: My particular problem is that I have to run simulations whose result depend on the exact version of the simulation script. Therefore each time I have to store version number together with the simulation results. If both run out of sync, it may have very dire outcomes.", "simquery1_answer": "How do I position this ViewController over the detail view modally? I want it to be right aligned so you can see the navigation portion greyed out.<code>[self.window addSubview:self.splitViewController.view];\nMyModalViewController *modalvc= [MyModalViewController new]; //brevity\nmodalvc.modalInPopover = YES;\nmodalvc.modalPresentationStyle = UIModalPresentationStylePageSheet;\nmodalvc.view.autoresizeMask = UIViewAutoresizeFlexibleRightMargin;\n[self.splitViewController presentModalView:modalvc animated:NO];\n[self.window makeKeyAndVisible];\n</code>I also checked in MyModalViewController if im setting the views mask and I am not, nor is it getting magic values from a Nib.  Adjusting the frame before the present (using modalvc.view.frame) does nothing.Adjusting the frame after the present seems to yield crazy results, and I only really need it to be half a width over in landscape... portrait is normal behavior.edit\nthe picture confused people so I took it out, I dont want the modal view to be the size of the screen, I want to keep it UIModalPresentationStylePageSheet but have its ORIGIN moved right so that it covers the detail view portion in landscape\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 57, "s1_total_len": 459, "s2_total_len": 597}
{"post_id": "1112343", "title": "How do I capture SIGINT in Python?", "query": "I'm working on a python script that starts several processes and database connections. Every now and then I want to kill the script with a Ctrl+C signal, and I'd like to do some cleanup.In Perl I'd do this:<code>$SIG{'INT'} = 'exit_gracefully';sub exit_gracefully {    print \"Caught ^C \\n\";    exit (0);}</code>How do I do the analogue of this in Python?", "acce_answer": "Alternate solution to the one presented by VonC would be to use \"ours\" merge strategy to join histories, but to take one version:<code>$ git checkout -b tmp original-repo/master\n$ git merge -s ours master  # take version from 'tmp', i.e. from 'original-repo/master'\n$ git checkout master\n$ git merge tmp                    # should be fast forward\n$ git branch -d tmp              # 'tmp' branch is no longer needed\n</code>What you do above is to do in short \"theirs\" merge.Caveat: this solution solves original problem only if there are no other commits on local branch since last merge (last update), that the ones which are to be replaced by version from original repository!!!So this solution allows to keep your version of solving the problem for the history, but is more limited in application.Below there is set of ASCII-art diagrams showing what is happening in the repository in each step:\nbefore first command:\n\\*---\\*---x---A                 &lt;-- original-repo/master (remote-tracking branch)\n                \\\n                  \\\\--a---b           &lt;-- master &lt;-- HEADafter \"<code>git checkout -b tmp original-repo/master</code>\":                                          &lt;-- original-repo/master,\n*---*---x---A                 &lt;-- tmp  &lt;-- HEAD\n                \\\n                  \\--a---b           &lt;-- master\n where both 'tmp' (local branch) and 'original-repo/master' (remote-tracking branch) point to the same commit.\nafter \"<code>git merge -s ours master</code>\":                        /-------------- original-repo/master\n                      v\n*---*---x---A----A'       &lt;-- tmp  &lt;-- HEAD\n                \\              /\n                  \\--a---b           &lt;-- master\n where commit A' is a merge commit, but has the same contents (the same tree) as commit A\nafter \"<code>git checkout master &amp;&amp; git merge tmp</code>\" (the merge should be fast-forward):                          /-------------- original-repo/master\n                        v\n*---*---x---A----A'       &lt;-- tmp,\n                \\              /          &lt;-- master &lt;-- HEAD\n                  \\--a---b\n Both 'master' and 'tmp' point to the same commit.\nafter \"<code>git branch -d tmp</code>\", and some reorganizing of the diagram \n\\*---\\*---x---A-----\\            &lt;-- original-repo/master\n                \\                   \\\n                  \\\\--a---b---A'      &lt;-- master &lt;-- HEADAt the end:\nremote-tracking branch '<code>original-repo/master</code>' (i.e. '<code>refs/remotes/original-repo/master</code>') points to commit A, \nlocal branch '<code>master</code>' (i.e. '<code>refs/heads/master</code>'), which is current branch, points to commit A'.\nCommit A' has:\ncommit A as its first parent (<code>A'^1 == A</code>), \ncommit b as second parent (<code>A'^2 == a</code>), \nand its contents (its tree) is the same as in commit A (<code>A'^{tree} == A^{tree}</code>).\n", "acce_score": "677", "simquery1_title": "How to process SIGTERM signal gracefully? Let's assume we have such a trivial daemon written in python:<code>def mainloop():    while True:        # 1. do        # 2. some        # 3. important        # 4. job        # 5. sleepmainloop()</code>and we daemonize it using <code>start-stop-daemon</code> which by default sends <code>SIGTERM</code> (<code>TERM</code>) signal on <code>--stop</code>.Let's suppose the current step performed is <code>#2</code>. And at this very moment we're sending <code>TERM</code> signal.What happens is that the execution terminates immediately.I've found that I can handle the signal event using <code>signal.signal(signal.SIGTERM, handler)</code> but the thing is that it still interrupts the current execution and passes the control to <code>handler</code>.So, my question is - is it possible to not interrupt the current execution but handle the <code>TERM</code> signal in a separated thread (?) so that I was able to set <code>shutdown_flag = True</code> so that <code>mainloop()</code> had a chance to stop gracefully?", "simquery1_answer": "I fixed it. Like suggested from Egor Gromadskiy I implemented an EmptyConverter (Binding errors in Xamarin Forms). It seems like Xamarin can't convert a Guid to a string automatically.Simply changing the <code>value</code> to <code>value.ToString()</code> in method <code>Convert()</code> did it.\n", "simquery2_title": "How do I capture SIGINT in Python? I'm working on a python script that starts several processes and database connections. Every now and then I want to kill the script with a Ctrl+C signal, and I'd like to do some cleanup.In Perl I'd do this:<code>$SIG{'INT'} = 'exit_gracefully';sub exit_gracefully {    print \"Caught ^C \\n\";    exit (0);}</code>How do I do the analogue of this in Python?", "simquery2_answer": "Alternate solution to the one presented by VonC would be to use \"ours\" merge strategy to join histories, but to take one version:<code>$ git checkout -b tmp original-repo/master\n$ git merge -s ours master  # take version from 'tmp', i.e. from 'original-repo/master'\n$ git checkout master\n$ git merge tmp                    # should be fast forward\n$ git branch -d tmp              # 'tmp' branch is no longer needed\n</code>What you do above is to do in short \"theirs\" merge.Caveat: this solution solves original problem only if there are no other commits on local branch since last merge (last update), that the ones which are to be replaced by version from original repository!!!So this solution allows to keep your version of solving the problem for the history, but is more limited in application.Below there is set of ASCII-art diagrams showing what is happening in the repository in each step:\nbefore first command:\n\\*---\\*---x---A                 &lt;-- original-repo/master (remote-tracking branch)\n                \\\n                  \\\\--a---b           &lt;-- master &lt;-- HEADafter \"<code>git checkout -b tmp original-repo/master</code>\":                                          &lt;-- original-repo/master,\n*---*---x---A                 &lt;-- tmp  &lt;-- HEAD\n                \\\n                  \\--a---b           &lt;-- master\n where both 'tmp' (local branch) and 'original-repo/master' (remote-tracking branch) point to the same commit.\nafter \"<code>git merge -s ours master</code>\":                        /-------------- original-repo/master\n                      v\n*---*---x---A----A'       &lt;-- tmp  &lt;-- HEAD\n                \\              /\n                  \\--a---b           &lt;-- master\n where commit A' is a merge commit, but has the same contents (the same tree) as commit A\nafter \"<code>git checkout master &amp;&amp; git merge tmp</code>\" (the merge should be fast-forward):                          /-------------- original-repo/master\n                        v\n*---*---x---A----A'       &lt;-- tmp,\n                \\              /          &lt;-- master &lt;-- HEAD\n                  \\--a---b\n Both 'master' and 'tmp' point to the same commit.\nafter \"<code>git branch -d tmp</code>\", and some reorganizing of the diagram \n\\*---\\*---x---A-----\\            &lt;-- original-repo/master\n                \\                   \\\n                  \\\\--a---b---A'      &lt;-- master &lt;-- HEADAt the end:\nremote-tracking branch '<code>original-repo/master</code>' (i.e. '<code>refs/remotes/original-repo/master</code>') points to commit A, \nlocal branch '<code>master</code>' (i.e. '<code>refs/heads/master</code>'), which is current branch, points to commit A'.\nCommit A' has:\ncommit A as its first parent (<code>A'^1 == A</code>), \ncommit b as second parent (<code>A'^2 == a</code>), \nand its contents (its tree) is the same as in commit A (<code>A'^{tree} == A^{tree}</code>).\n", "total_len": 928, "s1_total_len": 385, "s2_total_len": 926}
{"post_id": "1132941", "title": "\"Least Astonishment\" and the Mutable Default Argument", "query": "Anyone tinkering with Python long enough has been bitten (or torn to pieces) by the following issue:<code>def foo(a=[]):    a.append(5)    return a</code>Python novices would expect this function called with no parameter to always return a list with only one element: <code>[5]</code>. The result is instead very different, and very astonishing (for a novice):<code>&gt;&gt;&gt; foo()[5]&gt;&gt;&gt; foo()[5, 5]&gt;&gt;&gt; foo()[5, 5, 5]&gt;&gt;&gt; foo()[5, 5, 5, 5]&gt;&gt;&gt; foo()</code>A manager of mine once had his first encounter with this feature, and called it &quot;a dramatic design flaw&quot; of the language. I replied that the behavior had an underlying explanation, and it is indeed very puzzling and unexpected if you don't understand the internals. However, I was not able to answer (to myself) the following question: what is the reason for binding the default argument at function definition, and not at function execution? I doubt the experienced behavior has a practical use (who really used static variables in C, without breeding bugs?)Edit:Baczek made an interesting example. Together with most of your comments and Utaal's in particular, I elaborated further:<code>def a():    print(&quot;a executed&quot;)    return []           def b(x=a()):    x.append(5)    print(x)a executed&gt;&gt;&gt; b()[5]&gt;&gt;&gt; b()[5, 5]</code>To me, it seems that the design decision was relative to where to put the scope of parameters: inside the function, or &quot;together&quot; with it?Doing the binding inside the function would mean that <code>x</code> is effectively bound to the specified default when the function is called, not defined, something that would present a deep flaw: the <code>def</code> line would be &quot;hybrid&quot; in the sense that part of the binding (of the function object) would happen at definition, and part (assignment of default parameters) at function invocation time.The actual behavior is more consistent: everything of that line gets evaluated when that line is executed, meaning at function definition.", "acce_answer": "I'm building a kind of dock, and I struggle at finding how to save things like \"Run\", \"Search\", \"Help\", \"Printers\" and reopen them after that.I tried this :<code>CComPtr&lt;IShellFolder&gt; pDF;\nSHGetDesktopFolder(&amp;pDF);LPITEMIDLIST pidlPrintersAndFaxes=0;\nhr=pDF-&gt;ParseDisplayName(0, 0, L\"::{20D04FE0-3AEA-1069-A2D8-08002B30309D}\\\\::{21EC2020-3AEA-1069-A2DD-08002B30309D}\\\\::{2227A280-3AEA-1069-A2DE-08002B30309D}\", 0, &amp;pidlPrintersAndFaxes, NULL);CComPtr&lt;IShellFolder&gt; pSF;\nhr=pDF-&gt;BindToObject(pidlPrintersAndFaxes, 0, IID_IShellFolder, (void**)&amp;pSF);LPITEMIDLIST pidlPrinter=0;\nhr=pSF-&gt;ParseDisplayName(0, 0, L\"PDFCreator\", 0, &amp;pidlPrinter, NULL);CComPtr&lt;IContextMenu&gt; pPrinterCtxMenu;\nhr=pSF-&gt;GetUIObjectOf(0, 1, (LPCITEMIDLIST*)&amp;pidlPrinter, IID_IContextMenu, 0, (void**)&amp;pPrinterCtxMenu);CMINVOKECOMMANDINFO cmd={0};\ncmd.cbSize=sizeof(CMINVOKECOMMANDINFO);\ncmd.lpVerb=MAKEINTRESOURCE(0);\ncmd.nShow=SW_SHOWNORMAL;\nhr=pPrinterCtxMenu-&gt;InvokeCommand(&amp;cmd);\n</code>Whatever I try InvokeCommand on the last line always return E_INVALIDARG. I tried it with ShellExecuteEx and got the same error.I tried every possible verbs.I tried to enumerate the verbs and got E_INVALIDARG.I can't make it work but on normal filesystem path like \"c:\\\" and clsid on folders. What did I miss ?\n", "acce_score": "3323", "simquery1_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery1_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "simquery2_title": "In Python, when should I use a function instead of a method? The Zen of Python states that there should only be one way to do things- yet frequently I run into the problem of deciding when to use a function versus when to use a method.Let's take a trivial example- a ChessBoard object. Let's say we need some way to get all the legal King moves available on the board. Do we write ChessBoard.get_king_moves() or get_king_moves(chess_board)?Here are some related questions I looked at:Why does python use &#39;magic methods&#39;?Is there a reason Python strings don&#39;t have a string length method?The answers I got were largely inconclusive:  Why does Python use methods for some functionality (e.g. list.index()) but functions for other (e.g. len(list))?    The major reason is history. Functions were used for those operations that were generic for a group of types and which were  intended to work even for objects that didn\u2019t have methods at all  (e.g. tuples). It is also convenient to have a function that can  readily be applied to an amorphous collection of objects when you use  the functional features of Python (map(), apply() et al).    In fact, implementing len(), max(), min() as a built-in function is actually less code than implementing them as methods for each type.  One can quibble about individual cases but it\u2019s a part of Python, and  it\u2019s too late to make such fundamental changes now. The functions have  to remain to avoid massive code breakage.While interesting, the above doesn't really say much as to what strategy to adopt.  This is one of the reasons - with custom methods, developers would be  free to choose a different method name, like getLength(), length(),  getlength() or whatsoever. Python enforces strict naming so that the  common function len() can be used.Slightly more interesting. My take is that functions are in a sense, the Pythonic version of interfaces.Lastly, from Guido himself:      Talking about the Abilities/Interfaces made me think about some of our    \"rogue\" special method names.  In the Language Reference, it says, \"A    class can implement certain operations that are invoked by special    syntax (such as arithmetic operations or subscripting and slicing) by    defining methods with special names.\"  But there are all these methods    with special names like <code>__len__</code> or <code>__unicode__</code> which seem to be    provided for the benefit of built-in functions, rather than for    support of syntax.  Presumably in an interface-based Python, these    methods would turn into regularly-named methods on an ABC, so that    <code>__len__</code> would become<code>class container:  ...  def len(self):    raise NotImplemented</code>        Though, thinking about it some more, I don't see why all syntactic    operations wouldn't just invoke the appropriate normally-named method    on a specific ABC.  \"<code>&lt;</code>\", for instance, would presumably invoke    \"<code>object.lessthan</code>\" (or perhaps \"<code>comparable.lessthan</code>\").  So another    benefit would be the ability to wean Python away from this    mangled-name oddness, which seems to me an HCI improvement.      Hm. I'm not sure I agree (figure that :-).    There are two bits of \"Python rationale\" that I'd like to explain  first.    First of all, I chose len(x) over x.len() for HCI reasons (<code>def  __len__()</code> came much later). There are two intertwined reasons actually, both HCI:    (a) For some operations, prefix notation just reads better than  postfix -- prefix (and infix!) operations have a long tradition in  mathematics which likes notations where the visuals help the  mathematician thinking about a problem. Compare the easy with which we  rewrite a formula like <code>x*(a+b)</code> into <code>x*a + x*b</code> to the clumsiness of  doing the same thing using a raw OO notation.    (b) When I read code that says <code>len(x)</code> I know that it is asking for  the length of something. This tells me two things: the result is an  integer, and the argument is some kind of container. To the contrary,  when I read <code>x.len()</code>, I have to already know that <code>x</code> is some kind of  container implementing an interface or inheriting from a class that  has a standard <code>len()</code>. Witness the confusion we occasionally have when  a class that is not implementing a mapping has a <code>get()</code> or <code>keys()</code>  method, or something that isn't a file has a <code>write()</code> method.    Saying the same thing in another way, I see 'len' as a built-in  operation. I'd hate to lose that. I can't say for sure whether you meant that or not, but 'def len(self): ...' certainly sounds like you  want to demote it to an ordinary method. I'm strongly -1 on that.    The second bit of Python rationale I promised to explain is the reason  why I chose special methods to look <code>__special__</code> and not merely  <code>special</code>. I was anticipating lots of operations that classes might want  to override, some standard (e.g. <code>__add__</code> or <code>__getitem__</code>), some not so  standard (e.g. pickle's <code>__reduce__</code> for a long time had no support in C  code at all). I didn't want these special operations to use ordinary  method names, because then pre-existing classes, or classes written by  users without an encyclopedic memory for all the special methods,  would be liable to accidentally define operations they didn't mean to  implement, with possibly disastrous consequences. Ivan Krsti\u0107  explained this more concise in his message, which arrived after I'd  written all this up.    --   --Guido van Rossum (home page: http://www.python.org/~guido/)My understanding of this is that in certain cases, prefix notation just makes more sense (ie, Duck.quack makes more sense than quack(Duck) from a linguistic standpoint.) and again, the functions allow for \"interfaces\".In such a case, my guess would be to implement get_king_moves based solely on Guido's first point. But that still leaves a lot of open questions regarding say, implementing a stack and queue class with similar push and pop methods- should they be functions or methods? (here I would guess functions, because I really want to signal a push-pop interface)TLDR: Can someone explain what the strategy for deciding when to use functions vs. methods should be?", "simquery2_answer": "on first look..<code>int head_win ()\n    {\n    int heads=0;\n    heads++;\n    return heads;\n    }\n    int tails_win ()\n    {\n    int tails=0;\n    tails++;\n    return tails;\n    }\n</code>head_win() will return always 1 and tails_win() too..<code>int head_win();       this doesn t mean nothing..\n</code>you have to declare a variable :<code>int wins = head_win();\n</code>\n", "total_len": 1161, "s1_total_len": 1038, "s2_total_len": 1746}
{"post_id": "1155617", "title": "Count the number of occurrences of a character in a string", "query": "How do I count the number of occurrences of a character in a string?e.g. <code>'a'</code> appears in <code>'Mary had a little lamb'</code> 4 times.", "acce_answer": "How can I find out what the image name (usually file name?) loaded into a UIImage instance is?  In this case, they were all <code>initWithContentsOfFile:</code>.\n", "acce_score": "1253", "simquery1_title": "Counting repeated characters in a string in Python I want to count the number of times each character is repeated in a string. Is there any particular way to do it apart from comparing each character of the string from A-Zand incrementing a counter?Update (in reference to Anthony's answer): Whatever you have suggested till now I have to write 26 times. Is there an easier way?", "simquery1_answer": "This does the trick:<code>function secondstotime(secs)\n{\n    var t = new Date(1970,0,1);\n    t.setSeconds(secs);\n    var s = t.toTimeString().substr(0,8);\n    if(secs &gt; 86399)\n        s = Math.floor((t - Date.parse(\"1/1/70\")) / 3600000) + s.substr(2);\n    return s;\n}\n</code>(Sourced from here)\n", "simquery2_title": "What is a good way to do countif in Python I want to count how many members of an iterable meet a given condition. I'd like to do it in a way that is clear and simple and preferably reasonably optimal.My current best ideas are:<code>sum(meets_condition(x) for x in my_list)</code>and<code>len([x for x in my_list if meets_condition(x)])</code>The first one being iterator based is presumably faster for big lists. And it's the same form as you'd use for testing any and all. However it depends on the fact that int(True) == 1, which is somewhat ugly.The second one seems easier to read to me, but it is different from the any and all forms.Does anyone have any better suggestions? is there a library function somewhere that I am missing?", "simquery2_answer": "I'm trying to copy the Google image search from this page. Here is my code:<code>&lt;script type=\"text/javascript\"&gt;\n    &lt;% if @note.text == \"\" %&gt;\n        google.load(\"search\", \"1\",{\"callback\":searchCallback()});\n    &lt;% else %&gt;\n        google.load(\"visualization\", \"1\",{\"callback\":dummyFunction});\n    &lt;% end %&gt;    function se() {\n        var sFormDiv = document.getElementById(\"searchForm\");\n        var leftScDiv = document.getElementById(\"leftSearchControl\");        this.leftControl = new google.search.SearchControl();\n        this.searchForm = new google.search.SearchForm(true, sFormDiv);        this.searchForm.setOnSubmitCallback(this, se.prototype.onSubmit);\n        this.searchForm.setOnClearCallback(this, se.prototype.onClear);        this.leftControl.setResultSetSize(GSearch.LARGE_RESULTSET);        var searcher;\n        var options;        this.leftControl.addSearcher(new google.search.ImageSearch());        var drawOptions = new google.search.DrawOptions();\n        drawOptions.setDrawMode(GSearchControl.DRAW_MODE_TABBED);        this.leftControl.setNoResultsString(GSearchControl.NO_RESULTS_DEFAULT_STRING);        this.leftControl.draw(leftScDiv);        this.searchForm.execute(\"Ferrari\");    }    // when the form fires a submit, grab its\n    // value and call the left and right control\n    se.prototype.onSubmit = function(form) {\n      var q = form.input.value;\n      if (q &amp;&amp; q!= \"\") {\n        this.leftControl.execute(q);\n      }\n      return false;\n    }    // when the form fires a clear, call the left and right control\n    se.prototype.onClear = function(form) {\n      this.leftControl.clearAllResults();\n      form.input.value = \"\";\n      return false;\n    }    function searchCallback(){\n        new se();\n    }    function dummyFunction() {\n    }&lt;/script&gt;\n</code>When I run it, I get this error:<code>google.search is undefined\nthis.leftControl = new google.search.SearchControl(); \n</code>How can this be, if I'm getting to that line by way of the callback that is run when the search API is loaded? Thanks for reading.\n", "total_len": 110, "s1_total_len": 222, "s2_total_len": 798}
{"post_id": "1175208", "title": "Elegant Python function to convert CamelCase to snake_case?", "query": "Example:<code>&gt;&gt;&gt; convert('CamelCase')'camel_case'</code>", "acce_answer": "I think from a code readability point of view, your best bet is to write a recursive function. A recursive function is one that calls itself, till it reaches a point where it does not need to call any other function.To illustrate, the factorial of n, written as n! and defined to be the quantity 1 x 2 x 3 x ... x n (where n is a positive integer) can be quite easily defined in a recursive manner, as follows.<code>public int factorial(int n)\n{\n    if (n &lt; 0)\n    {\n        throw new Exception(\"A factorial cannot be calculated for negative integers.\");\n    }    if (n == 0 || n == 1)\n    {\n        // end condition, where we do not need to make a recursive call anymore\n        return 1;\n    }\n    else\n    {\n        // recursive call\n        return n * factorial(n - 1);\n    }\n}\n</code>NB: 0! and 1! are defined to be 1.Likewise, a method to enumerate all files and folder under a given path can also be defined recursively. This is because files and folders have a recursive structure.Therefore a method such as follows, would work:<code>public static List&lt;FileSystemInfo&gt; GetAllFilesAndFolders(string folder)\n{\n    // NOTE : We are performing some basic sanity checking\n    // on the method's formal parameters here\n    if (string.IsNullOrEmpty(folder))\n    {\n        throw new ArgumentException(\"An empty string is not a valid path.\", \"folder\");\n    }\n    if (!Directory.Exists(folder))\n    {\n        throw new ArgumentException(\"The string must be an existing path.\", \"folder\");\n    }    List&lt;FileSystemInfo&gt; fileSystemInfos = new List&lt;FileSystemInfo&gt;();    try\n    {\n        foreach (string filePath in Directory.GetFiles(folder, \"*.*\"))\n        {\n            // NOTE : We will add a FileSystemInfo object for each file found\n            fileSystemInfos.Add(new FileInfo(filePath));\n        }\n    }\n    catch\n    {\n        // NOTE : We are swallowing all exceptions here\n        // Ideally they should be surfaced, and at least logged somewhere\n        // Most of these will be security/permissions related, i.e.,\n        // the Directory.GetFiles method will throw an exception if it\n        // does not have security privileges to enumerate files in a folder.\n    }\n    try\n    {\n        foreach (string folderPath in Directory.GetDirectories(folder, \"*\"))\n        {\n            // NOTE : We will add a FileSystemInfo object for each directory found\n            fileSystemInfos.Add(new DirectoryInfo(folderPath));            // NOTE : We will also add all FileSystemInfo objects found under\n            // each directory we find\n            fileSystemInfos.AddRange(GetAllFilesAndFolders(folderPath));\n        }\n    }\n    catch\n    {\n        // NOTE : We are swallowing all exceptions here\n        // Ideally they should be surfaced, and at least logged somewhere\n        // Most of these will be security/permissions related, i.e.,\n        // the Directory.GetDirectories method will throw an exception if it\n        // does not have security privileges to enumerate files in a folder.\n    }    return fileSystemInfos;\n}\n</code>One thing to note is that this method will \"walk\" the entire directory structure underneath the folder and will NOT return until it has \"walked\" the entire heirarchy. Therefore, it might take a long time to return, if there are many objects to be found.Another thing to note is that the readability of this method can be further improved by using Lambda expressions and extention methods.NB: The trouble with using Directory.GetFiles and Directory.GetDirectories to recurse sub-folders is that if there are any exceptions thrown (e.g., related to security permissions) the method will return nothing, whereas recursing manually allows one to handle those exceptions and still get a set of files back.\n", "acce_score": "332", "simquery1_title": "lower() vs. casefold() in string matching and converting to lowercase How do I do a case-insensitive string comparison?From what I understood from Google and the link above that both functions: <code>lower()</code> and <code>casefold()</code> will convert the string to lowercase, but <code>casefold()</code> will convert even the caseless letters such as the <code>\u00df</code> in German to <code>ss</code>.All of that about Greek letters, but my question in general:are there any other differences?which one is better to convert to lowercase?which one is better to check the matching strings?Part 2:<code>firstString = &quot;der Flu\u00df&quot;secondString = &quot;der Fluss&quot;# \u00df is equivalent to ssif firstString.casefold() == secondString.casefold():    print('The strings are equal.')else:    print('The strings are not equal.')</code>In the example above should I use:<code>lower() # the result is not equal which make sense to me</code>Or:<code>casefold() # which \u00df is ss and result is the        # strings are equal. (since I am a beginner that still does not        # make sense to me. I see different strings).</code>", "simquery1_answer": "Since you are focused on Spanish, use a Spanish collation, not a generic one:  <code>utf8_spanish_ci</code> and <code>utf8_spanish2_ci</code>.  They treat <code>\u00f1</code> as a separate letter between <code>n</code> and <code>o</code>.  Other collations treat <code>\u00f1</code> and <code>n</code> as the same.Meanwhile, <code>\u00e7=c</code>.However <code>ll</code> is treated as two <code>l</code> by utf8_spanish_ci, while it is treated as coming after <code>lz</code> by utf8_spanish2_ci.  (Something about dictionary versus phonebook -- remember those artifacts from ancient history?)Ref: http://mysql.rjweb.org/utf8_collations.htmlOnce you upgrade to 8.0, there will be two more choices:  <code>utf8mb4_es_0900_ai_ci</code> and <code>utf8mb4_es_trad_0900_ai_ci</code>.Ref: http://mysql.rjweb.org/utf8mb4_collations.html\n", "simquery2_title": "Replace all quotes in a string with escaped quotes? Given a string in python, such as:<code>s = 'This sentence has some \"quotes\" in it\\n'</code>I want to create a new copy of that string with any quotes escaped (for further use in Javascript). So, for example, what I want is to produce this:<code>'This sentence has some \\\"quotes\\\" in it\\n'</code>I tried using <code>replace()</code>, such as:<code>s.replace('\"', '\\\"')</code>but that returns the same string. So then I tried this:<code>s.replace('\"', '\\\\\"')</code>but that returns double-escaped quotes, such as:<code>'This sentence has some \\\\\"quotes\\\\\" in it.\\n'</code>How to replace <code>\"</code> with <code>\\\"</code>?UPDATE:I need as output from this copyable text that shows both the quotes and the newlines as escaped.  In other words, I want to be able to copy:<code>'This sentence has some \\\"quotes\\\" in it.\\n'</code>If I use the raw string and <code>print</code> the result I get the correctly escaped quote, but the escaped newline doesn't print. If I don't use <code>print</code> then I get my newlines but double-escaped quotes. How can I create a string I can copy that shows both newline and quote escaped?", "simquery2_answer": "Hi I want share text in LinkedIn through my app. My code is below here...This method when I click the btn linkedIn share..<code> - (void)linkedBtnEvent\n    {\n    if(oAuthLoginView != nil) {        oAuthLoginView.delegate = nil;\n        oAuthLoginView = nil;\n    }    oAuthLoginView = [[OAuthLoginView alloc] initWithNibName:nil bundle:nil];\n    oAuthLoginView.delegate=self;    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(loginViewDidFinish:)\n                                                 name:@\"loginViewDidFinish\"\n                                               object:self.oAuthLoginView];    [self presentViewController:self.oAuthLoginView animated:YES completion:nil];\n}\n</code>This are the method to handle share after login..<code>-(void) loginViewDidFinish:(NSNotification*)notification\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self];    [self profileApiCall];\n}- (void)profileApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(profileApiCallResult:didFinish:)\n                  didFailSelector:@selector(profileApiCallResult:didFail:)];    }- (void)profileApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    NSString *responseBody = [[NSString alloc] initWithData:data\n                                                   encoding:NSUTF8StringEncoding];    NSDictionary *profile = [responseBody objectFromJSONString];    if ( profile )\n    {\n        NSLog(@\"%@\", [[NSString alloc] initWithFormat:@\"%@ %@\",\n                      [profile objectForKey:@\"firstName\"], [profile objectForKey:@\"lastName\"]]);\n    }    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)profileApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)networkApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/network/updates?scope=self&amp;count=1&amp;type=STAT\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(networkApiCallResult:didFinish:)\n                  didFailSelector:@selector(networkApiCallResult:didFail:)];    }- (void)networkApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    if (isSharedLinked)\n    {\n        NSLog(@\"Shared Successfully\");\n        linkedBtn.enabled = NO;\n    }\n    else\n    {\n        isSharedLinked = YES;\n        [self performSelector:@selector(postTextLinkedIn) withObject:nil afterDelay:1];\n    }\n}- (void)networkApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)postTextLinkedIn\n{    \n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/shares\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            [[NSDictionary alloc] \n                             initWithObjectsAndKeys:\n                             @\"anyone\",@\"code\",nil], @\"visibility\", \n                            @\"Wow its working... Share the text in Linked In\", @\"comment\", nil];    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    NSString *updateString = [update JSONString];    [request setHTTPBodyWithString:updateString];\n    [request setHTTPMethod:@\"POST\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)\n                  didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    \n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}\n</code>It shows no error it always haow it share successfully in LinkedIn but no text share in that.. \nPlease help me to fix this issue... I cant figure what mistake I done..\n", "total_len": 999, "s1_total_len": 587, "s2_total_len": 1760}
{"post_id": "1185524", "title": "How do I trim whitespace?", "query": "Is there a Python function that will trim whitespace (spaces and tabs) from a string?So that given input <code>&quot;  \\t example string\\t  &quot;</code> becomes <code>&quot;example string&quot;</code>.", "acce_answer": "Anyone that can help me out will be very much appreciated. I seem to have got myself into a bit of a kerfuffle.I'm trying to assign response data - retrieved from an AJAX request using the jquery.autocomplete plugin - to an input element. I can get the response data back fine, but when I try and insert it into the 'value' attribute, nothing happens!<code>$('#btnPopulate').click(function() {\nif ($('#list_length').val() != '') {\n    var length = $('#list_length').val();\n    var row='';\n    for (var i=0; i &lt;= length; i++) {\n        row=\"&lt;tr&gt;&lt;td&gt;\"+i+\"&lt;/td&gt;&lt;td&gt;&lt;input name='data[CompanyRanking][\"+i+\n         \"][company_id]' id='CompanyRanking\"+i+\n         \"CompanyId' value='1'&gt;&lt;/td&gt;&lt;input type='hidden' name='data[CompanyRanking][\"+i+\n         \"][ranking]' id='CompanyRanking\"+i+\"Ranking' value='\"+i+\"'&gt;&lt;/tr&gt;\";\n        $('#ranking_table').append(row);\n        $(\"CompanyRanking\"+i+\"CompanyId\").autocomplete({ \n            serviceUrl:'/backend/companies/search',\n            minChars:2, \n            delimiter: null, // regex or character\n            maxHeight:400,\n            width:300,\n            deferRequestBy: 50, //miliseconds\n            // callback function:\n            onSelect: function(value, data){ \n                alert('You selected: ' + value + ', ' + data); \n                                $('#CompanyRanking'+i+'CompanyId').val(data);\n                alert('val: '+\n                             $('#CompanyRanking'+i+\n                             'CompanyId').val() + 'object?: '+\n                             $('#CompanyRanking'+i+'CompanyId'));\n               }\n        });\n            };\n    //$('#btnPopulate').ac;\n    } else {\n    alert('You must first specify how many companies are in the list.');\n};\n    return false;\n});\n</code>\n", "acce_score": "1201", "simquery1_title": "Remove the first character of a string I would like to remove the first character of a string.For example, my string starts with a <code>:</code> and I want to remove that only. There are several occurrences of <code>:</code> in the string that shouldn't be removed.I am writing my code in Python.", "simquery1_answer": "Because your function isn't doing anything inside the while block, it grabs the CPU, and, for all practical purposes, never lets go of it, so other threads can do their work<code>private void checkingData()\n{\n    while (true)\n    {\n        // executes, immediately\n    }\n}\n</code>If you change it to the following, you should see more reasonable CPU consumption:<code>private void checkingData()\n{\n    while (true)\n    {\n        // read your sensor data         Thread.Sleep(1000);\n    }\n}\n</code>\n", "simquery2_title": "Replace all quotes in a string with escaped quotes? Given a string in python, such as:<code>s = 'This sentence has some \"quotes\" in it\\n'</code>I want to create a new copy of that string with any quotes escaped (for further use in Javascript). So, for example, what I want is to produce this:<code>'This sentence has some \\\"quotes\\\" in it\\n'</code>I tried using <code>replace()</code>, such as:<code>s.replace('\"', '\\\"')</code>but that returns the same string. So then I tried this:<code>s.replace('\"', '\\\\\"')</code>but that returns double-escaped quotes, such as:<code>'This sentence has some \\\\\"quotes\\\\\" in it.\\n'</code>How to replace <code>\"</code> with <code>\\\"</code>?UPDATE:I need as output from this copyable text that shows both the quotes and the newlines as escaped.  In other words, I want to be able to copy:<code>'This sentence has some \\\"quotes\\\" in it.\\n'</code>If I use the raw string and <code>print</code> the result I get the correctly escaped quote, but the escaped newline doesn't print. If I don't use <code>print</code> then I get my newlines but double-escaped quotes. How can I create a string I can copy that shows both newline and quote escaped?", "simquery2_answer": "Hi I want share text in LinkedIn through my app. My code is below here...This method when I click the btn linkedIn share..<code> - (void)linkedBtnEvent\n    {\n    if(oAuthLoginView != nil) {        oAuthLoginView.delegate = nil;\n        oAuthLoginView = nil;\n    }    oAuthLoginView = [[OAuthLoginView alloc] initWithNibName:nil bundle:nil];\n    oAuthLoginView.delegate=self;    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(loginViewDidFinish:)\n                                                 name:@\"loginViewDidFinish\"\n                                               object:self.oAuthLoginView];    [self presentViewController:self.oAuthLoginView animated:YES completion:nil];\n}\n</code>This are the method to handle share after login..<code>-(void) loginViewDidFinish:(NSNotification*)notification\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self];    [self profileApiCall];\n}- (void)profileApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(profileApiCallResult:didFinish:)\n                  didFailSelector:@selector(profileApiCallResult:didFail:)];    }- (void)profileApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    NSString *responseBody = [[NSString alloc] initWithData:data\n                                                   encoding:NSUTF8StringEncoding];    NSDictionary *profile = [responseBody objectFromJSONString];    if ( profile )\n    {\n        NSLog(@\"%@\", [[NSString alloc] initWithFormat:@\"%@ %@\",\n                      [profile objectForKey:@\"firstName\"], [profile objectForKey:@\"lastName\"]]);\n    }    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)profileApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)networkApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/network/updates?scope=self&amp;count=1&amp;type=STAT\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(networkApiCallResult:didFinish:)\n                  didFailSelector:@selector(networkApiCallResult:didFail:)];    }- (void)networkApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    if (isSharedLinked)\n    {\n        NSLog(@\"Shared Successfully\");\n        linkedBtn.enabled = NO;\n    }\n    else\n    {\n        isSharedLinked = YES;\n        [self performSelector:@selector(postTextLinkedIn) withObject:nil afterDelay:1];\n    }\n}- (void)networkApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)postTextLinkedIn\n{    \n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/shares\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            [[NSDictionary alloc] \n                             initWithObjectsAndKeys:\n                             @\"anyone\",@\"code\",nil], @\"visibility\", \n                            @\"Wow its working... Share the text in Linked In\", @\"comment\", nil];    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    NSString *updateString = [update JSONString];    [request setHTTPBodyWithString:updateString];\n    [request setHTTPMethod:@\"POST\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)\n                  didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    \n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}\n</code>It shows no error it always haow it share successfully in LinkedIn but no text share in that.. \nPlease help me to fix this issue... I cant figure what mistake I done..\n", "total_len": 605, "s1_total_len": 211, "s2_total_len": 1760}
{"post_id": "1207406", "title": "How to remove items from a list while iterating?", "query": "I'm iterating over a list of tuples in Python, and am attempting to remove them if they meet certain criteria. <code>for tup in somelist:    if determine(tup):         code_to_remove_tup</code>What should I use in place of <code>code_to_remove_tup</code>? I can't figure out how to remove the item in this fashion.", "acce_answer": "When you run the tnameserv you'll have to kill it via the kill command (linux,unix) or Ctrl+C (windows)If on linux/unix, this should do the trick:<code>killall tnameserv\n</code>see http://java.sun.com/j2se/1.4.2/docs/guide/idl/tnameserv.html#stoppingnameserverEdit:If you want to issue the killall command from withing java use:<code>runtime.exec(\"killall tnameserv\");\n</code>see http://java.sun.com/javase/6/docs/api/java/lang/Runtime.htmlThoughts:It seems odd to have started the tnameserv from outside of our program, and then try to kill it from within.  (permission issues, other users using the nameserv, etc, etc.)  Depending on your needs, why not start the tnameserv from within you app? \n", "acce_score": "932", "simquery1_title": "Delete a dictionary item if the key exists Is there any other way to delete an item in a dictionary only if the given key exists, other than:<code>if key in mydict:    del mydict[key]</code>The scenario is that I'm given a collection of keys to be removed from a given dictionary, but I am not certain if all of them exist in the dictionary. Just in case I miss a more efficient solution.", "simquery1_answer": "I have a fairly simple question about the code organization of rails controllers:If we have an app store platform (i.e. Google Play) which consists of Developers (They create/upload the apps), Admins (Review and approve the apps) and Users (Who consume the apps via the store).The developers do everything through the developers platform, so it would make sense to have a developers namespace to group related items. The same logic would seem to make sense for the admin, give them an admin panel under an admin namespace.Now here's the question - I have two namespaces, <code>Admin</code> and <code>Developer</code> - if, a developer can change an app's state from :draft to :pending (for review) and the admin can change the state from pending to :approved/:rejected, where is the recommended place to store apps_controller.rb?There seems to be three ways to handle this and I'm not quite sure which is the most 'correct', either for practical reasons or conventional reasons.The three options I can think of are:1) In both the <code>Admin</code> &amp; <code>Developer</code> namespace (and populate the store from developer::apps)?2) Only in the <code>Developers</code> namespace3) The apps_controller should not live in either namespace.\n", "simquery2_title": "How to remove items from a list while iterating? I'm iterating over a list of tuples in Python, and am attempting to remove them if they meet certain criteria. <code>for tup in somelist:    if determine(tup):         code_to_remove_tup</code>What should I use in place of <code>code_to_remove_tup</code>? I can't figure out how to remove the item in this fashion.", "simquery2_answer": "When you run the tnameserv you'll have to kill it via the kill command (linux,unix) or Ctrl+C (windows)If on linux/unix, this should do the trick:<code>killall tnameserv\n</code>see http://java.sun.com/j2se/1.4.2/docs/guide/idl/tnameserv.html#stoppingnameserverEdit:If you want to issue the killall command from withing java use:<code>runtime.exec(\"killall tnameserv\");\n</code>see http://java.sun.com/javase/6/docs/api/java/lang/Runtime.htmlThoughts:It seems odd to have started the tnameserv from outside of our program, and then try to kill it from within.  (permission issues, other users using the nameserv, etc, etc.)  Depending on your needs, why not start the tnameserv from within you app? \n", "total_len": 325, "s1_total_len": 394, "s2_total_len": 323}
{"post_id": "1233448", "title": "No Multiline Lambda in Python: Why not?", "query": "I've heard it said that multiline lambdas can't be added in Python because they would clash syntactically with the other syntax constructs in Python.  I was thinking about this on the bus today and realized I couldn't think of a single Python construct that multiline lambdas clash with.  Given that I know the language pretty well, this surprised me.Now, I'm sure Guido had a reason for not including multiline lambdas in the language, but out of curiosity: what's a situation where including a multiline lambda would be ambiguous?  Is what I've heard true, or is there some other reason that Python doesn't allow multiline lambdas?", "acce_answer": "In C++ is it possible to define conversion operators which are not class members? I know how to do that for regular operators (such as +), but not for conversion operators.Here is my use case: I work with a C Library which hands me out a <code>PA_Unichar *</code>, where the library defines PA_Unichar to be a 16-bit int. It is actually a string coded in UTF-16. I want to convert it to a <code>std::string</code> coded in UTF-8. I have all the conversion code ready and working, and I am only missing the syntactic sugar that would allow me to write:<code>PA_Unichar *libOutput = theLibraryFunction();\nstd::string myString = libOutput;\n</code>(usually in one line without the temp variable).Also worth noting:\nI know that <code>std::string</code> doesn't define implicit conversion from <code>char*</code> and I know why. The same reason might apply here, but that's beside the point.\nI do have a <code>ustring</code>, subclass of <code>std::string</code> that defines the right conversion operator from <code>PA_Unichar*</code>. It works but this means using <code>ustring</code> variables instead of <code>std::string</code> and that then requires conversion to <code>std::string</code> when I use those strings with other libraries. So that doesn't help very much.\nUsing an assignment operator doesn't work as those must be class members.\nSo is it possible to define implicit conversion operators between two types you don't control (in my case <code>PA_Unichar*</code> and <code>std::string</code>), which may or may not be class types?If not what could be workarounds?\n", "acce_score": "475", "simquery1_title": "No Multiline Lambda in Python: Why not? I've heard it said that multiline lambdas can't be added in Python because they would clash syntactically with the other syntax constructs in Python.  I was thinking about this on the bus today and realized I couldn't think of a single Python construct that multiline lambdas clash with.  Given that I know the language pretty well, this surprised me.Now, I'm sure Guido had a reason for not including multiline lambdas in the language, but out of curiosity: what's a situation where including a multiline lambda would be ambiguous?  Is what I've heard true, or is there some other reason that Python doesn't allow multiline lambdas?", "simquery1_answer": "In C++ is it possible to define conversion operators which are not class members? I know how to do that for regular operators (such as +), but not for conversion operators.Here is my use case: I work with a C Library which hands me out a <code>PA_Unichar *</code>, where the library defines PA_Unichar to be a 16-bit int. It is actually a string coded in UTF-16. I want to convert it to a <code>std::string</code> coded in UTF-8. I have all the conversion code ready and working, and I am only missing the syntactic sugar that would allow me to write:<code>PA_Unichar *libOutput = theLibraryFunction();\nstd::string myString = libOutput;\n</code>(usually in one line without the temp variable).Also worth noting:\nI know that <code>std::string</code> doesn't define implicit conversion from <code>char*</code> and I know why. The same reason might apply here, but that's beside the point.\nI do have a <code>ustring</code>, subclass of <code>std::string</code> that defines the right conversion operator from <code>PA_Unichar*</code>. It works but this means using <code>ustring</code> variables instead of <code>std::string</code> and that then requires conversion to <code>std::string</code> when I use those strings with other libraries. So that doesn't help very much.\nUsing an assignment operator doesn't work as those must be class members.\nSo is it possible to define implicit conversion operators between two types you don't control (in my case <code>PA_Unichar*</code> and <code>std::string</code>), which may or may not be class types?If not what could be workarounds?\n", "simquery2_title": "What kinds of patterns could I enforce on the code to make it easier to translate to another programming language? I am setting out to do a side project that has the goal of translating code from one programming language to another. The languages I am starting with are PHP and Python (Python to PHP should be easier to start with), but ideally I would be able to add other languages with (relative) ease. The plan is:This is geared towards web development. The original and target code will be be sitting on top of frameworks (which I will also have to write). These frameworks will embrace an MVC design pattern and follow strict coding conventions. This should make translation somewhat easier.I am also looking at IOC and dependency injection, as they might make the translation process easier and less error prone.I'll make use of Python's parser module, which lets me fiddle with the Abstract Syntax Tree. Apparently the closest I can get with PHP is token_get_all(), which is a start.From then on I can build the AST, symbol tables and control flow.Then I believe I can start outputting code. I don't need a perfect translation. I'll still have to review the generated code and fix problems. Ideally the translator should flag problematic translations.Before you ask &quot;What the hell is the point of this?&quot; The answer is... It'll be an interesting learning experience. If you have any insights on how to make this less daunting, please let me know.EDIT:I am more interested in knowing what kinds of patterns I could enforce on the code to make it easier to translate (ie: IoC, SOA ?) the code than how to do the translation.", "simquery2_answer": "Because of the quotes.<code>$(\"a[href='#']\").click(function(){\n  alert(\"test\");\n  return false;\n});\n</code>\n", "total_len": 599, "s1_total_len": 597, "s2_total_len": 408}
{"post_id": "1267869", "title": "How can I force division to be floating point? Division keeps rounding down to 0?", "query": "I have two integer values <code>a</code> and <code>b</code>, but I need their ratio in floating point.  I know that <code>a &lt; b</code> and I want to calculate <code>a / b</code>, so if I use integer division I'll always get 0 with a remainder of <code>a</code>.How can I force <code>c</code> to be a floating point number in Python 2 in the following?<code>c = a / b</code>In 3.x, the behaviour is reversed; see Why does integer division yield a float instead of another integer? for the opposite, 3.x-specific problem.", "acce_answer": "<code>Socket s = /* go get your socket to the server */\nInputStream is = new FileInputStream(\"foo.txt\");\nOutputStream os = s.getOutputStream();\nbyte[] buf = new byte[4096];\nfor(int len=-1;(len=is.read(buf))!=-1;) os.write(buf,0,len);\nos.close();\nis.close();\n</code>Of course handle your Exceptions.\n", "acce_score": "782", "simquery1_title": "How can I force division to be floating point? Division keeps rounding down to 0? I have two integer values <code>a</code> and <code>b</code>, but I need their ratio in floating point.  I know that <code>a &lt; b</code> and I want to calculate <code>a / b</code>, so if I use integer division I'll always get 0 with a remainder of <code>a</code>.How can I force <code>c</code> to be a floating point number in Python 2 in the following?<code>c = a / b</code>In 3.x, the behaviour is reversed; see Why does integer division yield a float instead of another integer? for the opposite, 3.x-specific problem.", "simquery1_answer": "<code>Socket s = /* go get your socket to the server */\nInputStream is = new FileInputStream(\"foo.txt\");\nOutputStream os = s.getOutputStream();\nbyte[] buf = new byte[4096];\nfor(int len=-1;(len=is.read(buf))!=-1;) os.write(buf,0,len);\nos.close();\nis.close();\n</code>Of course handle your Exceptions.\n", "simquery2_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery2_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "total_len": 283, "s1_total_len": 281, "s2_total_len": 218}
{"post_id": "1301346", "title": "What is the meaning of single and double underscore before an object name?", "query": "What do single and double leading underscores before an object's name represent in Python?", "acce_answer": "only way so that django reverse is replaced by ur_reverse is<code>django.core.urlresolvers.reverse = ur_reverse\n</code>or if you like decorator syntactic sugar<code>django.core.urlresolvers.reverse = ur_reverse_decorator(django.core.urlresolvers.reverse )\n</code>which i would not advice(and many will shout), unless you are not willing to change every usage of reverse with ur_reverse\n", "acce_score": "1766", "simquery1_title": "Underscore vs Double underscore with variables and methods Somebody was nice enough to explain to me that __method() mangles but instead of bothering him further since there are a lot of other people who need help I was wondering if somebody could elaborate the differences further.For example I don't need mangling but does _ stay private so somebody couldn't do instance._method()? Or does it just keep it from overwriting another variable by making it unique?  I don't need my internal methods \"hidden\" but since they are specific to use I don't want them being used outside of the class.", "simquery1_answer": "Your solution should work and if you want to keep it simple it seems to be a good approach.\nNote\nYou should load your assemblies in another domain because of the fact that, if you update your application, you gonna load the same types at the same namespaces. This gonna lead to conflicts. The other way is to restart your application.\nDependencies\nYou do not need to package all dependencies as a resource. Use a binary file which is downloaded, unpacked ( zip ) and contains all assemblies.\nTo do this you can use a simple approach( Pack / Unpack ):Write / Read ( client-side ) the name of the assembly\nWrite / Read the byte-size of the binary file as Int32\nWrite the bytes of the assembly into the file / Read the bytes of the assembly and write it to disk or a custom file system\nContinue this until each file is packed / unpackedWhen resolving the dependencies you could use something similarly to this sample: Assembly loaded using Assembly.LoadFrom() on remote machine causes SecurityException\nUpdates\nIts also possible to use this system to create update packages for each version update ( e.g. <code>1.0 -&gt; 1.5</code> or <code>1.3 -&gt; 1.5</code> ). This avoids a lot of traffic if you check the deprecated files first and create a package for each version update.\n", "simquery2_title": "What is __qualname__ in python? What is <code>__qualname__</code> in python and how is it useful?Why would I need to use it over <code>__name__</code>?I read the docs, but they didn't help me get a clear understanding on it's usefulness.I have read Get fully qualified name of a Python class (Python 3.3+).That question asks \"how to get a qualified name\", which presumes that one knows the meaning of \"qualified name\". Obviously, the answer to that question is to use the <code>__qualname__</code> attribute.My question asks what <code>__qualname__</code> is, and why should I use it over <code>__name__</code>.", "simquery2_answer": "I am trying to solve a metaclass conflict:\n<code>&gt;&gt;&gt; class A(B, C):\n...   pass\n...\nTypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases\n</code>\nIn order to do so, I want to set the metaclass of the class that I'm creating with the <code>type</code> builtin function. In a class statement I'd do it like this:\n<code>def merged(*parents):\n  return type(&quot;meta&quot;, tuple(type(p) for p in parents), {})class A(B, C, metaclass=merged(B, C)):\n  pass\n</code>\nFrom the docs:Keyword arguments provided to the three argument form are passed to the appropriate metaclass machinery (usually <code>__init_subclass__()</code>) in the same way that keywords in a class definition (besides metaclass) would.And indeed, the following still raises the same <code>TypeError</code>:\n<code>def merged(*parents)\nA = type(&quot;A&quot;, (B, C), {}, metaclass=merged(B, C))\n</code>\nHow then can I pass the metaclass?\n", "total_len": 144, "s1_total_len": 441, "s2_total_len": 489}
{"post_id": "1303347", "title": "Getting a map() to return a list in Python 3.x", "query": "I'm trying to map a list into hex, and then use the list elsewhere. In python 2.6, this was easy:A: Python 2.6:<code>&gt;&gt;&gt; map(chr, [66, 53, 0, 94])['B', '5', '\\x00', '^']</code>However, in Python 3.1, the above returns a map object.B: Python 3.1:<code>&gt;&gt;&gt; map(chr, [66, 53, 0, 94])&lt;map object at 0x00AF5570&gt;</code>How do I retrieve the mapped list (as in A above) on Python 3.x? Alternatively, is there a better way of doing this? My initial list object has around 45 items and id like to convert them to hex.", "acce_answer": "The first error I found is that <code>max</code> will always be exactly equal to <code>temp</code> because you assign them the same value, so this <code>if</code> will never be true:<code>max = int.Parse(myData);\ntemp = int.Parse(myData);if (temp &gt; max)\n</code>\n", "acce_score": "633", "simquery1_title": "Can't use unichr in Python 3.1 I've been looking through the Python Cookbook (2nd Edition) to learn how to process strings and characters.I wanted to try converting a number into its Unicode equivalent. So I tried using the built-in function called 'unichr', which, according to the Cookbook, goes something like:<code>&gt;&gt;&gt; print repr(unichr(8224))</code>... and will output:<code>u'\\u2020'</code>However, the code failed. I thought it had something to do with print (because Python 3 uses print() instead of print &quot;&quot;), but that didn't work out as well. I tried several variations to the code, and it still failed. At long last, I just typed a simple line:<code>unichr(10000)</code>To my surprise, this error message kept popping up, no matter what value I put into the above function:<code> NameError: name 'unichr' is not defined</code>What could be the problem? Is there some specific module that I'm supposed to import?", "simquery1_answer": "I'd guess that your <code>category</code> column is a list of category values like \"12,34,45,78\" ?This is not good relational database design.  One reason it's not good is as you've discovered: it's incredibly slow to search for a substring that might appear in the middle of that list.Some people have suggested using fulltext search instead of the <code>LIKE</code> predicate with wildcards, but in this case it's simpler to create another table so you can list one category value per row, with a reference back to your <code>cute_news</code> table:<code>CREATE TABLE cute_news_category (\n  news_id INT NOT NULL,\n  category INT NOT NULL,\n  PRIMARY KEY (news_id, category),\n  FOREIGN KEY (news_id) REFERENCES cute_news(news_id)\n) ENGINE=InnoDB;\n</code>Then you can query and it'll go a lot faster:<code>SELECT n.`date`, n.title, c.category, n.url, n.comments \nFROM cute_news n\nJOIN cute_news_category c ON (n.news_id = c.news_id)\nWHERE c.category = 45 \nORDER BY n.`date` DESC\n</code>\n", "simquery2_title": "Getting a map() to return a list in Python 3.x I'm trying to map a list into hex, and then use the list elsewhere. In python 2.6, this was easy:A: Python 2.6:<code>&gt;&gt;&gt; map(chr, [66, 53, 0, 94])['B', '5', '\\x00', '^']</code>However, in Python 3.1, the above returns a map object.B: Python 3.1:<code>&gt;&gt;&gt; map(chr, [66, 53, 0, 94])&lt;map object at 0x00AF5570&gt;</code>How do I retrieve the mapped list (as in A above) on Python 3.x? Alternatively, is there a better way of doing this? My initial list object has around 45 items and id like to convert them to hex.", "simquery2_answer": "The first error I found is that <code>max</code> will always be exactly equal to <code>temp</code> because you assign them the same value, so this <code>if</code> will never be true:<code>max = int.Parse(myData);\ntemp = int.Parse(myData);if (temp &gt; max)\n</code>\n", "total_len": 309, "s1_total_len": 578, "s2_total_len": 307}
{"post_id": "1319615", "title": "Proper way to declare custom exceptions in modern Python?", "query": "What's the proper way to declare custom exception classes in modern Python? My primary goal is to follow whatever standard other exception classes have, so that (for instance) any extra string I include in the exception is printed out by whatever tool caught the exception.By &quot;modern Python&quot; I mean something that will run in Python 2.5 but be 'correct' for the Python 2.6 and Python 3.* way of doing things. And by &quot;custom&quot; I mean an <code>Exception</code> object that can include extra data about the cause of the error: a string, maybe also some other arbitrary object relevant to the exception.I was tripped up by the following deprecation warning in Python 2.6.2:<code>&gt;&gt;&gt; class MyError(Exception):...     def __init__(self, message):...         self.message = message... &gt;&gt;&gt; MyError(&quot;foo&quot;)_sandbox.py:3: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6</code>It seems crazy that <code>BaseException</code> has a special meaning for attributes named <code>message</code>. I gather from PEP-352 that attribute did have a special meaning in 2.5 they're trying to deprecate away, so I guess that name (and that one alone) is now forbidden? Ugh.I'm also fuzzily aware that <code>Exception</code> has some magic parameter <code>args</code>, but I've never known how to use it. Nor am I sure it's the right way to do things going forward; a lot of the discussion I found online suggested they were trying to do away with args in Python 3.Update: two answers have suggested overriding <code>__init__</code>, and <code>__str__</code>/<code>__unicode__</code>/<code>__repr__</code>. That seems like a lot of typing, is it necessary?", "acce_answer": "The data binding framework is completely different between WinForms and WPF, so (in general), there isn't a \"best choice\" for the both of them. For WinForms, using the generic <code>BindingList&lt;T&gt;</code> will accomplish most of what you want (though it doesn't handle changes to individual items; you'll have to implement that yourself). For WPF, <code>ObservableCollection&lt;T&gt;</code> serves a similar purpose.\n", "acce_score": "1762", "simquery1_title": "Re-raise exception with a different type and message, preserving existing information I'm writing a module and want to have a unified exception hierarchy for the exceptions that it can raise (e.g. inheriting from a <code>FooError</code> abstract class for all the <code>foo</code> module's specific exceptions). This allows users of the module to catch those particular exceptions and handle them distinctly, if needed. But many of the exceptions raised from the module are raised because of some other exception; e.g. failing at some task because of an OSError on a file.What I need is to \u201cwrap\u201d the exception caught such that it has a different type and message, so that information is available further up the propagation hierarchy by whatever catches the exception. But I don't want to lose the existing type, message, and stack trace; that's all useful information for someone trying to debug the problem. A top-level exception handler is no good, since I'm trying to decorate the exception before it makes its way further up the propagation stack, and the top-level handler is too late.This is partly solved by deriving my module <code>foo</code>'s specific exception types from the existing type (e.g. <code>class FooPermissionError(OSError, FooError)</code>), but that doesn't make it any easier to wrap the existing exception instance in a new type, nor modify the message.Python's PEP 3134 \u201cException Chaining and Embedded Tracebacks\u201d discusses a change accepted in Python 3.0 for \u201cchaining\u201d exception objects, to indicate that a new exception was raised during the handling of an existing exception.What I'm trying to do is related: I need it also working in earlier Python versions, and I need it not for chaining, but only for polymorphism. What is the right way to do this?", "simquery1_answer": "Yes, this is generally the correct approach.A tip:  \nSet the callback for your button events, so that it actually does something when clicked.<code>[myButton addTarget:self action:@selector(whatMyButtonShouldDo:)   \n  forControlEvents:UIControlEventTouchUpInside];\n</code>\nEDIT: Adjusted code for using a system button, which renders a lot of what I had written uneccessary.\n", "simquery2_title": "How can I access the current executing module or class name in Python? I would like to be able to dynamically retrieve the current executing module or class name from within an imported module.  Here is some code:foo.py:<code>def f():    print __name__</code>bar.py:<code>from foo import fdef b(): f()</code>This obviously does not work as <code>__name__</code> is the name of the module that contains the function.  What I would like to be access inside the <code>foo</code> module is the name of the current executing module that is using <code>foo</code>.  So in the case above it would be <code>bar</code> but if any other module imported <code>foo</code> I would like <code>foo</code> to dynamically have access to the name of that module.Edit: The <code>inspect</code> module looks quite promising but it is not exactly what I was looking for.  What I was hoping for was some sort of global or environment-level variable that I could access that would contain the name of the current executing module.  Not that I am unwilling to traverse the stack to find that information - I just thought that Python may have exposed that data already.Edit: Here is how I am trying to use this.  I have two different Django applications that both need to log errors to file.  Lets say that they are called \"AppOne\" and \"AppTwo\".  I also have a place to which I would like to log these files: \"<code>/home/hare/app_logs</code>\".  In each application at any given point I would like to be able to import my logger module and call the log function which writes the log string to file.  However what I would like to do is create a directory under <code>app_logs</code> that is the name of the current application (\"AppOne\" or \"AppTwo\") so that each application's log files will go in their respective logging directories.In order to do this I thought that the best way would be for the logger module to have access to some sort of global variable that denotes the current application's name as it is responsible for knowing the location of the parent logging directory and creating the application's logging directory if it does not yet exist.", "simquery2_answer": "Broken pipe usually doesn't come deterministically. You get a Broken pipe if a write operation on a pipe or socket fails because the other end has closed the connection. So if your FastCGI gets a Broken pipe, it means that the webserver has closed to connection too early. In some cases this is not an problem, it can be ignored silently.As a quick hack, try to catch and ignore the <code>socket.error</code> with <code>Broken pipe</code>. You may have to add an <code>except:</code> clause to many more places.\n", "total_len": 574, "s1_total_len": 511, "s2_total_len": 635}
{"post_id": "1323410", "title": "Should I use 'has_key()' or 'in' on Python dicts?", "query": "Given:<code>&gt;&gt;&gt; d = {'a': 1, 'b': 2}</code>Which of the following is the best way to check if <code>'a'</code> is in <code>d</code>?<code>&gt;&gt;&gt; 'a' in dTrue</code><code>&gt;&gt;&gt; d.has_key('a')True</code>", "acce_answer": "This problem is driving me a bit crazy. The code seems to be segmentation faulting for no good reason:<code>#define MULT_FLOAT4(X, Y) ({ \\\n    asm volatile ( \\\n        \"movups (%0), %%xmm0\\n\\t\" \\\n        \"mulps (%1), %%xmm0\\n\\t\" \\\n        \"movups %%xmm0, (%1)\" \\\n        :: \"r\" (X), \"r\" (Y)); })int main(void)\n{\n    int before;\n    float a[4] = { 10, 20, 30, 40 };\n    float b[4] = { 0.1, 0.1, 0.1, 0.1 };    /* Segmentation faults if I uncomment this line below, otherwise works fine. Why?? */\n    int after;    MULT_FLOAT4(a, b);    return 0;\n}\n</code>Note that so long as I have defined both the 'before' and 'after' variables it segmentation faults. If I just have 'before' or just have 'after' then it works fine.I'm on Ubuntu Hardy (8.04), GCC version 4.2.4 (Ubuntu 4.2.4-1ubuntu4). Linux kernel: 2.6.24-16-generic.\n", "acce_score": "1099", "simquery1_title": "Should I use 'has_key()' or 'in' on Python dicts? Given:<code>&gt;&gt;&gt; d = {'a': 1, 'b': 2}</code>Which of the following is the best way to check if <code>'a'</code> is in <code>d</code>?<code>&gt;&gt;&gt; 'a' in dTrue</code><code>&gt;&gt;&gt; d.has_key('a')True</code>", "simquery1_answer": "This problem is driving me a bit crazy. The code seems to be segmentation faulting for no good reason:<code>#define MULT_FLOAT4(X, Y) ({ \\\n    asm volatile ( \\\n        \"movups (%0), %%xmm0\\n\\t\" \\\n        \"mulps (%1), %%xmm0\\n\\t\" \\\n        \"movups %%xmm0, (%1)\" \\\n        :: \"r\" (X), \"r\" (Y)); })int main(void)\n{\n    int before;\n    float a[4] = { 10, 20, 30, 40 };\n    float b[4] = { 0.1, 0.1, 0.1, 0.1 };    /* Segmentation faults if I uncomment this line below, otherwise works fine. Why?? */\n    int after;    MULT_FLOAT4(a, b);    return 0;\n}\n</code>Note that so long as I have defined both the 'before' and 'after' variables it segmentation faults. If I just have 'before' or just have 'after' then it works fine.I'm on Ubuntu Hardy (8.04), GCC version 4.2.4 (Ubuntu 4.2.4-1ubuntu4). Linux kernel: 2.6.24-16-generic.\n", "simquery2_title": "Opposite of any() function The Python built-in function <code>any(iterable)</code> can help to quickly check if any <code>bool(element)</code> is <code>True</code> in a iterable type.<code>&gt;&gt;&gt; l = [None, False, 0]&gt;&gt;&gt; any(l)False&gt;&gt;&gt; l = [None, 1, 0]&gt;&gt;&gt; any(l)True</code>But is there an elegant way or function in Python that could achieve the opposite effect of <code>any(iterable)</code>? That is, if any <code>bool(element) is False</code> then return <code>True</code>, like the following example:<code>&gt;&gt;&gt; l = [True, False, True]&gt;&gt;&gt; any_false(l)&gt;&gt;&gt; True</code>", "simquery2_answer": "I have an executable that generates some file, and I need to call this executable from a Java application. The command goes like this<code>Generator.exe -outputfile=\"path/to/file\" [some other params]\n</code>It works fine on the command prompt, but running it from Java,all steps are executed but the file is not created.\nI doubt the problem was that my java application is not able to crate files / directories, so I tried to create a directory as below<code>try {\n  String envp[] = new String[1];\n  envp[0] = \"PATH=\" + System.getProperty(\"java.library.path\");\n  Runtime.getRuntime().exec(\"mkdir path/to/folder\", envp);\n}\ncatch (Exception e) {\n  e.printStackTrace();\n}\n</code>I get the following exception, even If the directory exist<code>java.io.IOException: Cannot run program \"mkdir\":     \nCreateProcess error=2, The system cannot find the file specified\n</code>I also tried using  <code>java.lang.Process</code> and <code>java.lang.Process</code> and I got the same exception, although the command <code>mkdir path/to/folder</code> works fine on the command prompt\n", "total_len": 451, "s1_total_len": 449, "s2_total_len": 514}
{"post_id": "1401712", "title": "How can the Euclidean distance be calculated with NumPy?", "query": "I have two points in 3D space:<code>a = (ax, ay, az)b = (bx, by, bz)</code>I want to calculate the distance between them:<code>dist = sqrt((ax-bx)^2 + (ay-by)^2 + (az-bz)^2)</code>How do I do this with NumPy? I have:<code>import numpya = numpy.array((ax, ay, az))b = numpy.array((bx, by, bz))</code>", "acce_answer": "Basically you want to remove the String t from the list arr. Just do a arr.remove(t) and you could be done. But you can't do it while iterating over the same list. You'll get an Exception if you try to modify the list this way.You have two options:\nclone your list, iterate through the clone and remove the 'specific' String from the original list\ncreate a list for delete candidates, add all 'specific' Strings to that list and, after iterating through the original list, iterate through the wastebin and remove everything you've collected here from the original list.\nOption 1 is the easist, the clone can be made like:<code>List&lt;String&gt; clone = new ArrayList&lt;String&gt;(arr);\n</code>\n", "acce_score": "768", "simquery1_title": "How does condensed distance matrix work? (pdist) <code>scipy.spatial.distance.pdist</code> returns a condensed distance matrix. From the documentation:  Returns a condensed distance matrix Y. For each  and  (where ), the metric dist(u=X[i], v=X[j]) is computed and stored in entry ij.I thought <code>ij</code> meant <code>i*j</code>. But I think I might be wrong. Consider<code>X = array([[1,2], [1,2], [3,4]])dist_matrix = pdist(X)</code>then the documentation says that <code>dist(X[0], X[2])</code> should be <code>dist_matrix[0*2]</code>. However, <code>dist_matrix[0*2]</code> is 0 -- not 2.8 as it should be. What's the formula I should use to access the similarity of a two vectors, given <code>i</code> and <code>j</code>?", "simquery1_answer": "i m working on MVC application and using Entity Framework 4.0 for database connection.While editing record i want to update some fields in table. code for edit is <code>   [HttpPost]\n    public ActionResult Edit(ProjectActivityDetail projectactivitydetail, FormCollection formcollection)\n    {\n        if (ModelState.IsValid)\n        {\n            string value = Request[\"ChkIntBool\"];\n            if (value.Substring(0, 4) == \"true\") { projectactivitydetail.IsApproved = 1; } else { projectactivitydetail.IsApproved = 0; }\n            projectactivitydetail.ProjectActivityDID = long.Parse(Session[\"ProjectActivityDID\"].ToString());\n            projectactivitydetail.UpatedBy = long.Parse(Session[\"UserID\"].ToString());\n            projectactivitydetail.UpdatedON = System.DateTime.Now;\n            db.Entry(projectactivitydetail).State = EntityState.Modified;\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n        ViewBag.FK_ProjectActivityID = new SelectList(db.ProjectActivityMasters, \"ProjectActivityID\", \"ActivityName\", projectactivitydetail.FK_ProjectActivityID);\n        return View(projectactivitydetail);\n    }\n</code>i just want to update these fields but when this executred my other fields updated to null , is there any way i can keep those values as it is and update these many values in database table.please help\n", "simquery2_title": "Difference between the built-in pow() and math.pow() for floats, in Python? Is there a difference in the results returned by Python's built-in <code>pow(x, y)</code> (no third argument) and the values returned by <code>math.pow()</code>, in the case of two float arguments.I am asking this question because the documentation for <code>math.pow()</code> implies that <code>pow(x, y)</code> (i.e. <code>x**y</code>) is essentially the same as <code>math.pow(x, y)</code>:  math.pow(x, y)    Return x raised to the power y. Exceptional cases  follow Annex \u2018F\u2019 of the C99 standard as far as possible. In  particular, pow(1.0, x) and pow(x, 0.0) always return 1.0, even when x  is a zero or a NaN. If both x and y are finite, x is negative, and y  is not an integer then pow(x, y) is undefined, and raises ValueError.    Changed in version 2.6: The outcome of 1**nan and nan**0 was undefined.Note the last line: the documentation implies that the behavior of <code>math.pow()</code> is that of the exponentiation operator <code>**</code> (and therefore of <code>pow(x, y)</code>).  Is this officially guaranteed?Background: My goal is to provide an implementation of both the built-in <code>pow()</code> and of <code>math.pow()</code> for numbers with uncertainty that behaves in the same way as with regular Python floats (same numerical results, same exceptions, same results for corner cases, etc.). I have already implemented something that works quite well, but there are some corner cases that need to be handled.", "simquery2_answer": "Try removing the <code>belongsTo</code> in your <code>Phone</code> class.  By defining <code>cascades</code> in the mapping of <code>Network</code> you don't need the <code>belongsTo</code>, as that defines only a save-delete cascade for the relationship.\n", "total_len": 318, "s1_total_len": 586, "s2_total_len": 509}
{"post_id": "1466000", "title": "Difference between modes a, a+, w, w+, and r+ in built-in open function?", "query": "In the python built-in open function, what is the exact difference between the modes <code>w</code>, <code>a</code>, <code>w+</code>, <code>a+</code>, and <code>r+</code>?In particular, the documentation implies that all of these will allow writing to the file, and says that it opens the files for \"appending\", \"writing\", and \"updating\" specifically, but does not define what these terms mean.", "acce_answer": "It's not that the string pool is taking local variables, it's that <code>\"hello\"</code> is only stored once and reused (since Strings are immutable).Try this inside your synchronized block, both threads will print the same value, indicating you have the same object.<code>System.out.println( str.hashCode() );\n</code>\n", "acce_score": "823", "simquery1_title": "Open files in 'rt' and 'wt' modes Several times here on SO I've seen people using <code>rt</code> and <code>wt</code> modes for reading and writing files.For example:<code>with open('input.txt', 'rt') as input_file:     with open('output.txt', 'wt') as output_file:          ...</code>I don't see the modes documented, but since <code>open()</code> doesn't throw an error - looks like it's pretty much legal to use.What is it for and is there any difference between using <code>wt</code> vs <code>w</code> and  <code>rt</code> vs <code>r</code>?", "simquery1_answer": "I'm working on firing tracking pixel code when a form is submitted and redirects the user to a PDF document. Right now I'm not seeing my conversion metrics go up and when I land on the PDF file I getting some form of an error in Safari, the network tracking shows red by not error code.Here i my current code:<code>jQuery.noConflict();\n(function( $ ) {\n     $('form').on('submit', function($) {\n        try{ __pixel({\"name\": \"tracker\"}); } \n        catch (err) {} \n    });\n})(jQuery);\n</code>Ps. I've slightly adjusted the tracking code variable names for privacy.My assumption is that the pixel isn't firing completely before the user gets redirected to the PDF. If so, how should I go about doing that?Any help would be appreciated. Not sure if it's my approach or not.\n", "simquery2_title": "Step-by-step debugging with IPython From what I have read, there are two ways to debug code in Python:With a traditional debugger such as <code>pdb</code> or <code>ipdb</code>. This supports commands such as <code>c</code> for <code>continue</code>, <code>n</code> for <code>step-over</code>, <code>s</code> for <code>step-into</code> etc.), but you don't have direct access to an IPython shell which can be extremely useful for object inspection.Using  IPython by embedding an IPython shell in your code. You can do <code>from IPython import embed</code>, and then use <code>embed()</code> in your code. When your program/script hits an <code>embed()</code> statement, you are dropped into an IPython shell. This allows the full inspection of objects and testing of Python code using all the IPython goodies. However, when using <code>embed()</code> you can't step-by-step through the code anymore with handy keyboard shortcuts.Is there any way to combine the best of both worlds? I.e.Be able to  step-by-step through your code with handy pdb/ipdb keyboard shortcuts.At any such step (e.g. on a given statement), have access to a full-fledged IPython shell.IPython debugging as in MATLAB:An example of this type of &quot;enhanced debugging&quot; can be found  in MATLAB, where the user always has full access to the MATLAB engine/shell, and she can still step-by-step through her code, define conditional breakpoints, etc. From what I have discussed with other users, this is the debugging feature that people miss the most when moving from MATLAB to IPython.IPython debugging in Emacs and other editors:I don't want to make the question too specific, but I work mostly in Emacs, so I wonder if there is any way to bring this functionality into it. Ideally, Emacs (or the editor) would allow the programmer to set breakpoints anywhere on the code and communicate with the interpreter or debugger to have it stop in the location of your choice, and bring to a full IPython interpreter on that location.", "simquery2_answer": "I think a simple list comprehension with slicing should suffice. You may want to use <code>itertools.combinations</code> as well:<code>import itertoolsN = 4\nK = 2elements = list(range(1, N + 1))\nfinal = [[elements[a:b] for a, b in zip([0] + cuts, cuts + [N])]\n                        for cuts in (list(c) for c in itertools.combinations(elements, K - 1))]for x in final:\n    print(*x)\n</code>Output:<code>[1] [2, 3, 4]\n[1, 2] [3, 4]\n[1, 2, 3] [4]\n[1, 2, 3, 4] []\n</code>\n", "total_len": 217, "s1_total_len": 375, "s2_total_len": 715}
{"post_id": "1485841", "title": "Behaviour of increment and decrement operators in Python", "query": "How do I use pre-increment/decrement operators (<code>++</code>, <code>--</code>), just like in C++?Why does <code>++count</code> run, but not change the value of the variable?", "acce_answer": "I think it's really up to you how to design your class hierarchy. If you are using inheritance and you don't mind the function being accessable from an instance of class <code>A</code> then there is no point to delegate <code>writeLogEntry</code>. Might as well make it public in the base class:<code>class A {\npublic:\n    void writeLogEntry(const std::string&amp; message);\n};\n</code>If don't want to <code>writeLogEntry</code> being accessable from an instance of class <code>A</code> then you have delegate:<code>class B : public A { \n    void writeLogEntry(const std::string&amp; message){ A::writeLogEntry(message); }\n};\n</code>Do some research into Inheritance vs. Composition.  You might get a few ideas on how to structure your classes. Some people prefer to avoid inheritance as much as possible and in this case have class <code>B</code> own an instance of class <code>A</code> and delegate the relevant methods. IMHO there are genuine cases for when inheritance is appropriate, depends on the nature of your particular beast.\n", "acce_score": "1038", "simquery1_title": "How to len(generator()) Python generators are very useful. They have advantages over functions that return lists. However, you could <code>len(list_returning_function())</code>. Is there a way to <code>len(generator_function())</code>?UPDATE:Of course <code>len(list(generator_function()))</code> would work.....I'm trying to use a generator I've created inside a new generator I'm creating. As part of the calculation in the new generator it needs to know the length of the old one. However I would like to keep both of them together with the same properties as a generator, specifically - not maintain the entire list in memory as it may be very long.UPDATE 2:Assume the generator knows it's target length even from the first step. Also, there's no reason to maintain the <code>len()</code> syntax. Example - if functions in Python are objects, couldn't I assign the length to a variable of this object that would be accessible to the new generator?", "simquery1_answer": "I've written an ASP.Net web site with a WCF backend. One of the features of the web site is that it allows the user to download a file that is streamed from the WCF service. The web.config file in the ASP.Net project has a maximum file size set in the binding (maxBufferSize and maxReceivedMessageSize). To stop users downloading files that exceed this size, I need to check the file size against the maximum file size in the web.config file, how do I go about this?I've found out about the binding.CreateBindingElements() but I'm unsure how to get the instance of the binding in the first place.EDIT: Binding details are as follows:<code>&lt;binding name=\"BasicHttpBinding_IC_Server\" closeTimeout=\"00:01:00\"\n      openTimeout=\"00:01:00\" receiveTimeout=\"00:10:00\" sendTimeout=\"00:01:00\"\n      allowCookies=\"false\" bypassProxyOnLocal=\"false\" hostNameComparisonMode=\"StrongWildcard\"\n      maxBufferSize=\"65536\" maxBufferPoolSize=\"524288\" maxReceivedMessageSize=\"65536\"\n      messageEncoding=\"Text\" textEncoding=\"utf-8\" transferMode=\"Buffered\"\n      useDefaultWebProxy=\"true\"&gt;\n</code>EDIT: The WCF service has a method that returns the file as a stream. An ASP.Net web page gets the file, stores it in a memory stream and then returns it as a byte array to the user.If the file size is too small, I get this error:<code>The maximum message size quota for incoming messages (65536) has been exceeded. To increase the quota, use the MaxReceivedMessageSize property on the appropriate binding element.\n</code>Upping the buffer size fixes it, but I'd rather avoid this error by comparing the file size against the maxBufferSize.\n", "simquery2_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery2_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "total_len": 341, "s1_total_len": 675, "s2_total_len": 218}
{"post_id": "1489599", "title": "How do I find out my PYTHONPATH using Python?", "query": "How do I find out which directories are listed in my system\u2019s <code>PYTHONPATH</code> variable, from within a Python script (or the interactive shell)?", "acce_answer": "What about setting the <code>connectionUrl</code> on the <code>checkin</code> to a throw-away repository on the local box?  So your checkout would come from the \"central\" repo, but your 'checkin' would go only to the working repository (the commit that you want) and the (apparently) unavoidable push would go to file:///tmp/whocares.Alternately there's probably a single line of code in the scm plugin to comment out to avoid that push.\n", "acce_score": "490", "simquery1_title": "How do I find out my PYTHONPATH using Python? How do I find out which directories are listed in my system\u2019s <code>PYTHONPATH</code> variable, from within a Python script (or the interactive shell)?", "simquery1_answer": "What about setting the <code>connectionUrl</code> on the <code>checkin</code> to a throw-away repository on the local box?  So your checkout would come from the \"central\" repo, but your 'checkin' would go only to the working repository (the commit that you want) and the (apparently) unavoidable push would go to file:///tmp/whocares.Alternately there's probably a single line of code in the scm plugin to comment out to avoid that push.\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 173, "s1_total_len": 171, "s2_total_len": 597}
{"post_id": "1535327", "title": "How to print instances of a class using print()?", "query": "When I try to <code>print</code> an instance of a class, I get an output like this:<code>&gt;&gt;&gt; class Test():...     def __init__(self):...         self.a = 'foo'...&gt;&gt;&gt; print(Test())&lt;__main__.Test object at 0x7fc9a9e36d60&gt;</code>How can I make it so that the <code>print</code> will show something custom (e.g. something that includes the <code>a</code> attribute value)? That is, how can I can define how the instances of the class will appear when printed (their string representation)?See How can I choose a custom string representation for a class itself (not instances of the class)? if you want to define the behaviour for the class itself (in this case, so that <code>print(Test)</code> shows something custom, rather than <code>&lt;class __main__.Test&gt;</code> or similar). (In fact, the technique is essentially the same, but trickier to apply.)", "acce_answer": "you need to put the following name/value pairs into a hash table and call this constructor:<code>public InitialContext(Hashtable&lt;?,?&gt; environment)\n</code>the exact values depend on your application server, this example is for jboss<code>jndi.java.naming.provider.url=jnp://localhost:1099/\njndi.java.naming.factory.url=org.jboss.naming:org.jnp.interfaces\njndi.java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\n</code>\n", "acce_score": "779", "simquery1_title": "Step-by-step debugging with IPython From what I have read, there are two ways to debug code in Python:With a traditional debugger such as <code>pdb</code> or <code>ipdb</code>. This supports commands such as <code>c</code> for <code>continue</code>, <code>n</code> for <code>step-over</code>, <code>s</code> for <code>step-into</code> etc.), but you don't have direct access to an IPython shell which can be extremely useful for object inspection.Using  IPython by embedding an IPython shell in your code. You can do <code>from IPython import embed</code>, and then use <code>embed()</code> in your code. When your program/script hits an <code>embed()</code> statement, you are dropped into an IPython shell. This allows the full inspection of objects and testing of Python code using all the IPython goodies. However, when using <code>embed()</code> you can't step-by-step through the code anymore with handy keyboard shortcuts.Is there any way to combine the best of both worlds? I.e.Be able to  step-by-step through your code with handy pdb/ipdb keyboard shortcuts.At any such step (e.g. on a given statement), have access to a full-fledged IPython shell.IPython debugging as in MATLAB:An example of this type of &quot;enhanced debugging&quot; can be found  in MATLAB, where the user always has full access to the MATLAB engine/shell, and she can still step-by-step through her code, define conditional breakpoints, etc. From what I have discussed with other users, this is the debugging feature that people miss the most when moving from MATLAB to IPython.IPython debugging in Emacs and other editors:I don't want to make the question too specific, but I work mostly in Emacs, so I wonder if there is any way to bring this functionality into it. Ideally, Emacs (or the editor) would allow the programmer to set breakpoints anywhere on the code and communicate with the interpreter or debugger to have it stop in the location of your choice, and bring to a full IPython interpreter on that location.", "simquery1_answer": "I think a simple list comprehension with slicing should suffice. You may want to use <code>itertools.combinations</code> as well:<code>import itertoolsN = 4\nK = 2elements = list(range(1, N + 1))\nfinal = [[elements[a:b] for a, b in zip([0] + cuts, cuts + [N])]\n                        for cuts in (list(c) for c in itertools.combinations(elements, K - 1))]for x in final:\n    print(*x)\n</code>Output:<code>[1] [2, 3, 4]\n[1, 2] [3, 4]\n[1, 2, 3] [4]\n[1, 2, 3, 4] []\n</code>\n", "simquery2_title": "py.test: how to get the current test's name from the setup method? I am using py.test and wonder if/how it is possible to retrieve the name of the currently executed test within the <code>setup</code> method that is invoked before running each test. Consider this code:<code>class TestSomething(object):    def setup(self):        test_name = ...    def teardown(self):        pass    def test_the_power(self):        assert \"foo\" != \"bar\"    def test_something_else(self):        assert True</code>Right before <code>TestSomething.test_the_power</code> becomes executed, I would like to have access to this name in <code>setup</code> as outlined in the code via <code>test_name = ...</code> so that <code>test_name</code> == <code>\"TestSomething.test_the_power\"</code>.Actually, in <code>setup</code>, I allocate some resource for each test. In the end, looking at the resources that have been created by various unit tests, I would like to be able to see which one was created by which test. Best thing would be to just use the test name upon creation of the resource.", "simquery2_answer": "I'm doing a hopping window aggregation on a 4 hr window advancing every 5 mins. As the hopping windows are overlapping, I'm getting duplicate keys with different aggregated value.<code>TimeWindows.of(240 * 60 * 1000L).advanceBy(5 * 60* 1000L)\n</code>How do I eliminate duplicate keys with repeating data or pick only the keys that holds the latest value.\n", "total_len": 405, "s1_total_len": 715, "s2_total_len": 392}
{"post_id": "1546226", "title": "Is there a simple way to remove multiple spaces in a string?", "query": "Suppose this string:<code>The   fox jumped   over    the log.</code>Turning into:<code>The fox jumped over the log.</code>What is the simplest (1-2 lines) to achieve this, without splitting and going into lists?", "acce_answer": "I rotate a <code>UIImageView</code> by setting the <code>anchorPoint</code> property for the view's layer. e.g. <code>myView.layer.anchorPoint = CGPointMake(0.5, 1.0);\n</code>and then applying a <code>CATransform3DRotate</code> as the layer's <code>transform</code> property<code>CATransform3D rotationTransform = CATransform3DIdentity;\nrotationTransform = CATransform3DRotate(rotationTransform, positionInRadians, 0.0, 0.0, 1.0);\nmyView.layer.transform = rotationTransform;\n</code>I found this from Apple's metronome example, so it's worth checking that out. Hope that helps\n", "acce_score": "659", "simquery1_title": "Is there a simple way to remove multiple spaces in a string? Suppose this string:<code>The   fox jumped   over    the log.</code>Turning into:<code>The fox jumped over the log.</code>What is the simplest (1-2 lines) to achieve this, without splitting and going into lists?", "simquery1_answer": "I rotate a <code>UIImageView</code> by setting the <code>anchorPoint</code> property for the view's layer. e.g. <code>myView.layer.anchorPoint = CGPointMake(0.5, 1.0);\n</code>and then applying a <code>CATransform3DRotate</code> as the layer's <code>transform</code> property<code>CATransform3D rotationTransform = CATransform3DIdentity;\nrotationTransform = CATransform3DRotate(rotationTransform, positionInRadians, 0.0, 0.0, 1.0);\nmyView.layer.transform = rotationTransform;\n</code>I found this from Apple's metronome example, so it's worth checking that out. Hope that helps\n", "simquery2_title": "How to calculate the time interval between two time strings I have two times, a start and a stop time, in the format of 10:33:26 (HH:MM:SS).  I need the difference between the two times.  I've been looking through documentation for Python and searching online and I would imagine it would have something to do with the datetime and/or time modules.  I can't get it to work properly and keep finding only how to do this when a date is involved.Ultimately, I need to calculate the averages of multiple time durations. I got the time differences to work and I'm storing them in a list. I now need to calculate the average. I'm using regular expressions to parse out the original times and then doing the differences.  For the averaging, should I convert to seconds and then average?", "simquery2_answer": "friend'd\n   I need to display image has background and transparent text at particular location of the image text,here my problem is it display well in some devices and not being proper alignment in larger screens,even i used seperate resource file like layout,layout-large,layout-small but in some case it's not working well,i set <code>    android:normalScreens=\"true\" android:smallScreens=\"true\"    android:anyDensity=\"false\" /&gt; in my manifest file,![alt text][1]\n</code>here my screenshot\ni need the black and white colour text being placed exactly on yellow coloured text.\nhere my xml code,<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" \n    android:layout_gravity=\"center_horizontal\" android:layout_width=\"wrap_content\"\n    android:layout_height=\"fill_parent\"&gt;\n    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:orientation=\"vertical\" android:background=\"@drawable/about_brown\"\n        android:layout_gravity=\"center_horizontal\" android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"&gt;\n        &lt;TextView android:id=\"@+id/about_mail_text1\"\n            android:textSize=\"12sp\" android:textColor=\"@color/black\"\n            android:layout_marginTop=\"190dp\"\n            android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n            android:text=\"@string/ab_t1\" android:layout_marginLeft=\"135dip\" /&gt;\n        &lt;TextView android:id=\"@+id/about_mail_text2\"\n        android:layout_below=\"@id/about_mail_text1\"\n            android:textSize=\"12sp\" android:textColor=\"@color/black\"\n            android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"156dip\" android:text=\"@string/ab_t2\" \n            android:layout_marginTop=\"2dp\"/&gt;\n        &lt;TextView android:id=\"@+id/about_mail_text3\"\n        android:layout_below=\"@id/about_mail_text2\"\n            android:textSize=\"13sp\" android:layout_marginTop=\"73dp\"\n            android:textStyle=\"bold\" android:textColor=\"@color/white\"\n            android:gravity=\"center_horizontal\" android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\" android:text=\"@string/ab_t3\" /&gt;\n        &lt;TextView android:id=\"@+id/about_mail_text4\"\n            android:layout_below=\"@id/about_mail_text3\"\n            android:textSize=\"13sp\" android:textStyle=\"bold\" android:textColor=\"@color/white\"\n            android:layout_marginTop=\"50dp\" android:gravity=\"center_horizontal\"\n            android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\"\n            android:text=\"@string/ab_t4\" /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code>how can i get it,please help me.\n", "total_len": 272, "s1_total_len": 270, "s2_total_len": 1012}
{"post_id": "1557571", "title": "How do I get time of a Python program's execution?", "query": "I have a command line program in Python that takes a while to finish. I want to know the exact time it takes to finish running.I've looked at the <code>timeit</code> module, but it seems it's only for small snippets of code. I want to time the whole program.", "acce_answer": "I have to implement an image upload functionality in asp.net. The method I have followed works like this :-Submit a form containing an <code>&lt;input type='file'&gt;</code> element and set the target of the form to a named iframe[to give the impression of a Ajax request/response ]. The aspx file which this form is posted to, writes the image into the response as <code>Reponse.Write(\"&lt;img src='location'/&gt;\");</code> The image displayed is due for cropping (where i plan to use JCrop). What I would like to know is : Is there another way to display the image in a <code>&lt;div&gt;</code> may be, rather than in an iframe which I think is far better than this approach. \n", "acce_score": "1672", "simquery1_title": "How do I get time of a Python program's execution? I have a command line program in Python that takes a while to finish. I want to know the exact time it takes to finish running.I've looked at the <code>timeit</code> module, but it seems it's only for small snippets of code. I want to time the whole program.", "simquery1_answer": "I have to implement an image upload functionality in asp.net. The method I have followed works like this :-Submit a form containing an <code>&lt;input type='file'&gt;</code> element and set the target of the form to a named iframe[to give the impression of a Ajax request/response ]. The aspx file which this form is posted to, writes the image into the response as <code>Reponse.Write(\"&lt;img src='location'/&gt;\");</code> The image displayed is due for cropping (where i plan to use JCrop). What I would like to know is : Is there another way to display the image in a <code>&lt;div&gt;</code> may be, rather than in an iframe which I think is far better than this approach. \n", "simquery2_title": "Exiting from python Command Line To exit from Python command line, I have to type exit(). If I type exit, it says <code>Use exit() or Ctrl-Z plus Return to exit</code>Usually when you type <code>exit</code>, you would want to exit the program. Why does the interpreter give me the above error when it knows I am trying to exit the command line? Why doesn't it just exit? I know it doesn't matter and its a silly question but I am curious. ", "simquery2_answer": "<code>cout</code> has <code>operator&lt;&lt;()</code> overloaded for char* arrays so that it outputs every element of the array until it reaches a null character rather than outputting the address of the pointer\n", "total_len": 262, "s1_total_len": 260, "s2_total_len": 167}
{"post_id": "1602934", "title": "Check if a given key already exists in a dictionary", "query": "I wanted to test if a key exists in a dictionary before updating the value for the key.I wrote the following code:<code>if 'key1' in dict.keys():  print \"blah\"else:  print \"boo\"</code>I think this is not the best way to accomplish this task. Is there a better way to test for a key in the dictionary?", "acce_answer": "It is the CreateGraphics() call that is getting you in trouble, indirectly.  The problem is anti-aliasing of the text.  A normal painting cycle erases the background before drawing something on top.  That doesn't happen in your case, your draw text on top of existing text.  The side effect is that the pixels uses to create the aliasing get darker each time your draw.  The end result is bold looking, and noticeably jagged text outlines.The fix is easy: start with a clean slate before you draw:<code>    using (Graphics g = CreateGraphics()) {\n        g.Clear(this.BackColor);                &lt;=== added\n        g.SetClip(ClientRectangle);\n        // etc..\n    }\n</code>You'll now also get to encounter a problem in drawing known as \"flicker\".  It might not yet be that noticeable yet, but it will when you do more drawing.  Flicker is suppressed with double-buffering.  A feature supported by Windows Forms, but only if you use standard drawing techniques.  In other words: no CreateGraphics().\n", "acce_score": "2678", "simquery1_title": "Why doesn't django's model.save() call full_clean()? I'm just curious if anyone knows if there's good reason why django's orm doesn't call 'full_clean' on a model unless it is being saved as part of a model form.    Note that full_clean() will not be called automatically when you call your model\u2019s save() method. You\u2019ll need to call it manually when you want to run one-step model validation for your own manually created models.  django's full clean doc(NOTE: quote updated for Django 1.6... previous django docs had a caveat about ModelForms as well.)Are there good reasons why people wouldn't want this behavior? I'd think if you took the time to add validation to a model, you'd want that validation run every time the model is saved.I know how to get everything to work properly, I'm just looking  for an explanation.", "simquery1_answer": "You can mark both <code>ActivityID</code> and <code>ActivityName</code> properties with <code>Key</code> annotation or you can use fluent API as described by @taylonr.Edit:This should work - composite key defined with annotations requires explicit column order:<code>public class ActivityType\n{\n    [Key, Column(Order = 0)]\n    public int ActivityID { get; set; }    [Key, Column(Order = 1)]\n    [Required(ErrorMessage = \"A ActivityName is required\")]\n    [StringLength(50, ErrorMessage = \"Activity Name must not exceed 50 characters\")]\n    public string ActivityName { get; set; }}\n</code>\n", "simquery2_title": "Pymongo / MongoDB: create index or ensure index? I don't understand the difference between <code>create_index</code> and <code>ensure_index</code> in pymongo. On the MongoDB indexes page, it says  you can create an index by calling the  <code>ensureIndex()</code>However in pymongo there are two different commands <code>create_index</code> and <code>ensure_index</code>, and the documentation for create index has:  Unlike create_index(), which attempts  to create an index unconditionally,  ensure_index() takes advantage of some  caching within the driver such that it  only attempts to create indexes that  might not already exist. When an index  is created (or ensured) by PyMongo it  is \u201cremembered\u201d for ttl seconds.  Repeated calls to ensure_index()  within that time limit will be  lightweight - they will not attempt to  actually create the index.Am I right in understanding that <code>ensure_index</code> will create a permanent index, or do I need to use <code>create_index</code> for this?", "simquery2_answer": "Firstly, you don't create bitmap (use Bitmap factory, see code below)\nYou open and read file on main thread, what slow down app. Move all file processing to the separate thread.\nFor that you can either use AsyncTask, or (better) rxJava library's Schedulers.io() scheduler. I'd do it something like this:String body = \"myFile\";<code>    final Observable&lt;Bitmap&gt; imageSource =\n    Observable.just(body)\n        .map(new Func1&lt;String, Bitmap&gt;() {\n                 @Override\n                 public Bitmap call(String body) {\n                     File file = new File(BetcadeApplication.this.getFilesDir(), body + \".image\");\n                     InputStream in = null;\n                     try {\n                         in = new BufferedInputStream(new FileInputStream(file));\n                     }catch (FileNotFoundException e){\n                         return null;\n                     }\n                     return BitmapFactory.decodeStream(in);\n                 }\n             }\n        );\n    Observable.defer(new Func0&lt;Observable&lt;Bitmap&gt;&gt;() {\n        @Override\n        public Observable&lt;Bitmap&gt; call() {\n            return imageSource;\n        }\n    })\n            .subscribeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Action1&lt;Bitmap&gt;() {\n                @Override\n                public void call(Bitmap bitmap) {\n                    // set result here\n                    //ImageView icon = (ImageView) view.findViewById(R.id.icon);\n                    //icon.setImageBitmap(bitmap);\n                }\n            });\n</code>\n", "total_len": 349, "s1_total_len": 371, "s2_total_len": 655}
{"post_id": "1708510", "title": "List vs tuple, when to use each?", "query": "In Python, when should you use lists and when tuples?Sometimes you don't have a choice, for example if you have<code>\"hello %s you are %s years old\" % x</code>then x must be a tuple.But if I am the one who designs the API and gets to choose the data types, then what are the guidelines?", "acce_answer": "I have a div as follows:<code>&lt;DIV CLASS=\"variable productPopup\"&gt;&lt;/DIV&gt;\n</code>When assigning it to a var, how do I only select variable? Please note that variable changes, so it needs to select the first item, not literally the words \"variable\"<code>var ID = $(this).attr(\"class\");\n</code>\n", "acce_score": "536", "simquery1_title": "Check if all values of iterable are zero Is there a good, succinct/built-in way to see if all the values in an iterable are zeros?  Right now I am using <code>all()</code> with a little list comprehension, but (to me) it seems like there should be a more expressive method.  I'd view this as somewhat equivalent to a <code>memcmp()</code> in C.<code>values = (0, 0, 0, 0, 0)# Test if all items in values tuple are zeroif all([ v == 0 for v in values ]) :    print 'indeed they are'</code>I would expect a built-in function that does something like:<code>def allcmp(iter, value) :    for item in iter :        if item != value :            return False    return True</code>Does that function exist in python and I'm just blind, or should I just stick with my original version?UpdateI'm not suggesting that <code>allcmp()</code> is the solution. It is an example of what I think might be more meaningful.  This isn't the place where I would suggest new built-ins for Python.In my opinion, <code>all()</code> isn't that meaningful.  It doesn't express what &quot;all&quot; is checking for.  You could assume that <code>all()</code> takes an iterable, but it doesn't express what the function is looking for (an iterable of <code>bool</code>s that tests all of them for <code>True</code>).  What I'm asking for is some function like my <code>allcmp()</code> that takes two parameters: an iterable and a comparison value.  I'm asking if there is a built-in function that does something similar to my made up <code>allcmp()</code>.I called mine <code>allcmp()</code> because of my C background and <code>memcmp()</code>, the name of my made up function is irrelevant here.", "simquery1_answer": "You need to override these messages from JSF.  You can have a messages.properties file in your classpath Messages.properties  <code>javax.faces.component.UIInput.REQUIRED=Field must be entered.  \n</code>Faces-config.xml  <code>&lt;application&gt;\n      &lt;message-bundle&gt;Messages&lt;/message-bundle&gt;\n      &lt;locale-config&gt;\n          &lt;default-locale&gt;en&lt;/default-locale&gt;      &lt;/locale-config&gt;\n  &lt;/application&gt;    \n</code>Have a look at this Article\n", "simquery2_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery2_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "total_len": 186, "s1_total_len": 629, "s2_total_len": 337}
{"post_id": "1720421", "title": "How do I concatenate two lists in Python?", "query": "How do I concatenate two lists in Python?Example:<code>listone = [1, 2, 3]listtwo = [4, 5, 6]</code>Expected outcome:<code>&gt;&gt;&gt; joinedlist[1, 2, 3, 4, 5, 6]</code>", "acce_answer": "You can marshal this using a StringBuilder.  For details, see this P/Invoke intro:<code>[DllImport(_libName, EntryPoint=\"DLLErrorMsg\", CallingConvention=CallingConvention.Cdecl)]\npublic static extern UInt32 GetErrorMessage(UInt32 dwError, StringBuilder pBuf, UInt32 nBufSize);\n</code>Just make sure the StringBuilder has been constructed with enough memory for the pBuf to get filled in.\n", "acce_score": "3242", "simquery1_title": "How to zip lists in a list I want to zip the following list of lists:<code>&gt;&gt;&gt; zip([[1,2], [3,4], [5,6]])[[1,3,5], [2,4,6]]</code>This could be achieved with the current <code>zip</code> implementation only if the list is split into individual components:<code>&gt;&gt;&gt; zip([1,2], [3,4], [5,6])   (1, 3, 5), (2, 4, 6)]</code>Can't figure out how to split the list and pass the individual elements to <code>zip</code>. A functional solution is preferred.", "simquery1_answer": "I use code like the following (inside my appController.m for example) to do some cleanup when my application terminates...<code>- (void) dealloc {\n    [myObject release]; // myObject 's dealloc will not be called either !!!\n    [arraySMSs release];\n    [super dealloc];\n}\n</code>This method never get called when the app quits! Why ? Is there a better place to do my clean up ? The fact that is not called addresses memory-leak issues ? Or the OS does take care of clean up ?Thank you...\n", "simquery2_title": "How to zip two differently sized lists, repeating the shorter list? I want to zip two list with different lengthfor example<code>A = [1,2,3,4,5,6,7,8,9]B = [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]</code>and I expect this<code>[(1, 'A'), (2, 'B'), (3, 'C'), (4, 'A'), (5, 'B'), (6, 'C'), (7, 'A'), (8, 'B'), (9, 'C')]</code>But the built-in <code>zip</code> won't repeat to pair with the list with larger size.Does there exist any built-in way can achieve this?Here is my code:<code>idx = 0zip_list = []for value in larger:    zip_list.append((value,smaller[idx]))    idx += 1    if idx == len(smaller):        idx = 0</code>", "simquery2_answer": "The following code crashes in my installation:<code>library(data.table)\nlibrary(reshape2)\nx = data.table(a=c(1,2),b=c(2,3),c=c(3,4))\nmelt(x,id.vars=\"a\") # OK\nmelt(x,id.vars=\"a\",measure.vars=c(\"c\",\"d\")) # Crashes\n</code>The message is the following:<code>*** caught segfault ***\naddress 0x21000038, cause 'memory not mapped'\nTraceback:\n1: melt.data.table(x, id.vars = \"a\", measure.vars = c(\"c\", \"d\"))\n2: melt(x, id.vars = \"a\", measure.vars = c(\"c\", \"d\"))\n</code>Here is the sessionInfo()<code>R version 3.1.0 (2014-04-10)\nPlatform: x86_64-pc-linux-gnu (64-bit)locale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=ro_RO.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=ro_RO.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=ro_RO.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=ro_RO.UTF-8 LC_IDENTIFICATION=C       attached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n&gt; library(data.table)\ndata.table 1.9.2  For help type: help(\"data.table\")\n&gt; library(reshape2)\n&gt; sessionInfo()\nR version 3.1.0 (2014-04-10)\nPlatform: x86_64-pc-linux-gnu (64-bit)locale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=ro_RO.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=ro_RO.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=ro_RO.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=ro_RO.UTF-8 LC_IDENTIFICATION=C       attached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     other attached packages:\n[1] reshape2_1.4     data.table_1.9.2loaded via a namespace (and not attached):\n[1] plyr_1.8.1    Rcpp_0.11.1   stringr_0.6.2\n</code>It may be the same problem reported here: melting data.table seems to crash RStudio?\n", "total_len": 204, "s1_total_len": 296, "s2_total_len": 1067}
{"post_id": "1769403", "title": "What is the purpose and use of **kwargs?", "query": "What are the uses for <code>**kwargs</code> in Python?I know you can do an <code>objects.filter</code> on a table and pass in a <code>**kwargs</code> argument. \u00a0Can I also do this for specifying time deltas i.e. <code>timedelta(hours = time1)</code>?How exactly does it work? Is it classified as 'unpacking'? Like <code>a,b=1,2</code>?", "acce_answer": "I've seen Ryan Fait's method for sticky footer as well as one here and here.Why are these people making templates for sticky footers when <code>#footer{position:fixed; bottom:0;}</code> will suffice? EDIT: I will add that using <code>position: fixed;</code> for a footer does break <code>margin: auto;</code> centering in (at least) some browsers, thus creating the need for a wrapper tag. Part of my problem with the above mentioned methods is the extra tags which are confusing, syntactically incorrect (for the \"HTML purists\") and it eats bandwidth. However, a single wrapper around the footer is still, in my opinion, better than a whole jumbled page template to have to start with. And, \"my\" way is still more straightforward and eats less bandwidth.\n", "acce_score": "842", "simquery1_title": "What is the purpose and use of **kwargs? What are the uses for <code>**kwargs</code> in Python?I know you can do an <code>objects.filter</code> on a table and pass in a <code>**kwargs</code> argument. \u00a0Can I also do this for specifying time deltas i.e. <code>timedelta(hours = time1)</code>?How exactly does it work? Is it classified as 'unpacking'? Like <code>a,b=1,2</code>?", "simquery1_answer": "I've seen Ryan Fait's method for sticky footer as well as one here and here.Why are these people making templates for sticky footers when <code>#footer{position:fixed; bottom:0;}</code> will suffice? EDIT: I will add that using <code>position: fixed;</code> for a footer does break <code>margin: auto;</code> centering in (at least) some browsers, thus creating the need for a wrapper tag. Part of my problem with the above mentioned methods is the extra tags which are confusing, syntactically incorrect (for the \"HTML purists\") and it eats bandwidth. However, a single wrapper around the footer is still, in my opinion, better than a whole jumbled page template to have to start with. And, \"my\" way is still more straightforward and eats less bandwidth.\n", "simquery2_title": "Why does Django Rest Framework discourage model level validation? Django Rest Framework serializers do not call the <code>Model.clean</code> when validating model serializers. The explanation given is that this leads to 'cleaner separation of concerns', from the Django Rest Framework 3.0 release notes:Differences between ModelSerializer validation and ModelForm.This change also means that we no longer use the <code>.full_clean()</code> methodon model instances, but instead perform all validation explicitly onthe serializer. This gives a cleaner separation, and ensures thatthere's no automatic validation behavior on ModelSerializer classesthat can't also be easily replicated on regular Serializer classes.But what concerns are the authors of Django Rest Framework attempting to separate?My guess is that they're saying that a model instance should not be concerned about it's own validity. If that's the case I don't understand why.", "simquery2_answer": "I'm very new to Knockout and even newer to using Knockout validation.  I have some simple required inputs that should prevent from submitting the form.  It still submits with empty inputs.  I'm not sure what I'm doing wrong.I have created a fiddle here.  To test, hit tab when cursor is in the last retail input.  That will add a new blank line.  Then hit submit and look at the console.\nHere is my javascript code:<code>var viewModel;ko.validation.rules.pattern.message = 'Invalid.';\nko.validation.init({\n  registerExtenders: true,\n  messagesOnModified: true,\n  insertMessages: true,\n  parseInputAttributes: true,\n  messageTemplate: null\n}, true);var itemModel = function () {\n  var self = this;\n  self.itemNo = ko.observable().extend( {required: true} );\n  self.brocCode = ko.observable().extend( {required: true} );\n  self.itemDesc = ko.observable().extend( {required: true} );\n  self.retail = ko.observable().extend( {required: true} );\n}var itemsModel = function(items) {\n    var self = this;\n  //self.items = ko.observableArray(items);  self.items = ko.mapping.fromJSON(items);  self.checkItemNo = function(data) {\n    console.log(\"blurred!\");\n    var itemNo = \"abc\";\n    if (itemNo != \"\") {\n      var item = \"\";\n        /*\n        $.each(fullItemList, function(i, v) {\n        if (v.No.search(itemNo) != -1) {\n        item = v.Description;\n        return;\n        }\n        });\n        if(item != \"\") {\n        console.log(\"found: \" + item);\n        var match = ko.utils.arrayFirst(self.items, function(item) {\n        return itemNo === item.itemNo;\n        });\n        */\n      var match = false;\n      item = \"Mudguard front\";\n      if (!match) {\n        console.log(\"not a match!\");\n        console.log(data);\n        data.itemDesc(item);\n      }\n    }\n  }  self.addLine = function() {\n    self.items.push( new itemModel() )\n  };  self.removeItem = function(item) {\n    self.items.remove(item);\n  };  self.errors = ko.validation.group(self.items);\n};ko.bindingHandlers.enterPress = {\n  init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var allBindings = allBindingsAccessor();\n    element.addEventListener('keydown', function (event) {\n      var keyCode = (event.which ? event.which : event.keyCode);\n      if (keyCode === 13 || (!event.shiftKey &amp;&amp; keyCode === 9)) {\n        event.preventDefault();\n        console.log(\"hit enter/tab!\");\n        bindingContext.$root.addLine();\n        return false;\n      }\n      return true;\n    });\n  }\n};function GetItems() {\n            //var itemsJSON = @Html.Raw(Json.Encode(Model.brochureItems));\n            var itemsJSON =  '[{\"brochureId\":1,\"itemNo\":\"1000\",\"brocCode\":\"1000\",\"itemDesc\":\"Bicycle\",\"retail\":13.5},{\"brochureId\":1,\"itemNo\":\"1100\",\"brocCode\":\"1100\",\"itemDesc\":\"Front Wheel\",\"retail\":35},{\"brochureId\":1,\"itemNo\":\"1120\",\"brocCode\":\"1120\",\"itemDesc\":\"Spokes\",\"retail\":12.5},{\"brochureId\":1,\"itemNo\":\"1150\",\"brocCode\":\"1150\",\"itemDesc\":\"Front Hub\",\"retail\":5},{\"brochureId\":1,\"itemNo\":\"1151\",\"brocCode\":\"1151\",\"itemDesc\":\"Axle Front Wheel\",\"retail\":14},{\"brochureId\":1,\"itemNo\":\"120\",\"brocCode\":\"120\",\"itemDesc\":\"Loudspeaker, Black, 120W\",\"retail\":12.5},{\"brochureId\":1,\"itemNo\":\"125\",\"brocCode\":\"125\",\"itemDesc\":\"Socket Back\",\"retail\":10}]';\n            viewModel = new itemsModel(itemsJSON);\n            ko.applyBindings(viewModel);\n        }$(document).ready(function () {\n    GetItems();  $('#brochureForm :submit').on('click', function(e) {\n    e.preventDefault();  //prevent form from submitting    if (viewModel.errors().length === 0)\n      //if(viewModel.validationModel.isValid())\n    {\n      console.log(\"submitting!\");\n      //$(\"#brochureForm\").submit();\n    }\n    else\n    {\n      console.log(\"not valid!\");\n    }\n  });\n});\n</code>\n", "total_len": 317, "s1_total_len": 315, "s2_total_len": 1429}
{"post_id": "1773805", "title": "How can I parse a YAML file in Python", "query": "How can I parse a YAML file in Python?", "acce_answer": "It does appear that\n<code>git config core.filemode false</code>\ndoes the trick.\n", "acce_score": "1026", "simquery1_title": "Parsing a YAML file in Python, and accessing the data? I am new to YAML and have been searching for ways to parse a YAML file and use/access the data from the parsed YAML. I have come across explanations on how to parse the YAML file, for example, the PyYAML tutorial, \"How can I parse a YAML file in Python\", \"Convert Python dict to object?\", but what I haven't found is a simple example on how to access the data from the parsed YAML file. Assume I have a YAML file such as:<code> treeroot:     branch1: branch1 text     branch2: branch2 text</code>How do I access the text \"branch1 text\"?\"YAML parsing and Python?\" provides a solution, but I had problems accessing the data from a more complex YAML file.  And, I'm wondering if there is some standard way of accessing the data from a parsed YAML file, possibly something similar to \"tree iteration\" or \"elementpath\" notation or something which would be used when parsing an XML file?", "simquery1_answer": "I've been trying to learn cakephp recently but I'm struggling to find any tutorials that deal with storing data into a table after it's been modified. I'm used having complete control where everything goes in PHP, so it's been a struggle adjusting to the automated processe of MVC.I thought a good first experiment would be to take an input and concatenate a letter to it(let's just say \"m\"). Then, store both the original value and the concatenated value in a table with fields \"orignal\" and \"concatenated\". So, if I typed \"hello\", the value in the original field would be \"hello\" and the concatenated field would be \"hellom\".My question is would the model be responsible for concatenating the original value? Would it also do the saving or is that the controllers responsibility? Here is my code: I'm getting the following error. \nFatal error: Call to a member function save() on a non-object in /Applications/XAMPP/xamppfiles/htdocs/cake/app/Model/Concatenate.php on line 6<code>View/Concatenates/add.php\n&lt;h1&gt;Add Something&lt;/h1&gt;\n&lt;?php   echo $this-&gt;Form-&gt;create('Concatenate');\n   echo $this-&gt;Form-&gt;input('original');\n   echo $this-&gt;Form-&gt;end('Add Numbers');?&gt;\n</code>Now for the model\n    <code>class Concatenate extends AppModel {function saveConcat($original,$concatenated) {\n        $this-&gt;set(array(\n        'original' =&gt; $original,\n        'concatenated' =&gt; $concatenated));\n        $this-&gt;save();\n        }}?&gt;\n</code>Now for the controller<code>&lt;?php\nclass ConcatenatesController extends AppController {public  $helpers = array('Html', 'Form');\npublic $components = array('Session');public function index() {\n     $this -&gt;set('concatenates', $this-&gt;Concatenate-&gt;find('all'));  \n}  public function add() {\n    if ($this-&gt;request-&gt;is('post')) {\n        $original = $this-&gt;request-&gt;data['Concatenate']['original'];\n        $concatenated =  $original.\"m\" ;\n        $this-&gt;Concatenate-&gt;saveConcat($original,$concatenated);\n    }\n}function isempty(){ //used to check if there is data in the table. If there isn't any, \"no data\" will be displayed\n       $mysorts = $this-&gt;Concatenate-&gt;find('all');\n       $this-&gt;set('concatenates', $mysorts);\n }\n}\n?&gt;\n</code>\n", "simquery2_title": "Loading JSONL file as JSON objects I want to load a JSONL file as JSON objects in python. Is there an easy way to do so?", "simquery2_answer": "<code>Scanner</code> scans the next element by using <code>new-line</code> or <code>whitespace</code> as a delimiter by default. To let it read the whole content use <code>scan.useDelimiter(&quot;\\\\Z&quot;)</code>.\n<code>Scanner scan = new Scanner(new File(&quot;test.txt&quot;));\nscan.useDelimiter(&quot;\\\\Z&quot;);\nfinal String content = scan.next();   // content: &quot;1 2 3\\r\\n\\r\\n4 5 6&quot;\nint index = 0;\nSystem.out.println(&quot;Index of \\\\n&quot;);\nwhile (index != -1) {\n     index = content.indexOf(&quot;\\n&quot;, index);\n     if (index != -1) {\n          System.out.println(index);\n          // Or do whatever you wish\n          index++;\n     }\n}\n</code>\nOutput:\n<code>Index of \\n\n5\n7\n</code>\n", "total_len": 51, "s1_total_len": 951, "s2_total_len": 289}
{"post_id": "1810743", "title": "How to set the current working directory?", "query": "How to set the current working directory in Python?", "acce_answer": "I think your difficulty is coming from the <code>display: inline;</code> declaration on your <code>a</code>s. You want the <code>a</code>s to display in block mode so that your width and height declarations will properly take effect. Alter your code like so:<code>a.option1,  a.option2, a.option3{\n background-position:top;\n display:block;\n width:230px;\n height:40px;\n}\n</code>Now you want to remove the text, so add the <code>text-indent</code> trick like so:<code>a.option1,  a.option2, a.option3{\n background-position:top;\n display:block;\n width:230px;\n height:40px;\n text-indent:-999em;\n overflow:hidden;\n}\n</code>Hope that helps!\n", "acce_score": "685", "simquery1_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery1_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "simquery2_title": "How to export virtualenv? I'm new to virtualenv but I'm writting django app and finally I will have to deploy it somehow.So lets assume I have my app working on my local virtualenv where I installed all the required libraries. What I want to do now, is to run some kind of script, that will take my virtualenv, check what's installed inside and produce a script that will install all these libraries on fresh virtualenv on other machine. How this can be done? Please help.", "simquery2_answer": "I need a function to check that different user input variables are integers.\nThe results should be confirmed to the user at the end.\nThe check works in that it keeps looping until integer is typed in, \nbut cannot get the results to display...<code>def chkint(msg):\n    while True:\n        try:\n            n = input(msg)\n            return(int(n))\n        except ValueError:\n            print(\"Please enter an actual integer.\")\nnumber1 = input (chkint(\"Please enter first value:\"))number2 = input (chkint(\"Please enter second value:\"))results = (number1, number2)print (\"I have accepted: \" + str (results))\n</code>\n", "total_len": 236, "s1_total_len": 319, "s2_total_len": 269}
{"post_id": "1823058", "title": "How to print a number using commas as thousands separators", "query": "How do I print an integer with commas as thousands separators?<code>1234567   \u27f6   1,234,567</code>It does not need to be locale-specific to decide between periods and commas.", "acce_answer": "You are creating a text node, so html tags are ignored. Use document.createElement instead:<code>var myDiv = document.createElement(\"div\");\nmyDiv.id = 'myDiv';\nmyDiv.innerHTML = 'blah!&lt;br/&gt;';\ndocument.body.appendChild(myDiv);\n</code>\n", "acce_score": "1159", "simquery1_title": "Jinja Templates - Format a float as comma-separated currency I'm trying to format a float as comma-separated currency.  E.g. <code>543921.9354</code> becomes <code>$543,921.94</code>.  I'm using the <code>format</code> filter in Jinja templates, which seems to mimic the <code>%</code> operator in Python rather than the Python <code>format</code> function?How can I accomplish this formatting in Jinja?  Is it possible using the <code>format</code> filter?  This is what I have so far, which accomplishes everything except the commas:<code>\"$%.2f\"|format(543921.9354)</code>which of course yields<code>$543921.94</code>", "simquery1_answer": "How do I get the value in a gridview when one hits the \"Select\" link in a row?If I have a databound, I can get that value. However I am trying to highlight certain labels.The \"HighlightTex\" function lets me highlight some words that the user selects.Here is a snippet: I am trying to get the value of \"lblinvnum\".<code>&lt;asp:GridView ID=\"gvDetails\" runat=\"server\"     AutoGenerateColumns=\"False\" AllowPaging=\"True\"\nAllowSorting=\"True\" DataSourceID=\"SqlDataSource1\"     Width=\"540px\" \n        CssClass=\"Gridview\" &gt;\n&lt;HeaderStyle BackColor=\"#df5015\" /&gt;\n&lt;Columns&gt;\n   &lt;asp:TemplateField HeaderText=\"Invnum\"     ItemStyle-Wrap=\"False\"&gt;\n   &lt;ItemTemplate&gt;\n  &lt;asp:Label ID=\"lblInvnum\" Text='&lt;%#     HighlightText(Eval(\"Invnum\").ToString()) %&gt;' runat=\"server\"     /&gt;\n   &lt;/ItemTemplate&gt;\n</code>...\n...\n... For the \"AmtPaid\" listed below, I can Get that value. I cannot figure out how to get the value for \"lblInvnum\" to the snippet listed above. <code>       &lt;asp:BoundField DataField=\"AmtPaid\" HeaderText=\"AmtPaid\" \n        SortExpression=\"AmtPaid\" DataFormatString=\"{0:c}\" &gt;\n</code>In visual basic, this is how I can get the one above for AmtPaid.<code>        Dim index As Integer = Convert.ToInt32(e.CommandArgument)\n        Dim selectedRow As GridViewRow = gvDetails.Rows(index)\n        Dim contactCell As TableCell = selectedRow.Cells(1)\n        Dim contact As String = contactCell.Text\n</code>Suggestions?\n", "simquery2_title": "How to convert a string to a number if it has commas in it as thousands separators? I have a string that represents a number which uses commas to separate thousands.  How can I convert this to a number in python?<code>&gt;&gt;&gt; int(&quot;1,000,000&quot;)</code>Generates a <code>ValueError</code>.I could replace the commas with empty strings before I try to convert it, but that feels wrong somehow.  Is there a better way?For <code>float</code> values, see How can I convert a string with dot and comma into a float in Python, although the techniques are essentially the same.", "simquery2_answer": "I am currently developing an application for an angle measurement device (goniometer).\nA <code>DataGridView</code> component is used for configuring nominal values (and tolerances) for the measured angles. The user shall be able to enter the angles in various ways, such as 2\u00b0 (for degrees) or 120' (for minutes of arc) or 7200\" (for arcseconds). For this I created a parser which will convert a valid string to the angular value (a double, in degree) or fail if the string is not valid.As I understand the correct point of time to invoke the parser is during handling of the <code>CellParsing</code> event. But how do I correctly handle the case when parsing has failed?According to MSDN sample code I get the idea that I should leave the <code>ParsingApplied</code> property of the <code>DataGridViewCellParsingEventArgs</code> (which is passed to the <code>CellParsing</code> handler) set to <code>false</code>. If I do this (and leave the <code>Value</code> property unchanged) a <code>FormatException</code> is thrown by conversion attempts that are then done by the framework which raises the <code>DataError</code> event.\nInstead of a <code>FormatException</code> which contains a rather unspecific error message I would like to have an exception which contains information about the specific error which caused my parser implementation to fail so that I can show a specific error message in the <code>DataError</code> event. I assumed that I can throw a <code>FormatException</code> myself from within the <code>CellParsing</code> handler but this exception is not caught by the framework and thus does not result in raising the <code>DataError</code> event (in fact the outmost exception handler terminates the application).\n", "total_len": 149, "s1_total_len": 674, "s2_total_len": 579}
{"post_id": "1896918", "title": "Running unittest with typical test directory structure", "query": "The very common directory structure for even a simple Python module seems to be to separate the unit tests into their own <code>test</code> directory:<code>new_project/    antigravity/        antigravity.py    test/        test_antigravity.py    setup.py    etc.</code>My question is simply What's the usual way of actually running the tests? I suspect this is obvious to everyone except me, but you can't just run <code>python test_antigravity.py</code> from the test directory as its <code>import antigravity</code> will fail as the module is not on the path.I know I could modify PYTHONPATH and other search path related tricks, but I can't believe that's the simplest way - it's fine if you're the developer but not realistic to expect your users to use if they just want to check the tests are passing.The other alternative is just to copy the test file into the other directory, but it seems a bit dumb and misses the point of having them in a separate directory to start with.So, if you had just downloaded the source to my new project how would you run the unit tests? I'd prefer an answer that would let me say to my users: &quot;To run the unit tests do X.&quot;", "acce_answer": "I have this array and I want to convert it into string.\nI  try to get string from php <code>implode()</code> function but could not get the desired result.\nThe output I want is <code>arraykey-arrayvalue</code>,<code>arraykey-arrayvalue</code>,<code>arraykey-arrayvalue</code> and so on as long as array limit end.<code> Array ( [1] =&gt; 1 [2] =&gt; 1 [3] =&gt; 1 )\n $data = implode(\",\", $pData);\n //it is creating string like\n $data=1,1,1;\n // but i want like below \n $string=1-1,2-1,3-1; \n</code>\n", "acce_score": "968", "simquery1_title": "Running unittest with typical test directory structure The very common directory structure for even a simple Python module seems to be to separate the unit tests into their own <code>test</code> directory:<code>new_project/    antigravity/        antigravity.py    test/        test_antigravity.py    setup.py    etc.</code>My question is simply What's the usual way of actually running the tests? I suspect this is obvious to everyone except me, but you can't just run <code>python test_antigravity.py</code> from the test directory as its <code>import antigravity</code> will fail as the module is not on the path.I know I could modify PYTHONPATH and other search path related tricks, but I can't believe that's the simplest way - it's fine if you're the developer but not realistic to expect your users to use if they just want to check the tests are passing.The other alternative is just to copy the test file into the other directory, but it seems a bit dumb and misses the point of having them in a separate directory to start with.So, if you had just downloaded the source to my new project how would you run the unit tests? I'd prefer an answer that would let me say to my users: &quot;To run the unit tests do X.&quot;", "simquery1_answer": "I have this array and I want to convert it into string.\nI  try to get string from php <code>implode()</code> function but could not get the desired result.\nThe output I want is <code>arraykey-arrayvalue</code>,<code>arraykey-arrayvalue</code>,<code>arraykey-arrayvalue</code> and so on as long as array limit end.<code> Array ( [1] =&gt; 1 [2] =&gt; 1 [3] =&gt; 1 )\n $data = implode(\",\", $pData);\n //it is creating string like\n $data=1,1,1;\n // but i want like below \n $string=1-1,2-1,3-1; \n</code>\n", "simquery2_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery2_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "total_len": 492, "s1_total_len": 490, "s2_total_len": 589}
{"post_id": "1912434", "title": "How to parse XML and get instances of a particular node attribute?", "query": "I have many rows in XML and I'm trying to get instances of a particular node attribute.<code>&lt;foo&gt;   &lt;bar&gt;      &lt;type foobar=&quot;1&quot;/&gt;      &lt;type foobar=&quot;2&quot;/&gt;   &lt;/bar&gt;&lt;/foo&gt;</code>How do I access the values of the attribute <code>foobar</code>? In this example, I want <code>&quot;1&quot;</code> and <code>&quot;2&quot;</code>.", "acce_answer": "If you mean to obtain the values <code>Calendar</code> have all fields related to time management, with some simple reflection you can doField[] fields = Calendar.class.getFields();<code>for (Field f : fields)\n{\n  String fName = f.toString();\n  System.out.println(fName.substring(fName.lastIndexOf('.')+1).replace(\"_\", \" \").toLowerCase());\n}\n</code>this will output:<code>era\nyear\nmonth\nweek of year\nweek of month\ndate\nday of month\nday of year\nday of week\nday of week in month\nam pm\nhour\nhour of day\nminute\nsecond\nmillisecond\nzone offset\ndst offset\nfield count\nsunday\nmonday\ntuesday\nwednesday\nthursday\nfriday\nsaturday\njanuary\nfebruary\nmarch\napril\nmay\njune\njuly\naugust\nseptember\noctober\nnovember\ndecember\nundecimber\nam\npm\nall styles\nshort\nlong\n</code>from which you can exclude what you don't need.If you need just constants you have them: <code>Calendar.DAY_OF_MONTH</code>, <code>Calendar.YEAR</code> and so on..\n", "acce_score": "1150", "simquery1_title": "Get all text inside a tag in lxml I'd like to write a code snippet that would grab all of the text inside the <code>&lt;content&gt;</code> tag, in lxml, in all three instances below, including the code tags. I've tried <code>tostring(getchildren())</code> but that would miss the text in between the tags. I didn't have very much luck searching the API for a relevant function. Could you help me out?<code>&lt;!--1--&gt;&lt;content&gt;&lt;div&gt;Text inside tag&lt;/div&gt;&lt;/content&gt;#should return &quot;&lt;div&gt;Text inside tag&lt;/div&gt;&lt;!--2--&gt;&lt;content&gt;Text with no tag&lt;/content&gt;#should return &quot;Text with no tag&quot;&lt;!--3--&gt;&lt;content&gt;Text outside tag &lt;div&gt;Text inside tag&lt;/div&gt;&lt;/content&gt;#should return &quot;Text outside tag &lt;div&gt;Text inside tag&lt;/div&gt;&quot;</code>", "simquery1_answer": "You can use <code>buttonType</code> <code>Custom</code>(not RoundRect). and set its <code>BackgroundImage</code>. In those methods which you are talking about just change the <code>BackgroundImage</code> and it will work. Thanks,\n", "simquery2_title": "How to find children of nodes using BeautifulSoup I want to get all the <code>&lt;a&gt;</code> tags which are children of <code>&lt;li&gt;</code>:<code>&lt;div&gt;&lt;li class=\"test\"&gt;    &lt;a&gt;link1&lt;/a&gt;    &lt;ul&gt;        &lt;li&gt;            &lt;a&gt;link2&lt;/a&gt;        &lt;/li&gt;    &lt;/ul&gt;&lt;/li&gt;&lt;/div&gt;</code>I know how to find element with particular class like this:<code>soup.find(\"li\", { \"class\" : \"test\" }) </code>But I don't know how to find all <code>&lt;a&gt;</code> which are children of <code>&lt;li class=test&gt;</code> but not any others.Like I want to select:<code>&lt;a&gt;link1&lt;/a&gt;</code>", "simquery2_answer": "You may zoom/scale the div,example(half size):<code>style=\"zoom:.5;-o-transform: scale(.5);-moz-transform: scale(.5)\"\n</code>\n", "total_len": 457, "s1_total_len": 344, "s2_total_len": 304}
{"post_id": "2018026", "title": "What are the differences between the urllib, urllib2, urllib3 and requests module?", "query": "In Python, what are the differences between the <code>urllib</code>, <code>urllib2</code>, <code>urllib3</code> and <code>requests</code> modules? Why are there three? They seem to do the same thing...", "acce_answer": "Maybe the solution is here: http://blogs.msdn.com/b/ieinternals/archive/2011/08/03/internet-explorer-automation-protected-mode-lcie-default-integrity-level-medium.aspxIt explained the different levels of tabs, in ie. You have to use the \"medium tab\" to navigate in local zone.Basically, the best way to keep your ie settings and use your script is to create a registry key, as explained in the link above.<code>Windows Registry Editor Version 5.00[HKEY_CLASSES_ROOT\\InternetExplorer.ApplicationMedium][HKEY_CLASSES_ROOT\\InternetExplorer.ApplicationMedium\\CLSID] \n@=\"{D5E8041D-920F-45e9-B8FB-B1DEB82C6E5E}\"\n</code>And in your script, use this new com object:<code>$ie = new-object -Com InternetExplorer.ApplicationMedium\n...\n</code>\n", "acce_score": "992", "simquery1_title": "Python requests - print entire http request (raw)? While using the <code>requests</code> module, is there any way to print the raw HTTP request? I don't want just the headers, I want the request line, headers, and content printout. Is it possible to see what ultimately is constructed from HTTP request?", "simquery1_answer": "first, use <code>mysqli</code> or <code>PDO</code> instead of <code>mysql</code>. <code>mysql</code> is deprecated as of PHP 5.5.0, and will be removed in the future.second, I am not familiar with the structure of your tables and the design of your database, but from what I can see, you do not need two queries and you can fetch all the data you need with one query using <code>join</code>third, I have used <code>username</code> field as the parameter to post because I do not know you database design, if you have an <code>ID integer type</code> field for each user, it's better to use it instead of <code>username</code>fourth, you have to create a hidden input with the value of the username in each form and post it along with your <code>leavestatus</code>.your code needed a lot more clean-up and performance fixes which I did some of them but not all of them.so your code will be something like this(I did not changed you <code>mysql</code> to <code>mysqli</code> so you need to do some research on it):<code>&lt;?php\nif(isset($_POST['leavestatus'])){\n    if($_POST['leavestatus'] == 'Approve Leave'){\n        $stmt = \"UPDATE leavetable SET forwardedtohod = 1,forwardedtoteacher = 0 WHERE username = '\".$_POST['hdnUsername'].\"'\";\n        mysql_query($stmt);\n    }\n    elseif($_POST['leavestatus'] == 'Reject Leave'){\n        $stmt = \"UPDATE leavetable SET fromdate = '',enddate ='',session = '',typeofleave = '',forwardedtoteacher=0,forwardedtohod=0 WHERE username= '\".$_POST['hdnUsername'].\"'\";\n        mysql_query($stmt); \n    }\n}\n$query = \"SELECT leavetable.*, user.fname, user.lname, user.designation, user.phonenumber\";\n$query .= \" FROM leavetable\";\n$query .= \" left join user\";\n$query .= \" on leavetable.username = user.username\";\n$query .= \" WHERE leavetable.forwardedtoteacher=1\";$result = mysql_query($query);\nwhile($row = mysql_fetch_array($result)){\n    $username = $row['username'];\n    $sdate = $row['fromdate'];\n    $edate = $row['enddate'];\n    $session = $row['session'];\n    $reason = $row['reason'];\n    $fname = $row['fname'];\n    $lname = $row['lname'];\n    $designation = $row['designation'];\n    $phonenumber = $row['phonenumber'];\n    echo'&lt;table&gt;&lt;tr&gt;&lt;td&gt;First name &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$fname.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;Last name &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$lname.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;Designation&lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$designation.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;Phonenumber &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$phonenumber.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;Start Date &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$sdate.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;End Date &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$edate.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;Session  &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$session.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;tr&gt;&lt;td&gt;Reason &lt;/td&gt;&lt;td style=\"padding-left:20px;\"&gt;'.$reason.'&lt;/td&gt;&lt;/tr&gt;';\n    echo'&lt;/table&gt;\\n';    echo '&lt;form action =\"'.$_SERVER['PHP_SELF'].'\" method=\"POST\"&gt;'\n    echo '&lt;input type=\"hidden\" name=\"hdnUsername\" value=\"'.$username.'\"&gt;';\n    echo '&lt;select name=\"leavestatus\"&gt;';\n    echo '&lt;option value=\"Approve Leave\"&gt;Approve Leave&lt;/option&gt;';\n    echo '&lt;option value=\"Reject Leave\"&gt;Reject Leave&lt;/option&gt;';\n    echo '&lt;/select&gt;';\n    echo '&lt;/form&gt;';    echo \"&lt;hr&gt;\";\n}\n?&gt;\n</code>\n", "simquery2_title": "Python: Get HTTP headers from urllib2.urlopen call? Does <code>urllib2</code> fetch the whole page when a <code>urlopen</code> call is made?  I'd like to just read the HTTP response header without getting the page. It looks like <code>urllib2</code> opens the HTTP connection and then subsequently gets the actual HTML page... or does it just start buffering the page with the <code>urlopen</code> call?<code>import urllib2myurl = 'http://www.kidsidebyside.org/2009/05/come-and-draw-the-circle-of-unity-with-us/'page = urllib2.urlopen(myurl) // open connection, get headershtml = page.readlines()  // stream page</code>", "simquery2_answer": "First of all, do you really need to do this? Maybe the class in the third-party library is not serializable by design. Even if it's just an omission rather than a deliberate decision, it's easy enough to write a custom serialization method in a helper class. If you have to do this though (like I had to, for something similar). Take a look at Javassist. You can do something like this:<code>ClassPool pool = ClassPool.getDefault();\nCtClass cc = pool.get(\"mypackage.MyClass\");\ncc.addInterface(pool.get(\"java.io.Serializable\"))\n</code>EDIT: You can use a third-party Serialization API like XStream instead of doing all the dirty work yourself.\n", "total_len": 330, "s1_total_len": 1451, "s2_total_len": 364}
{"post_id": "2052390", "title": "Manually raising (throwing) an exception in Python", "query": "How do I raise an exception in Python so that it can later be caught via an <code>except</code> block?", "acce_answer": "Something like this maybe - use a union<code>SELECT l.cmid,\n        MAX(l.time) as logtime,\n        cat.id as catid,\n        cat.name as catname,\n        c.id as courseid,\n        c.fullname as coursename,\n        mods.module,\n        mods.revision,\n        mods.name as modname\nFROM mdl_log l\nJOIN mdl_user u ON l.userid = u.id\nJOIN mdl_course c ON l.course = c.id\nJOIN mdl_course_categories cat ON c.category = cat.id\nJOIN (\n    SELECT cm.id AS cmid, m.name AS module, r.name, r.revision\n    FROM mdl_course_modules cm\n    JOIN mdl_modules m ON cm.module = m.id AND m.name = 'resource'\n    JOIN mdl_resource r ON r.id = cm.instance\n    UNION\n    SELECT cm.id AS cmid, m.name as modulentype, s.name, NULL AS revision\n    FROM mdl_course_modules cm\n    JOIN mdl_modules m ON cm.module = m.id AND m.name = 'scorm'\n    JOIN mdl_scorm s ON s.id = cm.instance\n    UNION\n    SELECT cm.id AS cmid, m.name as modulentype, g.name, NULL AS revision\n    FROM mdl_course_modules cm\n    JOIN mdl_modules m ON cm.module = m.id AND m.name = 'glossary'\n    JOIN mdl_glossary g ON g.id = cm.instance\n    UNION\n    SELECT cm.id AS cmid, m.name as modulentype, q.name, NULL AS revision\n    FROM mdl_course_modules cm\n    JOIN mdl_modules m ON cm.module = m.id AND m.name = 'quiz'\n    JOIN mdl_quiz q ON q.id = cm.instance\n    ) mods ON mods.cmid = l.cmid AND mods.module = l.module\nWHERE l.module IN ('resource', 'scorm', 'glossary', 'quiz')\nGROUP BY l.cmid\nORDER BY 1 DESC\n</code>\n", "acce_score": "3106", "simquery1_title": "e.printStackTrace equivalent in python I know that <code>print(e)</code> (where e is an Exception) prints the occurred exceptionbut, I was trying to find the python equivalent of Java's <code>e.printStackTrace()</code> that exactly traces the exception to what line it occurred and prints the entire trace of it.Could anyone please tell me the equivalent of <code>e.printStackTrace()</code> in Python?", "simquery1_answer": "AFAIK, no. But you can use the getDelegate() method and see what it returns. For Hibernate, it returns the Hibernate <code>Session</code> instance, for example. Just getting the name of the class of the delegate returned should give you an idea of the underlying provider.\n", "simquery2_title": "In Python, what's the difference between 'except Exception as e' and 'except Exception, e' In python, there are two ways to catch an exception <code>except Exception, e:except Exception as e:</code>It seems like 'as e' is the one to use going forward.  In what version of python did this change?  Any idea why?", "simquery2_answer": "I would encapsulate it into a function that can be easily re-used:<code>&lt;?php\n/**\n * If GET variable exists use it as the cookie value.\n * If the Variable doesn't exist use a default value.\n * If the Cookie already exists use that value instead of a new one.\n * \n * @param string $name name of cookie / get variable\n * @param string $default default value\n * @return string the value.\n */\nfunction cookie_get_value($name, $default) {\n    if (isset($_COOKIE[$name])) {\n        $value = $_COOKIE[$name];\n    } else {\n        $value = isset($_GET[$name]) ? $_GET[$name] : $default;\n        setcookie($name, $value , time() + 31536000);\n    }\n    return $value;\n}echo cookie_get_value('id', '115');\n</code>In the end you need to do the if's you'd need to do. It's not always easy to make the own code better, however if you put it into a function of it's own it's easier to modify.\n", "total_len": 579, "s1_total_len": 159, "s2_total_len": 358}
{"post_id": "2186525", "title": "How to use to find files recursively?", "query": "I would like to list all files recursively in a directory. I currently have a directory structure like this:<code>src/main.c</code><code>src/dir/file1.c</code><code>src/another-dir/file2.c</code><code>src/another-dir/nested/files/file3.c</code>I've tried to do the following:<code>from glob import globglob(os.path.join('src','*.c'))</code>But this will only get be files directly in the <code>src</code> subfolder, e.g. I get <code>main.c</code> but I will not get <code>file1.c</code>, <code>file2.c</code> etc.<code>from glob import globglob(os.path.join('src','*.c'))glob(os.path.join('src','*','*.c'))glob(os.path.join('src','*','*','*.c'))glob(os.path.join('src','*','*','*','*.c'))</code>But this is obviously limited and clunky, how can I do this properly?", "acce_answer": "<code>  ;returs a list wich looks like ((nr l[0]) (nr l[1])......)\n  (define cart-1(\u03bb(l nr)\n      (if (null? l) \n             l \n             (append (list (list nr (car l))) (cart-1 (cdr l) nr)))));Cartesian product for 2 lists\n(define cart-2(\u03bb(l1 l2)\n                (if(null? l2) \n             '() \n             (append (cart-1 l1 (car l2)) (cart-2 l1 (cdr l2)))))) ;flattens a list containg sublists\n(define flatten\n(\u03bb(from)\n (cond [(null? from) from]\n      [(list? (car from)) (append (flatten (car from)) (flatten (cdr from)))]\n      [else (cons (car from) (flatten (cdr from)))])}) ;applys flatten to every element of l\n(define flat\n(\u03bb(l)\n(if(null? l)\nl\n(cons (flatten (car l)) (flat (cdr l))))));computes Cartesian product for a list of lists by applying cart-2\n(define cart\n(lambda (liste aux)\n (if (null? liste)\n  aux\n  (cart (cdr liste) (cart-2 (car liste) aux)))))\n(define (cart-n l) (flat (cart (cdr l ) (car l))))\n</code>\n", "acce_score": "998", "simquery1_title": "constructing absolute path with os.path.join() I'd like to construct an absolute path in python, while at the same time staying fairly oblivious of things like path-separator.edit0: for instance there is a directory on the root of my filesystem <code>/etc/init.d</code> (or <code>C:\\etc\\init.d</code> on w32), and I want to construct this only from the elements <code>etc</code> and <code>init.d</code> (on w32, I probably also need a disk-ID, like <code>C:</code>)In order to not having to worry about path-separators, <code>os.join.path()</code> is obviously the tool of choice. But it seems that this will only ever create relative paths:<code> print(&quot;MYPATH: %s&quot; % (os.path.join('etc', 'init.d'),) MYPATH: etc/init.d</code>Adding a dummy first-element (e.g. <code>''</code>) doesn't help anything:<code> print(&quot;MYPATH: %s&quot; % (os.path.join('', 'etc', 'init.d'),) MYPATH: etc/init.d</code>Making the first element absolute obviously helps, but this kind of defeats the idea of using <code>os.path.join()</code><code> print(&quot;MYPATH: %s&quot; % (os.path.join('/etc', 'init.d'),) MYPATH: /etc/init.d</code>edit1: using <code>os.path.abspath()</code> will only try to convert a relative path into an absolute path.e.g. consider running the following in the working directory <code>/home/foo</code>:<code> print(&quot;MYPATH: %s&quot; % (os.path.abspath(os.path.join('etc', 'init.d')),) MYPATH: /home/foo/etc/init.d</code>So, what is the standard cross-platform way to &quot;root&quot; a path?<code> root = ??? # &lt;-- print(&quot;MYPATH: %s&quot; % (os.path.join(root, 'etc', 'init.d'),) MYPATH: /etc/init.d</code>edit2: the question really boils down to: since the leading slash in <code>/etc/init.d</code> makes this path an absolute path, is there a way to construct this leading slash programmatically?(I do not want to make assumptions that a leading slash indicates an absolute path)", "simquery1_answer": "what is the proper path to source js?<code>&lt;script type=\"text/javascript\"&gt;\nfunction downloadJSAtOnload() {\nvar element = document.createElement(\"script\");\nelement.src = \"/public_html/wp-content/plugins/revslider/js/jquery.tipsy.js\";\ndocument.body.appendChild(element);\n}\nif (window.addEventListener)\nwindow.addEventListener(\"load\", downloadJSAtOnload, false);\nelse if (window.attachEvent)\nwindow.attachEvent(\"onload\", downloadJSAtOnload);\nelse window.onload = downloadJSAtOnload;\n&lt;/script&gt;\n</code>when i use this i got error:<code> Failed to load resource: the server responded with a status of 404 (Not Found)\n</code>thank you..\n", "simquery2_title": "How are glob.glob()'s return values ordered? I have written the following Python code:<code>#!/usr/bin/python# -*- coding: utf-8 -*-import os, globpath = '/home/my/path'for infile in glob.glob( os.path.join(path, '*.png') ):    print infile</code>Now I get this:<code>/home/my/path/output0352.png/home/my/path/output0005.png/home/my/path/output0137.png/home/my/path/output0202.png/home/my/path/output0023.png/home/my/path/output0048.png/home/my/path/output0069.png/home/my/path/output0246.png/home/my/path/output0071.png/home/my/path/output0402.png/home/my/path/output0230.png/home/my/path/output0182.png/home/my/path/output0121.png/home/my/path/output0104.png/home/my/path/output0219.png/home/my/path/output0226.png/home/my/path/output0215.png/home/my/path/output0266.png/home/my/path/output0347.png/home/my/path/output0295.png/home/my/path/output0131.png/home/my/path/output0208.png/home/my/path/output0194.png</code>In which way is it ordered?To clarify: I am not interested in ordering - I know <code>sorted</code>. I want to know in which order it comes by default.It might help you to get my ls -l output:<code>-rw-r--r-- 1 moose moose 627669 2011-07-17 17:26 output0005.png-rw-r--r-- 1 moose moose 596417 2011-07-17 17:26 output0023.png-rw-r--r-- 1 moose moose 543639 2011-07-17 17:26 output0048.png-rw-r--r-- 1 moose moose 535384 2011-07-17 17:27 output0069.png-rw-r--r-- 1 moose moose 543216 2011-07-17 17:27 output0071.png-rw-r--r-- 1 moose moose 561776 2011-07-17 17:27 output0104.png-rw-r--r-- 1 moose moose 501865 2011-07-17 17:27 output0121.png-rw-r--r-- 1 moose moose 547144 2011-07-17 17:27 output0131.png-rw-r--r-- 1 moose moose 530596 2011-07-17 17:27 output0137.png-rw-r--r-- 1 moose moose 532567 2011-07-17 17:27 output0182.png-rw-r--r-- 1 moose moose 553562 2011-07-17 17:27 output0194.png-rw-r--r-- 1 moose moose 574065 2011-07-17 17:27 output0202.png-rw-r--r-- 1 moose moose 552197 2011-07-17 17:27 output0208.png-rw-r--r-- 1 moose moose 559809 2011-07-17 17:27 output0215.png-rw-r--r-- 1 moose moose 549046 2011-07-17 17:27 output0219.png-rw-r--r-- 1 moose moose 566661 2011-07-17 17:27 output0226.png-rw-r--r-- 1 moose moose 561678 2011-07-17 17:27 output0246.png-rw-r--r-- 1 moose moose 525550 2011-07-17 17:27 output0266.png-rw-r--r-- 1 moose moose 565715 2011-07-17 17:27 output0295.png-rw-r--r-- 1 moose moose 568381 2011-07-17 17:28 output0347.png-rw-r--r-- 1 moose moose 532768 2011-07-17 17:28 output0352.png-rw-r--r-- 1 moose moose 535818 2011-07-17 17:28 output0402.png</code>It is not ordered by filename or size.Other links: <code>glob</code>, <code>ls</code>", "simquery2_answer": "Eureka! This wasn't a thread issue at all. This was my fault (surprise!).I wasn't completely truthful about the original code. It actually looked like this:<code>final long sleepLength = transitionIntervalManager.pollState();\ntry\n{\n    Log.d(getLogTag(), \"Ready to sleep for \"+sleepLength);\n    Thread.sleep(sleepLength);\n</code>This <code>transitionIntervalManager</code> is a fancy class I've written to actually slow the transitions down over time. I had a bug so that, when it gets to the last (slowest) transition time, calling <code>pollState</code> would go into an endless loop and never return. Because that method was called before the first log, the log would never get written---and my thread would still be churning away trying to get the next transition. (No wonder my laptop fan came on!)I tried to simplify the code, and I didn't realize I was simplifying away the problem---I mean, how could such a simple piece of code have bugs. ;)\n", "total_len": 635, "s1_total_len": 813, "s2_total_len": 1712}
{"post_id": "2225038", "title": "Determine the type of an object?", "query": "Is there a simple way to determine if a variable is a list, dictionary, or something else?", "acce_answer": "Here's a partial idea:<code>SELECT watches_US.*, prices.*, watches_US.watches_ID as current_ID,\n    prices2.prices_am as new_price, \n    prices2.prices_date as new_price_date, \n    ( SELECT prices_am FROM prices WHERE ( prices_watches_ID = current_ID AND prices_locale = 'US') AND ( prices_date &gt;= DATE_SUB(new_price_date,INTERVAL 30 HOUR) ) ORDER BY prices_date ASC LIMIT 1 ) as old_price,\n    ( SELECT ROUND(((new_price - old_price)/old_price)*100,2) ) as percent_change,\n    ( SELECT (new_price - old_price) ) as absolute_change\nFROM watches_US \nLEFT OUTER JOIN prices ON prices.prices_watches_ID = watches_US.watches_ID \nLEFT OUTER JOIN prices prices2 ON prices2.prices_watches_ID = watches_US.watches_ID \nWHERE ( prices_locale = 'US' )\nAND ( prices_am IS NOT NULL )\nAND ( prices_am != '' )\nAND ( prices2.prices_date IN (SELECT MAX(price_date) FROM prices WHERE prices_watches_ID = watches_US.watches_ID AND prices_locale = 'US' )\nHAVING ( old_price IS NOT NULL )\nAND ( old_price != 0 )\nAND ( old_price != '' )\nAND ( absolute_change &lt; 0 )\nAND ( prices.prices_date = new_price_date )\nORDER BY absolute_change ASC\nLIMIT 10\n</code>The changes are the second join on prices that's used to get new_price and new_price_date with the a WHERE clause to select only the most recent entry. You could probably clean it up a bit but I wanted to get it out there.\n", "acce_score": "2110", "simquery1_title": "Why is 'dir()' named 'dir' in python? In Python there is a built-in function called <code>dir</code>.  This is used to get a list of all the attributes for an object.I understand what it does, but I am confused about why it is called <code>dir</code>.  How is this name related to getting the attributes from an object?", "simquery1_answer": "You could do it any number of wayslet's say, in your action method, you add a template variable like so<code>$this-&gt;jsVar = 'foo';\n</code>Then, in your template file(s)<code>echo javascript_tag( 'var name=\"' . $jsVar . '\";' );\n</code>or<code>&lt;script type=\"text/javascript\"&gt;\n  var name='&lt;?php echo $jsVar; ?&gt;';\n&lt;/script&gt;\n</code>EDITOk, based on your specific needs, you'll need to do a few things.  First, look at your page template (the one located in <code>apps/app-name/templates</code> - you should see a line that looks like this<code>&lt;?php include_javascripts(); ?&gt;\n</code>That's the function that takes all javascript resources defined in <code>view.yml</code> files or those included by the <code>use_javascript()</code> helper and prints them to the page.So our goal, then, is to put a javascript block in front of where all the other scripts are included (and by in-front, I mean appearing first in source-order)To solve this in a somewhat flexible manner, let's use a slot.  Modify the above line in your page template to look like this<code>&lt;?php\n  if ( has_slot( 'global_js_setup' ) )\n  {\n    include_slot( 'global_js_setup' );\n  }\n  include_javascripts();\n?&gt;\n</code>Then, in your action method<code>sfLoader::loadHelpers( 'Asset' );\n$this-&gt;getResponse()-&gt;setSlot(\n    'global_js_setup',\n  , javascript_tag( 'var name=\"value\";' );\n);\n</code>You could extend this idea by using component slots if you wanted to.\n", "simquery2_title": "What's the canonical way to check for type in Python? How do I check if an object is of a given type, or if it inherits from a given type?How do I check if the object <code>o</code> is of type <code>str</code>?Beginners often wrongly expect the string to already be &quot;a number&quot; - either expecting Python 3.x <code>input</code> to convert type, or expecting that a string like <code>'1'</code> is also simultaneously an integer. This is the wrong canonical for those questions. Please carefully read the question and then use How do I check if a string represents a number (float or int)?, How can I read inputs as numbers? and/or Asking the user for input until they give a valid response as appropriate.", "simquery2_answer": "Try this:<code>foreach (string propertyName in result.Properties.PropertyNames)\n{\n    MessageBox.Show(result.Properties[propertyName].ToString());\n}\n</code>Or this:<code>foreach (object prop in result.Properties)\n{\n     MessageBox.Show(prop.ToString());\n}\n</code>Also: there are a couple different PropertyCollections classes in the framework.  These examples are based on the System.Data class, but you might also be using the System.DirectoryServices class.  However, neither of those classes are really \"reflection\".  Reflection refers to something different- namely the System.Reflection namespace plus a couple special operators.\n", "total_len": 494, "s1_total_len": 548, "s2_total_len": 333}
{"post_id": "2257441", "title": "Random string generation with upper case letters and digits", "query": "How do I generate a string of size N, made of numbers and uppercase English letters such as:6U1S754Z4UKKU911K4", "acce_answer": "My sample file is like below:<code>H343423     Something1          Something2                                                \nC343423              0   \nA23423432     asdfasdf sdfs \n#2342323\n</code>I have the following regex:<code>if (line =~ /^[HC]\\d+\\s/) != nil \n  puts line\nend\n</code>Basically I want to read everything that starts with H or C and is followed by numbers and I want to stop reading when space is encountered (I want to read one word).Output I want is:<code>H343423\nC343423\n</code>Output my RegEx is getting is:<code>H343423     Something1          Something2                                                \nC343423              0   \n</code>So it is fetching the whole line but I just want it to stop after first word is read. Any help?\n", "acce_score": "1703", "simquery1_title": "Generate a random letter in Python Is there a way to generate random letters in Python (like random.randint but for letters)? The range functionality of random.randint would be nice but having a generator that just outputs a random letter would be better than nothing.", "simquery1_answer": "I have an anchor tag in my table header and it calls a controller method. I used this,<code>&lt;th width=\"15%\" align=\"center\" class=\"grid_header\"&gt;Category\n  &lt;?=anchor('customer/basic/'.$keyword.'/Category/'.$this-&gt;customerlist-&gt;\n fieldTest('dbCategory', $sort_field, $sort_order), 'Category')?&gt;&lt;/th&gt;\n</code>and i have this method,<code> function Basic($keyword = $this-&gt;input-&gt;post('keyword'),$sort_field = 'default_field',$sort_order = 'default_order')\n    {\n        //Using form input to determine what fields to search in the table with $keyword        $section = $this-&gt;input-&gt;post('section');\n        //Start prepping the query\n        foreach($section as $key =&gt; $tbl_field) \n        {\n            //For first field generate 'like' statement, the rest get 'or_like'\n            if($key == 0) {$this-&gt;db-&gt;like($tbl_field, $keyword); }\n            if($key &gt; 0) { $this-&gt;db-&gt;or_like($tbl_field, $keyword); }\n        }\n        //Perform the query, and set the results as an array\n        $query = $this-&gt;db-&gt;get('tbl_customer');\n        $result = $query-&gt;result_array;\n        //Sort the Array\n        $result = $this-&gt;customerlist-&gt;orderBy($result, $sort_field, $sort_order);\n        $data['customerdata'] = (object)$result;  //I like to work with objects in my views\n        print_r($data['customerdata']);\n        //Load the view with the sorted search results\n        $data['keyword']=$keyword;        //\n        $data['sort_field']=$sort_field;  // send these to the view for sorting links\n        $data['sort_order']=$sort_order;   //\n        $this-&gt;load-&gt;view('customerdetails', $data);\n   } \n</code>I get the error <code>Parse error: syntax error, unexpected T_VARIABLE</code> in the line <code>function Basic($keyword = $this-&gt;input-&gt;post('keyword'),$sort_field = \n                    'default_field',$sort_order = 'default_order')\n</code>Any suggestion...EDIT:\nSource: http://codeigniter.com/forums/viewthread/112696/#571876\n", "simquery2_title": "Finding all possible permutations of a given string in python I have a string. I want to generate all permutations from that string, by changing the order of characters in it. For example, say:<code>x='stack'</code>what I want is a list like this,<code>l=['stack','satck','sackt'.......]</code>Currently I am iterating on the list cast of the string, picking 2 letters randomly and transposing them to form a new string, and adding it to set cast of l. Based on the length of the string, I am calculating the number of permutations possible and continuing iterations till set size reaches the limit.There must be a better way to do this. ", "simquery2_answer": "If you don't change the value of <code>sortable</code> property of the columns dynamically you don't need to do this on every grid refreshing. The columns will be created once at the creating of jqGrid. So you can just place the code which fixes the cursor on non-sortable columns after the grid definition. So you don't need to use <code>gridComplete</code> or any other callback.By the way I use the word \"callback\" instead of \"event\" used in jqGrid documentation because you can define really one callback per grid. So you can't easy define somewhere in common place <code>gridComplete</code> with common actions and use another <code>gridComplete</code> in the grid definition. So if you define <code>gridComplete</code> as default option <code>$.jgrid.defaults</code> (see here) it will default till you not overwrite it in the definition of some jqGrid. To fix the problem I posted detailed suggestion how to extend functionality of jqGrid to support real events. Later I posted pull request with the changes. After long discussion the functionality is included in the code of jqGrid. So the next version jqGrid (which should be published in a short time) will do have support events additionally to callbacks.\n", "total_len": 286, "s1_total_len": 707, "s2_total_len": 450}
{"post_id": "2349991", "title": "How do I import other Python files?", "query": "How do I import files in Python? I want to import:a file (e.g. <code>file.py</code>)a foldera file dynamically at runtime, based on user inputone specific part of a file (e.g. a single function)", "acce_answer": "I've scoured the interwebs and found many posts regarding how to change the colors of a list view using a list selector.  However it does not seem to work for me.  So my question would be what am I doing wrong?When I use the below files I get a list where all item backgrounds are initially blue.  (I expected white)  When I move the focus up and down the text just changes to a dark grey and the item backgrounds are still blue.  (This is when I would expect a single row to be blue with the rest white)When I click on a row the background of the row I clicked on turns black and all other rows turned green.  (I expected to have the row I clicked turn green and the rest be white)Here is my main layout file:<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    &gt;\n&lt;ListView\n    android:id=\"@android:id/list\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:listSelector=\"@drawable/item_selector\"\n    /&gt;\n&lt;TextView\n    android:id=\"@android:id/empty\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/empty\"\n    /&gt;\n&lt;/LinearLayout&gt;\n</code>Here is my list item file:<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"fill_parent\"\n    android:orientation=\"horizontal\" \n    android:padding=\"10sp\"&gt;\n    &lt;CheckBox\n        android:id=\"@+id/checkbox\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:focusable=\"false\"\n        /&gt;\n    &lt;TextView \n        android:id=\"@+id/title\" \n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:ellipsize=\"end\"\n        android:singleLine=\"true\" \n        android:textStyle=\"bold\"\n        android:padding=\"7dip\"\n        android:textSize=\"18sp\"\n        android:layout_toRightOf=\"@id/checkbox\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code>Here is my colors file:<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt; \n    &lt;color name=\"red\"&gt;#ff00&lt;/color&gt;\n    &lt;color name=\"green\"&gt;#f0f0&lt;/color&gt;\n    &lt;color name=\"blue\"&gt;#f00f&lt;/color&gt;\n    &lt;color name=\"white\"&gt;#ffff&lt;/color&gt;\n&lt;/resources&gt;\n</code>Here is my selector file:<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item \n        android:state_pressed=\"true\" \n        android:drawable=\"@color/green\" /&gt;\n    &lt;item \n        android:state_focused=\"true\" \n        android:drawable=\"@color/blue\" /&gt;\n    &lt;item \n        android:drawable=\"@color/white\" /&gt;\n&lt;/selector&gt;\n</code>Hopefully it's something dumb and simple that I'm doing wrong.Thanks in advance.\n", "acce_score": "1192", "simquery1_title": "Import a module from a relative path How do I import a Python module given its relative path?For example, if <code>dirFoo</code> contains <code>Foo.py</code> and <code>dirBar</code>, and <code>dirBar</code> contains <code>Bar.py</code>, how do I import <code>Bar.py</code> into <code>Foo.py</code>?Here's a visual representation:<code>dirFoo\\    Foo.py    dirBar\\        Bar.py</code><code>Foo</code> wishes to include <code>Bar</code>, but restructuring the folder hierarchy is not an option.", "simquery1_answer": "My coworker is insisting that the use of a global modification number to mask query string IDs is a good idea. <code>public static readonly int ModificationNumber = 9081234;\n</code>And Elsewhere:<code>_addressID = Convert.ToInt32(Request.QueryString[\"AddressId\"]) - ModificationNumber;\n</code>I can't seem to get my head around this.  If someone wanted to try some url hacking then a modification number makes no difference at all. Are there other reasons this would make a site more secure?Furthermore, are there explicit reasons this is bad?  In my mind the less globals the better.\n", "simquery2_title": "Is module __file__ attribute absolute or relative? I'm having trouble understanding <code>__file__</code>. From what I understand, <code>__file__</code> returns the absolute path from which the module was loaded. I'm having problem producing this: I have a <code>abc.py</code> with one statement <code>print __file__</code>, running from <code>/d/projects/</code> <code>python abc.py</code> returns <code>abc.py</code>. running from <code>/d/</code> returns <code>projects/abc.py</code>. Any reasons why?", "simquery2_answer": "Is this OK?\n(a[i] = f(a[i-k], a[i-k+1], ... a[i-1]) instead of a[i] = f(a[i-1], a[i-2], ... a[i-k]), since I prefer to this way)<code>/**\n  Generating a Stream[T] by the given first k items and a function map k items to the next one.\n*/\ndef getStream[T](f : T =&gt; Any,a : T*): Stream[T] = { \n  def invoke[T](fun: T =&gt; Any, es: T*): T = {\n    if(es.size == 1) fun.asInstanceOf[T=&gt;T].apply(es.head)\n    else invoke(fun(es.head).asInstanceOf[T =&gt; Any],es.tail :_*)\n  }\n  Stream.iterate(a){ es =&gt; es.tail :+ invoke(f,es: _*)}.map{ _.head }\n}\n</code>For example, the following code to generate Fibonacci sequence.<code>scala&gt; val fn = (x: Int, y: Int) =&gt; x+y\nfn: (Int, Int) =&gt; Int = &lt;function2&gt;scala&gt; val fib = getStream(fn.curried,1,1)\nfib: Stream[Int] = Stream(1, ?)scala&gt; fib.take(10).toList\nres0: List[Int] = List(1, 1, 2, 3, 5, 8, 13, 21, 34, 55)\n</code>The following code can generate a sequence {an} where a1 = 1, a2 = 2, a3 = 3, a(n+3\uff09 = a(n) + 2a(n+1) + 3a(n+2).<code>scala&gt; val gn = (x: Int, y: Int, z: Int) =&gt; x + 2*y + 3*z\ngn: (Int, Int, Int) =&gt; Int = &lt;function3&gt;scala&gt; val seq = getStream(gn.curried,1,2,3)\nseq: Stream[Int] = Stream(1, ?)scala&gt; seq.take(10).toList\nres1: List[Int] = List(1, 2, 3, 14, 50, 181, 657, 2383, 8644, 31355)\n</code>\n", "total_len": 1057, "s1_total_len": 306, "s2_total_len": 784}
{"post_id": "2356501", "title": "How do you round UP a number?", "query": "How does one round a number UP in Python?I tried <code>round(number)</code> but it rounds the number down. Here is an example:<code>round(2.3) = 2.0 </code>and not 3, as I would like.Then I tried <code>int(number + .5)</code> but it round the number down again! Example:<code>int(2.3 + .5) = 2</code>", "acce_answer": "DIVs don't have the width/height/border attributes.  You should use styles instead.  Even better use CSS classes to style your DIV.<code>&lt;style type=\"text/css\"&gt;\n.message {\n    width: 100px;\n    height: 200px;\n    border: solid 1px #000;\n}\n&lt;/style&gt;&lt;div id=\"div1\" class=\"message\"&gt;test&lt;/div&gt;\n</code>You might also want to consider using the jQuery hover method rather than mousein/out.  While there are times that mousein/out are more appropriate, I've found that the behavior usually desired is a hover effect.  This is easiest to handle in a browser-independent way with a JS framework, like jQuery.<code> $('#div1').hover( function() {\n       $(this).text('mouse in');\n   },\n   function() {\n       $(this).text('mouse out');\n   }\n });\n</code>\n", "acce_score": "762", "simquery1_title": "Difference between the built-in pow() and math.pow() for floats, in Python? Is there a difference in the results returned by Python's built-in <code>pow(x, y)</code> (no third argument) and the values returned by <code>math.pow()</code>, in the case of two float arguments.I am asking this question because the documentation for <code>math.pow()</code> implies that <code>pow(x, y)</code> (i.e. <code>x**y</code>) is essentially the same as <code>math.pow(x, y)</code>:  math.pow(x, y)    Return x raised to the power y. Exceptional cases  follow Annex \u2018F\u2019 of the C99 standard as far as possible. In  particular, pow(1.0, x) and pow(x, 0.0) always return 1.0, even when x  is a zero or a NaN. If both x and y are finite, x is negative, and y  is not an integer then pow(x, y) is undefined, and raises ValueError.    Changed in version 2.6: The outcome of 1**nan and nan**0 was undefined.Note the last line: the documentation implies that the behavior of <code>math.pow()</code> is that of the exponentiation operator <code>**</code> (and therefore of <code>pow(x, y)</code>).  Is this officially guaranteed?Background: My goal is to provide an implementation of both the built-in <code>pow()</code> and of <code>math.pow()</code> for numbers with uncertainty that behaves in the same way as with regular Python floats (same numerical results, same exceptions, same results for corner cases, etc.). I have already implemented something that works quite well, but there are some corner cases that need to be handled.", "simquery1_answer": "Try removing the <code>belongsTo</code> in your <code>Phone</code> class.  By defining <code>cascades</code> in the mapping of <code>Network</code> you don't need the <code>belongsTo</code>, as that defines only a save-delete cascade for the relationship.\n", "simquery2_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery2_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "total_len": 360, "s1_total_len": 509, "s2_total_len": 218}
{"post_id": "2485466", "title": "What is Python's equivalent of && (logical-and) in an if-statement?", "query": "This doesn't work:<code>if cond1 &amp;&amp; cond2:</code>", "acce_answer": "Well, you can set <code>async: false</code> on your AJAX call to make the browser wait for the request to finish before doing anything else, but note that this will 'hang' the browser for the duration of the request.\n<code>$.ajax({\n    type: 'POST',\n    async: false,\n    url: '/clientarea/utils/record-time',\n    data: 'teid=' + teid + '&amp;t=' + t\n});\n</code>\nFrom the manual:By default, all requests are sent asynchronous (i.e. this is set to true by default). If you need synchronous requests, set this option to false. Cross-domain requests and dataType: &quot;jsonp&quot; requests do not support synchronous operation. Note that synchronous requests may temporarily lock the browser, disabling any actions while the request is active.\u26a0 WARNING: This answer was posted in 2010 and is now outdated - the XHR specification highlights the following statement:Synchronous XMLHttpRequest outside of workers is in the process of being removed from the web platform as it has detrimental effects to the end user\u2019s experience. (This is a long process that takes many years.) Developers must not pass false for the async argument when current global object is a Window object. User agents are strongly encouraged to warn about such usage in developer tools and may experiment with throwing an &quot;InvalidAccessError&quot; DOMException when it occurs.DevTools in Chrome has recently started warning about it, so this change (which has been coming for some years) could be imminent.\n", "acce_score": "1049", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "Opposite of any() function The Python built-in function <code>any(iterable)</code> can help to quickly check if any <code>bool(element)</code> is <code>True</code> in a iterable type.<code>&gt;&gt;&gt; l = [None, False, 0]&gt;&gt;&gt; any(l)False&gt;&gt;&gt; l = [None, 1, 0]&gt;&gt;&gt; any(l)True</code>But is there an elegant way or function in Python that could achieve the opposite effect of <code>any(iterable)</code>? That is, if any <code>bool(element) is False</code> then return <code>True</code>, like the following example:<code>&gt;&gt;&gt; l = [True, False, True]&gt;&gt;&gt; any_false(l)&gt;&gt;&gt; True</code>", "simquery2_answer": "I have an executable that generates some file, and I need to call this executable from a Java application. The command goes like this<code>Generator.exe -outputfile=\"path/to/file\" [some other params]\n</code>It works fine on the command prompt, but running it from Java,all steps are executed but the file is not created.\nI doubt the problem was that my java application is not able to crate files / directories, so I tried to create a directory as below<code>try {\n  String envp[] = new String[1];\n  envp[0] = \"PATH=\" + System.getProperty(\"java.library.path\");\n  Runtime.getRuntime().exec(\"mkdir path/to/folder\", envp);\n}\ncatch (Exception e) {\n  e.printStackTrace();\n}\n</code>I get the following exception, even If the directory exist<code>java.io.IOException: Cannot run program \"mkdir\":     \nCreateProcess error=2, The system cannot find the file specified\n</code>I also tried using  <code>java.lang.Process</code> and <code>java.lang.Process</code> and I got the same exception, although the command <code>mkdir path/to/folder</code> works fine on the command prompt\n", "total_len": 405, "s1_total_len": 337, "s2_total_len": 514}
{"post_id": "2489669", "title": "How do Python functions handle the types of parameters that you pass in?", "query": "Unless I'm mistaken, creating a function in Python works like this:<code>def my_func(param1, param2):    # stuff</code>However, you don't actually give the types of those parameters. Also, if I remember, Python is a strongly typed language, as such, it seems like Python shouldn't let you pass in a parameter of a different type than the function creator expected.  However, how does Python know that the user of the function is passing in the proper types? Will the program just die if it's the wrong type, assuming the function actually uses the parameter? Do you have to specify the type?", "acce_answer": "Try creating the fulltext index using the LANGUAGE [NEUTRAL] option.http://msdn.microsoft.com/en-us/library/ms187317.aspx<code>Create Fulltext Index On YourTable (YourColumn Language [Neutral])\nKey Index YourKey;\n</code>\n", "acce_score": "455", "simquery1_title": "What is the purpose of class methods? I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions.I now realise that I don't need to use Class methods for what I would done with <code>static</code> methods in Java, but now I'm not sure when I would use them.  All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them.Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?", "simquery1_answer": "Gonna post an answer to my own question here as I read the manual after I typed this up.  In TortoiseSVN, goto settings.  Add <code>*ReSharper*\n</code>to the \"Global ignore pattern\".  Adding items to the global ignore pattern means that these files will be ignored for any project you work on for the client with TortoiseSVN installed, so it might not be appropriate to use the global ignore in all cases.You can also add specific files and directories to the ignore list for individual projects if you select this from the TortoiseSVN menu BEFORE they have been added to your repository.  The \"BEFORE\" part is what tripped me up originally.  Since this is a single developer project, I've been checking in binaries, etc. b/c it has no consequence for other developers, and the Resharper files got in there.\n", "simquery2_title": "Does python have an equivalent to Java Class.forName()? I have the need to take a string argument and create an object of the class named in that string in Python.  In Java, I would use <code>Class.forName().newInstance()</code>.  Is there an equivalent in Python?Thanks for the responses.  To answer those who want to know what I'm doing: I want to use a command line argument as the class name, and instantiate it.  I'm actually programming in Jython and instantiating Java classes, hence the Java-ness of the question.  <code>getattr()</code> works great.  Thanks much.", "simquery2_answer": "\"+\", \"-\" and \"* \" are explicitly prohibited, but \"+=\", \"-=\" and \"*=\" are not and so the recursive implementation becomes\u2026<code>int factorial( int arg )\n{\n    int argcopy = arg;\n    argcopy -= 1;\n    return arg == 1 ? arg : arg *= factorial( argcopy );\n}\n</code>VC7 refuses to compile the above when in \"compile as C source mode\" \u2013 moans about the const L-value for \"*=\", but here is another variant of the same:<code>int factorial( int arg )\n{\n    int argcopy1 = arg;\n    int argcopy2 = arg;\n    argcopy1 -= 1;\n    argcopy2 *= arg == 1 ? 1 : fact( argcopy1 );\n    return argcopy2;\n}\n</code>\n", "total_len": 231, "s1_total_len": 365, "s2_total_len": 342}
{"post_id": "2491222", "title": "How to rename a file using Python", "query": "I want to change <code>a.txt</code> to <code>b.kml</code>.", "acce_answer": "As requested. You want to create your own URL pattern without Spring controllers annotations. First of all, create a CustomController annotation To avoid to be detected by @Controller HandlerMapping<code>package br.com.ar.web.stereotype;@Target(value=TYPE)\n@Retention(value=RUNTIME)\n@Component\npublic @interface CustomController {}\n</code>Here goes our AccountController<code>@CustomController\npublic class AccountController {    public void form(Long id) {\n        // do something\n    }}\n</code>Our HandlerAdapter - It takes care of calling our controller - Someting similar to Spring Validator interface approach<code>package br.com.ar.web.support;public class CustomHandlerAdapter implements HandlerAdapter {    public boolean supports(Object handler) {\n        Annotation [] annotationArray = handler.getClass().getAnnotations();        for(Annotation annotation: annotationArray) {\n           /**\n             * Make sure your annotation contains @SomeController\n             */\n        }\n    }    /**\n      * Third parameter is our CustomController\n      */\n    public ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Method[] methods = handler.getClass().getMethods();        /**\n          * Logic To verify whether Target method fullfil request goes here\n          */                    /**\n          * It can be useful To see MultiActionController.invokeNamedMethod and MultiActionController.isHandlerMethod              \n          */\n        method.invoke(// parameters goes here);\n    }    public long getLastModified(HttpServletRequest request, Object handler) {\n        return -1;\n    }\n}\n</code>And finally, our HandlerMapping. Make sure your HandlerMapping extends WebApplicationObjectSupport. It allows you To retrieve any Spring managed bean by calling<code>getApplicationContext().getBean(beanName);package br.com.ar.web.servlet.handler;public class CustomeHandlerMapping extends WebApplicationObjectSupport implements HandlerMapping, Ordered {    private static final String CUSTOM_HANDLER_ADAPTER_NAME = \"CUSTOM_HANDLER_ADAPTER_NAME\";    /**\n      * Bind each URL path-CustomController bean name\n      */\n    private final Map handlerMap = new LinkedHashMap();    /**\n      * Ordered interface will make sure your HandlerMapping should be intercepted BEFORE or AFTER DefaultAnnotationHandlerMapping\n      */\n    public final void setOrder(int order) {\n        this.order = order;\n    }    public final int getOrder() {\n        return this.order;\n    }    /**\n      * HandlerMapping interface method\n      */\n    public final HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception {\n        String url = extractUrl(request);        if(handlerMap.get(url) == null) {\n            /**\n              * Because Spring 3.0 controller is stateful\n              * Let's just store CustomController class (Not an instance) in ApplicationContext\n              *\n              * Or use a FactoryBean to retrieve your CustomController\n              */\n            handlerMap.put(url, getApplicationContext().getBean(beanName));\n        }        /**\n          * instantiateClass needs no-arg constructor\n          */\n        Object handler = BeanUtils.instantiateClass(handlerMap.get(url));        return new HandlerExecutionChain(handler);\n    }    private String extractUrl(HttpServletRequest request) {\n        /**\n          * Here goes code needed To retrieve URL path from request\n          *\n          * Take a look at AntPathMatcher, UrlPathHelper and PathMatcher\n          *\n          * It can be useful To see AbstractUrlHandlerMapping.getHandlerInternal method\n          */ \n    }}\n</code>Do not forget register both HandlerAdapter and HandlerMapping<code>&lt;bean id=\"br.com.ar.web.servlet.handler.CustomHandlerMapping\"/&gt;\n&lt;bean id=\"br.com.ar.web.support.CustomHandlerAdapter\"/&gt;\n&lt;!--To allow Spring 3.0 controller--&gt;\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"/&gt;\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"/&gt;\n</code>I hope it can gives you a good kick offThe sequence (Behind The scenes) Spring DispatcherServlet will call our objects are<code>/**\n  * Our HandlerMapping goes here\n  */\nHandlerMapping handlerMapping = getHandler(request);HandlerExecutionChain handlerExecutionChain = handlerMapping.getHandler(request);for(HandlerInterceptor interceptor: handlerExecutionChain.getInterceptors) {\n    interceptor.preHandle(request, response, handlerExecutionChain.getHandler());\n}/**\n  * Our CustomController goes here\n  */\nObject handler = handlerExecutionChain.getHandler();/**\n  * Our CustomHandlerAdapter goes here\n  */\nHandlerAdapter handlerAdapter = getHandlerAdapter(handler);ModelAndView mav = handlerAdapter.handle(request, response, handler);for(HandlerInterceptor interceptor: handlerExecutionChain.getInterceptors) {\n    interceptor.postHandle(request, response, handlerExecutionChain.getHandler());\n}\n</code>\n", "acce_score": "660", "simquery1_title": "Deleting all files in a directory with Python I want to delete all files with the extension <code>.bak</code> in a directory. How can I do that in Python?", "simquery1_answer": "I have changed some of my old queries to the Mysqli framework to improve performance. Everything works fine on localhost but when i upload it to the webserver it outputs nothing. After connecting I check for errors and there are none. I also checked the php modules installed and mysqli is enabled.I am certain that it creates a connection to the database as no errors are displayed. (when i changed the database name string it gave the error)There is no output from the query on the webserver, which looks like this:<code>$mysqli = new mysqli(\"server\", \"user\", \"password\");if (mysqli_connect_errno()) {\n   printf(\"Can't connect Errorcode: %s\\n\", mysqli_connect_error());\n   exit;\n}// Query used  \n$query = \"SELECT name FROM users WHERE id = ?\";if ($stmt = $mysqli-&gt;prepare(\"$query\")) \n{    // Specify parameters to replace '?'\n    $stmt-&gt;bind_param(\"d\", $id);      $stmt-&gt;execute();    // bind variables to prepared statement \n    $stmt-&gt;bind_result($_userName);    while ($stmt-&gt;fetch()) \n    {\n          echo $_userName;\n    }\n    $stmt-&gt;close();\n }\n}//close connection \n$mysqli-&gt;close(); \n</code>As I said this code works perfectly on my localserver just not online. Checked the error logs and there is nothing so everything points to a good connection. All the tables exists as well etc. Anyone any ideas because this one has me stuck! Also, if i get this working, will all my other queries still work? Or will i need to make them use the mysqli framework as well? Thanks in advance.EDIT:Ok Ive done some 'debugging' to see what is happening. There is data in the table i'm querying that matches the query. I did the following to check the prepare statement:<code>echo \"debug 1\";if ($stmt = $mysqli-&gt;prepare(\"$shiftQuery\"))  \n{echo \"debug 2\";\nprintf(\"Error: %s.\\n\", $stmt-&gt;error);etc...\n}\n</code>So basically it should output 'debug 1' before the statment is prepared (Which it does). Then after it should output 'debug 2' and any errors that occured. The problem is here somewhere as it doesnt reach the debug 2 line in the IF statement. Since the connection details are fine, i cant really see why the $mysqli object wouldnt be created. That give anyone any further ideas??? thanks\n", "simquery2_title": "Changing file extension in Python Suppose from <code>index.py</code> with CGI, I have post file <code>foo.fasta</code> to display file. I want to change <code>foo.fasta</code>'s file extension to be <code>foo.aln</code> in display file. How can I do it?", "simquery2_answer": "Well, here's a possible solution:\nGet uploaded filename from <code>$_FILES[\"ns_pic_title\"][\"name\"]</code> and separate extension OR if we are only talking about image files get the image type with <code>getimagesize($_FILES[\"ns_pic_title\"][\"tmp_name\"])</code>;\nCheck your database for the maximum id of the image records and make the the <code>$file_name</code> variable <code>'title_'.($max_id + 1)</code>\nAt this point you should have $file_name and $file_extension so do <code>move_uploaded_file($_FILES[\"ns_pic_title\"][\"tmp_name\"], $ns_title_target.$file_name.'.'.$file_extension)</code>\nHopefully this makes sense and helps.\n", "total_len": 1250, "s1_total_len": 629, "s2_total_len": 270}
{"post_id": "2589711", "title": "Find full path of the Python interpreter?", "query": "How do I find the full path of the currently running Python interpreter from within the currently executing Python script?", "acce_answer": "Add DebuggerStepThrough attribute to your property:<code>[DebuggerStepThrough]\nprivate static void DO() {\n  Console.WriteLine(\"test\");\n}\n</code>\n", "acce_score": "602", "simquery1_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery1_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "simquery2_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery2_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "total_len": 79, "s1_total_len": 575, "s2_total_len": 319}
{"post_id": "2612802", "title": "How do I clone a list so that it doesn't change unexpectedly after assignment?", "query": "While using <code>new_list = my_list</code>, any modifications to <code>new_list</code> changes <code>my_list</code> every time. Why is this, and how can I clone or copy the list to prevent it?", "acce_answer": "So this isnt super pretty cuz I kind of took one of my sp's and hacked it up for this. But basically this will take any table and print a series of insert statements into a table called tbl_text (which you would need to create)The arguments are the table name and the table ID from sysobjects<code>--this is how you get the tbl_id\nSELECT id FROM sysobjects WHERE type = 'U' AND name = 'tablename'\nCREATE PROCEDURE dbo.sp_export_table \n@tblhdr varchar(100), \n@tblID varchar(100)\nASSET NOCOUNT ONIF object_id('tempdb..##temptable') IS NOT NULL\nBEGIN\n   DROP TABLE ##temptable\nENDDECLARE @identity bit\nDECLARE @typestmt nvarchar(100)\nDECLARE @typeval int\nDECLARE @rowstmt nvarchar(1000)\nDECLARE @rowID varchar(50)\nDECLARE @orderby nvarchar(100)\nDECLARE @clmnstmt varchar(200)\nDECLARE @clmnhdr varchar(50)\nDECLARE @clmnstring varchar(1000)\nDECLARE @valuestmt nvarchar(200)\nDECLARE @valuestring nvarchar(3000)\nDECLARE @value nvarchar(1000)\nDECLARE @insertstmt varchar(1000)\nDECLARE @params nvarchar(100)\nDECLARE @param2 nvarchar(100)\nSELECT @rowstmt = N'SELECT TOP 1 @inside_var = name FROM syscolumns WHERE id = ' + @tblID + ' ORDER BY colorder'\nSELECT @params = N'@inside_var  NVARCHAR(1000) OUTPUT'\nEXEC sp_executesql @rowstmt, @params, @inside_var = @orderby OUTPUTSELECT @rowstmt = 'SELECT *, ROW_NUMBER() OVER (ORDER BY ' + @orderby + ') AS row INTO ##temptable FROM ' + @tblhdr\nexec(@rowstmt)\nIF object_id('tempdb..##temptable') IS NOT NULL\nBEGIN\n    DECLARE row_cursor CURSOR FOR\n    SELECT row FROM ##temptable    OPEN row_cursor    FETCH NEXT FROM row_cursor\n    INTO @rowID    --if table has identity and has records write identity_insert on\n    SET @identity = 0\n    IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES\n    WHERE OBJECTPROPERTY(OBJECT_ID(TABLE_NAME),\n    'TableHasIdentity') = 1 AND TABLE_TYPE = 'BASE TABLE'\n    AND TABLE_NAME = @tblhdr) AND EXISTS(SELECT * FROM ##temptable)\n    BEGIN\n        SET @identity = 1\n        INSERT INTO dbo.tbl_text VALUES('SET IDENTITY_INSERT dbo.' + @tblhdr + ' ON')\n    END    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        SELECT @clmnstmt = 'DECLARE column_cursor CURSOR FOR SELECT name FROM syscolumns WHERE id = ' + @tblID + ' ORDER BY colorder'\n        exec(@clmnstmt)        OPEN column_cursor        FETCH NEXT FROM column_cursor\n        INTO @clmnhdr        SELECT @clmnstring = '('\n        SELECT @valuestring = '('        WHILE @@FETCH_STATUS = 0\n        BEGIN\n            IF @clmnhdr &lt;&gt; 'row'\n            BEGIN\n                SELECT @clmnstring = @clmnstring + @clmnhdr + ','\n                SELECT @valuestmt = N'SELECT @inside_var = ' + @clmnhdr + ' FROM ##temptable WHERE row = ' + @rowID\n                EXEC sp_executesql @valuestmt, @params, @inside_var = @value OUTPUT                SELECT @typestmt = N'SELECT @inside_var2 = xtype FROM syscolumns WHERE name = ''' + @clmnhdr + ''' AND id = ' + @tblID\n                SELECT @param2 = N'@inside_var2 INT OUTPUT'\n                EXEC sp_executesql @typestmt, @param2, @inside_var2 = @typeval OUTPUT                IF @typeval NOT IN (48,52,56,59,60,62,104,108,122,127)\n                BEGIN\n                    SET @value = REPLACE(@value,'''','''''')\n                    SET @value  = '''' + @value + ''''\n                    SET @value = ISNULL(@value, '''''')\n                END                IF NOT (@typeval = 34)\n                BEGIN\n                    SELECT @valuestring = @valuestring + @value + ','\n                END \n                ELSE\n                BEGIN\n                    SELECT @valuestring = @valuestring + '''''' + ','\n                END\n            END            FETCH NEXT FROM column_cursor\n            INTO @clmnhdr        END        SET @clmnstring = LEFT(@clmnstring, LEN(@clmnstring) - 1)\n        SET @valuestring = LEFT(@valuestring, LEN(@valuestring) - 1)        INSERT INTO dbo.tbl_text VALUES('INSERT INTO dbo.' + @tblhdr + ' ' + @clmnstring + ') VALUES' + @valuestring + ')')\n        FETCH NEXT FROM row_cursor\n        INTO @rowID        CLOSE column_cursor\n        DEALLOCATE column_cursor    END    --if it wrote identity_insert on, turn it off\n    IF (@identity = 1)\n    BEGIN\n            INSERT INTO dbo.tbl_text VALUES('SET IDENTITY_INSERT dbo.' + @tblhdr + ' OFF')\n    END     CLOSE row_cursor\n    DEALLOCATE row_cursor   \nENDIF object_id('tempdb..##temptable') IS NOT NULL\nBEGIN\n    DROP TABLE ##temptable\nENDGO\n</code>\n", "acce_score": "3216", "simquery1_title": "What makes a user-defined class unhashable? The docs say that a class is hashable as long as it defines <code>__hash__</code> method and <code>__eq__</code> method. However:<code>class X(list):  # read-only interface of `tuple` and `list` should be the same, so reuse tuple.__hash__  __hash__ = tuple.__hash__x1 = X()s = {x1} # TypeError: unhashable type: 'X'</code>What makes <code>X</code> unhashable?Note that I must have identical lists (in terms of regular equality) to be hashed to the same value; otherwise, I will violate this requirement on hash functions:  The only required property is that objects which compare equal have  the same hash valueThe docs do warn that a hashable object shouldn't be modified during its lifetime, and of course I don't modify instances of <code>X</code> after creation. Of course, the interpreter won't check that anyway.", "simquery1_answer": "I often have a <code>UITableViewController</code> with an edit button, which I like to disable when there are no rows in the table. To keep this in sync, I enable/disable the button every time something happens that might update its <code>dataSource</code> - adding the first row, deleting the last row, in <code>viewDidLoad</code>, etc. Whenever I add some new functionality that can affect the contents of the table, I have to remember to incorporate this logic.Is there some delegate of the <code>UITableView</code> that I can use to simplify this? A way to know whenever the table (or it's <code>dataSource</code>) is modified, where I can check the number of items in the <code>dataSource</code> and enable/disable accordingly.Alternatively, any other approaches would be welcomed.\n", "simquery2_title": "__init__ vs __enter__ in context managers As far as I understand, <code>__init__()</code> and <code>__enter__()</code> methods of the context manager are called exactly once each, one after another, leaving no chance for any other code to be executed in between. What is the purpose of separating them into two methods, and what should I put into each?Edit: sorry, wasn't paying attention to the docs.Edit 2: actually, the reason I got confused is because I was thinking of <code>@contextmanager</code> decorator. A context manager created using <code>@contextmananger</code> can only be used once (the generator will be exhausted after the first use), so often they are written with the constructor call inside <code>with</code> statement; and if that was the only way to use <code>with</code> statement, my question would have made sense. Of course, in reality, context managers are more general than what <code>@contextmanager</code> can create; in particular context managers can, in general, be reused. I hope I got it right this time?", "simquery2_answer": "You could use a log link function to do this. Try using <code>glm()</code> specifying a log link.\n", "total_len": 1517, "s1_total_len": 425, "s2_total_len": 286}
{"post_id": "2682745", "title": "How do I create a constant in Python?", "query": "How do I declare a constant in Python?In Java, we do:<code>public static final String CONST_NAME = &quot;Name&quot;;</code>", "acce_answer": "Well, first I hope that <code>$code</code> comes from a trusted source and that you're executing arbitrary code sent by the users.Second, the only way I see you can workaround that is to save <code>$code</code> into a file, run it with the command line PHP interpreter, and check the exit value. Note that passing this test doesn't make <code>$code</code> fatal error free, it just so happened that this particular execution of the script did not throw any fatal error; there may be other code paths that trigger such an error.This is because once <code>eval</code> triggers a fatal error, it can't be recovered and the script dies. <code>eval</code> only returns <code>FALSE</code> if there is a parsing error.\n", "acce_score": "1342", "simquery1_title": "Does python have an equivalent to Java Class.forName()? I have the need to take a string argument and create an object of the class named in that string in Python.  In Java, I would use <code>Class.forName().newInstance()</code>.  Is there an equivalent in Python?Thanks for the responses.  To answer those who want to know what I'm doing: I want to use a command line argument as the class name, and instantiate it.  I'm actually programming in Jython and instantiating Java classes, hence the Java-ness of the question.  <code>getattr()</code> works great.  Thanks much.", "simquery1_answer": "\"+\", \"-\" and \"* \" are explicitly prohibited, but \"+=\", \"-=\" and \"*=\" are not and so the recursive implementation becomes\u2026<code>int factorial( int arg )\n{\n    int argcopy = arg;\n    argcopy -= 1;\n    return arg == 1 ? arg : arg *= factorial( argcopy );\n}\n</code>VC7 refuses to compile the above when in \"compile as C source mode\" \u2013 moans about the const L-value for \"*=\", but here is another variant of the same:<code>int factorial( int arg )\n{\n    int argcopy1 = arg;\n    int argcopy2 = arg;\n    argcopy1 -= 1;\n    argcopy2 *= arg == 1 ? 1 : fact( argcopy1 );\n    return argcopy2;\n}\n</code>\n", "simquery2_title": "How do I create variable variables? I know that some other languages, such as PHP, support a concept of &quot;variable variable names&quot; - that is, the contents of a string can be used as part of a variable name.I heard that this is a bad idea in general, but I think it would solve some problems I have in my Python code.Is it possible to do something like this in Python? What can go wrong?If you are just trying to look up an existing variable by its name, see How can I select a variable by (string) name?. However, first consider whether you can reorganize the code to avoid that need, following the advice in this question.", "simquery2_answer": "This worked for me. Your XML example is wrong too, missing closing <code>&lt;/client&gt;</code><code>var result =\n    from c in document.Elements(\"client\")\n    group c by c.Element(\"ClientId\").Value into grouped\n    select new \n    { \n       ClientId = grouped.Key, \n       TotalSum = grouped.Sum(g =&gt; Decimal.Parse(g.Element(\"Amount\").Value)) \n    };foreach (var group in result)\n    Console.WriteLine(group.ClientId + \": \" + group.TotalSum); \n</code>EDIT: I loaded the XDocument like follow for the example:<code>var document = XElement.Parse(\n@\"      \n&lt;clients&gt;      \n&lt;client&gt;\n    &lt;ClientId&gt;421&lt;/ClientId&gt;\n    &lt;Amount&gt;100&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;client&gt;\n    &lt;ClientId&gt;426&lt;/ClientId&gt;\n    &lt;Amount&gt;200&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;client&gt;\n    &lt;ClientId&gt;421&lt;/ClientId&gt;\n    &lt;Amount&gt;300&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;client&gt;\n    &lt;ClientId&gt;427&lt;/ClientId&gt;\n    &lt;Amount&gt;400&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;client&gt;\n    &lt;ClientId&gt;429&lt;/ClientId&gt;\n    &lt;Amount&gt;500&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;client&gt;\n    &lt;ClientId&gt;436&lt;/ClientId&gt;\n    &lt;Amount&gt;600&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;client&gt;\n    &lt;ClientId&gt;421&lt;/ClientId&gt;\n    &lt;Amount&gt;900&lt;/Amount&gt;\n&lt;/client&gt;\n&lt;/clients&gt;\", LoadOptions.PreserveWhitespace);\n</code>\n", "total_len": 228, "s1_total_len": 342, "s2_total_len": 761}
{"post_id": "2720014", "title": "How to upgrade all Python packages with pip", "query": "Is it possible to upgrade all Python packages at one time with <code>pip</code>?Note: that there is a feature request for this on the official issue tracker.", "acce_answer": "In my testing (on Win 7 and XP), I found it necessary to escape the <code>\\</code> for the directory (i.e. use <code>\\\\</code> instead).  Or you can use the forward slash.  Also, why not use PHP's <code>chdir</code> function instead of the system call?<code>&lt;?php\n    echo getcwd() . \"\\n\";\n    chdir(\"\\\\\");\n    echo getcwd() . \"\\n\";\n?&gt;\n</code>Edit in response to the comment \"... i am trying to create a cmd in a browser thing. ...\":  The system function just runs the command you specify and returns.  It will not (directly) affect the process which invoked the system command.  Thus, a system call with a command to change directory will not affect running PHP program's working directory, if that's what you are attempting.\n", "acce_score": "2681", "simquery1_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery1_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "simquery2_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery2_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "total_len": 255, "s1_total_len": 597, "s2_total_len": 319}
{"post_id": "2793324", "title": "Is there a simple way to delete a list element by value?", "query": "I want to remove a value from a list if it exists in the list (which it may not).<code>a = [1, 2, 3, 4]b = a.index(6)del a[b]print(a)</code>The above gives the error:<code>ValueError: list.index(x): x not in list</code>So I have to do this:<code>a = [1, 2, 3, 4]try:    b = a.index(6)    del a[b]except:    passprint(a)</code>But is there not a simpler way to do this?", "acce_answer": "m  is the number of rows,\nldB is the leading dimension of B.<code>cublasSscal (m, alpha, B + 2*ldB, 1); //  indices are 0 based\n</code>\n", "acce_score": "1170", "simquery1_title": "Python remove set from set According to my interpretation of Python 2.7.2 documentation for Built-In Types 5.7 Set Types, it should be possible to remove the elements of set A from set B by passing A to <code>set.remove(elem)</code> or <code>set.discard(elem)</code>From the documentation for 2.7.2:  Note, the elem argument to the <code>__contains__()</code>, <code>remove()</code>, and <code>discard()</code>  methods may be a set.I interpret this to mean that I can pass a <code>set</code> to <code>remove(elem)</code> or <code>discard(elem)</code> and all those elements will be removed from the target set. I would use this to do something weird like remove all vowels from a string or remove all common words from a word-frequency histogram. Here's the test code: <code>Python 2.7.2 (default, Jun 12 2011, 14:24:46) [M...Type \"help\", \"copyright\", \"credits\" or \"license\"&gt;&gt;&gt; a = set(range(10))&gt;&gt;&gt; b = set(range(5,10))&gt;&gt;&gt; aset([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&gt;&gt;&gt; bset([8, 9, 5, 6, 7])&gt;&gt;&gt; a.remove(b)Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;KeyError: set([8, 9, 5, 6, 7])&gt;&gt;&gt; a.discard(b)&gt;&gt;&gt; aset([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&gt;&gt;&gt;</code>Which I expect to return:<code>&gt;&gt;&gt; aset([0, 1, 2, 3, 4])</code>I know I can accomplish this with <code>a.difference(b)</code> which returns a new set; or with a <code>set.difference_update(other)</code>; or with set operators <code>a -= b</code>, which modify the set in-place. So is this a bug in the documentation? Can <code>set.remove(elem)</code> actually not take a set as an argument? Or does the documentation refer to sets of sets? Given that <code>difference_update</code> accomplishes my interpretation, I'm guess the case is the latter.Is that unclear enough?EDITAfter 3 years of additional (some professional) python work, and being recently drawn back to this question, I realize now what I was actually trying to do could be accomplished with:<code>&gt;&gt;&gt; c = a.difference(b)set([0,1,2,3,4])</code>which is what I was originally trying to get.EDITAfter 4 more years of python development... I realize this operation can be expressed more cleanly using set literals and the <code>-</code> operator; and that it is more complete to show that set difference is non-commutative.<code>&gt;&gt;&gt; a={0,1,2,3}&gt;&gt;&gt; b={2,3,4,5}&gt;&gt;&gt; a-bset([0, 1])&gt;&gt;&gt; b-aset([4, 5])</code>", "simquery1_answer": "You can have cookieless sessions via the <code>sessionState</code> element's <code>cookieless</code> attribute.http://msdn.microsoft.com/en-us/library/h6bb9cz9.aspx\n", "simquery2_title": "Django ORM - objects.filter() vs. objects.all().filter() - which one is preferred? Very often I see constructs like <code>MyModel.objects.all().filter(...)</code>which will return a QuerySet of the default Mananger. At first <code>all()</code> seems to be quite redundant, because<code>MyMode.objects.filter(...)</code>delivers the same result.However, this seems to be safe for the default Manager only, because of the following two statements in the Django documentation:Excerpt from the Chapter \"Adding extra manager methods\"  A custom Manager method can return anything you want. It doesn\u2019t have  to return a QuerySet.Definition of the <code>all()</code> manager method:  all()   Returns a copy of the current QuerySet (or QuerySet subclass).  This can be useful in situations where you might want to pass in  either a model manager or a QuerySet and do further filtering on the  result. After calling all() on either object, you\u2019ll definitely have a  QuerySet to work with.This seems a bit like a contradiction to me. On one hand Django offers the freedom to let a manager method return whatever object type is preferred and on the other hand it requires a QuerySet for the <code>all()</code> method. I'm aware that each manager has a <code>get_queryset</code> method which is called by <code>all()</code>. But who stops me from overriding <code>all()</code> in my custom manager? Although I agree it would be bad design to do so.So as far as I can see, the <code>all()</code> method does not guarantee to return a QuerySet. What exactly does <code>MyModel.objects</code> return? Does this statement call <code>all()</code>? or `get_queryset()?Do you prefer <code>MyModel.objects.filter(...)</code> or <code>MyModel.objects.all().filter(...)</code>. And if so, why?Have you ever encountered wonky managers that would mess with those methods in a undesirable way?", "simquery2_answer": "I have the following code in PHP,<code>&lt;?php\nob_start();\n$valid_passwords = array (\"matrixUlt\" =&gt; \"$ecurEh1FIVE\");\n$valid_users = array_keys($valid_passwords);\n$user = $pass = null;\nif(isset($_SERVER['PHP_AUTH_USER']) &amp;&amp; isset($_SERVER['PHP_AUTH_PW']))\n{\n    $user = $_SERVER['PHP_AUTH_USER'];\n    $pass = $_SERVER['PHP_AUTH_PW'];\n}\n$validated = (in_array($user, $valid_users)) &amp;&amp; ($pass == $valid_passwords[$user]);\nif(!$validated)\n{\nheader('WWW-Authenticate: Basic realm=\"You need to be authenticated to access the resource!\"');\nheader('HTTP/1.0 401 Unauthorized');\nexit(\"Not authorized\");\necho ob_get_clean();\n}\n</code>This works correctly in localhost when this [(\"matrixUlt\" => \"$ecurEh1FIVE\"] username:password is given. But keeps showing auth dialog in LIVE server / production enviroment. Any ideas why this is not working?\n", "total_len": 218, "s1_total_len": 929, "s2_total_len": 773}
{"post_id": "2802726", "title": "Putting a simple if-then-else statement on one line", "query": "How do I write an <code>if</code>-<code>then</code>-<code>else</code> statement in Python so that it fits on one line?For example, I want a one line version of:<code>if count == N:    count = 0else:    count = N + 1</code>In Objective-C, I would write this as:<code>count = count == N ? 0 : count + 1;</code>", "acce_answer": "Assuming that <code>strPageMode</code> represents the name of one possible value of ModesEnum, you could do this:<code>switch (Enum.Parse(typeof(ModesEnum), strPageMode, false))\n{\n    ... as before\n}\n</code>\n", "acce_score": "1304", "simquery1_title": "Putting a simple if-then-else statement on one line How do I write an <code>if</code>-<code>then</code>-<code>else</code> statement in Python so that it fits on one line?For example, I want a one line version of:<code>if count == N:    count = 0else:    count = N + 1</code>In Objective-C, I would write this as:<code>count = count == N ? 0 : count + 1;</code>", "simquery1_answer": "Assuming that <code>strPageMode</code> represents the name of one possible value of ModesEnum, you could do this:<code>switch (Enum.Parse(typeof(ModesEnum), strPageMode, false))\n{\n    ... as before\n}\n</code>\n", "simquery2_title": "How to len(generator()) Python generators are very useful. They have advantages over functions that return lists. However, you could <code>len(list_returning_function())</code>. Is there a way to <code>len(generator_function())</code>?UPDATE:Of course <code>len(list(generator_function()))</code> would work.....I'm trying to use a generator I've created inside a new generator I'm creating. As part of the calculation in the new generator it needs to know the length of the old one. However I would like to keep both of them together with the same properties as a generator, specifically - not maintain the entire list in memory as it may be very long.UPDATE 2:Assume the generator knows it's target length even from the first step. Also, there's no reason to maintain the <code>len()</code> syntax. Example - if functions in Python are objects, couldn't I assign the length to a variable of this object that would be accessible to the new generator?", "simquery2_answer": "I've written an ASP.Net web site with a WCF backend. One of the features of the web site is that it allows the user to download a file that is streamed from the WCF service. The web.config file in the ASP.Net project has a maximum file size set in the binding (maxBufferSize and maxReceivedMessageSize). To stop users downloading files that exceed this size, I need to check the file size against the maximum file size in the web.config file, how do I go about this?I've found out about the binding.CreateBindingElements() but I'm unsure how to get the instance of the binding in the first place.EDIT: Binding details are as follows:<code>&lt;binding name=\"BasicHttpBinding_IC_Server\" closeTimeout=\"00:01:00\"\n      openTimeout=\"00:01:00\" receiveTimeout=\"00:10:00\" sendTimeout=\"00:01:00\"\n      allowCookies=\"false\" bypassProxyOnLocal=\"false\" hostNameComparisonMode=\"StrongWildcard\"\n      maxBufferSize=\"65536\" maxBufferPoolSize=\"524288\" maxReceivedMessageSize=\"65536\"\n      messageEncoding=\"Text\" textEncoding=\"utf-8\" transferMode=\"Buffered\"\n      useDefaultWebProxy=\"true\"&gt;\n</code>EDIT: The WCF service has a method that returns the file as a stream. An ASP.Net web page gets the file, stores it in a memory stream and then returns it as a byte array to the user.If the file size is too small, I get this error:<code>The maximum message size quota for incoming messages (65536) has been exceeded. To increase the quota, use the MaxReceivedMessageSize property on the appropriate binding element.\n</code>Upping the buffer size fixes it, but I'd rather avoid this error by comparing the file size against the maxBufferSize.\n", "total_len": 188, "s1_total_len": 186, "s2_total_len": 675}
{"post_id": "2812520", "title": "Dealing with multiple Python versions and PIP?", "query": "Is there any way to make <code>pip</code> play well with multiple versions of Python? For example, I want to use <code>pip</code> to explicitly install things to either my site 2.5 installation or my site 2.6 installation.For example, with <code>easy_install</code>, I use <code>easy_install-2.{5,6}</code>.And, yes \u2014 I know about virtualenv, and no \u2014 it's not a solution to this particular problem.", "acce_answer": "I think there are two issues: <code>setsid</code> is in the wrong place and doing buffered IO operations in one of the transient children:<code>if os.fork():\n  print \"success\"\n  sys.exit(0)if os.fork():\n  os.setsid()\n  sys.exit()\n</code>You've got the original process (grandparent, prints \"success\"), the middle parent, and the grandchild (\"lol.txt\").The <code>os.setsid()</code> call is being performed in the middle parent after the grandchild has been spawned. The middle parent can't influence the grandchild's session after the grandchild has been created. Try this:<code>print \"success\"\nsys.stdout.flush()\nif os.fork():\n    sys.exit(0)\nos.setsid()\nif os.fork():\n    sys.exit(0)\n</code>This creates a new session before spawning the grandchild. Then the middle parent dies, leaving the session without a process group leader, ensuring that any calls to open a terminal will fail, making sure there's never any blocking on terminal input or output, or sending unexpected signals to the child.Note that I've also moved the <code>success</code> to the grandparent; there's no guarantee of which child will run first after calling <code>fork(2)</code>, and you run the risk that the child would be spawned, and potentially try to write output to standard out or standard error, before the middle parent could have had a chance to write <code>success</code> to the remote client. In this case, the streams are closed quickly, but still, mixing standard IO streams among multiple processes is bound to give difficulty: keep it all in one process, if you can.Edit I've found a strange behavior I can't explain:<code>#!/usr/bin/pythonimport os\nimport sys\nimport timeprint \"Content-type: text/plain\\r\\n\\r\\npid: \" + str(os.getpid()) + \"\\nppid: \" + str(os.getppid())\nsys.stdout.flush()if os.fork():\n    print \"\\nfirst fork pid: \" + str(os.getpid()) + \"\\nppid: \" + str(os.getppid())\n    sys.exit(0)os.setsid()print \"\\nafter setsid pid: \" + str(os.getpid()) + \"\\nppid: \" + str(os.getppid())sys.stdout.flush()if os.fork():\n    print \"\\nsecond fork pid: \" + str(os.getpid()) + \"\\nppid: \" + str(os.getppid())\n    sys.exit(0)#os.sleep(1) # comment me out, uncomment me, notice following line appear and dissapear\nprint \"\\nafter second fork pid: \" + str(os.getpid()) + \"\\nppid: \" + str(os.getppid())\n</code>The last line, <code>after second fork pid</code>, only appears when the <code>os.sleep(1)</code> call is commented out. When the call is left in place, the last line never appears in the browser. (But otherwise all the content is printed to the browser.)\n", "acce_score": "709", "simquery1_title": "Bypass confirmation prompt for pip uninstall I'm trying to uninstall all django packages in my superuser environment to ensure that all my webapp dependencies are installed to my virtualenv.<code>sudo susudo pip freeze | grep -E '^django-' | xargs pip -q uninstall</code>But pip wants to confirm every package uninstall, and there doesn't seem to be a <code>-y</code> option for pip. Is there a better way to uninstall a batch of python modules? Is <code>rm -rf .../site-packages/</code> a proper way to go? Is there an easy_install alternative?Alternatively, would it be better to force pip to install all dependencies to the virtualenv rather than relying on the system python modules to meet those dependencies, e.g. <code>pip --upgrade install</code>, but forcing even equally old versions to be installed to override any system modules. I tried activating my virtualenv and then <code>pip install --upgrade -r requirements.txt</code> and that does seem to install the dependencies, even those existing in my system path, but I can't be sure if that's because my system modules were old. And <code>man pip</code> doesn't seem to guarantee this behavior (i.e. installing the same version of a package that already exists in the system site-packages).", "simquery1_answer": "I think spinner have no hintBut i have small solutionyour code is<code>users.add(json.getString(Config.TAG_NAME));//this will add name to user array list\n</code>before add user names to arraylist, put below codeie.add your hint to your array<code>users.add(\"your hint\");\neg:users.add(\"select name\");\n</code>i think it will help you\n", "simquery2_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery2_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "total_len": 888, "s1_total_len": 399, "s2_total_len": 597}
{"post_id": "2835559", "title": "Why can't Python parse this JSON data?", "query": "I have this JSON in a file:<code>{    &quot;maps&quot;: [        {            &quot;id&quot;: &quot;blabla&quot;,            &quot;iscategorical&quot;: &quot;0&quot;        },        {            &quot;id&quot;: &quot;blabla&quot;,            &quot;iscategorical&quot;: &quot;0&quot;        }    ],    &quot;masks&quot;: [        &quot;id&quot;: &quot;valore&quot;    ],    &quot;om_points&quot;: &quot;value&quot;,    &quot;parameters&quot;: [        &quot;id&quot;: &quot;valore&quot;    ]}</code>I wrote this script to print all of the JSON data:<code>import jsonfrom pprint import pprintwith open('data.json') as f:    data = json.load(f)pprint(data)</code>This program raises an exception, though:<code>Traceback (most recent call last):  File &quot;&lt;pyshell#1&gt;&quot;, line 5, in &lt;module&gt;    data = json.load(f)  File &quot;/usr/lib/python3.5/json/__init__.py&quot;, line 319, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python3.5/json/decoder.py&quot;, line 339, in decode    obj, end = self.raw_decode(s, idx=_w(s, 0).end())  File &quot;/usr/lib/python3.5/json/decoder.py&quot;, line 355, in raw_decode    obj, end = self.scan_once(s, idx)json.decoder.JSONDecodeError: Expecting ',' delimiter: line 13 column 13 (char 213)</code>How can I parse the JSON and extract its values?", "acce_answer": "In this case, it is probably best to just stick with <code>Response.Redirect()</code> so that the user's client is issued a redirect, rather than <code>Server.Transfer()</code> which performs a purely server-side redirect to a different context.Regarding the process which requires the user to wait, you may want to use some sort of asynchronous implementation where the time-consuming operation is placed in a background thread; meanwhile the user, instead of waiting on a blank loading screen, is given <code>Response.Redirect()</code> to a \"Processing\" page that polls the server for completion of the current operation and updates the user. For added polish, consider implementing something like Facebook's image uploader which overlays a progress bar in the corner of the screen while the user continues normal use of the website. \n", "acce_score": "1504", "simquery1_title": "Reading JSON from a file A simple looking, easy statement is throwing some errors in my face.I have a JSON file called strings.json like this:<code>&quot;strings&quot;: [{&quot;-name&quot;: &quot;city&quot;, &quot;#text&quot;: &quot;City&quot;}, {&quot;-name&quot;: &quot;phone&quot;, &quot;#text&quot;: &quot;Phone&quot;}, ...,            {&quot;-name&quot;: &quot;address&quot;, &quot;#text&quot;: &quot;Address&quot;}]</code>I want to read the JSON file, just that for now. I have these statements which I found out, but it's not working:<code>import jsonfrom pprint import pprintwith open('strings.json') as json_data:    d = json.loads(json_data)    json_data.close()    pprint(d)</code>The error displayed on the console was this:<code>Traceback (most recent call last):  File &quot;/home/.../android/values/manipulate_json.py&quot;, line 5, in &lt;module&gt;    d = json.loads(json_data)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 326, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 366, in decode    obj, end = self.raw_decode(s, idx=_w(s, 0).end())TypeError: expected string or buffer[Finished in 0.1s with exit code 1]</code>If I use <code>json.load</code> instead of <code>json.loads</code>, I get this error:<code>Traceback (most recent call last):  File &quot;/home/.../android/values/manipulate_json.py&quot;, line 5, in &lt;module&gt;    d = json.load(json_data)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 278, in load    **kw)  File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 326, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 369, in decode    raise ValueError(errmsg(&quot;Extra data&quot;, s, end, len(s)))ValueError: Extra data: line 829 column 1 - line 829 column 2 (char 18476 - 18477)[Finished in 0.1s with exit code 1]</code>", "simquery1_answer": "This is what worked:<code>// get folder app is installed to\nvar installFolder = Windows.ApplicationModel.Package.Current.InstalledLocation;// get folders mp3 files are installed to.\nvar resourcesFolder = await installFolder.GetFolderAsync(\"Resources\");\nvar mp3FilesFolder = await resourcesFolder.GetFolderAsync(\"mp3Files\");// open the mp3 file async\nvar audioFile = await mp3FilesFolder.GetFileAsync(\"sound.mp3\");\nvar stream = await audioFile.OpenAsync(Windows.Storage.FileAccessMode.Read);// play dat funky music\nMediaElement mediaplayer = new MediaElement();\nmediaplayer.SetSource(stream, audioFile.ContentType);\nmediaplayer.Play();\n</code>\n", "simquery2_title": "Why can't Python parse this JSON data? I have this JSON in a file:<code>{    &quot;maps&quot;: [        {            &quot;id&quot;: &quot;blabla&quot;,            &quot;iscategorical&quot;: &quot;0&quot;        },        {            &quot;id&quot;: &quot;blabla&quot;,            &quot;iscategorical&quot;: &quot;0&quot;        }    ],    &quot;masks&quot;: [        &quot;id&quot;: &quot;valore&quot;    ],    &quot;om_points&quot;: &quot;value&quot;,    &quot;parameters&quot;: [        &quot;id&quot;: &quot;valore&quot;    ]}</code>I wrote this script to print all of the JSON data:<code>import jsonfrom pprint import pprintwith open('data.json') as f:    data = json.load(f)pprint(data)</code>This program raises an exception, though:<code>Traceback (most recent call last):  File &quot;&lt;pyshell#1&gt;&quot;, line 5, in &lt;module&gt;    data = json.load(f)  File &quot;/usr/lib/python3.5/json/__init__.py&quot;, line 319, in loads    return _default_decoder.decode(s)  File &quot;/usr/lib/python3.5/json/decoder.py&quot;, line 339, in decode    obj, end = self.raw_decode(s, idx=_w(s, 0).end())  File &quot;/usr/lib/python3.5/json/decoder.py&quot;, line 355, in raw_decode    obj, end = self.scan_once(s, idx)json.decoder.JSONDecodeError: Expecting ',' delimiter: line 13 column 13 (char 213)</code>How can I parse the JSON and extract its values?", "simquery2_answer": "In this case, it is probably best to just stick with <code>Response.Redirect()</code> so that the user's client is issued a redirect, rather than <code>Server.Transfer()</code> which performs a purely server-side redirect to a different context.Regarding the process which requires the user to wait, you may want to use some sort of asynchronous implementation where the time-consuming operation is placed in a background thread; meanwhile the user, instead of waiting on a blank loading screen, is given <code>Response.Redirect()</code> to a \"Processing\" page that polls the server for completion of the current operation and updates the user. For added polish, consider implementing something like Facebook's image uploader which overlays a progress bar in the corner of the screen while the user continues normal use of the website. \n", "total_len": 694, "s1_total_len": 881, "s2_total_len": 692}
{"post_id": "2970608", "title": "What are \"named tuples\" in Python?", "query": "What are named tuples and how do I use them?When should I use named tuples instead of normal tuples, or vice versa?Are there &quot;named lists&quot; too? (i.e. mutable named tuples)For the last question specifically, see also Existence of mutable named tuple in Python?.", "acce_answer": "It was my problem when I had a UISwitch as selector for the tables. But with the segmented control I haven't any problem. Maybe you didn't reload the table? This is my piece of working code:<code>NSIndexPath *exPath = [[subTable indexPathsForVisibleRows] lastObject]; isMatchOn = [whatList selectedSegmentIndex] == 0 ? YES : NO;  //table source will make the choice looking at this BOOL  [subTable reloadData];  // here tables actually flipif (lastPosition) {\n    [subTable scrollToRowAtIndexPath:lastPosition atScrollPosition:UITableViewScrollPositionBottom animated:NO];   //I scroll to saved index\n    }\nself.lastPosition = exPath;  //here I save the current position\n</code>\n", "acce_score": "1180", "simquery1_title": "In what case would I use a tuple as a dictionary key? I was studying the difference between lists and tuples (in Python). An obvious one is that tuples are immutable (the values cannot be changed after initial assignment), while lists are mutable.A sentence in the article got me:   Only immutable elements can be used as  dictionary keys, and hence only tuples  and not lists can be used as keys.I have a hard time thinking of a situation where I would like to use a tuple as a dictionary key. Can you provide an example problem where this would be the natural, efficient, elegant, or obvious solution?Edit:Thanks for your examples. So far I take that a very important application is the caching of function values.", "simquery1_answer": "is there a Java version of the PHP function <code>checkdnsrr</code>?\n", "simquery2_title": "How is set() implemented? I've seen people say that <code>set</code> objects in python have O(1) membership-checking. How are they implemented internally to allow this? What sort of data structure does it use? What other implications does that implementation have?Every answer here was really enlightening, but I can only accept one, so I'll go with the closest answer to my original question. Thanks all for the info!", "simquery2_answer": "Declare them as readonly and move initialization to constructor:<code>public class Global : System.Web.HttpApplication\n{    public readonly string globalServernameSHA;\n    public readonly string globalSqlConnection;    public Global()\n    {\n        globalServernameSHA = ConfigurationManager.AppSettings[\"varServernameSHA\"].ToString();\n        globalSqlConnection = ConfigurationManager.ConnectionStrings[\"varConnectionString\"].ToString();\n    }\n</code>\n", "total_len": 263, "s1_total_len": 179, "s2_total_len": 197}
{"post_id": "3044580", "title": "Multiprocessing vs Threading Python", "query": "I am trying to understand the advantages of multiprocessing over threading. I know that multiprocessing gets around the Global Interpreter Lock, but what other advantages are there, and can threading not do the same thing?", "acce_answer": "You're looking for the <code>having</code> clause which happens after grouping (the <code>where</code> clause is before grouping):<code>SELECT k_id, COUNT(k_id) AS k_count \nFROM template_keyword_link \nWHERE k_id IN(1,2,3,4,5)\nGROUP BY k_id\nHAVING COUNT(k_id) = 1;\n</code>\n", "acce_score": "1012", "simquery1_title": "Python threading. How do I lock a thread? I'm trying to understand the basics of threading and concurrency. I want a simple case where two threads repeatedly try to access one shared resource.The code:<code>import threadingclass Thread(threading.Thread):    def __init__(self, t, *args):        threading.Thread.__init__(self, target=t, args=args)        self.start()count = 0lock = threading.Lock()def increment():    global count     lock.acquire()    try:        count += 1        finally:        lock.release()   def bye():    while True:        increment()        def hello_there():    while True:        increment()def main():        hello = Thread(hello_there)    goodbye = Thread(bye)        while True:        print countif __name__ == '__main__':    main()</code>So, I have two threads, both trying to increment the counter. I thought that if thread 'A' called <code>increment()</code>, the <code>lock</code> would be established, preventing 'B' from accessing until 'A' has released.Running the makes it clear that this is not the case. You get all of the random data race-ish increments.How exactly is the lock object used?Additionally, I've tried putting the locks inside of the thread functions, but still no luck.", "simquery1_answer": "Hi guys I just want to apply tinyMCE in my project. I've tried to attached it with my .aspx page but it wont show any changes and the tool box is bot even showing. here is the code i use from tinyMCE just click View Source tab.<code>&lt;%@ Page Language=\"C#\"  MasterPageFile=\"~/MasterPage.master\" AutoEventWireup=\"false\" CodeFile=\"Email.aspx.cs\" Inherits=\"Email\" %&gt;&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"head\" Runat=\"Server\"&gt;\n</code><code>&lt;script type=\"text/javascript\"&gt;\n tinyMCE.init({\n     // General options\n     mode: \"textareas\",\n     theme: \"advanced\",\n   editor_selector :\"mceEditor\",\n     plugins: \"autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template\",     // Theme options\n     theme_advanced_buttons1: \"save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect\",\n     theme_advanced_buttons2: \"cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor\",\n     theme_advanced_buttons3: \"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen\",\n     theme_advanced_buttons4: \"insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage\",\n     theme_advanced_toolbar_location: \"top\",\n     theme_advanced_toolbar_align: \"left\",\n     theme_advanced_statusbar_location: \"bottom\",\n     theme_advanced_resizing: true,     // Skin options\n     skin: \"o2k7\",\n     skin_variant: \"silver\",     // Example content CSS (should be your site CSS)\n     content_css: \"styles/style.css\",     // Drop lists for link/image/media/template dialogs\n     template_external_list_url: \"Scripts/template_list.js\",\n     external_link_list_url: \"Scripts/link_list.js\",\n     external_image_list_url: \"Scripts/image_list.js\",\n     media_external_list_url: \"Scripts/media_list.js\",     // Replace values for the template plugin\n     template_replace_values: {\n         username: \"Some User\",\n         staffid: \"991234\"\n     }\n });&lt;/script&gt;&lt;asp:Content ID=\"Content3\" ContentPlaceHolderID=\"ContentPlaceHolder1\" Runat=\"Server\"&lt;tr&gt;\n    &lt;td width=\"10%\" class=\"fieldsEmail\" align=\"right\" valign=\"top\"&gt;Message:&amp;nbsp;&lt;/td&gt;\n    &lt;td width=\"90%\"&gt;\n    &lt;textarea id=\"message\" class=\"mceEditor\" cols=\"20\" rows=\"2\" \n            style=\"width:95%; height:300px;\"&gt;&lt;/textarea&gt;\n            &lt;/td&gt;\n&lt;/tr&gt;&lt;/asp:Content&gt;\n</code>\n", "simquery2_title": "Get a unique ID for worker in python multiprocessing pool Is there a way to assign each worker in a python multiprocessing pool a unique ID in a way that a job being run by a particular worker in the pool could know which worker is running it? According to the docs, a <code>Process</code> has a <code>name</code> but  The name is a string used for identification purposes only. It has no  semantics. Multiple processes may be given the same name.For my particular use-case, I want to run a bunch of jobs on a group of four GPUs, and need to set the device number for the GPU that the job should run on. Because the jobs are of non-uniform length, I want to be sure that I don't have a collision on a GPU of a job trying to run on it before the previous one completes (so this precludes pre-assigning an ID to the unit of work ahead of time).  ", "simquery2_answer": "The datetime directive in this scenario seems to be an overkill because it is not doing ..well..anything.. Your formatting is being done by the date filter ( which is the right place to do formatting! ).Your datetime directive could as well be something like<code>&lt;span&gt;{{item.whenCreated | date: \"dd/MM/yyyy @ hh:mma\"}}&lt;/span&gt;\n</code>Directives are meant for DOM manipulation. So, anywhere you are doing $(\"\") in non angular scenario..use a directive.  \n", "total_len": 166, "s1_total_len": 1336, "s2_total_len": 333}
{"post_id": "3277367", "title": "How does Python's super() work with multiple inheritance?", "query": "How does <code>super()</code> work with multiple inheritance? For example, given:<code>class First(object):    def __init__(self):        print &quot;first&quot;class Second(object):    def __init__(self):        print &quot;second&quot;class Third(First, Second):    def __init__(self):        super(Third, self).__init__()        print &quot;that's it&quot;</code>Which parent method of <code>Third</code> does <code>super().__init__</code> refer to? Can I choose which runs?I know it has something to do with method resolution order (MRO).", "acce_answer": "I'm trying to create a thread and let it run until my main signals it to start, which I think  is done with SetEvent. But the code in the thread is never executed. Below is the bare code I have stripped down of (I think) unrelated functions. Is the algorithm correct ?\nHere is what I thought it did :When in the main, the thread is created, which means it'll run in the background. When the event is set (SetEvent), the thread picks it up at WaitForSingleObject and then execute the code in the thread, right ?<code>\nHANDLE hThread;                                                     \nHANDLE Event;DWORD Thread()\n{\nwhile(1)\n    {\n    wait = WaitForSingleObject(Event, INFINITE)\n    //This is where I want to execute something\n    }\n}\nint _tmain()\n{\n    DWORD dw;\n    int i;\n    Event = CreateEvent(NULL,false,false,NULL);\n    hThread = CreateThread(NULL,0,Thread,EventA,0,NULL);                while(1)\n        {\n        if (condition is correct)\n            {\n            SetEvent(Event);\n            }\n        CloseHandle(Thread);\n        CloseHandle(Event);\n        }    return 0;\n}\n</code> Thanks for having read.\n", "acce_score": "1287", "simquery1_title": "Using the __call__ method of a metaclass instead of __new__? When discussing metaclasses, the docs state:You can of course also override other class methods (or add newmethods); for example defining a custom <code>__call__()</code> method in themetaclass allows custom behavior when the class is called, e.g. notalways creating a new instance.[Editor's note: This was removed from the docs in 3.3. It's here in 3.2: Customizing class creation]My questions is: suppose I want to have custom behavior when the class is called, for example caching instead of creating fresh objects. I can do this by overriding the <code>__new__</code> method of the class. When would I want to define a metaclass with <code>__call__</code> instead? What does this approach give that isn't achievable with <code>__new__</code>?", "simquery1_answer": "I am working on a kind of scheduling sheet in Excel. In this sheet man days for certain experts and activities are entered. It often occurs that man days have to be shifted between experts and activities. The part I am stuck with is the actual updating of values in the cells. The idea is that all the lines in my first array represent row numbers. I step through each cell in the range look for a value and subtract the shifting days. If the shifting days are greater than the cell value I move to the next and so on until all days are spent. The second routine uses the same system but increases the man days. My problem is that the man days for the source activity are increased and then decreased but the target activity should be increased and the source activity decreased.Structure of the sheet to get the idea - the part in brackets should be updated:<code>     M1 M2 M3 ... EXP1 EXP2 EXP3\nA1[  1  1  1  ]    3 \nA2[  1     1  ]         2\nA3[        1  ]              1\n</code>Code to reduce man days:<code>ReduceDaysCounter = ShiftDaysFor row = UBound(FirstExpRowNumbers) To 0 Step -1  \n    If FirstExpRowNumbers(row) &gt; 0 And FirstExpRowNumbers(row) &lt;= LastRow() Then\n        For col = ExpertColumns(0) - 1 To 5 Step -1\n            CurrCellValue = cells(FirstExpRowNumbers(row), col).Value\n            If CurrCellValue &gt; 0 And ReduceDaysCounter &gt; 0 Then\n                If ReduceDaysCounter &gt;= CurrCellValue Then\n                    cells(FirstExpRowNumbers(row), col).Value = 0\n                    ReduceDaysCounter = ReduceDaysCounter - CurrCellValue\n                End If\n            End If\n        Next\n    End If\nNext\n</code>Code to increase man days:<code>IncreaseDaysCounter = ShiftDaysFor row = 0 To UBound(SecondExpRowNumbers)  \n    If SecondExpRowNumbers(row) &gt; 0 And SecondExpRowNumbers(row) &lt;= LastRow() Then\n        For col = 5 To ExpertColumns(0) - 1\n            CurrCellValue = cells(SecondExpRowNumbers(row), col).Value\n            If CurrCellValue &gt; 0 And IncreaseDaysCounter &gt; 0 Then\n                'If CurrCellValue &lt; 2 Then\n                    cells(SecondExpRowNumbers(row), col).Value = CurrCellValue + 1\n                    IncreaseDaysCounter = IncreaseDaysCounter - 1\n                'End If\n            End If\n        Next\n    End If\nNext\n</code>\n", "simquery2_title": "Is there any reason to choose __new__ over __init__ when defining a metaclass? I've always set up metaclasses something like this:<code>class SomeMetaClass(type):    def __new__(cls, name, bases, dict):        #do stuff here</code>But I just came across a metaclass that was defined like this:<code>class SomeMetaClass(type):    def __init__(self, name, bases, dict):        #do stuff here</code>Is there any reason to prefer one over the other?Update:  Bear in mind that I'm asking about using <code>__new__</code> and <code>__init__</code> in a metaclass.  I already understand the difference between them in another class.  But in a metaclass, I can't use <code>__new__</code> to implement caching because <code>__new__</code> is only called upon class creation in a metaclass.", "simquery2_answer": "Omit the spaces in the scanf string<code>scanf(\"%d%d%d\",&amp;a,&amp;b,&amp;c);\n</code>\n", "total_len": 480, "s1_total_len": 857, "s2_total_len": 264}
{"post_id": "3282823", "title": "Get the key corresponding to the minimum value within a dictionary", "query": "If I have a Python dictionary, how do I get the key to the entry which contains the minimum value?I was thinking about something to do with the <code>min()</code> function...Given the input:<code>{320:1, 321:0, 322:3}</code>It would return <code>321</code>.", "acce_answer": "I want to run this PHP script  <code>http://db2express/imacs/radek/3.1/rationalTest.php?mode=create</code> from Sinatra. Sinatra runs on a different box.Is there any Sinatra built-in way how to do that?I know I can use <code>mechanize</code>, just wondering if there is something else to use?\n", "acce_score": "449", "simquery1_title": "Which maximum does Python pick in the case of a tie? When using the <code>max()</code> function in Python to find the maximum value in a list (or tuple, dict etc.) and there is a tie for maximum value, which one does Python pick? Is it random?This is relevant if, for instance, one has a list of tuples and one selects a maximum (using a <code>key=</code>) based on the first element of the tuple but there are different second elements. How does Python decide which one to pick as the maximum?", "simquery1_answer": "Perhaps, you should look at <code>std::search</code>? (there is also <code>memem</code>, but I don't think it's extremely portable).\n", "simquery2_title": "Python alternative to reduce() There is a semi-famous article written by Guido himself hinting that <code>reduce()</code> should go the way of the dodo and leave the language.  It was even demoted from being a top-level function in Python 3 (instead getting stuffed in the <code>functools</code> module).With many other functional programming staples (map, etc) common clear alternatives are available.  For example, most of the time a <code>map()</code> is better written as a list comprehension.What I'd like to know is if there is a similar \"more pythonic\" alternative to the reduce function.  I have a bit of a functional programming background (ML in particular), so <code>reduce()</code> often springs to my mind when thinking of a solution, but if there's a better way to do them (short of unrolling a reduce call into a for loop) I'd like to know.", "simquery2_answer": "Try this.<code>List&lt;MarkerCustom&gt; myList=new ArrayList&lt;MarkerCustom&gt;();\nMarkerCustom entry1=new MarkerCustom(myInt, myString, myBitmap);\nMarkerCustom entry2=new MarkerCustom(myInt, myString, myBitmap);myList.add(entry1);\nmyList.add(entry2);\n</code>\n", "total_len": 190, "s1_total_len": 164, "s2_total_len": 309}
{"post_id": "3294889", "title": "Iterating over dictionaries using 'for' loops", "query": "<code>d = {'x': 1, 'y': 2, 'z': 3}for key in d:    print(key, 'corresponds to', d[key])</code>How does Python recognize that it needs only to read the <code>key</code> from the dictionary? Is <code>key</code> a special keyword, or is it simply a variable?", "acce_answer": "I have CObject as main class and CRock, CDesk, CComputer as derivates from CObject. I would like to write a function that reads a class enumeration (integer probably like OBJECT_COMPUTER) and returns the specific type.Example:<code>function createObject( iType : Integer ) : CObject;\nbegin\n  case iType of\n    OBJECT_ROCK : Result := CRock.Create();\n    OBJECT_DESK : Result := CDesk.Create(); \n  end;\nend;\n</code>so I can use it like this: myRock := createObject( OBJECT_ROCK ); Now my problem is that the object returned is the main class parent and I can't use Rock functions on 'myRock' without type casting 'createObject( OBJECT_ROCK )' from CObject to CRock and I don't want to have 3 functions for each sub-class. Any ideas? Thanks in advance.\n", "acce_score": "4161", "simquery1_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery1_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "simquery2_title": "What does the == operator actually do on a Python dictionary? Consider: <code>&gt;&gt;&gt; a = {'foo': {'bar': 3}}&gt;&gt;&gt; b = {'foo': {'bar': 3}}&gt;&gt;&gt; a == bTrue</code>According to the python doc, you can indeed use the <code>==</code> operator on dictionaries. What is actually happening here? Is Python recursively checking each element of the dictionaries to ensure equality? Is it making sure the keys are identically matched, and the values are also identically matched?Is there documentation that specifies exactly what <code>==</code> on a dictionary means? Or whether I have to implement my own version of checking for equality?(If the <code>==</code> operator works, why aren't dicts hashable? That is, why can't I create a set() of dicts, or use a dict as a dictionary key?)", "simquery2_answer": "Is it a good idea to have all class constructors take in a single array of params, instead of multiple params?\nFor example,\n<code>class A {    private $id;\n    private $name;    public function __construct($arr) {\n    \n        foreach ($arr as $key =&gt; $val) {\n            $this-&gt;$key = $val;\n        }\n    }\n}\n</code>\ninstead of\n<code>class B {    private $id;\n    private $name;    public function __construct($id, $name) {\n       $this-&gt;id = $id;\n       $this-&gt;name = $name;\n    }\n}\n</code>\nThis would eliminate the need to remember the order of arguments, and the need to type <code>$this-&gt;key = $val</code> every time I add a new parameter. Are there any downsides to this method?\n", "total_len": 325, "s1_total_len": 349, "s2_total_len": 436}
{"post_id": "3348460", "title": "CSV file written with Python has blank lines between each row", "query": "<code>import csvwith open('thefile.csv', 'rb') as f:  data = list(csv.reader(f))  import collections  counter = collections.defaultdict(int)  for row in data:        counter[row[10]] += 1with open('/pythonwork/thefile_subset11.csv', 'w') as outfile:    writer = csv.writer(outfile)    for row in data:        if counter[row[10]] &gt;= 504:           writer.writerow(row)</code>This code reads <code>thefile.csv</code>, makes changes, and writes results to <code>thefile_subset1</code>.However, when I open the resulting csv in Microsoft Excel, there is an extra blank line after each record!Is there a way to make it not put an extra blank line?", "acce_answer": "<code>Queue</code> will work. Use any implementation you like. <code>LinkedList</code> or <code>ConcurrentLinkedQueue</code> for example.<code>enqueue</code> = <code>offer(..)</code>\n<code>dequeue</code> = <code>poll()</code>\n<code>front</code> = <code>peek()</code>  \n", "acce_score": "693", "simquery1_title": "Create a .csv file with values from a Python list I am trying to create a .csv file with the values from a Python list. When I print the values in the list they are all unicode (?), i.e. they look something like this <code>[u'value 1', u'value 2', ...]</code>If I iterate through the values in the list i.e. <code>for v in mylist: print v</code> they appear to be plain text.And I can put a <code>,</code> between each with <code>print ','.join(mylist)</code>And I can output to a file, i.e. <code>myfile = open(...)print &gt;&gt;myfile, ','.join(mylist)</code>But I want to output to a CSV and have delimiters around the values in the list e.g.<code>\"value 1\", \"value 2\", ... </code>I can't find an easy way to include the delimiters in the formatting, e.g. I have tried through the <code>join</code> statement. How can I do this?", "simquery1_answer": "You need to ensure that you unregister your <code>LocationListeners</code> any time you leave an <code>Activity</code>.You'll know if you've left <code>LocationListeners</code> open if you see the GPS icon flashing at in the status bar, even after you've left your application.If you really need a long-lived <code>LocationListener</code> for your application, you could put this into a <code>Service</code>.\n", "simquery2_title": "Python DictWriter writing UTF-8 encoded CSV files I have a list of dictionaries containing unicode strings.<code>csv.DictWriter</code> can write a list of dictionaries into a CSV file.I want the CSV file to be encoded in UTF8.The <code>csv</code> module cannot handle converting unicode strings into UTF8.The <code>csv</code> module documentation has an example for converting everything to UTF8:<code>def utf_8_encoder(unicode_csv_data):    for line in unicode_csv_data:        yield line.encode('utf-8')</code>It also has a <code>UnicodeWriter</code> class.  But... how do I make <code>DictWriter</code> work with these?  Wouldn't they have to inject themselves in the middle of it, to catch the disassembled dictionaries and encode them before it writes them to the file?  I don't get it.", "simquery2_answer": "You should create a <code>customautocomplete</code> class for your <code>textbox</code> and set its <code>autocomplete</code> Something like:<code>Dim tbox As New TextBoxDim aCol As New AutoCompleteStringCollection\nFor Each student As String In dt.results(\"students\")\n  aCol.Add()\nNexttbox.AutoCompleteSource = AutoCompleteSource.CustomSource\ntbox.AutoCompleteCustomSource = aCol\ntbox.AutoCompleteMode = AutoCompleteMode.SuggestAppend\n</code>I prefer VB.NET so I have provided an example in VB.NET as no language was specified.\n", "total_len": 309, "s1_total_len": 366, "s2_total_len": 362}
{"post_id": "3389574", "title": "Check if multiple strings exist in another string", "query": "How can I check if any of the strings in an array exists in another string?For example:<code>a = ['a', 'b', 'c']s = &quot;a123&quot;if a in s:    print(&quot;some of the strings found in s&quot;)else:    print(&quot;no strings found in s&quot;)</code>How can I replace the <code>if a in s:</code> line to get the appropriate result?", "acce_answer": "Change this:<code>if ($timeStart + $timeForEachDownload &gt; $time)\n     $totalDownload = $totalDownload + 1;\n</code>To this:<code>if ((strtotime($timeStart) + strtotime($timeForEachDownload)) &gt; $time)\n     $totalDownload = $totalDownload + 1;\n</code>\n", "acce_score": "618", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery2_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "total_len": 211, "s1_total_len": 337, "s2_total_len": 349}
{"post_id": "3394835", "title": "Use of *args and **kwargs", "query": "So I have difficulty with the concept of <code>*args</code> and <code>**kwargs</code>.So far I have learned that:<code>*args</code> = list of arguments - as positional arguments<code>**kwargs</code> = dictionary - whose keys become separate keyword arguments and the values become values of these arguments.I don't understand what programming task this would be helpful for. Maybe:I think to enter lists and dictionaries as arguments of a function AND at the same time as a wildcard, so I can pass ANY argument?Is there a simple example to explain how <code>*args</code> and <code>**kwargs</code> are used?Also the tutorial I found used just the \"*\" and a variable name. Are <code>*args</code> and <code>**kwargs</code> just placeholders or do you use exactly <code>*args</code> and <code>**kwargs</code> in the code?", "acce_answer": "I don't think you can stop the function from being called from the children, but you can detect what was clicked.  I'm not sure if this is the best way to do it, but this should work:<code>$(\"#wrapper\").mousedown(function(e){\n  if($(e.target).attr('id') == 'wrapper')\n  {\n    //do stuff\n  }\n});\n</code>\n", "acce_score": "1537", "simquery1_title": "Setting options from environment variables when using argparse I have a script which has certain options that can either be passed on the command line, or from environment variables. The CLI should take precedence if both are present, and an error occur if neither are set.I could check that the option is assigned after parsing, but I prefer to let argparse to do the heavy lifting and be responsible for displaying the usage statement if parsing fails.I have come up with a couple of alternative approaches to this (which I will post below as answers so they can be discussed separately) but they feel pretty kludgey to me and I think that I am missing something.Is there an accepted \"best\" way of doing this?(Edit to make the desired behaviour clear when both the CLI option and environment variable are unset)", "simquery1_answer": "<code>System.Web.Script.Serialization.JavaScriptSerializer</code> is a class which provides JSON serialization and deserialization functionality for applications and web sites targetting the .NET Framework.Use this tag for questions about the Microsoft class. For more general JSON serialization questions use both the json and serialisation tags.MSDN RemarksThe JavaScriptSerializer class is used internally by the asynchronous communication layer to serialize and deserialize the data that is passed between the browser and the Web server. You cannot access that instance of the serializer. However, this class exposes a public API. Therefore, you can use the class when you want to work with JavaScript Object Notation (JSON) in managed code.To serialize an object, use the Serialize method. To deserialize a JSON string, use the Deserialize or DeserializeObject methods. To serialize and deserialize types that are not natively supported by JavaScriptSerializer, implement custom converters by using the JavaScriptConverter class. Then register the converters by using the RegisterConverters method.Example<code>public abstract class AsSerializable\n{\n public string AsJson()\n {\n  var serializer = new JavaScriptSerializer();\n  return serializer.Serialize(this);\n }\n}public class Foo : AsSerializable\n{\n public string Bar { get; set; }\n}string JSON = Foo.AsJson();\n</code>MSDN Article\nJavaScriptSerializerJavaScriptSerializer Code\nCodePerformance Benchamrks\n http://james.newtonking.com/archive/2008/10/27/json-net-3-5-beta-1-big-performance-improvements-compact-framework-support-and-more.aspx http://www.servicestack.net/benchmarks/\n", "simquery2_title": "Step-by-step debugging with IPython From what I have read, there are two ways to debug code in Python:With a traditional debugger such as <code>pdb</code> or <code>ipdb</code>. This supports commands such as <code>c</code> for <code>continue</code>, <code>n</code> for <code>step-over</code>, <code>s</code> for <code>step-into</code> etc.), but you don't have direct access to an IPython shell which can be extremely useful for object inspection.Using  IPython by embedding an IPython shell in your code. You can do <code>from IPython import embed</code>, and then use <code>embed()</code> in your code. When your program/script hits an <code>embed()</code> statement, you are dropped into an IPython shell. This allows the full inspection of objects and testing of Python code using all the IPython goodies. However, when using <code>embed()</code> you can't step-by-step through the code anymore with handy keyboard shortcuts.Is there any way to combine the best of both worlds? I.e.Be able to  step-by-step through your code with handy pdb/ipdb keyboard shortcuts.At any such step (e.g. on a given statement), have access to a full-fledged IPython shell.IPython debugging as in MATLAB:An example of this type of &quot;enhanced debugging&quot; can be found  in MATLAB, where the user always has full access to the MATLAB engine/shell, and she can still step-by-step through her code, define conditional breakpoints, etc. From what I have discussed with other users, this is the debugging feature that people miss the most when moving from MATLAB to IPython.IPython debugging in Emacs and other editors:I don't want to make the question too specific, but I work mostly in Emacs, so I wonder if there is any way to bring this functionality into it. Ideally, Emacs (or the editor) would allow the programmer to set breakpoints anywhere on the code and communicate with the interpreter or debugger to have it stop in the location of your choice, and bring to a full IPython interpreter on that location.", "simquery2_answer": "I think a simple list comprehension with slicing should suffice. You may want to use <code>itertools.combinations</code> as well:<code>import itertoolsN = 4\nK = 2elements = list(range(1, N + 1))\nfinal = [[elements[a:b] for a, b in zip([0] + cuts, cuts + [N])]\n                        for cuts in (list(c) for c in itertools.combinations(elements, K - 1))]for x in final:\n    print(*x)\n</code>Output:<code>[1] [2, 3, 4]\n[1, 2] [3, 4]\n[1, 2, 3] [4]\n[1, 2, 3, 4] []\n</code>\n", "total_len": 321, "s1_total_len": 556, "s2_total_len": 715}
{"post_id": "3430372", "title": "How do I get the full path of the current file's directory?", "query": "How do I get the current file's directory path?I tried:<code>&gt;&gt;&gt; os.path.abspath(__file__)'C:\\\\python27\\\\test.py'</code>But I want:<code>'C:\\\\python27\\\\'</code>", "acce_answer": "Objective-C:To save in Defaults<code>NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];\n// saving an NSString\n[prefs setObject:@\"TextToSave\" forKey:@\"keyToLookupString\"];\n</code>To retrieve<code>NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];\n// getting an NSString\nNSString *myString = [prefs stringForKey:@\"keyToLookupString\"];\n</code>Swift:<code>var userDefaults : NSUserDefaults = NSUserDefaults.standardUserDefaults()\nuserDefaults.setObject(\"TextToSave\", forKey: \"keyToLookupString\")\n//To retrieve\nlet mySavedObject = userDefaults.objectForKey(@\"keyToLookupString\")\n</code>Anyway just a hint do not store passwords in NSUserdefaults. Use keychain for storing secure data.\n", "acce_score": "1393", "simquery1_title": "How do I get the full path of the current file's directory? How do I get the current file's directory path?I tried:<code>&gt;&gt;&gt; os.path.abspath(__file__)'C:\\\\python27\\\\test.py'</code>But I want:<code>'C:\\\\python27\\\\'</code>", "simquery1_answer": "Objective-C:To save in Defaults<code>NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];\n// saving an NSString\n[prefs setObject:@\"TextToSave\" forKey:@\"keyToLookupString\"];\n</code>To retrieve<code>NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];\n// getting an NSString\nNSString *myString = [prefs stringForKey:@\"keyToLookupString\"];\n</code>Swift:<code>var userDefaults : NSUserDefaults = NSUserDefaults.standardUserDefaults()\nuserDefaults.setObject(\"TextToSave\", forKey: \"keyToLookupString\")\n//To retrieve\nlet mySavedObject = userDefaults.objectForKey(@\"keyToLookupString\")\n</code>Anyway just a hint do not store passwords in NSUserdefaults. Use keychain for storing secure data.\n", "simquery2_title": "How to get absolute path of a pathlib.Path object? Making a path object with <code>pathlib</code> module like:<code>p = pathlib.Path('file.txt')</code>The <code>p</code> object will point to some file in the filesystem, since I can do for example <code>p.read_text()</code>.How can I get the absolute path of the <code>p</code> object in a string?Appears that I can use for example <code>os.path.abspath(p)</code> to get the absolute path, but it awkward to use an <code>os.path</code> method, since I assume that <code>pathlib</code> should be a replacement for <code>os.path</code>.", "simquery2_answer": "<code>collectstatic --ignore</code> will support paths in Django 2.2.\n", "total_len": 284, "s1_total_len": 282, "s2_total_len": 203}
{"post_id": "3437059", "title": "Does Python have a string 'contains' substring method?", "query": "I'm looking for a <code>string.contains</code> or <code>string.indexof</code> method in Python.I want to do:<code>if not somestring.contains(\"blah\"):   continue</code>", "acce_answer": "This is implementation-defined. Strictly following the C standard, you should <code>free</code> everything you've <code>malloc</code>'d before the application terminates.Any modern general-purpose operating system, however, will clean up after you, so this is only relevant in some embedded, old-fashioned, or otherwise exotic environments.As a point of style, do try to <code>free</code> every allocated block. It gets you in the habit of writing clean code and preventing memory leaks.\n", "acce_score": "3588", "simquery1_title": "Python's \"in\" set operator I'm a little confused about the python <code>in</code> operator for sets.If I have a set <code>s</code> and some instance <code>b</code>, is it true that <code>b in s</code> means \"is there some element <code>x</code> in <code>s</code> such that <code>b == x</code> is <code>true</code>\"?", "simquery1_answer": "From your comment: \n  Do you know what happens in peer.getGraphics()?\nThat depends on which peer implementation is used.One implementation is <code>WComponentPeer</code> (used when running on Windows), which seems to use two ways for getting the <code>Graphics</code> object:\nIf the component has a parent of type <code>Window</code> (or is one itself) which in turn has a back buffer immage associated, that image's <code>Graphics</code> object is returned. This depends on the type of image but is most likeley a <code>SunGraphics2D</code> instance, created in <code>createGraphics()</code>.\nOtherwise a <code>ScreenUpdateManager</code> instance is retrieved and <code>createGraphics(...)</code> is called on it which in turn returns a new <code>SunGraphics2D</code> instance.\nPlease note that this is just one possible way and it highly depends on the OS, the JVM and UI toolkit used. \n", "simquery2_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery2_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "total_len": 188, "s1_total_len": 337, "s2_total_len": 349}
{"post_id": "3459098", "title": "Create list of single item repeated N times", "query": "I want to create a series of lists, all of varying lengths. Each list will contain the same element <code>e</code>, repeated <code>n</code> times (where <code>n</code> = length of the list).How do I create the lists, without using a list comprehension <code>[e for number in xrange(n)]</code> for each list?", "acce_answer": "You can use apostrophe to indicate literals in a DateTimeFormat pattern.\neg. <code>\"HH'o''clock'\"</code>So, the formatter you need would look something like this:<code>DateTimeFormat formatter = DateTimeFormat.getFormat(\"yyyy-mm-dd'T'HH:mm:ssZ\");\n</code>I tried it out. It gave me an output in format 2010-16-29T08:16:23+0530Is this what you are looking for?\n", "acce_score": "753", "simquery1_title": "Understanding the map function The Python 2 documentation says:Built-in Functions: <code>map(function, iterable, ...)</code>Apply function to every item of iterable and return a list of theresults. If additional iterable arguments are passed, function musttake that many arguments and is applied to the items from alliterables in parallel.If one iterable is shorter than another it is assumed to be extendedwith None items.If function is <code>None</code>, the identity function is assumed; if there aremultiple arguments, <code>map()</code> returns a list consisting of tuplescontaining the corresponding items from all iterables (a kind oftranspose operation).The iterable arguments may be a sequence or any iterable object; theresult is always a list.What role does this play in making a Cartesian product?<code>content = map(tuple, array)</code>What effect does putting a tuple anywhere in there have? I also noticed that without the map function the output is <code>abc</code> and with it, it's <code>a, b, c</code>.I want to fully understand this function. The reference definitions is also hard to understand. Too much fancy fluff.", "simquery1_answer": "I'm trying to get the field values \u200b\u200busing as JSON query variables, but with variable nothing works.\nI try this:<code>var a='ptmedia';var c='2.90';var v='ver';var n='name';\n$.getJSON('http://example.com?callback=?',function(d){\n    var q=d.app.a.v;\n    if(c&lt;q){alert('Some text'+d.n+'some text');}\n});\n</code>but i did something wrong...\n", "simquery2_title": "Splitting a list into N parts of approximately equal length What is the best way to divide a list into roughly equal parts? For example, if the list has 7 elements and is split it into 2 parts, we want to get 3 elements in one part, and the other should have 4 elements.I'm looking for something like <code>even_split(L, n)</code> that breaks <code>L</code> into <code>n</code> parts.<code>def chunks(L, n):    \"\"\" Yield successive n-sized chunks from L.    \"\"\"    for i in range(0, len(L), n):        yield L[i:i+n]</code>The code above gives chunks of 3, rather than 3 chunks.  I could simply transpose (iterate over this and take the first element of each column, call that part one, then take the second and put it in part two, etc), but that destroys the ordering of the items.", "simquery2_answer": "<code>new_img = convert(img, text);\n(img, text) = convert_back(new_img);\n</code>Can someone illustrate with a built-in image of MATALB?\n", "total_len": 221, "s1_total_len": 398, "s2_total_len": 277}
{"post_id": "3462143", "title": "Get difference between two lists with Unique Entries", "query": "I have two lists in Python:<code>temp1 = ['One', 'Two', 'Three', 'Four']temp2 = ['One', 'Two']</code>Assuming the elements in each list are unique, I want to create a third list with items from the first list which are not in the second list:<code>temp3 = ['Three', 'Four']</code>Are there any fast ways without cycles and checking?", "acce_answer": "The PHPMailer class has a <code>Sender</code> variable which sets the <code>-f</code> parameter (or constructs the appropriate <code>MAIL FROM:</code> command when using SMTP) as necessary. From the source code:\n<code>/**\n * Sets the Sender email (Return-Path) of the message.  If not empty,\n * will be sent via -f to sendmail or as 'MAIL FROM' in smtp mode.\n * @var string\n */\npublic $Sender            = '';\n</code>\nso you can presumably do something like:\n<code>$mail-&gt;Sender = 'sender@domain.com';\n</code>\nOutgoing mail servers tend to ignore Return-Path since they have the address from the SMTP <code>MAIL FROM:</code> line. The Return-Path header is inserted by the recipient's mail server for use in filters or other downstream processing.\n", "acce_score": "1214", "simquery1_title": "Given parallel lists, how can I sort one while permuting (rearranging) the other in the same way? Suppose I have:<code>list1 = [3, 2, 4, 1, 1]list2 = ['three', 'two', 'four', 'one', 'one2']</code>Calling <code>list1.sort()</code> will sort it, resulting in <code>[1, 1, 2, 3, 4]</code>. However, can I get <code>list2</code> to be rearranged in sync with that, to get a result like this?<code>list1 = [1, 1, 2, 3, 4]list2 = ['one', 'one2', 'two', 'three', 'four']</code>Sometimes, people phrase the problem differently: given two lists, they would like to use one to determine the sort order for the other - i.e., sort <code>list2</code> in the order described by the corresponding values in <code>list1</code>. The trick is that this is equivalent to sorting the &quot;key&quot; values (<code>list1</code>), and then rearranging <code>list2</code> in the same way. In other words, exactly what is described here. Some answers for the other question, though, discard the &quot;sorted keys&quot; afterwards.See also: How can I sort a list, according to where its elements appear in another list? - this is another common way that people want to sort one list &quot;based on&quot; another. Before attempting to close duplicate questions, take special care to check exactly what the OP wants. A key clue: do the lists need to be the same length?", "simquery1_answer": "Looks like the answer was that <code>ItemConverterType</code> is for converting items in an array.  Double-annotating the property with <code>JsonProperty</code> and <code>JsonConverter</code> attributes works:<code>[JsonProperty(PropertyName=\"id\")]\n[JsonConverter(typeof(IdConverter))]\npublic string Id { get; set; }\n</code>\n", "simquery2_title": "Quick way to extend a set if we know elements are unique I am performing multiple iterations of the type:<code>masterSet=masterSet.union(setA)</code>As the set grows the length of time taken to perform these operations is growing (as one would expect, I guess).I expect that the time is taken up checking whether each element of setA is already in masterSet?My question is that if i KNOW that masterSet does not already contain any of elements in setA can I do this quicker? [UPDATE]Given that this question is still attracting views I thought I would clear up a few of the things from the comments and answers below: When iterating though there were many iterations where I knew <code>setA</code> would be distinct from <code>masterSet</code> because of how it was constructed (without having to process any checks) but a few iterations I needed the uniqueness check.I wondered if there was a way to 'tell' the <code>masterSet.union()</code> procedure not to bother with the uniquness check this time around as I know this one is distinct from <code>masterSet</code> just add these elements quickly trusting the programmer's assertion they were definately distict. Perhpas through calling some different \"<code>.unionWithDistinctSet()</code>\" procedure or something. I think the responses have suggested that this isnt possible (and that really set operations should be quick enough anyway) but to use <code>masterSet.update(setA)</code> instead of union as its slightly quicker still. I have accepted the clearest reponse along those lines, resolved the issue I was having at the time and got on with my life but would still love to hear if my hypothesised <code>.unionWithDistinctSet()</code> could ever exist?", "simquery2_answer": "From Android 17, it provides android.media.effect package for processing images with many effects. and with the official sample 'HelloEffect', it works for image only.Now I want apply the effects for Android camera preview frame, I used <code>SurfaceTexture</code> and <code>GL_TEXTURE_EXTERNAL_OES</code> texture to render the frame from camera.But the problem is how to apply the effect on this special texture: <code>GL_TEXTURE_EXTERNAL_OES</code>, it shows errors, it seems it cannot sample from this special texture.error:\n01-06 15:46:35.425: D/libEGL(14021): loaded /vendor/lib/egl/libEGL_adreno.so\n    01-06 15:46:35.435: D/libEGL(14021): loaded /vendor/lib/egl/libGLESv1_CM_adreno.so\n01-06 15:46:35.435: D/libEGL(14021): loaded /vendor/lib/egl/libGLESv2_adreno.so\n01-06 15:46:35.435: I/Adreno-EGL(14021): : EGL 1.4 QUALCOMM build: _msm8974_refs/tags/AU_LINUX_ANDROID_JB_3.1.2.04.02.02.125.032_CL3849330_release_AU (CL3849330)\n01-06 15:46:35.435: I/Adreno-EGL(14021): OpenGL ES Shader Compiler Version: 17.01.10.SPL\n01-06 15:46:35.435: I/Adreno-EGL(14021): Build Date: 10/21/13 Mon\n01-06 15:46:35.435: I/Adreno-EGL(14021): Local Branch: jb_3.1.2\n01-06 15:46:35.435: I/Adreno-EGL(14021): Remote Branch: quic/4da73f3b691eea7a9356efff8d609916f1975107\n01-06 15:46:35.435: I/Adreno-EGL(14021): Local Patches: NONE\n01-06 15:46:35.435: I/Adreno-EGL(14021): Reconstruct Branch: NOTHING\n01-06 15:46:35.565: D/OpenGLRenderer(14021): Enabling debug mode 0\n01-06 15:46:36.295: W/Adreno-ES20(14021): : GL_INVALID_OPERATION\n01-06 15:46:36.295: E/MCA(14021): GL Error: Operation 'Binding Texture' caused GL error (0x502)\n01-06 15:46:36.295: E/MCA(14021): BindInputTextures failed\n01-06 15:46:36.295: E/MCA(14021): Unable to render frame\n01-06 15:46:36.295: E/MCA(14021): ShaderProgram: error processing shader!\n01-06 15:46:36.305: W/dalvikvm(14021): threadid=11: thread exiting with uncaught exception (group=0x419fd898)\n01-06 15:46:36.345: E/AndroidRuntime(14021): FATAL EXCEPTION: GLThread 97443\n01-06 15:46:36.345: E/AndroidRuntime(14021): java.lang.RuntimeException: Error executing ShaderProgram!\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.ShaderProgram.process(ShaderProgram.java:123)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.Program.process(Program.java:32)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterpacks.imageproc.LomoishFilter.process(LomoishFilter.java:200)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.Filter.performProcess(Filter.java:474)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.FilterFunction.execute(FilterFunction.java:80)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.filterfw.core.FilterFunction.executeWithArgList(FilterFunction.java:97)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.media.effect.SingleFilterEffect.apply(SingleFilterEffect.java:76)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at com.csz.camerafilters.activity.render.SurfaceRenderer.applyEffect(SurfaceRenderer.java:73)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at com.csz.camerafilters.activity.render.SurfaceRenderer.onDrawFrame(SurfaceRenderer.java:63)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1531)\n01-06 15:46:36.345: E/AndroidRuntime(14021):    at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n", "total_len": 327, "s1_total_len": 485, "s2_total_len": 2120}
{"post_id": "3501382", "title": "Checking whether a variable is an integer or not", "query": "How do I check whether a variable is an integer?", "acce_answer": "<code>numpy.histogram()</code> produces an array of the bin edges, of which there are <code>(number of bins)+1</code>.\n", "acce_score": "1113", "simquery1_title": "Comparing boolean and int using isinstance Can someone give me an explanation why <code>isinstance()</code> returns True in the following case? I expected False, when writing the code.<code>print isinstance(True, (float, int))True</code>My guess would be that its Python's internal subclassing, as zero and one - whether float or int - both evaluate when used as boolean, but don't know the exact reason.What would be the most pythonic way to solve such a situation? I could use <code>type()</code> but in most cases this is considered less pythonic.", "simquery1_answer": "The target of the <code>shown.bs.modal</code> event is the <code>div.modal</code> from which you can retrieve the element ID \u2013 with a bit of parsing, you can get the original value of <code>id_seance</code> before it was interpolated.\r\n\r\n<code>$('[id^=\"reservationModal-\"]').on('shown.bs.modal', function (e) {\r\n    let id_seance = e.target.id.split('-').pop(-1);\r\n    console.log('works', { id_seance });\r\n});</code>\r\n<code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;!-- Latest compiled and minified CSS --&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\r\n\r\n&lt;!-- Optional theme --&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css\" integrity=\"sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp\" crossorigin=\"anonymous\"&gt;\r\n\r\n&lt;!-- Latest compiled and minified JavaScript --&gt;\r\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#reservationModal-1\"&gt;\r\n  Reservation 1\r\n&lt;/button&gt;\r\n\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#reservationModal-2\"&gt;\r\n  Reservation 2\r\n&lt;/button&gt;\r\n\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#reservationModal-3\"&gt;\r\n  Reservation 3\r\n&lt;/button&gt;\r\n\r\n&lt;div class=\"modal fade reservationModal\" id=\"reservationModal-1\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reservationModal-1\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\"&gt;Reservation 1&lt;/h5&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"modal fade reservationModal\" id=\"reservationModal-2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reservationModal-2\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\"&gt;Reservation 2&lt;/h5&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"modal fade reservationModal\" id=\"reservationModal-3\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reservationModal-3\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\"&gt;Reservation 3&lt;/h5&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code>\r\n\r\n\r", "simquery2_title": "How does this input work with the Python 'any' function? In the python docs page for <code>any</code>, the equivalent code for the <code>any()</code> function is given as:<code>def any(iterable):    for element in iterable:        if element:            return True    return False</code>How does this function know what element I wanna test if call it in this form?<code>any(x &gt; 0 for x in list)</code>From the function definition, all I can see is that I'm passing an iterable object. How does the <code>for</code> loop know I am looking for something <code>&gt; 0</code>?", "simquery2_answer": "As you already figured out, using <code>foreach()</code> it is not possible, however when you use <code>for()</code> the task becomes quite easy:<code>for ($i=0; $i&lt;count($array); $i++) {\n    //code\n}\n</code>This is due to <code>count($array)</code> being (re)calculated before every iteration. You can also use a variable that you increment yourself (incrementing is a way easier task than counting an array)<code>$max = count($array);\nfor ($i=0; $i&lt;$max; $i++) {\n    //code\n    //when push an element just do $max++;\n}\n</code>Of course this will only work with numerical indices but that seems to be the case here.\n", "total_len": 64, "s1_total_len": 1364, "s2_total_len": 349}
{"post_id": "3518778", "title": "How do I read CSV data into a record array in NumPy?", "query": "Is there a direct way to import the contents of a CSV file into a record array, just like how R's <code>read.table()</code>, <code>read.delim()</code>, and <code>read.csv()</code> import data into R dataframes?Or should I use <code>csv.reader()</code> and then apply <code>numpy.core.records.fromrecords()</code>?", "acce_answer": "<code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml.Serialization;\nusing System.Configuration;namespace ConsoleApplication1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n              var section = (MySection)ConfigurationManager.GetSection(\"MySection\");            Console.WriteLine(\"Done\");\n        }\n    }    public class MySection : ConfigurationSection\n    {\n        [ConfigurationProperty(\"name\", IsKey = true, DefaultValue = \"\", IsRequired = true)]\n        public string Name\n        {\n            get { return (string)this[\"name\"]; }\n            set { this[\"name\"] = value; }\n        }        [ConfigurationProperty(\"value\")]\n        public string Value\n        {\n            get { return (string)this[\"value\"]; }\n            set { this[\"value\"] = value; }\n        }    }    public class MyCollection : ConfigurationElementCollection\n    {\n        protected override ConfigurationElement CreateNewElement()\n        {\n            return new MyElement();\n        }        protected override object GetElementKey(ConfigurationElement element)\n        {\n            return ((MyElement)element).Name;\n        }\n    }    public class MyElement : ConfigurationElement\n    {\n        [ConfigurationProperty(\"name\", IsKey = true, DefaultValue = \"\", IsRequired = true)]\n        public string Name\n        {\n            get { return (string)this[\"name\"]; }\n            set { this[\"name\"] = value; }\n        }        [ConfigurationProperty(\"value\")]\n        public string Value\n        {\n            get { return (string)this[\"value\"]; }\n            set { this[\"value\"] = value; }\n        }\n    }\n}\n</code>\n", "acce_score": "552", "simquery1_title": "pandas equivalent of np.where <code>np.where</code> has the semantics of a vectorized if/else (similar to Apache Spark's <code>when</code>/<code>otherwise</code> DataFrame method). I know that I can use <code>np.where</code> on <code>pandas.Series</code>, but <code>pandas</code> often defines its own API to use instead of raw <code>numpy</code> functions, which is usually more convenient with <code>pd.Series</code>/<code>pd.DataFrame</code>.Sure enough, I found <code>pandas.DataFrame.where</code>. However, at first glance, it has completely different semantics. I could not find a way to rewrite the most basic example of <code>np.where</code> using pandas <code>where</code>:<code># df is pd.DataFrame# how to write this using df.where?df['C'] = np.where((df['A']&lt;0) | (df['B']&gt;0), df['A']+df['B'], df['A']/df['B'])</code>Am I missing something obvious? Or is pandas' <code>where</code> intended for a completely different use case, despite same name as <code>np.where</code>?", "simquery1_answer": "Because Bootstrap 4 uses flexbox, the columns are always going to be equal height, and you'll not be able to get the desktop (lg) layout that you want.\nOne option is to disable the flexbox for <code>lg</code>. Use floats so that the 1,3 columns naturally pull to the right, since 2 is taller. The flexbox <code>order-</code> will work on mobile.\nhttps://codeply.com/go/8lsFAU3C5E\n<code>&lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row d-flex d-lg-block&quot;&gt;\n         &lt;div class=&quot;col-lg-8 order-1 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body tall&quot;&gt;2&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-lg-4 order-0 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body&quot;&gt;1&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-lg-4 order-1 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body&quot;&gt;3&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code>\nHow this worksKeep columns in the same row, since ordering is relative to parent\nThe <code>d-flex d-lg-block</code> disables flex on <code>lg</code> and up\nThe <code>float-left</code> float the columns when flex is disabled\nThe <code>order-*</code> reorder the columns when flex is enabledAnother option is some flexbox wrapping hack that uses <code>w-auto</code>...\nhttps://codeply.com/go/mKykCsBFDXAlso see:\nHow to fix unexpected column order in bootstrap 4?\nBootstrap Responsive Columns Height\nB-A-C -&gt; A-B-C\n", "simquery2_title": "Create a .csv file with values from a Python list I am trying to create a .csv file with the values from a Python list. When I print the values in the list they are all unicode (?), i.e. they look something like this <code>[u'value 1', u'value 2', ...]</code>If I iterate through the values in the list i.e. <code>for v in mylist: print v</code> they appear to be plain text.And I can put a <code>,</code> between each with <code>print ','.join(mylist)</code>And I can output to a file, i.e. <code>myfile = open(...)print &gt;&gt;myfile, ','.join(mylist)</code>But I want to output to a CSV and have delimiters around the values in the list e.g.<code>\"value 1\", \"value 2\", ... </code>I can't find an easy way to include the delimiters in the formatting, e.g. I have tried through the <code>join</code> statement. How can I do this?", "simquery2_answer": "You need to ensure that you unregister your <code>LocationListeners</code> any time you leave an <code>Activity</code>.You'll know if you've left <code>LocationListeners</code> open if you see the GPS icon flashing at in the status bar, even after you've left your application.If you really need a long-lived <code>LocationListener</code> for your application, you could put this into a <code>Service</code>.\n", "total_len": 520, "s1_total_len": 832, "s2_total_len": 366}
{"post_id": "3743222", "title": "How do I convert a datetime to date?", "query": "How do I convert a <code>datetime.datetime</code> object (e.g., the return value of <code>datetime.datetime.now())</code> to a <code>datetime.date</code> object in Python?", "acce_answer": "Personally I don't think a queue is what you're looking for, but your access pattern is even worse. Use iterators if you want sequential access:<code>foreach(var h in HistoryQueue.Skip(DisplayStart).Take(DisplayedLength).Reverse())\n    // work with h\n</code>\n", "acce_score": "984", "simquery1_title": "Django - Get only date from datetime.strptime I have start date field in database as date (not datetime). In my save method in forms.py I'm using <code>datetime.strptime(date_string, '%Y-%m-%d')</code> to convert string to date. The method returns me formatted date along with time, i.e, \"2006-08-03 00:00:00\".I want just the date and no time. Because I get an \"invalid date format error\" saying \"It must be in YYYY-MM-DD format\", I'm stuck on this and frustrated.  Can anyone help me out with this? ", "simquery1_answer": "I have two import in scala on play framework. However play keep telling \"me object httpclient is not a member of package org.apache.commons\". I did add commons-httplclient.jar as external jar in .classpath(in eclipse). I created a console application in eclipse to verify and there is no error at all when importing these two objects and calling their methods. What is special of play that it cannot find httpclient object?  <code>import org.apache.commons.httpclient.methods.PostMethod\nimport org.apache.commons.httpclient.methods.StringRequestEntity\n</code>\n", "simquery2_title": "How do I convert a datetime to date? How do I convert a <code>datetime.datetime</code> object (e.g., the return value of <code>datetime.datetime.now())</code> to a <code>datetime.date</code> object in Python?", "simquery2_answer": "Personally I don't think a queue is what you're looking for, but your access pattern is even worse. Use iterators if you want sequential access:<code>foreach(var h in HistoryQueue.Skip(DisplayStart).Take(DisplayedLength).Reverse())\n    // work with h\n</code>\n", "total_len": 138, "s1_total_len": 290, "s2_total_len": 136}
{"post_id": "3819449", "title": "How to uninstall Python 2.7 on a Mac OS X 10.6.4?", "query": "I want to completely remove Python 2.7 from my Mac OS X 10.6.4. I managed to remove the entry from the <code>PATH</code> variable by reverting my <code>.bash_profile</code>. But I also want to remove all directories, files, symlinks, and entries that got installed by the Python 2.7 install package. I've got the install package from http://www.python.org/. What directories/files/configuration file entries do I need to remove? Is there a list somewhere?", "acce_answer": "I'm learning about Makefiles and application cross-compiling, and I'd like to find a way to prevent variables from being redefined in Makefiles further down the chain.As an example, I write a top-level Makefile /usr/src/someapp.mk that will...1) download the application's source code from the web into /usr/src/someapp-1.2.3/2) untar the source, and3) run its original /usr/src/someapp-1.2.3/MakefileSince the original Makefile was written as a stand-alone script, it will unknowningly (re)define the usual suspects (CC, AR/RANLIB, etc.) with local values, effectively erasing the value I chose in the top-level Makefile:<code>#My top-level /usr/src/someapp.mk:\nall:\n    wget someapp-1.2.3.tar.gz\n    tar xzvf someapp-1.2.3.tar.gz\n    cd someapp-1.2.3 &amp;&amp; $(MAKE)#Original Makefile from www /usr/src/someapp-1.2.3/Makefile:\n#RANLIB locally redefined... :-/\nRANLIB=ranliball:\n    $(RANLIB)...\n</code>I'd like users to be able to download the original source code instead of providing my own, modified version: Is there a way to have \"make\" either ignore when variables are redefined locally or rewrite them on the fly?Thank you.\n", "acce_score": "443", "simquery1_title": "Enforcing python version in setup.py Currently, we are setting\\installing up some packages on system by mentioning their version and dependencies in <code>setup.py</code> under <code>install_requires</code> attribute. Our system requires Python 2.7. Sometimes, users are having multiple versions of Python on their systems, say 2.6.x and 2.7, some packages it says are available already but actually on the system available under 2.6 site packages list. Also some users have 2.6 only, how to enforce from <code>setup.py</code> or is there any other way to say to have only Python 2.7 and all packages which we want <code>setup.py</code> to update are for only 2.7. We require minimum 2.7 on the machine to run our code.", "simquery1_answer": "I have this long description text to show it to users. At first it will show a short part of this description. But there will be a \"more >>\" button which open the entire description. How can I do this by jquery or css.<code>&lt;div class=\"desc\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel dui aliquam, semper mauris sit amet, imperdiet purus. Fusce convallis, nisl at imperdiet tincidunt, libero dui euismod tortor, eu ornare justo orci quis felis. Morbi volutpat felis nisl, vel interdum nulla porttitor a. Aenean est risus, malesuada a orci at, aliquam mattis ipsum. Proin porttitor metus dapibus nulla tempor scelerisque. Morbi fringilla imperdiet dui, at molestie justo rutrum mattis. Nunc in ultricies lorem. Quisque ut orci nec nibh facilisis imperdiet ac sit amet lacus. Sed tempus condimentum velit et porta. Etiam in lectus sapien. In hac habitasse platea dictumst. Integer tincidunt pulvinar lorem, vel placerat diam.&lt;/p&gt;\n&lt;/div&gt;\n</code>Edit:jsfiddleThis was my immediate idea. but It doesn't look good. Its not realistic to add extra spans everytime to  description text. I would love some clean solution. \n", "simquery2_title": "How to uninstall Python 2.7 on a Mac OS X 10.6.4? I want to completely remove Python 2.7 from my Mac OS X 10.6.4. I managed to remove the entry from the <code>PATH</code> variable by reverting my <code>.bash_profile</code>. But I also want to remove all directories, files, symlinks, and entries that got installed by the Python 2.7 install package. I've got the install package from http://www.python.org/. What directories/files/configuration file entries do I need to remove? Is there a list somewhere?", "simquery2_answer": "I'm learning about Makefiles and application cross-compiling, and I'd like to find a way to prevent variables from being redefined in Makefiles further down the chain.As an example, I write a top-level Makefile /usr/src/someapp.mk that will...1) download the application's source code from the web into /usr/src/someapp-1.2.3/2) untar the source, and3) run its original /usr/src/someapp-1.2.3/MakefileSince the original Makefile was written as a stand-alone script, it will unknowningly (re)define the usual suspects (CC, AR/RANLIB, etc.) with local values, effectively erasing the value I chose in the top-level Makefile:<code>#My top-level /usr/src/someapp.mk:\nall:\n    wget someapp-1.2.3.tar.gz\n    tar xzvf someapp-1.2.3.tar.gz\n    cd someapp-1.2.3 &amp;&amp; $(MAKE)#Original Makefile from www /usr/src/someapp-1.2.3/Makefile:\n#RANLIB locally redefined... :-/\nRANLIB=ranliball:\n    $(RANLIB)...\n</code>I'd like users to be able to download the original source code instead of providing my own, modified version: Is there a way to have \"make\" either ignore when variables are redefined locally or rewrite them on the fly?Thank you.\n", "total_len": 505, "s1_total_len": 597, "s2_total_len": 503}
{"post_id": "3845423", "title": "Remove empty strings from a list of strings", "query": "I want to remove all empty strings from a list of strings in python.My idea looks like this:<code>while '' in str_list:    str_list.remove('')</code>Is there any more pythonic way to do this?", "acce_answer": "Basically what I want to do is rename the batch file to .ini instead of .bat and put 1= for the first line and 2= before the second and so on and so on.My batch file:<code>@echo off color F0cls:strtecho Drag your file in this window to make a ini from it.set /p file=File path with \" \" :del config.inifor /F \"usebackq tokens=* delims=*\" %%j in (%file%) do echo 1=%%j&gt;&gt;config.inifor /F \"usebackq tokens=* delims=* skip=1\" %%j in (%file%) do echo 2=%%j&gt;&gt;config.inifor /F \"usebackq tokens=* delims=* skip=2\" %%j in (%file%) do echo 3=%%j&gt;&gt;config.iniexit\n</code>and my result is this when I use a random text file:<code>1=lol11=lol21=lol31=lol42=lol12=lol22=lol32=lol43=lol13=lol23=lol33=lol4\n</code>and what I want is this:<code>1=lol1 2=lol23=lol3\n</code>while the original .txt is:<code>lol1lol2lol3lol4\n</code>so it basically works but it does not stop at the end of the first line it writes it writes the whole file how do I solve this? Cause I'm out of options.\n", "acce_score": "940", "simquery1_title": "Remove the first character of a string I would like to remove the first character of a string.For example, my string starts with a <code>:</code> and I want to remove that only. There are several occurrences of <code>:</code> in the string that shouldn't be removed.I am writing my code in Python.", "simquery1_answer": "Because your function isn't doing anything inside the while block, it grabs the CPU, and, for all practical purposes, never lets go of it, so other threads can do their work<code>private void checkingData()\n{\n    while (true)\n    {\n        // executes, immediately\n    }\n}\n</code>If you change it to the following, you should see more reasonable CPU consumption:<code>private void checkingData()\n{\n    while (true)\n    {\n        // read your sensor data         Thread.Sleep(1000);\n    }\n}\n</code>\n", "simquery2_title": "How to remove multiple items from a list in just one statement? In python, I know how to remove items from a list:<code>item_list = ['item', 5, 'foo', 3.14, True]item_list.remove('item')item_list.remove(5)</code>The above code removes the values 5 and 'item' from <code>item_list</code>.But when there is a lot of stuff to remove, I have to write many lines of:<code>item_list.remove(&quot;something_to_remove&quot;)</code>If I know the index of what I am removing, I use:<code>del item_list[x]</code>where x is the index of the item I want to remove.If I know the index of all of the numbers that I want to remove, I'll use some sort of loop to <code>del</code> the items at the indices.But what if I don't know the indices of the items I want to remove?I tried <code>item_list.remove('item', 'foo')</code>, but I got an error saying that <code>remove</code> only takes one argument.Is there a way to remove multiple items from a list in a single statement?P.S. I've used <code>del</code> and <code>remove</code>. Can someone explain the difference between these two, or are they the same?", "simquery2_answer": "Youre not loading values to model, change <code>if</code> to:<code>if($model-&gt;load(Yii::$app-&gt;request-&gt;post())) {\n</code>\n", "total_len": 456, "s1_total_len": 211, "s2_total_len": 377}
{"post_id": "3898572", "title": "What are the most common Python docstring formats?", "query": "I have seen a few different styles of writing docstrings in Python, what are the most popular styles?", "acce_answer": "<code>override func tableView(tableView: UITableView, cellForRowAtIndexPath \nindexPath : NSIndexPath) -&gt; UITableViewCell {        let cell = tableView.dequeueReusableCellWithIdentifier (\"ChecklistItem\") as UITableViewCell\n        let label = cell.viewWithTag(1000) as UILabel        if indexPath.row == 0 {\n            label.text = \"jaswanth\"\n        } else if indexPath.row == 1 {\n            label.text = \"nikhil\"        } else if indexPath.row == 2 {\n            label.text = \"krishna\"\n        }\n        return cell\n    }\n</code>I have <code>UITableViewController</code>, I have used above code to display the cells in the table and I had another <code>UIViewController</code> when user taps on jaswanth the text(labels text) in <code>UIViewController</code> have be changed  and the same way when nikhil is tapped the text(labels text) in <code>UIViewController</code> have changed I had only one <code>UITableViewController</code> and one <code>UIViewController</code> how can I do this? \n", "acce_score": "1135", "simquery1_title": "How do I disable \"missing docstring\" warnings at a file-level in Pylint? Pylint throws errors that some of the files are missing docstrings. I try and add docstrings to each class, method and function, but it seems that Pylint also checks that files should have a docstring at the beginning of them. Can I disable this somehow?I would like to be notified of a docstring is missing inside a class, function or method, but it shouldn't be mandatory for a file to have a docstring.(Is there a term for the legal jargon often found at the beginning of a proprietary source file? Any examples? I don't know whether it is a okay to post such a trivial question separately.)", "simquery1_answer": "\n  If you don't specify a <code>-keystore</code> option, the default keystore is a file named <code>.keystore</code> in your home directory. If that file does not yet exist, it will be created.", "simquery2_title": "What to put in a python module docstring? Ok, so I've read both PEP 8 and PEP 257, and I've written lots of docstrings for functions and classes, but I'm a little unsure about what should go in a module docstring.  I figured, at a minimum, it should document the functions and classes that the module exports, but I've also seen a few modules that list author names, copyright information, etc.  Does anyone have an example of how a good python docstring should be structured?", "simquery2_answer": "You should setup <code>NSTrackingArea</code> to see when the mouse enters/leaves the area you're interested in hovering over.\n", "total_len": 307, "s1_total_len": 220, "s2_total_len": 159}
{"post_id": "3899980", "title": "How to change the font size on a matplotlib plot", "query": "How does one change the font size for all elements (ticks, labels, title) on a matplotlib plot?I know how to change the tick label sizes, this is done with:<code>import matplotlib matplotlib.rc('xtick', labelsize=20) matplotlib.rc('ytick', labelsize=20) </code>But how does one change the rest?", "acce_answer": "Note that in some RDBMS you can use the following syntax:<code>INSERT INTO table_name SET name=value, name2=value2, ...;\n</code>http://dev.mysql.com/doc/refman/5.5/en/insert.htmlThe following shell script does what you are asking for and takes care of escaping (not only because of injection, but you may want to insert values with quotes in them):<code>_IFS=\"$IFS\"; IFS=\",\"\nline=\"name1=value1,name2=value2,namen=valuen\";for pair in $line; do\n        names=\"$names,${pair%=*}\"\n        values=\"$values,'$(escape_sql \"${pair#*=}\")'\"\ndone\nIFS=\"$_IFS\"echo \"INSERT INTO table_name ( ${names#,} ) VALUES ( ${values#,} )\"\n</code>Output:<code>INSERT INTO table_name ( name1,name2,namen ) VALUES ( 'value1','value2','valuen' )\n</code>\n", "acce_score": "882", "simquery1_title": "Putting text in top left corner of matplotlib plot How can I put text in the top left (or top right) corner of a matplotlib figure, e.g. where a top left legend would be, or on top of the plot but in the top left corner?  E.g. if it's a <code>plt.scatter()</code>, then something that would be within the square of the scatter, put in the top left most corner.I'd like to do this without ideally knowing the scale of the scatterplot being plotted for example, since it will change from dataset to data set.  I just want it the text to be roughly in the upper left, or roughly in the upper right. With legend type positioning it should not overlap with any scatter plot points anyway.", "simquery1_answer": "I have this string: <code>$string = \"123456789\"\n</code>It should become an array:<code>Array ( [0] =&gt; 123 ) Array ( [1] =&gt; 456 ) Array ( [2] =&gt; 789 )\n</code>but I get:<code>Array ( [0] =&gt; 123 ) Array ( [0] =&gt; 456 ) Array ( [0] =&gt; 789 )\n</code>I use loop to get this string:<code>for ($i=0; $i&lt;$num; $i++)\n{\n    $string = $tree['a']['b'][$i]['c'];\n}\n</code>Next I use explode function to get an array. Why I got the array with only one index - zero? What I should do to get:<code> Array ( [0] =&gt; 123 ) Array ( [1] =&gt; 456 ) Array ( [2] =&gt; 789 ).\n</code>Please help me understand this.\n", "simquery2_title": "How to plot a gradient color line To state it in a general form, I'm looking for a way to join several points with a gradient color line using matplotlib, and I'm not finding it anywhere.To be more specific, I'm plotting a 2D random walk with a one color line. But, as the points have a relevant sequence, I would like to look at the plot and see where the data has moved. A gradient colored line would do the trick. Or a line with gradually changing transparency.I'm just trying to improve the vizualization of my data. Check out this beautiful image produced by the ggplot2 package of R. I'm looking for the same in matplotlib. Thanks.", "simquery2_answer": "I'm accessing a cross-domain webservice utilizing an.ajax jquery call from an html page.  While I can see the jsonp data using firebug, I am not able to load it into a variable or even display it (for debugging purposes).  Attempts to retrieve data using the jsonpCallback, success and complete functions always result in 'undefined' / null data.  Ultimately, I need to save the data to variables.  Any assistance will be greatly appreciated!<code>$.ajax({\n    data: {\n        User: UserValue,\n        GUID: GUIDValue\n    },\n    cache: false,\n    dataType: \"jsonp\", // tried json\n    type: \"GET\",\n    crossDomain: true,\n    jsonp: false,  // tried true\n    jsonpCallback: function (saveData) {\n        if (saveData == null) {\n            alert(\"DATA IS UNDEFINED!\");  // displays every time\n        }\n        alert(\"Success is \" + saveData);  // 'Success is undefined'\n    },\n    url: \"http://localhost/NotifMOD/NotifService.svc/GetAllMessages?callback=success?\",\n    async: false, // tried true\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n         console.log(textStatus, errorThrown);\n    },\n    complete: function (a, b) {\n        alert(a); //[object Object]\n        alert(b); // parseerror\n    }\n});\n</code>\n", "total_len": 335, "s1_total_len": 445, "s2_total_len": 504}
{"post_id": "3940128", "title": "How do I reverse a list or loop over it backwards?", "query": "How do I iterate over a list in reverse in Python?See also: How can I get a reversed copy of a list (avoid a separate statement when chaining a method after .reverse)?", "acce_answer": "<code>select top 1 a.* from articles a\ninner join comments c on c.articleid = a.id\nwhere c.date &gt; '2011-02-02'\norder by c.date asc\n</code>That should do it, although I'm not super familiar with MySQL.\n", "acce_score": "1319", "simquery1_title": "How do I reverse a string in Python? There is no built in <code>reverse</code> function for Python's <code>str</code> object. What is the best way of implementing this method?If supplying a very concise answer, please elaborate on its efficiency. For example, whether the <code>str</code> object is converted to a different object, etc. ", "simquery1_answer": "You can use the <code>sp_who</code> stored procedure. \n  Provides information about current users, sessions, and processes in an instance of the Microsoft SQL Server Database Engine. The information can be filtered to return only those processes that are not idle, that belong to a specific user, or that belong to a specific session.", "simquery2_title": "Python reverse list I'm trying to reverse a string and using the below code but the resultant reverse list value is None.The code:<code>str_a = 'This is stirng'rev_word = str_a.split()rev_word = rev_word.reverse()rev_word = ''.join(rev_word)</code>It returns the <code>TypeError</code>. Why?", "simquery2_answer": "The data members of a class describe the state of an object of that type. A <code>const</code> data member implies that the objects have some state that never changes. This it not really very common. Often <code>const</code> members are also <code>static</code>.The only thing you can do with a <code>const</code> data member is initialise it the member initialization list of a constructor.The fact that you can assign to a <code>std::string</code> from another <code>std::string</code> implies only that its copy assignment operator does not do anything to its <code>const</code> data members (because of course it can't).A class or struct that has a <code>const</code> data member will not have an implicitly defaulted copy assignment operator. The compiler can't assign to your <code>const</code> data member so it just says \"If you want to assign, you'll have to define it yourself.\"\n", "total_len": 132, "s1_total_len": 158, "s2_total_len": 310}
{"post_id": "3964681", "title": "Find all files in a directory with extension .txt in Python", "query": "How can I find all the files in a directory having the extension <code>.txt</code> in python?", "acce_answer": "I have a filter defined in web.xml like following:-<code>&lt;filter-mapping&gt;\n    &lt;filter-name&gt;AuthenticationFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n&lt;filter&gt;\n    &lt;display-name&gt;AuthenticationFilter&lt;/display-name&gt;\n    &lt;filter-name&gt;AuthenticationFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.filters.AuthenticationFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n</code>and In the filter I have following code:-<code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n  // TODO Auto-generated method stub\n  // place your code here  HttpServletRequest httpRequest = (HttpServletRequest) request;\n  HttpServletResponse hres = (HttpServletResponse) response;\n  String pathInfo = httpRequest.getRequestURI().trim();  System.out.println(pathInfo);  // Do not process any non-jsp files or LogIn.jsp  ! pathInfo.endsWith(\"jsf\") || \n  if (pathInfo.endsWith(\"RegistrationForm.jsf\") || pathInfo.endsWith(\"Login.jsf\")) {\n   chain.doFilter(request, response);\n   return;\n  }\n  // pass the request along the filter chain\n  User user = (User) httpRequest.getSession().getAttribute(\"USER_IN_SESSION\");\n  if(user==null)\n   hres.sendRedirect(\"Login.jsf\");\n  else {\n   chain.doFilter(request, response);  } }\n</code>The problem is that if I invoke the app with Topic.jsp it loops over like this:-<code>Topic.jsp\nLogIn.jsf\nLogin.jsp\nLogin.jsf\nLogin.jsp\n...\n</code>I have found the problem is the FORWARD in mappings. and if remove this entry, it works<code>&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n</code>Please help me solve this puzzzle of infinite loop alternating .jsp &amp; .jsf :)\n", "acce_score": "1041", "simquery1_title": "Python glob but against a list of strings rather than the filesystem I want to be able to match a pattern in <code>glob</code> format to a list of strings, rather than to actual files in the filesystem. Is there any way to do this, or convert a <code>glob</code> pattern easily to a regex?", "simquery1_answer": "You can <code>groupby</code> <code>CloneID</code> and write to csv directly in the <code>apply</code> method:<code>df.groupby('CloneID').apply(lambda gp: gp.to_csv('CloneID{}.txt'.format(gp.name)))\n</code>This will retain the original index, but it can be fixed by <code>.set_index('CloneID')</code> before <code>to_csv</code> call.Edit: To retain only the groups where corresponding <code>ID</code> starts with <code>H</code>:This requires a check for each group; here is one approach:<code>df.groupby('CloneID').apply(\n    lambda gp: gp.to_csv('CloneID{}.txt'.format(gp.name))\n    if any(gp.ID.str.startswith('H'))\n    else None)\n</code>\n", "simquery2_title": "Get absolute paths of all files in a directory How do I get the absolute paths of all the files in a directory that could have many sub-folders in Python?I know <code>os.walk()</code> recursively gives me a list of directories and files, but that doesn't seem to get me what I want. ", "simquery2_answer": "Answering your question:\n  Are booleans mutable in python?\nYes and no.  Variables that are assigned a boolean value are (probably always, and definitely in this case) mutable, yes.  They're also not restricted to being assigned boolean values, as variables are not staticly typed.But the booleans <code>True</code> and <code>False</code> themselves are not mutable.  They are singletons that cannot be modified.Looking at your actual code:<code>if success = 1:\n</code>Is not valid syntax, you want a <code>==</code> there.  Also, idiomatically speaking you should not use <code>0</code> and <code>1</code> for success and failure values you should use <code>True</code> and <code>False</code>.  So you should refactor to something like this:<code>def update(request):\n    success = False    try:\n        product = Mattress.objects.get(id=id)\n        success = True\n    except Mattress.DoesNotExist:\n        pass    if success:\n        return render_to_response(\"success.html\")\n    else:\n        return render_to_response('failure.html')\n</code>\n", "total_len": 679, "s1_total_len": 293, "s2_total_len": 365}
{"post_id": "3965104", "title": "not None test in Python", "query": "Out of these not None tests.<code>if val != None:if not (val is None):if val is not None:</code>Which one is preferable, and why?", "acce_answer": "I understand that in modulus <code>17/12 = 5</code>. Why <code>4+17 % 2-1</code> the value is <code>4</code>, and <code>(4+17) % 2-1</code> the value is <code>0</code>?\n", "acce_score": "898", "simquery1_title": "Best practice for using assert? Is there a performance or code maintenance issue with using <code>assert</code> as part of the standard code instead of using it just for debugging purposes?Is<code>assert x &gt;= 0, 'x is less than zero'</code>better or worse than<code>if x &lt; 0:    raise Exception('x is less than zero')</code>Also, is there any way to set a business rule like <code>if x &lt; 0 raise error</code> that is always checked without the <code>try/except/finally</code> so, if at anytime throughout the code <code>x</code> is less than 0 an error is raised, like if you set <code>assert x &lt; 0</code> at the start of a function, anywhere within the function where <code>x</code> becomes less then 0 an exception is raised?", "simquery1_answer": "It sounds like you don't have any chapters contained in your <code>item.Chapter</code> property. Can you check that they do exist- ie you are adding them somewhere in your logic. A breakpoint in the view would be one way of confirming this.\n", "simquery2_title": "Making Python's `assert` throw an exception that I choose Can I make <code>assert</code> throw an exception that I choose instead of <code>AssertionError</code>?UPDATE:I'll explain my motivation: Up to now, I've had assertion-style tests that raised my own exceptions; For example, when you created a <code>Node</code> object with certain arguments, it would check if the arguments were good for creating a node, and if not it would raise <code>NodeError</code>.But I know that Python has a <code>-o</code> mode in which asserts are skipped, which I would like to have available because it would make my program faster. But I would still like to have my own  exceptions. That's why I want to use assert with my own exceptions.", "simquery2_answer": "As far as I understand, the instrumented classes are only needed by cobertura for report generation. If you create them in <code>target/classes</code>, they will overwrite the original class files.If you need the instrumented files in a jar as a result, you can configure the <code>maven-jar-plugin</code> to pick up the files from the <code>target/generated-classes</code> directory instead of or in addition to the files from the standard <code>${build.project.outputDirectory}</code>.EditHave a look at the maven-jar-plugin description. To only use <code>target/generated-classes</code>, the following addition to your POM should work - try it and modify it to your needs:<code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt; &lt;!-- replace with correct version nbr! --&gt;\n        &lt;configuration&gt;\n          &lt;includes&gt;\n            &lt;include&gt;${project.build.directory}/generated-classes/**/*.class&lt;/include&gt;\n          &lt;/includes&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;${project.build.directory}/classes/**/*.class&lt;/include&gt;\n          &lt;/excludes&gt;        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      ...\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code><code>${project.build.directory}</code> points to your target folder, <code>${project.build.ouputDirectory}</code> to target/classes. I do not know if you can simply set <code>${project.build.ouputDirectory}</code> to a new value - have a look at the this chapter of the maven book, maybe you find some hintsEdit 2Alternativly or additionally you can use maven to copy the files from target/generated-classes to target/classes after <code>coberture:instrument</code> has finished. This question has one answer with an example POM (fragment), you just have to identify the correct phase (process-resources is definitely too early for your case)\n", "total_len": 126, "s1_total_len": 271, "s2_total_len": 797}
{"post_id": "3987041", "title": "Run function from the command line", "query": "I have this code:<code>def hello():    return 'Hi :)'</code>How would I run this directly from the command line?", "acce_answer": "I've been working on a project, using Bazaar as a version control system.\nNow I have to work with people offshore, and they only want to use SVN.What I have:\nMy <code>bazaar</code> branch with its files and revisions.\nA brand new <code>subversion</code> repository.\nWhat I want:\nMy bazaar branch with its files and revisions.\nThe subversion repo with the same files and revisions (includings dates and commit messages).\nBeing able to <code>pull</code> / <code>push</code> from/to the SVN using <code>bzr</code>.\nI managed to copy the branch into the svn repo using tailor, but bazaar won't recognized it (Branches have no common ancestor).Is such a thing possible?\n", "acce_score": "542", "simquery1_title": "Run function from the command line I have this code:<code>def hello():    return 'Hi :)'</code>How would I run this directly from the command line?", "simquery1_answer": "I've been working on a project, using Bazaar as a version control system.\nNow I have to work with people offshore, and they only want to use SVN.What I have:\nMy <code>bazaar</code> branch with its files and revisions.\nA brand new <code>subversion</code> repository.\nWhat I want:\nMy bazaar branch with its files and revisions.\nThe subversion repo with the same files and revisions (includings dates and commit messages).\nBeing able to <code>pull</code> / <code>push</code> from/to the SVN using <code>bzr</code>.\nI managed to copy the branch into the svn repo using tailor, but bazaar won't recognized it (Branches have no common ancestor).Is such a thing possible?\n", "simquery2_title": "How can I run an external command asynchronously from Python? I need to run a shell command asynchronously from a Python script. By this I mean that I want my Python script to continue running while the external command goes off and does whatever it needs to do.I read this post:   Calling an external command in Python I then went off and did some testing, and it looks like <code>os.system()</code> will do the job provided that I use <code>&amp;</code> at the end of the command so that I don't have to wait for it to return. What I am wondering is if this is the proper way to accomplish such a thing? I tried <code>commands.call()</code> but it will not work for me because it blocks on the external command.Please let me know if using <code>os.system()</code> for this is advisable or if I should try some other route.", "simquery2_answer": "I adapted a script originally written by Narayana Vyas Kondreddi in 2002. I changed the where clause to check text/ntext fields as well, by using patindex rather than like. I also changed the results table slightly. Unreasonably, I changed variable names, and aligned as I prefer (no disrespect to Mr. Kondretti). The user may want to change the data types searched. I used a global table to allow querying mid-processing, but a permanent table might be a smarter way to go.<code>/* original script by Narayana Vyas Kondreddi, 2002 */\n/* adapted by Oliver Holloway, 2009 *//* these lines can be replaced by use of input parameter for a proc */\ndeclare @search_string varchar(1000);\nset @search_string = 'what.you.are.searching.for';/* create results table */\ncreate table ##string_locations (\n  table_name varchar(1000),\n  field_name varchar(1000),\n  field_value varchar(8000)\n)\n;\n/* special settings */\nset nocount on\n;\n/* declare variables */\ndeclare\n  @table_name varchar(1000),\n  @field_name varchar(1000)\n;\n/* variable settings */\nset @table_name = ''\n;\nset @search_string = QUOTENAME('%' + @search_string + '%','''')\n;\n/* for each table */\nwhile @table_name is not null\nbegin  set @field_name = ''\n  set @table_name = (\n    select MIN(QUOTENAME(table_schema) + '.' + QUOTENAME(table_name))\n    from INFORMATION_SCHEMA.TABLES\n    where \n      table_type = 'BASE TABLE' and\n      QUOTENAME(table_schema) + '.' + QUOTENAME(table_name) &gt; @table_name and\n      OBJECTPROPERTY(OBJECT_ID(QUOTENAME(table_schema) + '.' + QUOTENAME(table_name)), 'IsMSShipped') = 0\n  )  /* for each string-ish field */\n  while (@table_name is not null) and (@field_name is not null)\n  begin\n    set @field_name = (\n      select MIN(QUOTENAME(column_name))\n      from INFORMATION_SCHEMA.COLUMNS\n      where \n        table_schema    = PARSENAME(@table_name, 2) and\n        table_name  = PARSENAME(@table_name, 1) and\n        data_type in ('char', 'varchar', 'nchar', 'nvarchar', 'text', 'ntext') and\n        QUOTENAME(column_name) &gt; @field_name\n    )    /* search that field for the string supplied */\n    if @field_name is not null\n    begin\n      insert into ##string_locations\n      exec(\n        'select ''' + @table_name + ''',''' + @field_name + ''',' + @field_name + \n        'from ' + @table_name + ' (nolock) ' +\n        'where patindex(' + @search_string + ',' + @field_name + ') &gt; 0'  /* patindex works with char &amp; text */\n      )\n    end\n    ;\n  end\n  ;\nend\n;/* return results */\nselect table_name, field_name, field_value from ##string_locations (nolock)\n;\n/* drop temp table */\n--drop table ##string_locations\n;\n</code>\n", "total_len": 233, "s1_total_len": 231, "s2_total_len": 1090}
{"post_id": "3996904", "title": "Generate random integers between 0 and 9", "query": "How can I generate random integers between 0 and 9 (inclusive) in Python?For example, <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code>, <code>8</code>, <code>9</code>", "acce_answer": "I only had to look as far as the \"Settings\" page on my GMail account before I found a radio button on the web.The only other widget that provides a simple \"Pick one choice from many\" option in an HTML document is a <code>&lt;select&gt;</code> element. You can also use multiple submit buttons for the same effect \u2014 but you submit the form at the same time, so it isn't always appropriate (although good for \"Preview\" or \"Save\" decisions). \n", "acce_score": "1841", "simquery1_title": "Appending a dictionary to a list in a loop I am trying to take a dictionary and append it to a list. The dictionary then changes values and then is appended again in a loop. It seems that every time I do this, all the dictionaries in  the list change their values to match the one that was just appended.For example:<code>&gt;&gt;&gt; dict = {}&gt;&gt;&gt; list = []&gt;&gt;&gt; for x in range(0,100):...     dict[1] = x...     list.append(dict)... &gt;&gt;&gt; print list</code>I would assume the result would be <code>[{1:1}, {1:2}, {1:3}... {1:98}, {1:99}]</code> but instead I got:<code>[{1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}, {1: 99}]</code>", "simquery1_answer": "The problem statement says to print YES \"if and only if there are more than one million different possible passwords in this system.\"It looks like your code is checking for more than or equal to with <code>if(maxl &gt;= 6)</code>.\n", "simquery2_title": "How to remove those \"\\x00\\x00\" How to remove those \"\\x00\\x00\" in a string ?I have many of those strings (example shown below). I can use <code>re.sub</code> to replace those \"\\x00\". But I am wondering whether there is a better way to do that? Converting between unicode, bytes and string is always confusing.<code>'Hello\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'.</code>", "simquery2_answer": "I want to fix some text of string in the center. How can I do that? \nFor example, take a look on this photoI have a string like that. Now I want some words (Heading) of my string to be shown in a <code>TextView</code> at the center horizontally but others word will remain as usual. How can I do that?I have tried the following code but it doesn't work for various dimension's devices.<code>          String string= \"                 SYRIA\n\\n\\nSyria oh Syria why do you bleed?\n        \\nBrother fights brother without thought or need\n    \\nRuled by a tyrant for so many years\n    \\nAnd now the split blood is washed away by tears\\n\"\n</code>\n", "total_len": 219, "s1_total_len": 954, "s2_total_len": 426}
{"post_id": "4015417", "title": "Why do Python classes inherit object?", "query": "Why does the following class declaration inherit from <code>object</code>?<code>class MyClass(object):    ...</code>", "acce_answer": "For a product I am co-designing I want to display bitmap icons on an LCD screen. Inspired by among others this tutorial I created a separate C-file with the byte array of the icon I am trying to display. When I try to display the icon directly it seems to work. But when I try to do it indirectly - which is going to be nessecary eventually - it fails.What really baffles me and what I seek to understand is; when I print out the array of the garbage icon (CHAR ARRAY) to the serial monitor and compare it to the byte array it is suppose to represent they match correctly.\nBut when I do the same for the image that is displayed correctly (ICON ARRAY), what I print to the serial monitor does not match the byte array it is displaying, the information I printed is not even consistent... How can this be ?!I have been cracking my head over this for a week now so any help would be greatly appreciated.The main file:<code>// --------------------------------------------------------------------------------------\n// |   This program is made for an arduino mega 2560 used in conjunction with the       |\n// |           (chinese) OPEN-SMART 3.2 inch TFT LCD Shield ILI9327                     |\n// | This version of the program is a slimmed down one to clearly convey the problem    |\n// |           I am currenlty having drawing pictures on this setup                     |\n// --------------------------------------------------------------------------------------\n// This program is based on the library obtained from\n// https://drive.google.com/open?id=0B6uNNXJ2z4CxYktCQlViUkI1Sms\n// There is also a demo available on YouTube\n// https://www.youtube.com/watch?v=JQHGYnKeC0M&amp;t=2s#include &lt;Adafruit_GFX.h&gt;    // Core graphics library\n#include &lt;MCUFRIEND_kbv.h&gt;\nMCUFRIEND_kbv tft;// -------------------------------------------------------------------------------------\n// |                            Variable declaration                                   |\n// -------------------------------------------------------------------------------------// Set colors\n#define BLACK            0x0000\n#define BACKGROUND       0x07FF// No idea with this does tbh\nuint16_t g_identifier;// Spacing variables\nuint8_t   cube_size = 75;\nuint8_t   padding = 3;\nuint8_t     ix1 = 5+2 * padding;\nuint8_t     ix2 = 5+3 * padding + cube_size;\nuint8_t     ix3 = 5+4 * padding + 2 * cube_size;\nuint8_t     ix4 = 5+5 * padding + 3 * cube_size;\nuint16_t    ix5 = 5+(6 * padding) + 4 * cube_size;\nuint8_t     iy1 = 5+1 * padding;\nuint8_t     iy2 = 5+3 * padding + cube_size;\nuint8_t     iy3 = 5+4 * padding + 2 * cube_size;//Progmem Icon init\nextern uint8_t icon_from_progmem[];// -------------------------------------------------------------------------------------\n// |                                  Functions                                        |\n// -------------------------------------------------------------------------------------\n// Standard drawbitmap functionvoid drawBitmap(int16_t x, int16_t y,  const uint8_t bitmap[], int16_t w, int16_t h, uint16_t color) {  int16_t byteWidth = (w + 7) / 8; // Bitmap scanline pad = whole byte\n  uint8_t byte = 0;\n  for (int16_t j = 0; j &lt; h; j++, y++) {\n    for (int16_t i = 0; i &lt; w; i++) {\n      if (i &amp; 7) byte &lt;&lt;= 1;\n      else      byte   = pgm_read_byte(&amp;bitmap[j * byteWidth + i / 8]);\n      if (byte &amp; 0x80) tft.drawPixel(x + i, y, color);\n    }\n  }\n}// -------------------------------------------------------------------------------------\n// |                                   Setup                                           |\n// -------------------------------------------------------------------------------------\n// I just copied this part to get the screen to workvoid setup(void) {\n  Serial.begin(9600);\n  Serial.println(F(\"TFT LCD test\"));  //    tft.reset();                 //we can't read ID on 9341 until begin()\n  g_identifier = tft.readID(); //\n  Serial.print(\"ID = 0x\");\n  Serial.println(g_identifier, HEX);\n  if (g_identifier == 0x00D3 || g_identifier == 0xD3D3) g_identifier = 0x9481; // write-only shield\n  if (g_identifier == 0xFFFF) g_identifier = 0x9341; // serial\n  //    g_identifier = 0x9329;                             // force ID\n  tft.begin(g_identifier); //to enable ILI9327 driver code\n  tft.setRotation(3);      //Change orientation (landscape and portrait)}// -----------------------------------------------------------------------------------\n// |                                 Loop                                            |\n// -----------------------------------------------------------------------------------void loop(void) {\n  tft.fillScreen(BACKGROUND); //  unsigned char myCharArray[512];\n  byte myChar;  for (int k = 0; k &lt; 512; k++) {    // Create myCharArray from icon_from_progmem\n    myChar = pgm_read_byte(icon_from_progmem + k);\n    myCharArray[k] = char(myChar);    // Print data from myCharArry to the serial monitor\n    Serial.print(\"CHAR ARRAY: \");\n    Serial.print(k);\n    Serial.print(\"     \");\n    Serial.println(myChar);\n  }  // Visual separtion string\n  Serial.println(\"------------------------------------------------------------------\");  // Print data from icon_from_progmem to serial monitor\n  for (int k=0; k&lt;512; k++){\n    Serial.print(\"ICONS ARRAY: \");\n    Serial.print(k);\n    Serial.print(\"     \");\n    Serial.println(icon_from_progmem[k]);    \n  }  // Draw the two icons on the screen\n  drawBitmap(ix2, iy1, myCharArray,       64, 64, BLACK);\n  drawBitmap(ix4, iy1, icon_from_progmem, 64, 64, BLACK);  delay(600000);} // end of void loop\n</code>The separate file for the bitmap:<code>#include &lt;avr/pgmspace.h&gt;// 'PlafLamp', 64x64px\nconst unsigned char icon_from_progmem [] PROGMEM = {\n    0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x7f, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xff, 0xff, 0xc0, 0x00, 0x00, \n    0x00, 0x00, 0x0f, 0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xf8, 0x00, 0x00, \n    0x00, 0x00, 0x7f, 0xc0, 0x03, 0xfe, 0x00, 0x00, 0x00, 0x00, 0xfe, 0x00, 0x00, 0x7f, 0x00, 0x00, \n    0x00, 0x01, 0xfc, 0x00, 0x00, 0x3f, 0x80, 0x00, 0x00, 0x03, 0xf0, 0x00, 0x00, 0x0f, 0xc0, 0x00, \n    0x00, 0x07, 0xe0, 0x00, 0x00, 0x07, 0xe0, 0x00, 0x00, 0x0f, 0xc0, 0x00, 0x00, 0x03, 0xf0, 0x00, \n    0x00, 0x0f, 0x80, 0x00, 0x00, 0x01, 0xf0, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x00, 0xf8, 0x00, \n    0x00, 0x1e, 0x00, 0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x00, 0x7c, 0x00, \n    0x00, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x3e, 0x00, \n    0x00, 0x78, 0x00, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00, 0x00, 0x1e, 0x00, \n    0x00, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, \n    0x00, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, \n    0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, \n    0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, \n    0x00, 0x00, 0x07, 0xc0, 0x03, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x03, 0xc0, 0x00, 0x00, \n    0x00, 0x00, 0x03, 0xe0, 0x07, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x01, 0xf8, 0x1f, 0x80, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x3f, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xf8, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x1c, 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x7c, 0x00, 0x00, \n    0x00, 0x00, 0x7e, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00, 0x00, 0xfc, 0x01, 0x80, 0x3f, 0x00, 0x00, \n    0x00, 0x01, 0xf8, 0x03, 0xc0, 0x1f, 0x80, 0x00, 0x00, 0x03, 0xf0, 0x03, 0xc0, 0x0f, 0xc0, 0x00, \n    0x00, 0x07, 0xe0, 0x03, 0xc0, 0x07, 0xe0, 0x00, 0x00, 0x07, 0xc0, 0x03, 0xc0, 0x03, 0xe0, 0x00, \n    0x00, 0x07, 0x80, 0x03, 0xc0, 0x01, 0xe0, 0x00, 0x00, 0x03, 0x00, 0x03, 0xc0, 0x00, 0xc0, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, \n    0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00\n};</code>What is displayed on the screenThe image on the left is the CHAR ARRAY and the image on the right is the ICON ARRAY.\n", "acce_score": "1649", "simquery1_title": "Prevent creating new attributes outside __init__ I want to be able to create a class (in Python) that once initialized with <code>__init__</code>, does not accept new attributes, but accepts modifications of existing attributes. There's several hack-ish ways I can see to do this, for example having a <code>__setattr__</code> method such as<code>def __setattr__(self, attribute, value):    if not attribute in self.__dict__:        print \"Cannot set %s\" % attribute    else:        self.__dict__[attribute] = value</code>and then editing <code>__dict__</code> directly inside <code>__init__</code>, but I was wondering if there is a 'proper' way to do this?", "simquery1_answer": "I have a solution for you if you have to do stuff with paperclip. Include this class in your lib folder as heroku_compliant_file.rb<code>class HerokuCompliantFile &lt; StringIO\n  def initialize(str,filename,content_type)\n    @original_filename = filename\n    @content_type = content_type\n    super(str)\n  end\nend\n</code>In your model containing the paperclip - <code>def insert_a_hunk_of_string_into_paperclip(some_object)\n  f = HerokuCompliantFile.new(some_object.render,\"myfile_#{Process.pid}\",\"application/pdf\")\n  self.paperclip_model = f\n  save\nend\n</code>\n", "simquery2_title": "Is it possible to make abstract classes? How can I make a class or method abstract in Python?I tried redefining <code>__new__()</code> like so:<code>class F:    def __new__(cls):        raise Exception(&quot;Unable to create an instance of abstract class %s&quot; %cls)</code>But now, if I create a class <code>G</code> that inherits from <code>F</code> like so:<code>class G(F):    pass</code>Then, I can't instantiate <code>G</code> either, since it calls its super class's <code>__new__</code> method.Is there a better way to define an abstract class?", "simquery2_answer": "If its a URL Field, the syntax should be:<code>&lt;Field Name='UrlField'&gt;http://stackoverflow.com/, stackoverflow&lt;/Field&gt;\n</code>And note the space after the <code>,</code> , its important\n", "total_len": 4853, "s1_total_len": 358, "s2_total_len": 229}
{"post_id": "4028904", "title": "What is a cross-platform way to get the home directory?", "query": "I need to get the location of the home directory of the current logged-on user. Currently, I've been using the following on Linux:<code>os.getenv(&quot;HOME&quot;)</code>However, this does not work on Windows. What is the correct cross-platform way to do this ?", "acce_answer": "is there a function or something in C++ allows me to Allocate memory from the unmanaged memory of the process by using the specified number of bytes.like in c# for exmapl:<code>_key = Marshal.AllocHGlobal(key.P.Length * sizeof(UInt32) + key.S.Length * sizeof(UInt32));\n</code>\n", "acce_score": "1169", "simquery1_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery1_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "simquery2_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery2_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "total_len": 175, "s1_total_len": 575, "s2_total_len": 319}
{"post_id": "4033723", "title": "How do I access command line arguments?", "query": "I use python to create my project settings setup, but I need help getting the command line arguments.I tried this on the terminal:<code>$python myfile.py var1 var2 var3</code>In my Python file, I want to use all variables that are input.", "acce_answer": "This is just a simple CSS style:<code>.className{\nposition:fixed;\n}</code>You are right in that <code>position:fixed;</code> doesn't work in Mobile Safari but I believe it does in Android.Here is that script you were talking about to make it work in mobile Safari:http://cubiq.org/scrolling-div-on-iphone-ipod-touch\n", "acce_score": "607", "simquery1_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery1_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "simquery2_title": "When to use pip requirements file versus install_requires in setup.py? I'm using pip with virtualenv to package and install some Python libraries.  I'd imagine what I'm doing is a pretty common scenario.  I'm the maintainer on several libraries for which I can specify the dependencies explicitly.  A few of my libraries are dependent on third party libraries that have transitive dependencies over which I have no control.What I'm trying to achieve is for a <code>pip install</code> on one of my libraries to download/install all of its upstream dependencies.  What I'm struggling with in the pip documentation is if/how requirements files can do this on their own or if they're really just a supplement to using <code>install_requires</code>.Would I use <code>install_requires</code> in all of my libraries to specify dependencies and version ranges and then only use a requirements file to resolve a conflict and/or freeze them for a production build?Let's pretend I live in an imaginary world (I know, I know) and my upstream dependencies are straightforward and guaranteed to never conflict or break backward compatibility. Would I be compelled to use a pip requirements file at all or just let pip/setuptools/distribute install everything based on <code>install_requires</code>?There are a lot of similar questions on here, but I couldn't find any that were as basic as when to use one or the other or using them both together harmoniously.", "simquery2_answer": "I don't know any function to do this, but here is some R code to do it yourself :<code># Needed type coercions (Date for comparisons, characters to avoid 'factor' problems)\nevents$time &lt;- as.Date(events$time)\nevents$event &lt;- as.character(events$event)\nevents$name &lt;- as.character(events$name)\ndf$name &lt;- as.character(df$name)# Events ordering (needed to detect previous events as non NA)\nevents &lt;- events[ order(events$time) ,]# Updates\ndf$event = NA\nfor(i in 1:nrow(events)) {\n    # Update where time is lesser than the limit, if names correspond and if an event was not already assigned to the row\n    df[ df$time &lt;= events[i,\"time\"] &amp; df$name == events[i,\"name\"] &amp; is.na(df$event) , \"event\" ] = events[i,\"event\"]\n}\n</code>\n", "total_len": 165, "s1_total_len": 319, "s2_total_len": 589}
{"post_id": "4142151", "title": "How to import the class within the same directory or sub directory?", "query": "I have a directory that stores all the .py files.<code>bin/   main.py   user.py # where class User resides   dir.py # where class Dir resides</code>I want to use classes from user.py and dir.py in main.py.How can I import these Python classes into main.py?Furthermore, how can I import class <code>User</code> if user.py is in a sub directory?<code>bin/    dir.py    main.py    usr/        user.py</code>", "acce_answer": "The problem is not in this part of the code. The error message is about the type of mod being <code>mod :: (Integral a) =&gt; a -&gt; a -&gt; a</code>, but x supposedly being of type [Char].I am guessing that the type of x is being inferred here (since the type should be Int). Therefor in order to debug the problem I suggest you declare the type of your functions, like this:<code>f :: Int -&gt; ...\nf x ... = if (((mod x 3) == 0) &amp;&amp; ((mod x 5) == 0))...\n</code>If you still have a problem, post the rest of the code.\n", "acce_score": "911", "simquery1_title": "Python project directory structure / pytest trouble This should be the easiest problem on earth, but even after extensive searching and tinkering, I'm still in deep trouble with finding a \"correct\" way to lay a directory structure and manage to run pytest etc correctly.Let's say my I have a program called apple.<code>|- README.md|- apple|   |-- __init__.py|   |-- apple.py| - tests|   |-- test_everything.py</code>The apple.py contains some functions, for examples sake let's call one <code>eat()</code>. And the <code>test_everything.py</code> file contains some tests like <code>assert eat()==\"foobar\"</code>. So good so easy, but then the fun begins:What about the <code>__init__.py</code> in the apple directory... correct? Empty or what should be inside?Is it best practice to call <code>py.test</code> from the root directory? Or <code>py.test tests</code>?So many projects have a <code>__init__.py</code> in their test directory, but that's explicitly said to be wrong in the py.test documentation. So why god whyWhat comes at the top of the <code>test_everything.py</code> file: an <code>import apple</code> or <code>from apple import *</code>? or something else entirelyDo you call the functions then by <code>eat()</code> or <code>apple.eat()</code>?Some even recommend manipulating <code>os.path.dirname</code> in pythonThis should be easy, but I've seen every combination of the above, not even speaking about tox and the myriad of other tools. Yet with the slightest error, you get thrown some <code>ImportError: No module named 'apple'</code> or some other funky error. What is the \"right\" way? The advice and the existing code on github etc follows extremely different conventions. For a medium-experienced coder, this should be much easier.", "simquery1_answer": "Going to try to keep it short. I have a while loop in grid.php file to fill up a table as such...<code>&lt;?php while($product = $products-&gt;fetch_assoc()) { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_id']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_title']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_fname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_lname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_price']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"edit.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-primary\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"delete.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;?php } ?&gt;\n</code>If I click the first anchor tag takes me to a edit.php file and here is the head code for that file.<code>&lt;?php include '_includes/db.php';\n$cd_id   = trim($_GET['id']);\n$message = '';\ninclude '_includes/connection.php';\nif($db-&gt;connect_error){\n  $message = $db-&gt;connect_error;\n}else{\n  $sql  = \"SELECT * FROM CD WHERE cd_id = $cd_id\";\n  $result = $db-&gt;query($sql);\n  $row = $result-&gt;fetch_assoc();\n  if($db-&gt;error){\n    $message = $db-&gt;error;\n   }\n }\n?&gt;\n</code>Now I will show the html of edit.php<code>&lt;!--        Product Musician last name--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_musician_lname\"&gt;Musician's lirst name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_musician_lname\" name=\"cd_musician_lname\" value=\"&lt;?php echo $row['cd_musician_lname'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--        End of Musician last name--&gt;      &lt;!--        Product price--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_price\"&gt;Product price&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_price\" name=\"cd_price\" value=\"&lt;?php echo $row['cd_price'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--    End of Product price--&gt;      &lt;!--    Form submit button--&gt;\n      &lt;a href=\"edit_confirm.php?id=&lt;?echo $row['cd_id'];?&gt;\" type=\"submit\" class=\"btn btn-primary\"&gt;Update Record&lt;/a&gt;\n      &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n</code>I have the edit.php page working just fine but if I make changes in the fields and click the submit anchor tag I get all the fields of the row empty but the PK. Here is the code for the final edit_confirm.php file<code>&lt;?php\ninclude '_includes/db.php';$cd_id             = trim($_GET['id']);\n$cd_title          = $_POST['cd_title'];\n$cd_musician_fname = $_POST['cd_musician_fname'];\n$cd_musician_lname = $_POST['cd_musician_lname'];\n$cd_price          = $_POST['cd_price'];$message = '';\ninclude '_includes/connection.php';if($db-&gt;connect_error){\n  die(\"Connection failed: \".$db-&gt;connect_error);\n} else {\n$sql = \"UPDATE CD SET cd_title='\".$cd_title.\"', cd_musician_fname='\".\n$cd_musician_fname.\"', cd_musician_lname='\".\n$cd_musician_lname.\"',   cd_price='\".$cd_price.\"' WHERE cd_id = $cd_id \";\n$db-&gt;query($sql);\nvar_dump($sql);\n }\n?&gt;&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;?php include '_includes/main-head.php';?&gt;\n&lt;/head&gt;\n  &lt;body&gt;\n  &lt;?php include '_includes/main-navbar.php';?&gt;  &lt;div class=\"container\"&gt;\n    &lt;hr&gt;\n    &lt;?php\n    if($db-&gt;query($sql) === TRUE){ ?&gt;\n      &lt;h1&gt;Record updated successfully.&lt;/h1&gt;\n      &lt;?php echo $cd_title; ?&gt;\n      &lt;?php echo $record-&gt;affected_rows ?&gt; \n      &lt;p&gt; record was updated in the database.&lt;/p&gt;&lt;/br&gt;\n   &lt;?php } else { ?&gt;\n    &lt;p&gt;Error updating the record: &lt;/p&gt; &lt;?php $db-&gt;error; ?&gt;\n   &lt;?php }; ?&gt;\n    &lt;hr&gt;\n    &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;?php include '_includes/main-script.php';?&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code>If you notice in the edit_confirm.php I did a var_dump to see what are the values in the variables and it shows empty.I need help with this.\nThank you in advance.\n", "simquery2_title": "Using .pth files I am trying to make a module discoverable on a system where I don't have write access to the global <code>site-packages</code> directory, and without changing the environment (<code>PYTHONPATH</code>). I have tried to place a <code>.pth</code> file in the same directory as a script I'm executing, but it seems to be ignored. E.g., I created a file <code>extras.pth</code> with the following content: <code>N:\\PythonExtras\\lib\\site-packages</code>But the following script, placed and run in the same directory, prints <code>False</code>.<code>import sysprint r\"N:\\PythonExtras\\lib\\site-packages\" in sys.paths</code>The only directory in <code>sys.path</code> to which I have write access is the directory containing the script. Is there another (currently non-existent) directory where I could place <code>extras.pth</code> and have it be seen? Is there a better way to go about this?I'm using python 2.7 on Windows. All <code>.pth</code> questions I could find here use the system module directories.Edit: I've tracked down the Windows per-user installation directory, at <code>%APPDATA%\\Python\\Python27\\site-packages</code>. I can place a module there and it will be imported, but if I put a <code>.pth</code> file there, it has no effect. Is this really not supposed to work, or am I doing something wrong?", "simquery2_answer": "Use DataTemplateSelector to return the Datatemplate you want to be applied..<code>&lt;ContentControl ContentTemplateSelector=\"{StaticResource MyTemplateSelector}\"/&gt;\n</code>here MYtemplateselector is <code>DataTemplateSelector</code>, in Select() method of selector you can check for the property bound to contentcontrol and return the corresponding Datatemplate.Thanks\n", "total_len": 307, "s1_total_len": 2190, "s2_total_len": 454}
{"post_id": "4152963", "title": "Get name of current script in Python", "query": "I'm trying to get the name of the Python script that is currently running.I have a script called <code>foo.py</code> and I'd like to do something like this in order to get the script name:<code>print(Scriptname)</code>", "acce_answer": "I assume you're using symfony. Rather than trying to account for the invisible character (blacklisting), which could change depending on the default culture, why not simply whitelist?<code>echo preg_replace('/[^0-9\\.,]/i', '', format_currency(...));\n</code>This will remove anything that isn't a number (0-9) comma (,) or decimal point (.)\n", "acce_score": "624", "simquery1_title": "Packaging a Python script on Linux into a Windows executable I have a Python script that I'd like to compile into a Windows executable. Now, <code>py2exe</code> works fine from Windows, but I'd like to be able to run this from Linux. I do have Windows on my development machine, but Linux is my primary dev platform and I'm getting kind of sick of rebooting into Windows just to create the <code>.exe</code>. Nor do I want to have to buy a second Windows license to run in a virtual machine such as VirtualBox. Any ideas?PS: I am aware that <code>py2exe</code> doesn't exactly compile the python file as much as package your script with the Python interpreter. But either way, the result is that you don't need Python installed to run the script.", "simquery1_answer": "This may be a semi-duplicate question, but I'm not finding anything that fully addresses what I'm trying to do.I've got a div with a fixed position, pinned to the bottom of the screen. Its z-index puts it over the main content. As expected, this sticks to the bottom of the screen when I scroll, and its background image partially overlaps the main content..Here's where it gets tricky: When the footer comes into the viewport, I would like the footer to push it up.I'm using a jQuery plugin to see when the footer comes into the viewport, and then change the position from fixed to relative. The problem is, when it does this, it jumps down below the main content div.Here's the plugin: Viewport Selectors for jQuery (Sorry can't post two links yet)Here's my jQuery<code>   $(function() {\n    $(window).bind('scroll', function(event) {\n        $('footer:in-viewport').each(function() {\n          $('#extra1').css('position','relative')\n        });\n        $('#extra2:below-the-fold').each(function() {        });\n    });\n});\n</code>Here's my example, which isn't completely functional, but gives a good idea of what I'm trying to do: http://illtron.net/test/position/Also, I'm trying to figure out how to make things go back to the way they were when you scroll back up, and the footer goes below the fold again, but I'm a little confused by the plugin.Any ideas on how to solve this would be great. I'm open to taking it in a completely different direction if it looks like I'm doing this in a really stupid way.\n", "simquery2_title": "How can I rewrite python __version__ with git? I would like to define a <code>__version__</code> variable in my module which should be automatically updated on git commit similarly to what SVN keywords do. Is there a way to achieve it in Git? Does anyone have a working example?I considered using GitPython, but I would not like to introduce another dependency and I want users who download the module from SVN repo or as a zip package to have the same versioning scheme (I do not care that is some illegible hash).Edit: My particular problem is that I have to run simulations whose result depend on the exact version of the simulation script. Therefore each time I have to store version number together with the simulation results. If both run out of sync, it may have very dire outcomes.", "simquery2_answer": "How do I position this ViewController over the detail view modally? I want it to be right aligned so you can see the navigation portion greyed out.<code>[self.window addSubview:self.splitViewController.view];\nMyModalViewController *modalvc= [MyModalViewController new]; //brevity\nmodalvc.modalInPopover = YES;\nmodalvc.modalPresentationStyle = UIModalPresentationStylePageSheet;\nmodalvc.view.autoresizeMask = UIViewAutoresizeFlexibleRightMargin;\n[self.splitViewController presentModalView:modalvc animated:NO];\n[self.window makeKeyAndVisible];\n</code>I also checked in MyModalViewController if im setting the views mask and I am not, nor is it getting magic values from a Nib.  Adjusting the frame before the present (using modalvc.view.frame) does nothing.Adjusting the frame after the present seems to yield crazy results, and I only really need it to be half a width over in landscape... portrait is normal behavior.edit\nthe picture confused people so I took it out, I dont want the modal view to be the size of the screen, I want to keep it UIModalPresentationStylePageSheet but have its ORIGIN moved right so that it covers the detail view portion in landscape\n", "total_len": 165, "s1_total_len": 575, "s2_total_len": 459}
{"post_id": "4186062", "title": "SQLAlchemy ORDER BY DESCENDING?", "query": "How can I use ORDER BY <code>descending</code> in a SQLAlchemy query like the following?This query works, but returns them in ascending order:<code>query = (model.Session.query(model.Entry)        .join(model.ClassificationItem)        .join(model.EnumerationValue)        .filter_by(id=c.row.id)        .order_by(model.Entry.amount) #\u00a0This row :)        )</code>If I try:<code>.order_by(desc(model.Entry.amount))</code>then I get: <code>NameError: global name 'desc' is not defined</code>.", "acce_answer": "Something along these lines is what your looking for:<code>$fname=\"/tmp/foo.jpg\";\n$attachment =  array(\n        'access_token' =&gt; $facebook-&gt;getAccessToken(),\n        'name' =&gt; '',\n        'description' =&gt; '',\n        'start_time' =&gt; '',\n        'link' =&gt; '',\n        'source'=&gt; '@'.$fname\n        /*...*/\n);/*Send the data*/\n$result = $facebook-&gt;api('/me/events', 'POST', $attachment);\n</code>\nhttp://forum.developers.facebook.net/profile.php?id=138142\nFacebook graph API &amp; PHP SDK questions", "acce_score": "631", "simquery1_title": "How to check if a pymongo cursor has query results I need to check if a <code>find</code> statement returns a non-empty query.What I was doing was the following:<code>query = collection.find({\"string\": field})if not query: #do something</code>Then I realized that my <code>if</code> statement was never executed because <code>find</code> returns a cursor, either the query is empty or not.Therefore I checked the documentation and I find two methods that can help me:<code>count(with_limit_and_skip=False)</code> which (from the description):  Returns the number of documents in the results set for this query.It seems a good way to check, but this means that I need to countall the results in cursor to know if it is zero or not, right? A little bit expensive?<code>retrieved</code> which (from the description):  The number of documents retrieved so far.I tested it on an empty query set and it returns zero, but it's notclear what it does and I don't know if it's right for me.So, which is the best way (best practice) to check if a <code>find()</code> query returns an empty set or not? Is one of the methods described above right for this purpose? And what about performance? Are there other ways to do it?Just to be clear: I need to know if the query is empty and I'd like to find the best way with the cursor with respect to performance and being pythonic.", "simquery1_answer": "I have some html like this <code>&lt;div&gt;111222333&lt;/div&gt;\n</code>I want to use js to make it to <code>&lt;div&gt;111&lt;strong&gt;222&lt;/strong&gt;333&lt;/div&gt;\n</code>or something thing like <code>&lt;div&gt;111&lt;strong class='aa'&gt;222&lt;/strong&gt;333&lt;/div&gt;\n</code>Can someone help me out?\n", "simquery2_title": "sqlalchemy existing database query I am using SQLAlchemy as ORM for a python project. I have created few models/schema and it is working fine. Now I need to query a existing MySQL database, no insert/update just the select statement. How can I create a wrapper around the tables of this existing database? I have briefly gone through the sqlalchemy docs and SO but couldn't find anything relevant. All suggest execute method, where I need to write the raw sql queries, while I want to use the SQLAlchemy query method in same way as I am using with the SA models.For example if the existing db has table name User then I want to query it using the dbsession ( only the select operation, probably with join)", "simquery2_answer": "In the template change<code>{% if x in y module %}\n</code>to<code>{% if x in module %}\n</code>\n", "total_len": 348, "s1_total_len": 498, "s2_total_len": 195}
{"post_id": "4201455", "title": "SQLAlchemy: What's the difference between flush() and commit()?", "query": "What the difference is between <code>flush()</code> and <code>commit()</code> in SQLAlchemy?I've read the docs, but am none the wiser - they seem to assume a pre-understanding that I don't have.I'm particularly interested in their impact on memory usage. I'm loading some data into a database from a series of files (around 5 million rows in total) and my session is occasionally falling over - it's a large database and a machine with not much memory. I'm wondering if I'm using too many <code>commit()</code> and not enough <code>flush()</code> calls - but without really understanding what the difference is, it's hard to tell!", "acce_answer": "An uppercase <code>O</code>, so Shift+o, inserts an empty line above the one you're currently on and puts you into insert mode where you can begin typing. It was kind of an epiphany for me when I first figured that out.\n", "acce_score": "642", "simquery1_title": "sqlalchemy existing database query I am using SQLAlchemy as ORM for a python project. I have created few models/schema and it is working fine. Now I need to query a existing MySQL database, no insert/update just the select statement. How can I create a wrapper around the tables of this existing database? I have briefly gone through the sqlalchemy docs and SO but couldn't find anything relevant. All suggest execute method, where I need to write the raw sql queries, while I want to use the SQLAlchemy query method in same way as I am using with the SA models.For example if the existing db has table name User then I want to query it using the dbsession ( only the select operation, probably with join)", "simquery1_answer": "In the template change<code>{% if x in y module %}\n</code>to<code>{% if x in module %}\n</code>\n", "simquery2_title": "SQLAlchemy: Creating vs. Reusing a Session Just a quick question: SQLAlchemy talks about calling <code>sessionmaker()</code> once but calling the resulting <code>Session()</code> class each time you need to talk to your DB. For me that means the second I would do my first <code>session.add(x)</code> or something similar, I would first do<code>from project import Sessionsession = Session()</code>What I did until now was to make the call <code>session = Session()</code> in my model once and then always import the same session anywhere in my application. Since this is a web-applications this would usually mean the same (as one view is executed).But where is the difference? What is the disadvantage of using one session all the time against using it for my database stuff until my function is done and then creating a new one the next time I want to talk to my DB?I get that if I use multiple threads, each one should get their own session. But using <code>scoped_session()</code>, I already make sure that problem doesn't exist, do I?Please clarify if any of my assumptions are wrong.", "simquery2_answer": "You could simply define two different functions for that. <code>function echoUsername($username) {\n   echo \"My name is $_GET[\"name\"]\";\n}\nfunction writeNameToFile($username) {\n   $filehandle = fopen(\"text.txt\",\"a+\") or die (\"sorry error\");\n   fwrite($filehandle, $_GET[\"name\"]);\n   fclose($filehandle);\n}\n</code>Now just put these to a file called <code>functions.php</code>, include it into <code>a.php</code>/<code>b.php</code> using <code>include(\"functions.php\");</code> and call the functions like this:<code>echoUsername($username);\nwriteNameToFile($username);\n</code>If you really want to call both pages, there is no way around javascript but it's still going to be a bad solution.\n", "total_len": 246, "s1_total_len": 195, "s2_total_len": 469}
{"post_id": "4233476", "title": "Sort a list by multiple attributes?", "query": "I have a list of lists:<code>[[12, 'tall', 'blue', 1],[2, 'short', 'red', 9],[4, 'tall', 'blue', 13]]</code>If I wanted to sort by one element, say the tall/short element, I could do it via <code>s = sorted(s, key = itemgetter(1))</code>.If I wanted to sort by both tall/short and colour, I could do the sort twice, once for each element, but is there a quicker way?", "acce_answer": "The File::Find module is a standard Perl module (i.e., it is available on all installations of Perl). You can use File::Find to go through a directory tree and search for the file you want.To use, you create a <code>wanted</code> subroutine that parses the files, then have the <code>find</code> subroutine include that <code>wanted</code> routine in its call. The <code>File::Find</code> module is a bit klutzy because it was originally only meant to use for the find2perl command.Here's some completely untested code. Notice that you do yucky stuff like using global variables and package variables. It's one of the reasons I don't like <code>File::Find</code>.<code>use File::Find;\nour $myUid = getpwnam('tree');\nour $muGid = getgrnam('tree');\nfind (\\&amp;wanted, @dirList);sub wanted {\n    my ($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size, $atime,$mtime,$ctime,$blksize,$blocks) = stat($File::Find::name);\n    next if (not -f $File::Find::name);\n    next if ($uid != $myUid);\n    next if ($gid != $myGid);\n    print qq(File \"$File::Find::name\" is owned by group 'tree' and user 'tree'\\n);\n}\n</code>I wrote my own <code>File::Find</code> called <code>File::OFind</code> because it's more object oriented. You can get that from here. It's a bit easier to understand. (Again, completely untested):<code>use File::OFind;\n# Really should test if these return something\nmy $myUid = getpwnam('tree');\nmy $muGid = getgrnam('tree');# Create your directory search object\nmy $find = File::OFind-&gt;new(STAT =&gt; 1, $directory);# Now keep looping and examining each file\nwhile($find-&gt;Next) {\n   next if ($find-&gt;Uid != $myUid);\n   next if ($find-&gt;Gid != $myGid);\n   next if ($find-&gt;Type ne \"f\");   #Is this a file?\n   print $find-&gt;Name . \" is owned by group and user tree\\n\";\n}\n</code>\n", "acce_score": "681", "simquery1_title": "How to sort a list of strings numerically? I know that this sounds trivial but I did not realize that the <code>sort()</code> function of Python was weird. I have a list of \"numbers\" that are actually in string form, so I first convert them to ints, then attempt a sort.<code>list1=[\"1\",\"10\",\"3\",\"22\",\"23\",\"4\",\"2\",\"200\"]for item in list1:    item=int(item)list1.sort()print list1</code>Gives me:<code>['1', '10', '2', '200', '22', '23', '3', '4']</code>What I want is <code>['1','2','3','4','10','22','23','200']</code>I've looked around for some of the algorithms associated with sorting numeric sets, but the ones I found all involve sorting alphanumeric sets. I know this is probably a no brainer problem but google and my textbook don't offer anything more or less useful than the <code>.sort()</code> function.", "simquery1_answer": "I got this working as follows -<code>LPWSTR pwsPath = L\"Microsoft-Windows-Diagnostics-Performance/Operational\";\nLPWSTR pwsQuery = L\"Event/System[EventID=100]\";hResults = EvtQuery(NULL, pwsPath, pwsQuery,\n                    EvtQueryChannelPath | EvtQueryReverseDirection);\n</code>The channel name can be found by going to Properties on an eventlog and using it's Full Name.The error 15000 was due to me trying to open the log file with the given flags rather than the channel name.\n", "simquery2_title": "Sort by multiple keys using different orderings   Possible Duplicate:  How to write Python sort key functions for descending values  In Python 3, it's pretty easy to sort a list of objects lexicographically using multiple keys.  For example:<code>items.sort(key = lambda obj: obj.firstname, obj.lastname)</code>The <code>reverse</code> argument lets you specify whether you want ascending or descending order.  But what do you do in the case where you want to sort by multiple keys, but you want to sort using descending order for the first key, and ascending order for the second?For example, suppose we have an object with two attributes, <code>points</code> and <code>name</code>, where <code>points</code> is an <code>int</code> and <code>name</code> is a <code>str</code>.  We want to sort a list of these objects by <code>points</code> in descending order (so that the object with the greatest number of points comes first), but for objects with an equal number of <code>points</code>, we want to sort these by <code>name</code> in alphabetical (ascending) order.How can this be achieved?", "simquery2_answer": "I think the modulus operator is of use here. Perhaps the basic idea you have will work, but allow that SEQ_NUM to grow unbounded, and when you select it for your sequence number, wrap it in MOD().But in reality, I would wonder if you already had a unique &amp; auto-incrementing ID column which could be used this way (i.e. <code>SELECT MOD(id, 99) as trans_seq</code>)...\n", "total_len": 730, "s1_total_len": 400, "s2_total_len": 389}
{"post_id": "4406501", "title": "Change the name of a key in dictionary", "query": "How do I change the key of an entry in a Python dictionary?", "acce_answer": "I had same problem and found no answer, so I decided to solve this by myself getting the signature manually, this is what I did.<code>       private string ReadSignature()\n    {\n        string appDataDir = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \"\\\\Microsoft\\\\Signatures\";\n        string signature = string.Empty;\n        DirectoryInfo diInfo = new DirectoryInfo(appDataDir);\n        if (diInfo.Exists)\n        {\n            FileInfo[] fiSignature = diInfo.GetFiles(\"*.htm\");\n            if (fiSignature.Length &gt; 0)\n            {\n                StreamReader sr = new StreamReader(fiSignature[0].FullName, Encoding.Default);\n                signature = sr.ReadToEnd();                if (!string.IsNullOrEmpty(signature))\n                {\n                    string fileName = fiSignature[0].Name.Replace(fiSignature[0].Extension, string.Empty);\n                    signature = signature.Replace(fileName + \"_files/\", appDataDir + \"/\" + fileName + \"_files/\");\n                }\n            }\n        }        return signature;\n    }\n</code>Hope this helps.\n", "acce_score": "585", "simquery1_title": "Delete an element from a dictionary How do I delete an item from a dictionary in Python?Without modifying the original dictionary, how do I obtain another dict with the item removed?See also How can I remove a key from a Python dictionary? for the specific issue of removing an item (by key) that may not already be present.", "simquery1_answer": "We have been searching a WYSIWYG editor for our Spring Project and we decided on CKEditor but we also needed an plugin for to insert iamge from localhost so I tried to implement CKFinder for Java. But I couldn't event make work CKFinder's example app work.The screen:\nhttp://imgur.com/ZortmThe debug output:<code>java.lang.NullPointerException\n    at com.ckfinder.connector.ConnectorServlet.getResponse(ConnectorServlet.java:114)\n    at com.ckfinder.connector.ConnectorServlet.doGet(ConnectorServlet.java:76)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code>\n", "simquery2_title": "Why is 'dir()' named 'dir' in python? In Python there is a built-in function called <code>dir</code>.  This is used to get a list of all the attributes for an object.I understand what it does, but I am confused about why it is called <code>dir</code>.  How is this name related to getting the attributes from an object?", "simquery2_answer": "You could do it any number of wayslet's say, in your action method, you add a template variable like so<code>$this-&gt;jsVar = 'foo';\n</code>Then, in your template file(s)<code>echo javascript_tag( 'var name=\"' . $jsVar . '\";' );\n</code>or<code>&lt;script type=\"text/javascript\"&gt;\n  var name='&lt;?php echo $jsVar; ?&gt;';\n&lt;/script&gt;\n</code>EDITOk, based on your specific needs, you'll need to do a few things.  First, look at your page template (the one located in <code>apps/app-name/templates</code> - you should see a line that looks like this<code>&lt;?php include_javascripts(); ?&gt;\n</code>That's the function that takes all javascript resources defined in <code>view.yml</code> files or those included by the <code>use_javascript()</code> helper and prints them to the page.So our goal, then, is to put a javascript block in front of where all the other scripts are included (and by in-front, I mean appearing first in source-order)To solve this in a somewhat flexible manner, let's use a slot.  Modify the above line in your page template to look like this<code>&lt;?php\n  if ( has_slot( 'global_js_setup' ) )\n  {\n    include_slot( 'global_js_setup' );\n  }\n  include_javascripts();\n?&gt;\n</code>Then, in your action method<code>sfLoader::loadHelpers( 'Asset' );\n$this-&gt;getResponse()-&gt;setSlot(\n    'global_js_setup',\n  , javascript_tag( 'var name=\"value\";' );\n);\n</code>You could extend this idea by using component slots if you wanted to.\n", "total_len": 301, "s1_total_len": 728, "s2_total_len": 548}
{"post_id": "4455076", "title": "How do I access the ith column of a NumPy multidimensional array?", "query": "Given:<code>test = np.array([[1, 2], [3, 4], [5, 6]])</code><code>test[i]</code> gives the ith row (e.g. <code>[1, 2]</code>). How do I access the ith column? (e.g. <code>[1, 3, 5]</code>). Also, would this be an expensive operation?", "acce_answer": "The correct solution would be to do<code>var bit = Math.Log(a ^ b, 2);\n</code>Although of course this leaves open the question of what happens if for any reason more than one bit is different.You could use<code>var bit = (int)Math.Log(a ^ b, 2);\n</code>to get you the index of the highest different bit, if more than one differ.Warning: For correctness, any such function should also check that the two arguments <code>a</code> and <code>b</code> are actually different before trying to provide a result. Otherwise you 'll get either a meaningless result or an outright exception. This is true of all the solutions presented here, including this one.\n", "acce_score": "651", "simquery1_title": "Find matching rows in 2 dimensional numpy array I would like to get the index of a 2 dimensional Numpy array that matches a row.  For example, my array is this:<code>vals = np.array([[0, 0],                 [1, 0],                 [2, 0],                 [0, 1],                 [1, 1],                 [2, 1],                 [0, 2],                 [1, 2],                 [2, 2],                 [0, 3],                 [1, 3],                 [2, 3],                 [0, 0],                 [1, 0],                 [2, 0],                 [0, 1],                 [1, 1],                 [2, 1],                 [0, 2],                 [1, 2],                 [2, 2],                 [0, 3],                 [1, 3],                 [2, 3]])</code>I would like to get the index that matches the row [0, 1] which is index 3 and 15.  When I do something like <code>numpy.where(vals == [0 ,1])</code> I get...<code>(array([ 0,  3,  3,  4,  5,  6,  9, 12, 15, 15, 16, 17, 18, 21]), array([0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0]))</code>I want index array([3, 15]).", "simquery1_answer": "I suggest using<code>\\b\\d+(?=\\s*ms\\b|$)\n</code>See demoThe regex matches:\n<code>\\b</code> - a word boundary\n<code>\\d+</code> -  1 or more digits\n<code>(?=\\s*ms\\b|$)</code> - then checks if there are 0 or more whitespace symbols, followed by <code>ms</code> as a whole word, or just end of string.\nC# code:<code>var txt = \"01Jan00 20:07:16#[AA] :Test aaa - ExOne: 2264 ms, ExTwo:  8988 ms, ExThree: 14252 ms, Avg Ex (x100): 3229\";\nvar result = Regex.Matches(txt, @\"\\b\\d+(?=\\s*ms\\b|$)\").Cast&lt;Match&gt;().Select(p =&gt; p.Value).ToList();\n</code>Result:\n", "simquery2_title": "pandas equivalent of np.where <code>np.where</code> has the semantics of a vectorized if/else (similar to Apache Spark's <code>when</code>/<code>otherwise</code> DataFrame method). I know that I can use <code>np.where</code> on <code>pandas.Series</code>, but <code>pandas</code> often defines its own API to use instead of raw <code>numpy</code> functions, which is usually more convenient with <code>pd.Series</code>/<code>pd.DataFrame</code>.Sure enough, I found <code>pandas.DataFrame.where</code>. However, at first glance, it has completely different semantics. I could not find a way to rewrite the most basic example of <code>np.where</code> using pandas <code>where</code>:<code># df is pd.DataFrame# how to write this using df.where?df['C'] = np.where((df['A']&lt;0) | (df['B']&gt;0), df['A']+df['B'], df['A']/df['B'])</code>Am I missing something obvious? Or is pandas' <code>where</code> intended for a completely different use case, despite same name as <code>np.where</code>?", "simquery2_answer": "Because Bootstrap 4 uses flexbox, the columns are always going to be equal height, and you'll not be able to get the desktop (lg) layout that you want.\nOne option is to disable the flexbox for <code>lg</code>. Use floats so that the 1,3 columns naturally pull to the right, since 2 is taller. The flexbox <code>order-</code> will work on mobile.\nhttps://codeply.com/go/8lsFAU3C5E\n<code>&lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row d-flex d-lg-block&quot;&gt;\n         &lt;div class=&quot;col-lg-8 order-1 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body tall&quot;&gt;2&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-lg-4 order-0 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body&quot;&gt;1&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-lg-4 order-1 float-left&quot;&gt;\n            &lt;div class=&quot;card card-body&quot;&gt;3&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code>\nHow this worksKeep columns in the same row, since ordering is relative to parent\nThe <code>d-flex d-lg-block</code> disables flex on <code>lg</code> and up\nThe <code>float-left</code> float the columns when flex is disabled\nThe <code>order-*</code> reorder the columns when flex is enabledAnother option is some flexbox wrapping hack that uses <code>w-auto</code>...\nhttps://codeply.com/go/mKykCsBFDXAlso see:\nHow to fix unexpected column order in bootstrap 4?\nBootstrap Responsive Columns Height\nB-A-C -&gt; A-B-C\n", "total_len": 292, "s1_total_len": 629, "s2_total_len": 832}
{"post_id": "4548684", "title": "How to get the seconds since epoch from the time + date output of gmtime()?", "query": "How do you do reverse <code>gmtime()</code>, where you put the time + date and get the number of seconds?I have strings like <code>'Jul 9, 2009 @ 20:02:58 UTC'</code>, and I want to get back the number of seconds between the epoch and July 9, 2009.I have tried <code>time.strftime</code> but I don't know how to use it properly, or if it is the correct command to use.", "acce_answer": "\n<code>&lt;xsl:template match=\"NewTerms\"&gt;\n &lt;xsl:apply-templates&gt;\n  &lt;xsl:sort select=\"newTerm\"/&gt;\n &lt;/xsl:apply-templates&gt;\n&lt;/xsl:template&gt;   \n</code>\n  \n  I am very sure that I haven't\n  understood how xsl:sort function\nYou are right. From http://www.w3.org/TR/xslt#sorting\n  <code>xsl:sort</code> has a <code>select</code> attribute\n  whose value is an expression. For each\n  node to be processed, the expression\n  is evaluated with that node as the\n  current node and with the complete\n  list of nodes being processed in\n  unsorted order as the current node\n  list.* The resulting object is\n  converted to a string as if by a call\n  to the <code>string</code> function; this\n  string is used as the sort key for\n  that node. The default value of the\n  <code>select</code> attribute is <code>.</code>, which will\n  cause the string-value of the current\n  node to be used as the sort key.\n* Emphasis mine.You want:<code>&lt;xsl:template match=\"NewTerms\"&gt;\n &lt;xsl:apply-templates&gt;\n  &lt;xsl:sort/&gt;\n &lt;/xsl:apply-templates&gt;\n&lt;/xsl:template&gt;\n</code>\n", "acce_score": "222", "simquery1_title": "How to get the seconds since epoch from the time + date output of gmtime()? How do you do reverse <code>gmtime()</code>, where you put the time + date and get the number of seconds?I have strings like <code>'Jul 9, 2009 @ 20:02:58 UTC'</code>, and I want to get back the number of seconds between the epoch and July 9, 2009.I have tried <code>time.strftime</code> but I don't know how to use it properly, or if it is the correct command to use.", "simquery1_answer": "\n<code>&lt;xsl:template match=\"NewTerms\"&gt;\n &lt;xsl:apply-templates&gt;\n  &lt;xsl:sort select=\"newTerm\"/&gt;\n &lt;/xsl:apply-templates&gt;\n&lt;/xsl:template&gt;   \n</code>\n  \n  I am very sure that I haven't\n  understood how xsl:sort function\nYou are right. From http://www.w3.org/TR/xslt#sorting\n  <code>xsl:sort</code> has a <code>select</code> attribute\n  whose value is an expression. For each\n  node to be processed, the expression\n  is evaluated with that node as the\n  current node and with the complete\n  list of nodes being processed in\n  unsorted order as the current node\n  list.* The resulting object is\n  converted to a string as if by a call\n  to the <code>string</code> function; this\n  string is used as the sort key for\n  that node. The default value of the\n  <code>select</code> attribute is <code>.</code>, which will\n  cause the string-value of the current\n  node to be used as the sort key.\n* Emphasis mine.You want:<code>&lt;xsl:template match=\"NewTerms\"&gt;\n &lt;xsl:apply-templates&gt;\n  &lt;xsl:sort/&gt;\n &lt;/xsl:apply-templates&gt;\n&lt;/xsl:template&gt;\n</code>\n", "simquery2_title": "Parsing time string in Python I have a date time string that I don't know how to parse it in Python.The string is like this:<code>Tue May 08 15:14:45 +0800 2012</code>I tried <code>datetime.strptime(\"Tue May 08 15:14:45 +0800 2012\",\"%a %b %d %H:%M:%S %z %Y\")</code>but Python raises <code>'z' is a bad directive in format '%a %b %d %H:%M:%S %z %Y'</code>According to Python doc:  %z    UTC offset in the form +HHMM or -HHMM (empty string if the the object is naive).What is the right format to parse this time string?", "simquery2_answer": "<code>&lt;?php\nif (comments_open()) {\n    echo '&lt;p&gt;';\n    comments_popup_link( '&lt;span class=\"one-comment\"&gt;leave a comment&lt;/span&gt;', '&lt;span    class=\"one-    comment\"&gt;1 comment&lt;/span&gt;', '&lt;span class=\"more-comments\"&gt;% comments&lt;/span&gt;', '');\n    echo '&lt;/p&gt;';\n} else {\n?&gt;\n    &lt;a href=\"&lt;?php echo comments_link(); ?&gt;\"&gt;&lt;?php echo comments_number('&lt;span   class=\"zerocomments\"&gt;kommentarer&lt;/span&gt;', '&lt;span class=\"onecomment\"&gt;1 kommentar&lt;/span&gt;',    '&lt;span class=\"morecomments\"&gt;% kommentarer&lt;/span&gt;'); ?&gt;&lt;/a&gt;\n&lt;?php\n}\n?&gt;\n</code>The best way to echo HTML when it contains PHP functions is to break back out of PHP, as done above.I'm not sure exactly what you're trying to do, but the rest is up to you. :)\n", "total_len": 514, "s1_total_len": 512, "s2_total_len": 530}
{"post_id": "4564559", "title": "Get exception description and stack trace which caused an exception, all as a string", "query": "How to convert a caught <code>Exception</code> (its description and stack trace) into a <code>str</code> for external use?<code>try:    method_that_can_raise_an_exception(params)except Exception as e:    print(complete_exception_description(e))</code>", "acce_answer": "<code>&gt;&gt;&gt; num_of_clusters = int(raw_input('Number: '))\nNumber: 3\n&gt;&gt;&gt; clusters = {}\n&gt;&gt;&gt; for i in range(1, num_of_clusters+1):\n        clusters['cluster{0}'.format(i)] = 0&gt;&gt;&gt; clusters\n{'cluster2': 0, 'cluster3': 0, 'cluster1': 0}\n</code>\n", "acce_score": "594", "simquery1_title": "How to log python exception? How can I log an exception in Python?I've looked at some options and found out I can access the actual exception details using this code:<code>import sysimport tracebacktry:    1/0except:    exc_type, exc_value, exc_traceback = sys.exc_info()    traceback.print_exception(exc_type, exc_value, exc_traceback)</code>I would like to somehow get the string <code>print_exception()</code> throws to stdout so that I can log it.", "simquery1_answer": "If the loop values in column D are already there, I think this will work.<code>Sub x()Dim r As Range, rDist As Range, n As Variant, i As Long, wf As WorksheetFunctionConst nMax As Long = 62\nSet wf = WorksheetFunctionFor Each r In Range(\"D2\", Range(\"D\" &amp; Rows.Count).End(xlUp)).SpecialCells(xlCellTypeConstants)\n    Set rDist = r.Offset(, -3).Resize(r.Value, 3)\n    For i = 1 To r\n        n = Application.Match(i, rDist.Columns(1), 0)\n        If IsNumeric(n) Then\n            If wf.Max(rDist.Columns(2)) - wf.Sum(rDist.Columns(3)) &lt; nMax Then\n                rDist(n, 3) = wf.Max(rDist.Columns(2)) - wf.Sum(rDist.Columns(3))\n                Exit For\n            Else\n                rDist(n, 3) = nMax\n            End If\n        End If\n    Next i\nNext rColumns(3).SpecialCells(xlCellTypeBlanks).Value = 0End Sub\n</code>\n", "simquery2_title": "Catch and print full Python exception traceback without halting/exiting the program I want to catch and log exceptions without exiting, e.g.,<code>try:    do_stuff()except Exception as err:    print(Exception, err)    # I want to print the entire traceback here,    # not just the exception name and details</code>I want to print the exact same output that is printed when the exception is raised without the try/except intercepting the exception, and I do not want it to exit my program.", "simquery2_answer": "I am having trouble getting the data from JSON to insert into individual divs. I would like each of the image/videourls to insert into their own <code>&lt;div class=\"item\"&gt;&lt;/div&gt;\n</code>Currently, each object gets inserted on top of eachother (with my given template HTML) in the \"item\" class. I figure that there must be away to tell Mustache to insert each object in the array into it's own div with the class \"item\" so that the final result will be two divs with the HTML in the template inside each one. I have JSON data:<code>{ \"pictures\" : [\n  {\n    \"image\": \"1\",\n    \"videourl\": \"http://www.youtube.com/embed/\"\n  },\n  {\n    \"image\": \"4\",\n    \"videourl\": \"http://www.youtube.com/embed\"\n  }\n]}\n</code>and I have a template setup:<code>{{#pictures}}    &lt;div class=\"videoplay-main animated fadeIn\" data-videourl=\"{{videourl}}\"&gt;\n        &lt;img src=\"img/frontpage/{{image}}.jpg\"\u00a0/&gt;\n    &lt;/div&gt;{{/pictures}}\n</code>And I have JS:<code>$.getJSON('js/data.json', function(data){\n    var homeTemplate = $(\"#slider-template\").html();\n    var html = Mustache.render(homeTemplate, data);\n    $('.item').html(html);\n});\n</code>\n", "total_len": 211, "s1_total_len": 420, "s2_total_len": 494}
{"post_id": "4617034", "title": "How can I open multiple files using \"with open\" in Python?", "query": "I want to change a couple of files at one time, iff I can write to all of them. I'm wondering if I somehow can combine the multiple open calls with the <code>with</code> statement:<code>try:  with open('a', 'w') as a and open('b', 'w') as b:    do_something()except IOError as e:  print 'Operation failed: %s' % e.strerror</code>If that's not possible, what would an elegant solution to this problem look like?", "acce_answer": "Another option is using itertoolshttp://docs.python.org/library/itertools.htmlby using the grouper() method<code>def grouper(n, iterable, fillvalue=None):\n    \"grouper(3, 'ABCDEFG', 'x') --&gt; ABC DEF Gxx\"\n    args = [iter(iterable)] * n\n    return izip_longest(fillvalue=fillvalue, *args)\n</code>\n", "acce_score": "911", "simquery1_title": "How do I write to a Python subprocess' stdin? I'm trying to write a Python script that starts a subprocess, and writes to the subprocess stdin. I'd also like to be able to determine an action to be taken if the subprocess crashes.The process I'm trying to start is a program called <code>nuke</code> which has its own built-in version of Python which I'd like to be able to submit commands to, and then tell it to quit after the commands execute. So far I've worked out that if I start Python on the command prompt like and then start <code>nuke</code> as a subprocess then I can type in commands to <code>nuke</code>, but I'd like to be able to put this all in a script so that the master Python program can start <code>nuke</code> and then write to its standard input (and thus into its built-in version of Python) and tell it to do snazzy things, so I wrote a script that starts <code>nuke</code> like this:<code>subprocess.call([\"C:/Program Files/Nuke6.3v5/Nuke6.3\", \"-t\", \"E:/NukeTest/test.nk\"])</code>Then nothing happens because <code>nuke</code> is waiting for user input. How would I now write to standard input?I'm doing this because I'm running a plugin with <code>nuke</code> that causes it to crash intermittently when rendering multiple frames. So I'd like this script to be able to start <code>nuke</code>, tell it to do something and then if it crashes, try again. So if there is a way to catch a crash and still be OK then that'd be great.", "simquery1_answer": "I think the question here really comes down to the concept of scope binding.  You're right that the specification states that the scope parameter is optional, but whether the scope has to be defined in a service implementing OAuth 2 is really up to the implementer (in this case Spring).Now to the concept of scope binding.  When implementing scopes, or the information that you want to be able to access from a user, you have two basic types - bound and unbound scopes.  When using bound scopes, the scopes will need to be defined when you create your application and get your OAuth key and secret.  If implementing unbound scopes (like Spring), the scopes need to be defined during the first redirect call to have the user auth.  In many cases when no scopes are defined, a service implementing unbound scopes will use a default set of user details that you can access.  It appears that in the Spring case the scope is required.  Disclaimer: I have not worked with the Spring security OAuth implementation before.  Just to give you some visuals on the difference between bound and unbound, here are some examples:Facebook uses unbound scopes to request user data, so their initial redirect request can look like this:<code>//construct Facebook auth URI\n$auth_url = sprintf(\"%s?redirect_uri=%s&amp;client_id=%s&amp;scope=email,publish_stream\", \n            $authorization_endpoint, \n            $callback_url, \n            $key);\n</code>In the case of Gowalla (back when Gowalla was still available), they used scopes that were bound to the OAuth key, so when you made that initial request the scope didn't need to be defined, giving you a request that looked more like this (notice the missing scope param):<code>//construct Gowalla auth URI\n$auth_url = sprintf(\"%s?redirect_uri=%s&amp;client_id=%s\", \n            $authorization_endpoint, \n            $callback_url, \n            $key);\n</code>I hope that helps,Jon\n", "simquery2_title": "How to create a temporary file that can be read by a subprocess? I'm writing a Python script that needs to write some data to a temporary file, then create a subprocess running a C++ program that will read the temporary file.  I'm trying to use <code>NamedTemporaryFile</code> for this, but according to the docs,  Whether the name can be used to open the file a second time, while the named temporary file is still open, varies across platforms (it can be so used on Unix; it cannot on Windows NT or later).And indeed, on Windows if I flush the temporary file after writing, but don't close it until I want it to go away, the subprocess isn't able to open it for reading.I'm working around this by creating the file with <code>delete=False</code>, closing it before spawning the subprocess, and then manually deleting it once I'm done:<code>fileTemp = tempfile.NamedTemporaryFile(delete = False)try:    fileTemp.write(someStuff)    fileTemp.close()    # ...run the subprocess and wait for it to complete...finally:    os.remove(fileTemp.name)</code>This seems inelegant.  Is there a better way to do this?  Perhaps a way to open up the permissions on the temporary file so the subprocess can get at it?", "simquery2_answer": "Try to change your last <code>td</code> like this:<code>&lt;TD width=\"50\" align=\"center\"&gt;\n   &lt;input name=\"$button_name\"   Type=\"button\"   value=\"help\" &gt;\n      &lt;xsl:attribute name=\"onclick\"&gt;javascript:anAus('&lt;xsl:value-of select=\"$button_variable\" /&gt;')&lt;/xsl:attribute&gt;\n   &lt;/input&gt;\n&lt;/TD&gt;\n</code>And your hidden <code>tr</code> like this:<code>&lt;TR style=\"display:none\"&gt;\n   &lt;xsl:attribute name=\"id\"&gt;&lt;xsl:value-of select=\"$button_variable\" /&gt;&lt;/xsl:attribute&gt;\n   &lt;TD colspan=\"5\" &gt;\n     &lt;xsl:value-of select = \"$verbesserung\" /&gt;\n   &lt;/TD&gt;\n&lt;/TR&gt;\n</code>\n", "total_len": 247, "s1_total_len": 876, "s2_total_len": 574}
{"post_id": "4666973", "title": "How to extract the substring between two markers?", "query": "Let's say I have a string <code>'gfgfdAAA1234ZZZuijjk'</code> and I want to extract just the <code>'1234'</code> part.I only know what will be the few characters directly before <code>AAA</code>, and after <code>ZZZ</code> the part I am interested in <code>1234</code>.With <code>sed</code> it is possible to do something like this with a string:<code>echo \"$STRING\" | sed -e \"s|.*AAA\\(.*\\)ZZZ.*|\\1|\"</code>And this will give me <code>1234</code> as a result.How to do the same thing in Python?", "acce_answer": "There's actually a distribute/setuptools feature called \"Features\" that can be used for this. \nIt's explicitly designed to have setup.py do different things based on <code>--with-xxx</code> and <code>--without-xxx</code> command line options.\nThis blog post gives a nice introduction, I can't find any better documentation at this time (besides the Distribute source - the Feature class and features keyword).\nThe jinja project's setup.py uses Features for your exact purpose, it might be a good template to work from.\nThe simplejson setup.py also does something similar, except that it's coded to always try to build the C-extension feature it defines, and fall back gracefully to pure-python when building fails; this may also be useful for your purpose.", "acce_score": "511", "simquery1_title": "How to extract the substring between two markers? Let's say I have a string <code>'gfgfdAAA1234ZZZuijjk'</code> and I want to extract just the <code>'1234'</code> part.I only know what will be the few characters directly before <code>AAA</code>, and after <code>ZZZ</code> the part I am interested in <code>1234</code>.With <code>sed</code> it is possible to do something like this with a string:<code>echo \"$STRING\" | sed -e \"s|.*AAA\\(.*\\)ZZZ.*|\\1|\"</code>And this will give me <code>1234</code> as a result.How to do the same thing in Python?", "simquery1_answer": "There's actually a distribute/setuptools feature called \"Features\" that can be used for this. \nIt's explicitly designed to have setup.py do different things based on <code>--with-xxx</code> and <code>--without-xxx</code> command line options.\nThis blog post gives a nice introduction, I can't find any better documentation at this time (besides the Distribute source - the Feature class and features keyword).\nThe jinja project's setup.py uses Features for your exact purpose, it might be a good template to work from.\nThe simplejson setup.py also does something similar, except that it's coded to always try to build the C-extension feature it defines, and fall back gracefully to pure-python when building fails; this may also be useful for your purpose.", "simquery2_title": "Replace all quotes in a string with escaped quotes? Given a string in python, such as:<code>s = 'This sentence has some \"quotes\" in it\\n'</code>I want to create a new copy of that string with any quotes escaped (for further use in Javascript). So, for example, what I want is to produce this:<code>'This sentence has some \\\"quotes\\\" in it\\n'</code>I tried using <code>replace()</code>, such as:<code>s.replace('\"', '\\\"')</code>but that returns the same string. So then I tried this:<code>s.replace('\"', '\\\\\"')</code>but that returns double-escaped quotes, such as:<code>'This sentence has some \\\\\"quotes\\\\\" in it.\\n'</code>How to replace <code>\"</code> with <code>\\\"</code>?UPDATE:I need as output from this copyable text that shows both the quotes and the newlines as escaped.  In other words, I want to be able to copy:<code>'This sentence has some \\\"quotes\\\" in it.\\n'</code>If I use the raw string and <code>print</code> the result I get the correctly escaped quote, but the escaped newline doesn't print. If I don't use <code>print</code> then I get my newlines but double-escaped quotes. How can I create a string I can copy that shows both newline and quote escaped?", "simquery2_answer": "Hi I want share text in LinkedIn through my app. My code is below here...This method when I click the btn linkedIn share..<code> - (void)linkedBtnEvent\n    {\n    if(oAuthLoginView != nil) {        oAuthLoginView.delegate = nil;\n        oAuthLoginView = nil;\n    }    oAuthLoginView = [[OAuthLoginView alloc] initWithNibName:nil bundle:nil];\n    oAuthLoginView.delegate=self;    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(loginViewDidFinish:)\n                                                 name:@\"loginViewDidFinish\"\n                                               object:self.oAuthLoginView];    [self presentViewController:self.oAuthLoginView animated:YES completion:nil];\n}\n</code>This are the method to handle share after login..<code>-(void) loginViewDidFinish:(NSNotification*)notification\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self];    [self profileApiCall];\n}- (void)profileApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(profileApiCallResult:didFinish:)\n                  didFailSelector:@selector(profileApiCallResult:didFail:)];    }- (void)profileApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    NSString *responseBody = [[NSString alloc] initWithData:data\n                                                   encoding:NSUTF8StringEncoding];    NSDictionary *profile = [responseBody objectFromJSONString];    if ( profile )\n    {\n        NSLog(@\"%@\", [[NSString alloc] initWithFormat:@\"%@ %@\",\n                      [profile objectForKey:@\"firstName\"], [profile objectForKey:@\"lastName\"]]);\n    }    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)profileApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)networkApiCall\n{\n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/network/updates?scope=self&amp;count=1&amp;type=STAT\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    [request setValue:@\"json\" forHTTPHeaderField:@\"x-li-format\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(networkApiCallResult:didFinish:)\n                  didFailSelector:@selector(networkApiCallResult:didFail:)];    }- (void)networkApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    if (isSharedLinked)\n    {\n        NSLog(@\"Shared Successfully\");\n        linkedBtn.enabled = NO;\n    }\n    else\n    {\n        isSharedLinked = YES;\n        [self performSelector:@selector(postTextLinkedIn) withObject:nil afterDelay:1];\n    }\n}- (void)networkApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}- (void)postTextLinkedIn\n{    \n    NSURL *url = [NSURL URLWithString:@\"https://api.linkedin.com/v1/people/~/shares\"];\n    OAMutableURLRequest *request = \n    [[OAMutableURLRequest alloc] initWithURL:url\n                                    consumer:oAuthLoginView.consumer\n                                       token:oAuthLoginView.accessToken\n                                    callback:nil\n                           signatureProvider:nil];    NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            [[NSDictionary alloc] \n                             initWithObjectsAndKeys:\n                             @\"anyone\",@\"code\",nil], @\"visibility\", \n                            @\"Wow its working... Share the text in Linked In\", @\"comment\", nil];    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    NSString *updateString = [update JSONString];    [request setHTTPBodyWithString:updateString];\n    [request setHTTPMethod:@\"POST\"];    OADataFetcher *fetcher = [[OADataFetcher alloc] init];\n    [fetcher fetchDataWithRequest:request\n                         delegate:self\n                didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)\n                  didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    \n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFinish:(NSData *)data \n{\n    // The next thing we want to do is call the network updates\n    [self networkApiCall];\n}- (void)postUpdateApiCallResult:(OAServiceTicket *)ticket didFail:(NSData *)error \n{\n    NSLog(@\"%@\",[error description]);\n}\n</code>It shows no error it always haow it share successfully in LinkedIn but no text share in that.. \nPlease help me to fix this issue... I cant figure what mistake I done..\n", "total_len": 375, "s1_total_len": 373, "s2_total_len": 1760}
{"post_id": "4706499", "title": "How do I append to a file?", "query": "How do I append to a file instead of overwriting it?", "acce_answer": "Absolutely. I would suggest using a long poll to poll the DB (via ajax) and update each new sprite using the <code>animate()</code> function.\n", "acce_score": "2008", "simquery1_title": "Confused by python file mode \"w+\" From the doc,   Modes 'r+', 'w+' and 'a+' open the file for updating (note that 'w+' truncates the file). Append 'b' to the mode to open the file in binary mode, on systems that differentiate between binary and text files; on systems that don\u2019t have this distinction, adding the 'b' has no effect.and here  w+ :  Opens a file for both writing and reading. Overwrites the existing file if the file exists. If the file does not exist, creates a new file for reading and writing.But, how to read a file open with <code>w+</code>? ", "simquery1_answer": "I would prefer to use the stateless version of translator, but I would prefer a state-full version of translated.  The reason is, if you get rid of state then you can often get rid of an entire class of synchronization bugs while moving some of the important information closer to where it is actually used.  Imagine, for example, if the two language variables were part of a 1000 line class.  Would you want to look up how they are set every time they are used?The reason I like state for translated is whereas a general translator can exist without knowing what languages it is going to be used for, if you lose what languages are used in a translated, you don't know as well what to do with it anymore (similar to losing your units in a math problem).For the stateful option, a version I like better is, instead of:<code>   ...\n   private String oldLanguage;\n   private String newLanguage;\n</code>use:<code>   ...\n   private final String oldLanguage;\n   private final String newLanguage;\n</code>... and instead of something like:<code>   myTranslator.setLanguages(\"spanish\", \"english\")\n   Translated myTranslated = myTranslator.translate(original)\n</code>you can use:<code>   Translator spanishEnglish = new Translator(\"spanish\", \"english\")\n   Translated myTranslated = spanishEnglish.translate(original)\n</code>\n", "simquery2_title": "How often does python flush to a file? How often does Python flush to a file?How often does Python flush to stdout?I'm unsure about (1).As for (2), I believe Python flushes to stdout after every new line.  But, if you overload stdout to be to a file, does it flush as often?", "simquery2_answer": "Do it in two steps:<code>var s = \"U.K. bank.of help.co.uk E.U\";//replace periods in abbreviations\nvar r1 = new RegExp(\"\\\\b([A-Z])\\\\.\", 'g');\ns = s.replace(r1, \"$1\");\nconsole.log(s);    //UK bank.of help.co.uk EU//replace remaining spaces:\ns = s.replace(/\\./g, \" \");\nconsole.log(s); //UK bank of help co uk EU\n</code>The given regexes are in JavaScript; leave a comment if you need help translating them to Java.\n", "total_len": 64, "s1_total_len": 489, "s2_total_len": 224}
{"post_id": "4760215", "title": "Running shell command and capturing the output", "query": "I want to write a function that will execute a shell command and return its output as a string, no matter, is it an error or success message. I just want to get the same result that I would have gotten with the command line.What would be a code example that would do such a thing?For example:<code>def run_command(cmd):    # ??????print run_command('mysqladmin create test -uroot -pmysqladmin12')# Should output something like:# mysqladmin: CREATE DATABASE failed; error: 'Can't create database 'test'; database exists'</code>", "acce_answer": "world! In turtle graphics in python, there's possible to create various Turtle objects and manipulate them with their methods, forward, backward... I wanted to experiment with threads so I wrote a threaded class called MyTurtleManipulator. <code>from threading import Thread\nfrom cTurtle import Turtle \nimport randomclass MyTurtleManipulator(Thread):\n  def __init__(self, turtle):\n    Thread.__init__(self)\n    self.turtle=turtle\n  def run(self):\n    actions=[Turtle.forward, Turtle.right, Turtle.left]    \n    while True:      \n      action=random.choice(actions)      \n      action(self.turtle, random.randint(1,25))turtles=[Turtle() for i in range(5)]\nthreads=[MyTurtleManipulator(turtle) for turtle in turtles]for thread in threads:\n  print(thread)\n  thread.start()\n</code>With the experiment I expected to see all the turtles moving \"simultaneously\" and randomly but When I run the program i get these errors:<code>&lt;MyTurtleManipulator(Thread-1, initial)&gt;\n&lt;MyTurtleManipulator(Thread-2, initial)&gt;\n&lt;MyTurtleManipulator(Thread-3, initial)&gt;\n&lt;MyTurtleManipulator(Thread-4, initial)&gt;\n&lt;MyTurtleManipulator(Thread-5, initial)&gt;\n&gt;&gt;&gt; Exception in thread Thread-1:\nTraceback (most recent call last):\n  File \"/usr/lib/python3.1/threading.py\", line 516, in _bootstrap_inner\n    self.run()\n  File \"/home/rfrm/test.py\", line 13, in run\n    action(self.turtle, random.randint(1,25))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1162, in forward\n    checkargs((int, float))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1131, in _go\n    ende = self._position + self._orient * distance\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2266, in _goto\n    (start, self._position),\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 419, in _drawline\n    cl.append(-y)\n  File \"&lt;string&gt;\", line 1, in coords\n  File \"/usr/lib/python3.1/tkinter/__init__.py\", line 2123, in coords\n    self.tk.call((self._w, 'coords') + args)))\nRuntimeError: main thread is not in main loopException in thread Thread-2:\nTraceback (most recent call last):\n  File \"/usr/lib/python3.1/threading.py\", line 516, in _bootstrap_inner\n    self.run()\n  File \"/home/rfrm/test.py\", line 13, in run\n    action(self.turtle, random.randint(1,25))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1203, in right\n    checkargs((int, float))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2300, in _rotate\n    self._orient = self._orient.rotate(delta)\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2085, in _update\n    for t in screen._turtles:\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2219, in _drawturtle\n    screen._drawpoly(titem, shape, fill=fc, outline=oc,\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 384, in _drawpoly\n    cl.append(-y)\n  File \"&lt;string&gt;\", line 1, in coords\n  File \"/usr/lib/python3.1/tkinter/__init__.py\", line 2123, in coords\n    self.tk.call((self._w, 'coords') + args)))\nRuntimeError: main thread is not in main loopException in thread Thread-3:\nTraceback (most recent call last):\n  File \"/usr/lib/python3.1/threading.py\", line 516, in _bootstrap_inner\n    self.run()\n  File \"/home/rfrm/test.py\", line 13, in run\n    action(self.turtle, random.randint(1,25))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1162, in forward\n    checkargs((int, float))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1131, in _go\n    ende = self._position + self._orient * distance\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2270, in _goto\n    screen._drawline(self.drawingLineItem, ((0, 0), (0, 0)),\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 419, in _drawline\n    cl.append(-y)\n  File \"&lt;string&gt;\", line 1, in coords\n  File \"/usr/lib/python3.1/tkinter/__init__.py\", line 2123, in coords\n    self.tk.call((self._w, 'coords') + args)))\nRuntimeError: main thread is not in main loopException in thread Thread-4:\nTraceback (most recent call last):\n  File \"/usr/lib/python3.1/threading.py\", line 516, in _bootstrap_inner\n    self.run()\n  File \"/home/rfrm/test.py\", line 13, in run\n    action(self.turtle, random.randint(1,25))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1162, in forward\n    checkargs((int, float))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1131, in _go\n    ende = self._position + self._orient * distance\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2270, in _goto\n    screen._drawline(self.drawingLineItem, ((0, 0), (0, 0)),\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 419, in _drawline\n    cl.append(-y)\n  File \"&lt;string&gt;\", line 1, in coords\n  File \"/usr/lib/python3.1/tkinter/__init__.py\", line 2123, in coords\n    self.tk.call((self._w, 'coords') + args)))\nRuntimeError: main thread is not in main loopException in thread Thread-5:\nTraceback (most recent call last):\n  File \"/usr/lib/python3.1/threading.py\", line 516, in _bootstrap_inner\n    self.run()\n  File \"/home/rfrm/test.py\", line 13, in run\n    action(self.turtle, random.randint(1,25))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 1203, in right\n    checkargs((int, float))\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2300, in _rotate\n    self._orient = self._orient.rotate(delta)\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2085, in _update\n    for t in screen._turtles:\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 2219, in _drawturtle\n    screen._drawpoly(titem, shape, fill=fc, outline=oc,\n  File \"/usr/local/lib/python3.1/dist-packages/cTurtle.py\", line 384, in _drawpoly\n    cl.append(-y)\n  File \"&lt;string&gt;\", line 1, in coords\n  File \"/usr/lib/python3.1/tkinter/__init__.py\", line 2123, in coords\n    self.tk.call((self._w, 'coords') + args)))\nRuntimeError: main thread is not in main loop\n</code>What does this means, what does \"main thread is not in main loop\" means. Thank you for your help.\n", "acce_score": "1363", "simquery1_title": "Make python3 as my default python on Mac What I'm trying to do here is to make python3 as my default python. Except the python 2.7 which automatically installed on mac, I installed python3 with homebrew. This is the website that I'm following. http://docs.python-guide.org/en/latest/starting/install3/osx/#install3-osxI guess I followed every instruction well, got xcode freshly installed, Command line tools, and homebrew. But here's my little confusion occurs.The script will explain what changes it will make and prompt you before the installation begins. Once you\u2019ve installed Homebrew, insert the Homebrew directory at the top of your PATH environment variable. You can do this by adding the following line at the bottom of your ~/.profile fileexport PATH=/usr/local/bin:/usr/local/sbin:$PATHI was really confused what this was, but I concluded that I should just add this following line at the bottom of ~/.profile file. So I opened the ~/.profile file by open .profile in the terminal, and added following line at the bottom. And now it looks like this.<code>export PATH=/usr/local/bin:/usr/local/sbin:$PATH# Setting PATH for Python 3.6# The original version is saved in .profile.pysaveexport PATH=/usr/local/bin:/usr/local/sbin:$PATH</code>And then I did brew install python, and was hoping to see python3 when I do python --version.But it just shows me python 2.7.10. I want my default python to be python3 not 2.7And I found a little clue from the website.Do I have a Python 3 installed?<code>$ python --versionPython 3.6.4</code>If you still see 2.7 ensure in PATH /usr/local/bin/ takes pecedence over /usr/bin/Maybe it has to do something with PATH? Could someone explain in simple English what PATH exactly is and how I could make my default python to be python3 when I run python --version in the terminal?", "simquery1_answer": "i just had to remove the <code>i</code> in the\n<code>for i, d in data[&quot;keys&quot;]:\n            if(d[&quot;key&quot;] == key):\n                d[&quot;uses&quot;] = d[&quot;uses&quot;] + 1\n</code>\nso it would be\n<code>for d in data[&quot;keys&quot;]:\n            if(d[&quot;key&quot;] == key):\n                d[&quot;uses&quot;] = d[&quot;uses&quot;] + 1\n</code>\n", "simquery2_title": "How to Install pip for python 3.7 on Ubuntu 18? I've installed Python 3.7 on my Ubuntu 18.04 machine. Following this instructions in case it's relevant:Download : Python 3.7 from Python Website [1] ,on Desktop and manuallyunzip it, on Desktop Installation : Open Terminal (ctrl +shift+T)<code>Go to the Extracted folder$ cd ~/Desktop/Python-3.7.0$ ./configure$ make$ sudo make install</code>Making Python 3.7 default Python :<code>$ sudo vim ~/.bashrcpress ion the last and new line - Typealias python= python3.7press Esctype - to save and exit vim:wqnow type$ source ~/.bashrc</code>From here: https://www.quora.com/How-can-I-upgrade-Python-3-6-to-3-7-in-Ubuntu-18-04I've downloaded several modules through <code>pip install module</code> but when I try to import them, I get a <code>ModuleNotFoundError: No module names 'xx'</code>So I did some research and apparently when used pip to install, it installed in the modules in previous version of Python.Somewhere (probably a question in SO) I found a suggestion to install the module using <code>python3.7 -m pip install module</code> but then I get <code>/usr/local/bin/python3.7: no module named pip</code>.Now I'm stuck, pip is installed, but apparently not for Python 3.7. I'm assuming that if I can install pip for Python 3.7, I can run the pip install command and get the modules I need.If that is the case, how can I install pip for python 3.7, since it's already installed?This is the best I have come up with:I have installed python 3.7 successfully and I can install modules using pip (or pip3) but those modules are installed in Python 3.6 (Comes with ubuntu). Therefore I can't import those modules in python 3.7 (get a module not found)Python 3.7 doesn't recognize pip/pip3, so I can't install through pip/pip3I need python 3.7", "simquery2_answer": "I want to return an object when I have a certain prop in the parameter of my function, and a <code>string</code> when not.\nI can't use functions overloads because it is used in a type that is shared with React components, in React.useCallback.\nI tried:\n<code>type FileType = {\n    name: string\n    content: string\n}// This is a type that I use in many part of my code. I would like the result of onSave to depend on the props it receive\ntype Props = {\n    onSave: &lt;T extends FileType | undefined&gt;(data: {\n        id: string\n        file: T\n    }) =&gt; T extends FileType ? FileType : string\n}const isFile = (o: unknown): o is FileType =&gt; {\n    return o !== undefined\n}\n// Here you can read the error\nconst insert: Props['onSave'] = prop =&gt; isFile(prop.file) ? prop.file : prop.id)// Here is how the function is written in my code. But React doesn't exist in this playground\n// const insert = React.useCallback&lt;Props['onSave']&gt;(prop =&gt; isFile(prop.file) ? prop.file : prop.id, [])</code>\nthe error:\n<code>Type 'string | (T &amp; FileType)' is not assignable to type 'T extends FileType ? FileType : string'.\n  Type 'string' is not assignable to type 'T extends FileType ? FileType : string'.\n</code>\nPlayground Link: Provided\n", "total_len": 2490, "s1_total_len": 627, "s2_total_len": 910}
{"post_id": "4990718", "title": "How can I write a `try`/`except` block that catches all exceptions?", "query": "How can I write a <code>try</code>/<code>except</code> block that catches all exceptions?", "acce_answer": "First rule: always check input functions - in this case, <code>fgets()</code>.  You don't know whether everything is working correctly or not if you do not check.Second: use <code>enum</code> in preference to <code>#define</code> in general.With the check for early EOF in place, your code sorted my sample data (6 rows) cleanly.  It also compiled cleanly - which is very unusual (that's a compliment; I use stringent warnings and even my code seldom compiles cleanly the first time).  My amended version of your code is very similar to yours:<code>int main(void)\n{\n    int i = 0;\n    int num;\n    contacts **contactArray = malloc(ELEMENTS * sizeof(contacts *));    /*  allocate array  */\n    for (i = 0; i &lt; ELEMENTS; i++)\n        contactArray[i] = malloc(sizeof(contacts));    /*  populate array  */\n    for (i = 0; i &lt; ELEMENTS; i++)\n    {\n        if (fgets(contactArray[i]-&gt;name,MAX,stdin) == 0 ||\n            fgets(contactArray[i]-&gt;street,MAX,stdin) == 0 ||\n            fgets(contactArray[i]-&gt;cityState,MAX,stdin) == 0 ||\n            fgets(contactArray[i]-&gt;zipCode,MAX,stdin) == 0)\n            break;\n        printf(\"%s\", contactArray[i]-&gt;name);\n        printf(\"%s\", contactArray[i]-&gt;street);\n        printf(\"%s\", contactArray[i]-&gt;cityState);\n        printf(\"%s\", contactArray[i]-&gt;zipCode);\n    }\n    printf(\"\\n\");\n    num = i;    qsort(contactArray, num, sizeof(contacts *), sortZips);    for (i = 0; i &lt; num; i++)\n    {\n        fputs(contactArray[i]-&gt;name,stdout);\n        fputs(contactArray[i]-&gt;street,stdout);\n        fputs(contactArray[i]-&gt;cityState,stdout);\n        fputs(contactArray[i]-&gt;zipCode,stdout);\n    }\n    return 0;\n}\n</code>The data I used was trivial repetitions of sets of 4 lines like this:<code>First LastName7\n7 Some Street\nCity, CA\n95437\n</code>Note that the 'error checking' I do in the input is the bare minimum that 'works'.  If you get an over-long line in the input, one field will not contain a newline, and the next will contain the next section of the input line (possibly all the rest, possibly not - it depends on how badly overlong the line is).\n", "acce_score": "1085", "simquery1_title": "e.printStackTrace equivalent in python I know that <code>print(e)</code> (where e is an Exception) prints the occurred exceptionbut, I was trying to find the python equivalent of Java's <code>e.printStackTrace()</code> that exactly traces the exception to what line it occurred and prints the entire trace of it.Could anyone please tell me the equivalent of <code>e.printStackTrace()</code> in Python?", "simquery1_answer": "AFAIK, no. But you can use the getDelegate() method and see what it returns. For Hibernate, it returns the Hibernate <code>Session</code> instance, for example. Just getting the name of the class of the delegate returned should give you an idea of the underlying provider.\n", "simquery2_title": "In Python, what's the difference between 'except Exception as e' and 'except Exception, e' In python, there are two ways to catch an exception <code>except Exception, e:except Exception as e:</code>It seems like 'as e' is the one to use going forward.  In what version of python did this change?  Any idea why?", "simquery2_answer": "I would encapsulate it into a function that can be easily re-used:<code>&lt;?php\n/**\n * If GET variable exists use it as the cookie value.\n * If the Variable doesn't exist use a default value.\n * If the Cookie already exists use that value instead of a new one.\n * \n * @param string $name name of cookie / get variable\n * @param string $default default value\n * @return string the value.\n */\nfunction cookie_get_value($name, $default) {\n    if (isset($_COOKIE[$name])) {\n        $value = $_COOKIE[$name];\n    } else {\n        $value = isset($_GET[$name]) ? $_GET[$name] : $default;\n        setcookie($name, $value , time() + 31536000);\n    }\n    return $value;\n}echo cookie_get_value('id', '115');\n</code>In the end you need to do the if's you'd need to do. It's not always easy to make the own code better, however if you put it into a function of it's own it's easier to modify.\n", "total_len": 746, "s1_total_len": 159, "s2_total_len": 358}
{"post_id": "4998629", "title": "Split string with multiple delimiters in Python", "query": "I found some answers online, but I have no experience with regular expressions, which I believe is what is needed here.I have a string that needs to be split by either a ';' or ', 'That is, it has to be either a semicolon or a comma followed by a space. Individual commas without trailing spaces should be left untouchedExample string:<code>\"b-staged divinylsiloxane-bis-benzocyclobutene [124221-30-3], mesitylene [000108-67-8]; polymerized 1,2-dihydro-2,2,4- trimethyl quinoline [026780-96-1]\"</code>should be split into a list containing the following:<code>('b-staged divinylsiloxane-bis-benzocyclobutene [124221-30-3]' , 'mesitylene [000108-67-8]', 'polymerized 1,2-dihydro-2,2,4- trimethyl quinoline [026780-96-1]') </code>", "acce_answer": "I believe its because of your use of <code>ItemContainerGenerator.ContainerFromItem</code>.The <code>ListBox</code> is using a <code>VirtualizingStackPanel</code> by default. So the items that aren't on the screen when you load the window are not created yet. Setting them to <code>Collapsed</code> has no effect once they're brought back on the screen.You can play around with this a little bit by changing the initial height of the <code>Window</code>. If you set it to 550 or so, it works as expected. If you set it to 150 or so, you'll have A LOT of elements still visible.One thing you can do to change this if you're not going to have that many elements is just change the <code>ItemsPanel</code>.\n", "acce_score": "751", "simquery1_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery1_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "simquery2_title": "Python Regex Engine - \"look-behind requires fixed-width pattern\" Error I am trying to handle un-matched double quotes within a string in the CSV format.To be precise,<code>&quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;</code>should be corrected as<code>&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;</code>So basically what I am trying to do is toreplace all the ' &quot; 'Not preceded by a beginning of line or a comma (and)Not followed by a comma or an end of linewith ' &quot; &quot; 'For that I use the below regex<code>(?&lt;!^|,)&quot;(?!,|$)</code>The problem is while Ruby regex engines ( http://www.rubular.com/ ) are able to parse the regex, python regex engines (https://pythex.org/ , http://www.pyregex.com/) throw the following error<code>Invalid regular expression: look-behind requires fixed-width pattern</code>And with python 2.7.3 it throws<code>sre_constants.error: look-behind requires fixed-width pattern</code>Can anyone tell me what vexes python here?Edit:Following Tim's response, I got the below output for a multi line string<code>&gt;&gt;&gt; str = &quot;&quot;&quot; &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot; &quot;&quot;&quot;&gt;&gt;&gt; re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str)' &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot; '</code>At the end of each line, next to 'it' two double-quotes were added.So I made a very small change to the regex to handle a new-line.<code>re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str,flags=re.MULTILINE)</code>But this gives the output<code>&gt;&gt;&gt; re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str,flags=re.MULTILINE)' &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot; '</code>The last 'it' alone has two double-quotes.But I wonder why the '$' end of line character will not identify that the line has ended.The final answer is<code>re.sub(r'\\b\\s*&quot;(?!,|[ \\t]*$)', '&quot; &quot;', str,flags=re.MULTILINE)</code>", "simquery2_answer": "I am not sure why do you need <code>getGenericPredicate</code> since instead of <code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = getGenericPredicate(SomeType::bar());\n    Predicate&lt;SomeType&gt; secondPredicate = getGenericPredicate(SomeType::foo());\n    //...\n}\n</code>you could simply use <code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = SomeType::bar;\n    Predicate&lt;SomeType&gt; secondPredicate = SomeType::foo;\n    //...\n}\n</code>Assuming that <code>getGenericPredicate</code> would actually need to do some additional tasks (logging for instance) you could try with <code>public &lt;T&gt; Predicate&lt;T&gt; getGenericPredicate(Predicate&lt;T&gt; p) {\n    //some additional code goes here\n    return p;\n}\n</code>and then you can use it like<code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = getGenericPredicate(SomeType::bar);\n    Predicate&lt;SomeType&gt; secondPredicate = getGenericPredicate(SomeType::foo);\n    //...\n}\n</code>\n", "total_len": 482, "s1_total_len": 414, "s2_total_len": 1577}
{"post_id": "5041008", "title": "How to find elements by class", "query": "I'm having trouble parsing HTML elements with \"class\" attribute using Beautifulsoup. The code looks like this<code>soup = BeautifulSoup(sdata)mydivs = soup.findAll('div')for div in mydivs:     if (div[\"class\"] == \"stylelistrow\"):        print div</code>I get an error on the same line \"after\" the script finishes. <code>File \"./beautifulcoding.py\", line 130, in getlanguage  if (div[\"class\"] == \"stylelistrow\"):File \"/usr/local/lib/python2.6/dist-packages/BeautifulSoup.py\", line 599, in __getitem__   return self._getAttrMap()[key]KeyError: 'class'</code>How do I get rid of this error?", "acce_answer": "It's much better to use a genuine HTML parser for this. Abandon all attempts to use regular expressions on HTML.Use PHP's <code>DOMDocument</code> instead:<code>$dom = new DOMDocument;\n$dom-&gt;loadHTML($yourHTML);foreach ($dom-&gt;getElementsByTagName('a') as $link) {\n    $classes = explode(' ', $link-&gt;getAttribute('class'));    if (in_array('nextpostslink', $classes)) {\n        // $link has the class \"nextpostslink\"\n    }\n}\n</code>\n", "acce_score": "632", "simquery1_title": "Selenium versus BeautifulSoup for web scraping I'm scraping content from a website using Python. First I used <code>BeautifulSoup</code> and <code>Mechanize</code> on Python but I saw that the website had a button that created content via JavaScript so I decided to use <code>Selenium</code>.Given that I can find elements and get their content using Selenium with methods like <code>driver.find_element_by_xpath</code>, what reason is there to use <code>BeautifulSoup</code> when I could just use Selenium for everything?And in this particular case, I need to use Selenium to click on the JavaScript button so is it better to use Selenium to parse as well or should I use both Selenium and Beautiful Soup? ", "simquery1_answer": "Use zip:<code>&gt;&gt;&gt; a = [[1, 2], [11, 22], [111, 222]]\n&gt;&gt;&gt; zip(*a)\n[(1, 11, 111), (2, 22, 222)]\n</code>\n", "simquery2_title": "Parsing HTML using Python I'm looking for an HTML Parser module for Python that can help me get the tags in the form of Python lists/dictionaries/objects.If I have a document of the form:<code>&lt;html&gt;&lt;head&gt;Heading&lt;/head&gt;&lt;body attr1='val1'&gt;    &lt;div class='container'&gt;        &lt;div id='class'&gt;Something here&lt;/div&gt;        &lt;div&gt;Something else&lt;/div&gt;    &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</code>then it should give me a way to access the nested tags via the name or id of the HTML tag so that I can basically ask it to get me the content/text in the <code>div</code> tag with <code>class='container'</code> contained within the <code>body</code> tag, or something similar.If you've used Firefox's &quot;Inspect element&quot; feature (view HTML) you would know that it gives you all the tags in a nice nested manner like a tree.I'd prefer a built-in module but that might be asking a little too much.I went through a lot of questions on Stack Overflow and a few blogs on the internet and most of them suggest BeautifulSoup or lxml or HTMLParser but few of these detail the functionality and simply end as a debate over which one is faster/more efficent.", "simquery2_answer": "This may be pretty simple, not entirely sure.  Is there a way to take this cURL call below (it's from Big Commerce's API) and rewrite the same function using cfhttp?  I know cfhttp acts (or can act like) a form/method=\"post\" type deal, but I'm not sure what params (or what their names should be) to use within a cfhttp tag.  Any help would be appreciated...my goal is to be able to use Coldfusion to call a list of products, at which point I can arrange/export to a list/excel/whatever, but setting up the actual call using cfhttp and converting this cURL call is what I'm stuck at.<code>curl --request GET \\\n --user-agent \"Your Client Name/1.0\" \\\n --header \"Authorization: Basic YWRtaW46WW91ckFQSUtleUhlcmU=\" \\\n https://www.example.com/api/v2/products\n</code>\n", "total_len": 344, "s1_total_len": 263, "s2_total_len": 580}
{"post_id": "5082452", "title": "String formatting: % vs. .format vs. f-string literal", "query": "There are various string formatting methods:Python &lt;2.6: <code>&quot;Hello %s&quot; % name</code>Python 2.6+: <code>&quot;Hello {}&quot;.format(name)</code> \u00a0 (uses <code>str.format</code>)Python 3.6+: <code>f&quot;{name}&quot;</code> \u00a0 (uses f-strings)Which is better, and for what situations?The following methods have the same outcome, so what is the difference?<code>name = &quot;Alice&quot;&quot;Hello %s&quot; % name&quot;Hello {0}&quot;.format(name)f&quot;Hello {name}&quot;# Using named arguments:&quot;Hello %(kwarg)s&quot; % {'kwarg': name}&quot;Hello {kwarg}&quot;.format(kwarg=name)f&quot;Hello {name}&quot;</code>When does string formatting run, and how do I avoid a runtime performance penalty?If you are trying to close a duplicate question that is just looking for a way to format a string, please use How do I put a variable\u2019s value inside a string?.", "acce_answer": "<code>function validateNumeric() {\n  var val = document.getElementById(\"tbNumber\").value;\n  if (!/^\\s*(?:\\d+(?:\\.\\d*)?|\\.\\d+)\\s*$/.test(val)) {\n    alert('Please enter a valid number');\n    return false; \n  }\n  return true;\n}\n</code><code>(?:\\d+(?:\\.\\d*)|\\.\\d+)</code> breaks down as follows:\n<code>\\d+</code> is any number of digits, e.g. 123\n<code>(\\.\\d*)?</code> optionally matches a fraction, e.g. .25 and . or blank but not .1.2\n<code>\\.\\d+</code> matches a fraction without an integer part as in .5 but not 1.5. \n<code>(?:abc|def)</code> groups things together and matches either <code>abc</code> or <code>def</code>\n<code>/^\\s*(?:\\d+(?:\\.\\d*)|\\.\\d+)\\s*$/</code> means any number of spaces followed by one or more decimal digits followed by any number of spaces.  So it does what your <code>validChars</code> loop did plus allows spaces at the start and end.\n", "acce_score": "1445", "simquery1_title": "f-strings vs str.format() I'm using the <code>.format()</code> a lot in my Python 3.5 projects, but I'm afraid that it will be deprecated during the next Python versions because of f-strings, the new kind of string literal.<code>&gt;&gt;&gt; name = &quot;Test&quot;&gt;&gt;&gt; f&quot;My app name is {name}.&quot;'My app name is Test.'</code>Does the formatted string feature come to fully replace the old <code>.format()</code>? And from now on, would it be better to use the new style in all cases?I understand that it's based on the idea that &quot;Simple is better than complex.&quot; However, what about performance issues; is there any difference between them? Or is it just a simple look of the same feature?", "simquery1_answer": "According to the info you provide, you're joining using a non-existing fieldIf dg_like's structure is\n  id | P_id | Uid\nthe join statement should be <code> $this-&gt;db-&gt;join('dg_like', 'user_id = dg_like.Uid');\n</code>I'd go even further and recommend you make it a <code>LEFT JOIN</code> so the output of the query contains all rows, regardless of being liked or not:<code> $this-&gt;db-&gt;join('dg_like', 'user_id = dg_like.Uid', 'LEFT');\n</code>hope that works\n", "simquery2_title": "Python style - line continuation with strings? In trying to obey the python style rules, I've set my editors to a max of 79 cols.In the PEP, it recommends using python's implied continuation within brackets, parentheses and braces.  However, when dealing with strings when I hit the col limit, it gets a little weird.For instance, trying to use a multiline<code>mystr = \"\"\"Why, hello therewonderful stackoverflow people!\"\"\"</code>Will return<code>\"Why, hello there\\nwonderful stackoverflow people!\"</code>This works:<code>mystr = \"Why, hello there \\wonderful stackoverflow people!\"</code>Since it returns this:<code>\"Why, hello there wonderful stackoverflow people!\"</code>But, when the statement is indented a few blocks in, this looks weird:<code>do stuff:    and more stuff:        and even some more stuff:            mystr = \"Why, hello there \\wonderful stackoverflow people!\"</code>If you try and indent the second line:<code>do stuff:    and more stuff:        and even some more stuff:            mystr = \"Why, hello there \\            wonderful stackoverflow people!\"</code>Your string ends up as:<code>\"Why, hello there                wonderful stackoverflow people!\"</code>The only way I've found to get around this is:<code>do stuff:    and more stuff:        and even some more stuff:            mystr = \"Why, hello there\" \\            \"wonderful stackoverflow people!\"</code>Which I like better, but is also somewhat uneasy on the eyes, as it looks like there is a string just sitting in the middle of nowhere.  This will produce the proper:<code>\"Why, hello there wonderful stackoverflow people!\"</code>So, my question is - what are some people's recommendations on how to do this and is there something I'm missing in the style guide that does show how I should be doing this?Thanks.", "simquery2_answer": "You want the position parameter not the idSee the documentation of onItemClick:<code>public abstract void onItemClick (AdapterView&lt;?&gt; parent, View view, int position, long id) \n</code>Since: API Level 1 Callback method to be invoked when an item in this AdapterView has been clicked. Implementers can call getItemAtPosition(position) if they need to access the data associated with the selected item.Parameters\n  parent:   The AdapterView where the click happened. \n  \n  view:     The view within the AdapterView that was clicked (this will be a view provided by the adapter)\n  \n  position:  The position of the view in the adapter. \n  \n  id:  The row id of the item that was clicked.  ", "total_len": 593, "s1_total_len": 360, "s2_total_len": 625}
{"post_id": "5105517", "title": "Deep copy of a dict in python", "query": "I would like to make a deep copy of a <code>dict</code> in python. Unfortunately the <code>.deepcopy()</code> method doesn't exist for the <code>dict</code>. How do I do that?<code>&gt;&gt;&gt; my_dict = {'a': [1, 2, 3], 'b': [4, 5, 6]}&gt;&gt;&gt; my_copy = my_dict.deepcopy()Traceback (most recent calll last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;AttributeError: 'dict' object has no attribute 'deepcopy'&gt;&gt;&gt; my_copy = my_dict.copy()&gt;&gt;&gt; my_dict['a'][2] = 7&gt;&gt;&gt; my_copy['a'][2]7</code>The last line should be <code>3</code>.I would like that modifications in <code>my_dict</code> don't impact the snapshot <code>my_copy</code>.How do I do that? The solution should be compatible with Python 3.x.", "acce_answer": "Given that this is tagged for iPhone dev I would recommend using an objective c wrapper for sqlite like FMDB.  FMDB is very lightweight and widely used (check it out on github: https://github.com/ccgus/fmdb/) and will simplify this whole process for you.Here is an example of a simple insert with FMDB:<code>self.db = [FMDatabase databaseWithPath:fullPath]; if (![db open]) {\n     NSLog(@\"DB Open Failed\");\n     return NO;\n }[db executeUpdate:@\"INSERT INTO TestTable (id, value) VALUES (?,?)\", [NSNumber numberWithInt:1], @\"SomeString\"];[db close];\n</code>\n", "acce_score": "570", "simquery1_title": "Python hashable dicts As an exercise, and mostly for my own amusement, I'm implementing a backtracking packrat parser.  The inspiration for this is i'd like to have a better idea about how hygenic macros would work in an algol-like language (as apposed to the syntax free lisp dialects you normally find them in).  Because of this, different passes through the input might see different grammars, so cached parse results are invalid, unless I also store the current version of the grammar along with the cached parse results.  (EDIT: a consequence of this use of key-value collections is that they should be immutable, but I don't intend to expose the interface to allow them to be changed, so either mutable or immutable collections are fine)The problem is that python dicts cannot appear as keys to other dicts.  Even using a tuple (as I'd be doing anyways) doesn't help.<code>&gt;&gt;&gt; cache = {}&gt;&gt;&gt; rule = {\"foo\":\"bar\"}&gt;&gt;&gt; cache[(rule, \"baz\")] = \"quux\"Traceback (most recent call last):  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: unhashable type: 'dict'&gt;&gt;&gt; </code>I guess it has to be tuples all the way down.  Now the python standard library provides approximately what i'd need, <code>collections.namedtuple</code> has a very different syntax, but can be used as a key.  continuing from above session:<code>&gt;&gt;&gt; from collections import namedtuple&gt;&gt;&gt; Rule = namedtuple(\"Rule\",rule.keys())&gt;&gt;&gt; cache[(Rule(**rule), \"baz\")] = \"quux\"&gt;&gt;&gt; cache{(Rule(foo='bar'), 'baz'): 'quux'}</code>Ok.  But I have to make a class for each possible combination of keys in the rule I would want to use, which isn't so bad, because each parse rule knows exactly what parameters it uses, so that class can be defined at the same time as the function that parses the rule.  Edit: An additional problem with <code>namedtuple</code>s is that they are strictly positional.  Two tuples that look like they should be different can in fact be the same: <code>&gt;&gt;&gt; you = namedtuple(\"foo\",[\"bar\",\"baz\"])&gt;&gt;&gt; me = namedtuple(\"foo\",[\"bar\",\"quux\"])&gt;&gt;&gt; you(bar=1,baz=2) == me(bar=1,quux=2)True&gt;&gt;&gt; bob = namedtuple(\"foo\",[\"baz\",\"bar\"])&gt;&gt;&gt; you(bar=1,baz=2) == bob(bar=1,baz=2)False</code>tl'dr: How do I get <code>dict</code>s that can be used as keys to other <code>dict</code>s?Having hacked a bit on the answers, here's the more complete solution I'm using.  Note that this does a bit extra work to make the resulting dicts vaguely immutable for practical purposes.  Of course it's still quite easy to hack around it by calling <code>dict.__setitem__(instance, key, value)</code> but we're all adults here.<code>class hashdict(dict):    \"\"\"    hashable dict implementation, suitable for use as a key into    other dicts.        &gt;&gt;&gt; h1 = hashdict({\"apples\": 1, \"bananas\":2})        &gt;&gt;&gt; h2 = hashdict({\"bananas\": 3, \"mangoes\": 5})        &gt;&gt;&gt; h1+h2        hashdict(apples=1, bananas=3, mangoes=5)        &gt;&gt;&gt; d1 = {}        &gt;&gt;&gt; d1[h1] = \"salad\"        &gt;&gt;&gt; d1[h1]        'salad'        &gt;&gt;&gt; d1[h2]        Traceback (most recent call last):        ...        KeyError: hashdict(bananas=3, mangoes=5)    based on answers from       http://stackoverflow.com/questions/1151658/python-hashable-dicts    \"\"\"    def __key(self):        return tuple(sorted(self.items()))    def __repr__(self):        return \"{0}({1})\".format(self.__class__.__name__,            \", \".join(\"{0}={1}\".format(                    str(i[0]),repr(i[1])) for i in self.__key()))    def __hash__(self):        return hash(self.__key())    def __setitem__(self, key, value):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def __delitem__(self, key):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def clear(self):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def pop(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def popitem(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def setdefault(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    def update(self, *args, **kwargs):        raise TypeError(\"{0} does not support item assignment\"                         .format(self.__class__.__name__))    # update is not ok because it mutates the object    # __add__ is ok because it creates a new object    # while the new object is under construction, it's ok to mutate it    def __add__(self, right):        result = hashdict(self)        dict.update(result, right)        return resultif __name__ == \"__main__\":    import doctest    doctest.testmod()</code>", "simquery1_answer": "Tom McNulty helped me out and pointed out that my regex's were super-pants, in particular I wasn't using the global flag :(The working code is:<code>var converter;\nvar text = \"\";\nvar item;\nvar input;\nvar output;\nvar head;\nvar tail;\nconverter = new Attacklab.showdown.converter();\nitem = document.getElementById(\"tests\");\nfor (var test in tests) {\n  input = tests[test].replace(/[\\n\\r]+/gi,\"\\\\n\" );\n  input = input.replace(/[\\\"]+/gi, \"\\\\\\\"\");\n  output = converter.makeHtml(tests[test]).replace(/[\\n\\r]+/gi, \"\\\\n\");\n  output = output.replace(/[\\\"]+/gi, \"\\\\\\\"\");\n  text += \"     ?_assert(conv(\\\"\" + input + \"\\\") == \\\"\" + output + \"\\\"),\\n\";\n};\nhead = \"unit_test_() -&gt; \\n    [\\n\";\ntail = \"\\n    ].\";\ntext = text.slice(0, text.length - 2);\nitem.value = head + text + tail;\n</code>\n", "simquery2_title": "Subclass dict: UserDict, dict or ABC? What's the difference between <code>UserDict</code>, <code>dict</code> and <code>ABC</code> and which one is recommended? The docs seem to deprecate <code>UserDict</code>?Also it seems UserDict's <code>update()</code> would use my <code>setitem</code> method whereas <code>dict</code> doesn't? Which methods are really essential to override given I want custom <code>setitem</code> and <code>getitem</code> function?With <code>ABC</code>s I'd have to implement absolutely all methods since it provides no default implementation?I want to make a <code>dict</code> that does two things:<code>intern()</code> all keys and valuesstore some of the values in an SQLite databaseSo which of <code>UserDict</code>, <code>dict</code> and <code>ABC</code> would best allow me to do this?", "simquery2_answer": "upon loading the Root View Controller a Managed Object called Target should be created using the convenience method:<code>- (void)viewDidLoad {\n    [super viewDidLoad];    if (context == nil) { \n       context = [(MyAppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext];\n    }    if ([fetchedResultsController.fetchedObjects count] &lt; 1) {\n       Target *aTarget = (Target *)[NSEntityDescription insertNewObjectForEntityForName:@\"Target\" inManagedObjectContext:context]; \n    }    NSError *error; \n    if (![[self fetchedResultsController] performFetch:&amp;error]) {\n       // Update to handle the error appropriately.\n       NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n    }     if(![context save:&amp;error]){  \n       //Handle error.\n     } ...\n</code>If I run the App on my iPhone from Xcode it works all fine. However, if I stop the test run and restart the App on the iPhone a new Managed Object is created even though the condition<code>[fetchedResultsController.fetchedObjects count] &lt; 1) \n</code>does not seem to be satisfied (in the end it is, I just don't know why). Once the App runs on the Phone independent of Xcode I can close and restart it without increasing the number of Managed Objects created. Only the first time after disconnecting it from Xcode.\nRemark: The disconnection from Xcode causes the Segmentation fault: 11 error which also appears when I disconnect another Core Data App from Xcode. So I wouldn't attribute this error to my problem.\nAny ideas how to prevent the App from creating this additional object? Would you need more code to figure out the issue? Thanks a lot.\n", "total_len": 437, "s1_total_len": 1762, "s2_total_len": 648}
{"post_id": "5137497", "title": "Find the current directory and file's directory", "query": "How do I determine:the current directory (where I was in the shell when I ran the Python script), andwhere the Python file I am executing is?", "acce_answer": "You may want <code>\\Sexpr{R expression}</code>; for example, this Sweave snippet<code>&lt;&lt;echo=FALSE&gt;&gt;=\nz &lt;- exp(pi)\n@\\begin{tabular}{cc}\n  a &amp; \\Sexpr{z} \\\\\n  b &amp; \\Sexpr{round(z,3)}  \\\\\n\\end{tabular}\n</code>becomes this when Sweaved (Swoven?)<code>\\begin{tabular}{cc}\n  a &amp; 23.1406926327793 \\\\\n  b &amp; 23.141  \\\\\n\\end{tabular}\n</code>\n", "acce_score": "2902", "simquery1_title": "Get absolute paths of all files in a directory How do I get the absolute paths of all the files in a directory that could have many sub-folders in Python?I know <code>os.walk()</code> recursively gives me a list of directories and files, but that doesn't seem to get me what I want. ", "simquery1_answer": "Answering your question:\n  Are booleans mutable in python?\nYes and no.  Variables that are assigned a boolean value are (probably always, and definitely in this case) mutable, yes.  They're also not restricted to being assigned boolean values, as variables are not staticly typed.But the booleans <code>True</code> and <code>False</code> themselves are not mutable.  They are singletons that cannot be modified.Looking at your actual code:<code>if success = 1:\n</code>Is not valid syntax, you want a <code>==</code> there.  Also, idiomatically speaking you should not use <code>0</code> and <code>1</code> for success and failure values you should use <code>True</code> and <code>False</code>.  So you should refactor to something like this:<code>def update(request):\n    success = False    try:\n        product = Mattress.objects.get(id=id)\n        success = True\n    except Mattress.DoesNotExist:\n        pass    if success:\n        return render_to_response(\"success.html\")\n    else:\n        return render_to_response('failure.html')\n</code>\n", "simquery2_title": "How do I get the parent directory in Python? Could someone tell me how to get the parent directory of a path in Python in a cross platform way. E.g.<code>C:\\Program Files ---&gt; C:\\</code>and<code>C:\\ ---&gt; C:\\</code>If the directory doesn't have a parent directory, it returns the directory itself. The question might seem simple but I couldn't dig it up through Google.", "simquery2_answer": "This is a bit tricky if you want to handle the case where the escape character is the last character of a field correctly.  Here's one way:<code># Process escapes to hide the following character:\n$edi =~ s/\\Q$escape\\E(.)/sprintf '%s%d%s', $escape, ord $1, $escape/esg;my @split = split( /\\Q$delim\\E/, $edi);# Convert escape sequences into the escaped character:\ns/\\Q$escape\\E(\\d+)\\Q$escape\\E/chr $1/eg for @split;\n</code>Note that this assumes that neither the escape char nor the delimiter will be a digit, but it does support the full range of Unicode characters.\n", "total_len": 215, "s1_total_len": 365, "s2_total_len": 269}
{"post_id": "5142418", "title": "What is the use of \"assert\" in Python?", "query": "What does <code>assert</code> mean? How is it used?", "acce_answer": "Would it be possible to have a TogglerBar instead of the 2 Check Box to show or not the different Shapes. With Green &amp; Red written in each Button of the TogglerBar ?  <code>Manipulate[\nGraphics[{If[thePink, {Pink, Disk[{5, 5}, 3]}], \nIf[theGreen, {Green, Disk[{15, 2}, 1]}]}, \nPlotRange -&gt; {{0, 20}, {0, 10}}], {{thePink, True, \nStyle[\"Pink\", Black, Bold, 12]}, {True, False}}, {{theGreen, True, \nStyle[\"Green\", Black, Bold, 12]}, {True, False}}]\n</code>The actual Manipulate object I am trying to adjust can be found there : http://www.laeh500.com/LAEH/COG.html\nThe purpose being to replace the CheckBox by a nice TogglerBar.\n", "acce_score": "1421", "simquery1_title": "Making Python's `assert` throw an exception that I choose Can I make <code>assert</code> throw an exception that I choose instead of <code>AssertionError</code>?UPDATE:I'll explain my motivation: Up to now, I've had assertion-style tests that raised my own exceptions; For example, when you created a <code>Node</code> object with certain arguments, it would check if the arguments were good for creating a node, and if not it would raise <code>NodeError</code>.But I know that Python has a <code>-o</code> mode in which asserts are skipped, which I would like to have available because it would make my program faster. But I would still like to have my own  exceptions. That's why I want to use assert with my own exceptions.", "simquery1_answer": "As far as I understand, the instrumented classes are only needed by cobertura for report generation. If you create them in <code>target/classes</code>, they will overwrite the original class files.If you need the instrumented files in a jar as a result, you can configure the <code>maven-jar-plugin</code> to pick up the files from the <code>target/generated-classes</code> directory instead of or in addition to the files from the standard <code>${build.project.outputDirectory}</code>.EditHave a look at the maven-jar-plugin description. To only use <code>target/generated-classes</code>, the following addition to your POM should work - try it and modify it to your needs:<code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt; &lt;!-- replace with correct version nbr! --&gt;\n        &lt;configuration&gt;\n          &lt;includes&gt;\n            &lt;include&gt;${project.build.directory}/generated-classes/**/*.class&lt;/include&gt;\n          &lt;/includes&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;${project.build.directory}/classes/**/*.class&lt;/include&gt;\n          &lt;/excludes&gt;        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      ...\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code><code>${project.build.directory}</code> points to your target folder, <code>${project.build.ouputDirectory}</code> to target/classes. I do not know if you can simply set <code>${project.build.ouputDirectory}</code> to a new value - have a look at the this chapter of the maven book, maybe you find some hintsEdit 2Alternativly or additionally you can use maven to copy the files from target/generated-classes to target/classes after <code>coberture:instrument</code> has finished. This question has one answer with an example POM (fragment), you just have to identify the correct phase (process-resources is definitely too early for your case)\n", "simquery2_title": "assertEquals vs. assertEqual in python Is there a difference between <code>assertEquals</code> and <code>assertEqual</code> in the python <code>unittest.TestCase</code>?And if there is not, why are there two functions? Only for convenience? ", "simquery2_answer": "I want to know the size occupied by a JavaScript object.Take the following function:<code>function Marks(){\n  this.maxMarks = 100;\n}function Student(){\n  this.firstName = \"firstName\";\n  this.lastName = \"lastName\";\n  this.marks = new Marks();\n}\n</code>Now I instantiate the <code>student</code>:<code>var stud = new Student();\n</code>so that I can do stuff like<code>stud.firstName = \"new Firstname\";alert(stud.firstName);stud.marks.maxMarks = 200;\n</code>etc.Now, the <code>stud</code> object will occupy some size in memory. It has some data and more objects.How do I find out how much memory the <code>stud</code> object occupies? Something like a <code>sizeof()</code> in JavaScript? It would be really awesome if I could find it out in a single function call like <code>sizeof(stud)</code>.I\u2019ve been searching the Internet for months\u2014couldn\u2019t find it (asked in a couple of forums\u2014no replies).\n", "total_len": 273, "s1_total_len": 797, "s2_total_len": 335}
{"post_id": "5178292", "title": "pip install mysql-python fails with EnvironmentError: mysql_config not found", "query": "This is the error I get<code>(mysite)zjm1126@zjm1126-G41MT-S2:~/zjm_test/mysite$ pip install mysql-pythonDownloading/unpacking mysql-python  Downloading MySQL-python-1.2.3.tar.gz (70Kb): 70Kb downloaded  Running setup.py egg_info for package mysql-python    sh: mysql_config: not found    Traceback (most recent call last):      File \"&lt;string&gt;\", line 14, in &lt;module&gt;      File \"/home/zjm1126/zjm_test/mysite/build/mysql-python/setup.py\", line 15, in &lt;module&gt;        metadata, options = get_config()      File \"setup_posix.py\", line 43, in get_config        libs = mysql_config(\"libs_r\")      File \"setup_posix.py\", line 24, in mysql_config        raise EnvironmentError(\"%s not found\" % (mysql_config.path,))    EnvironmentError: mysql_config not found    Complete output from command python setup.py egg_info:    sh: mysql_config: not foundTraceback (most recent call last):  File \"&lt;string&gt;\", line 14, in &lt;module&gt;  File \"/home/zjm1126/zjm_test/mysite/build/mysql-python/setup.py\", line 15, in &lt;module&gt;    metadata, options = get_config()  File \"setup_posix.py\", line 43, in get_config    libs = mysql_config(\"libs_r\")  File \"setup_posix.py\", line 24, in mysql_config    raise EnvironmentError(\"%s not found\" % (mysql_config.path,))EnvironmentError: mysql_config not found----------------------------------------Command python setup.py egg_info failed with error code 1Storing complete log in /home/zjm1126/.pip/pip.log(mysite)zjm1126@zjm1126-G41MT-S2:~/zjm_test/mysite$ pip install mysql-pythonDownloading/unpacking mysql-python  Running setup.py egg_info for package mysql-python    sh: mysql_config: not found    Traceback (most recent call last):      File \"&lt;string&gt;\", line 14, in &lt;module&gt;      File \"/home/zjm1126/zjm_test/mysite/build/mysql-python/setup.py\", line 15, in &lt;module&gt;        metadata, options = get_config()      File \"setup_posix.py\", line 43, in get_config        libs = mysql_config(\"libs_r\")      File \"setup_posix.py\", line 24, in mysql_config        raise EnvironmentError(\"%s not found\" % (mysql_config.path,))    EnvironmentError: mysql_config not found    Complete output from command python setup.py egg_info:    sh: mysql_config: not foundTraceback (most recent call last):  File \"&lt;string&gt;\", line 14, in &lt;module&gt;  File \"/home/zjm1126/zjm_test/mysite/build/mysql-python/setup.py\", line 15, in &lt;module&gt;    metadata, options = get_config()  File \"setup_posix.py\", line 43, in get_config    libs = mysql_config(\"libs_r\")  File \"setup_posix.py\", line 24, in mysql_config    raise EnvironmentError(\"%s not found\" % (mysql_config.path,))EnvironmentError: mysql_config not found----------------------------------------Command python setup.py egg_info failed with error code 1Storing complete log in /home/zjm1126/.pip/pip.log</code>What can I do to resolve this?", "acce_answer": "You can convert your image into byte array and store that bytearray in blob filed in database. You can retrieve your image back from database as byte array.How to get byte array from imageview:<code>ImageView iv = (ImageView) findViewById(R.id.splashImageView);\nDrawable d = iv.getBackground();\nBitmapDrawable bitDw = ((BitmapDrawable) d);\nBitmap bitmap = bitDw.getBitmap();\nSystem.out.println(\".....d.....\"+d);\nSystem.out.println(\"...bitDw....\"+bitDw);\nSystem.out.println(\"....bitmap....\"+bitmap);\nByteArrayOutputStream stream = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\nbyte[] imageInByte = stream.toByteArray();\n</code>Store byte array in database:<code>ContentValues cv = new ContentValues();\ncv.put(CHUNK, buffer); //CHUNK blob type field of your table\nlong rawId = database.insert(TABLE, null, cv); //TABLE table name\n</code>Retrieve image from byte array:<code>public static Bitmap convertByteArrayToBitmap(\n    byte[] byteArrayToBeCOnvertedIntoBitMap)\n{\n    bitMapImage = BitmapFactory.decodeByteArray(\n        byteArrayToBeCOnvertedIntoBitMap, 0,\n        byteArrayToBeCOnvertedIntoBitMap.length);\n    return bitMapImage;\n}\n</code>\n", "acce_score": "940", "simquery1_title": "\"Could not run curl-config: [Errno 2] No such file or directory\" when installing pycurl I'm trying to install pycurl via:<code>sudo pip install pycurl</code>It downloaded fine, but when when it runs setup.py I get the following traceback:<code>Downloading/unpacking pycurl  Running setup.py egg_info for package pycurl    Traceback (most recent call last):      File \"&lt;string&gt;\", line 16, in &lt;module&gt;      File \"/tmp/pip-build-root/pycurl/setup.py\", line 563, in &lt;module&gt;        ext = get_extension()      File \"/tmp/pip-build-root/pycurl/setup.py\", line 368, in get_extension        ext_config = ExtensionConfiguration()      File \"/tmp/pip-build-root/pycurl/setup.py\", line 65, in __init__        self.configure()      File \"/tmp/pip-build-root/pycurl/setup.py\", line 100, in configure_unix        raise ConfigurationError(msg)    __main__.ConfigurationError: Could not run curl-config: [Errno 2] No such file or directory    Complete output from command python setup.py egg_info:    Traceback (most recent call last):  File \"&lt;string&gt;\", line 16, in &lt;module&gt;  File \"/tmp/pip-build-root/pycurl/setup.py\", line 563, in &lt;module&gt;    ext = get_extension()  File \"/tmp/pip-build-root/pycurl/setup.py\", line 368, in get_extension    ext_config = ExtensionConfiguration()  File \"/tmp/pip-build-root/pycurl/setup.py\", line 65, in __init__    self.configure()  File \"/tmp/pip-build-root/pycurl/setup.py\", line 100, in configure_unix    raise ConfigurationError(msg)__main__.ConfigurationError: Could not run curl-config: [Errno 2] No such file or directory</code>Any idea why this is happening and how to get around it ", "simquery1_answer": "Lets consider an example of blog site where I want to save questions and replies in two different documents. I know this can also be done with <code>Embedding</code> documents but lets assume we want two different documents. And I have <code>Like</code> option on both question and reply. If user likes a question that particular <code>question's objectID</code> is stored inside a <code>Like</code> document and similarly for likes in reply. Now I wonder whether the <code>objectID's</code> that I store in <code>Like</code> documents could create a conflict. Like if the <code>question's objectid</code> is <code>same</code> as any <code>reply's objectid</code>. IS it possible to have such conflicts?? In Mongodb <code>ObjectID</code> documentation the following is provided:\n  ObjectId is a 12-byte BSON type, constructed using:\n  \n  a 4-byte value representing the seconds since the Unix epoch,\n  \n  a 3-bytemachine identifier,\n  \n  a 2-byte process id, and\n  \n  a 3-byte counter, starting with a random value.", "simquery2_title": "How to find pg_config path Complete newbie here, trying to set up Django to work with PostgreSQL.I'm using mac osx 10.6.8.  I have also installed PostgreSQL 9.3When I run <code>pip install psycopg2</code> in terminal I get the following error<code>Downloading/unpacking psycopg2  Downloading psycopg2-2.5.2.tar.gz (685kB): 685kB downloaded  Running setup.py (path:/private/var/folders/A9/A99cs6x0FNusPejCVkYNTE+++TI/-Tmp-/pip_build_bengorman/psycopg2/setup.py) egg_info for package psycopg2    Error: pg_config executable not found.    Please add the directory containing pg_config to the PATH    or specify the full executable path with the option:        python setup.py build_ext --pg-config /path/to/pg_config build ...    or with the pg_config option in 'setup.cfg'.    Complete output from command python setup.py egg_info:    running egg_infocreating pip-egg-info/psycopg2.egg-infowriting pip-egg-info/psycopg2.egg-info/PKG-INFOwriting top-level names to pip-egg-info/psycopg2.egg-info/top_level.txtwriting dependency_links to pip-egg-info/psycopg2.egg-info/dependency_links.txtwriting manifest file 'pip-egg-info/psycopg2.egg-info/SOURCES.txt'warning: manifest_maker: standard file '-c' not foundError: pg_config executable not found.Please add the directory containing pg_config to the PATHor specify the full executable path with the option:    python setup.py build_ext --pg-config /path/to/pg_config build ...or with the pg_config option in 'setup.cfg'.</code>I've seen a number of posts on this how-to-install-psycopg2-with-pip-on-python pg-config-executable-not-found but I have no clue how to find the bin folder location containing pg_config.  Any tips on finding this path?", "simquery2_answer": "I would like to be able to quickly instantiate a matrix where the first few (variable number of) cells in a row are 0, and the rest are ones.Imagine we want a 3x4 matrix.I have instantiated the matrix first as all ones:<code>ones = np.ones([4,3])\n</code>Then imagine we have an array that announces how many leading zeros there are:<code>arr = np.array([2,1,3,0]) # first row has 2 zeroes, second row 1 zero, etc\n</code>Required result:<code>array([[0, 0, 1],\n       [0, 1, 1],\n       [0, 0, 0],\n       [1, 1, 1]])\n</code>Obviously this can be done in the opposite way as well, but I'd consider the approach where 1 is a default value, and zeros would be replaced.What would be the best way to avoid some silly loop?\n", "total_len": 1323, "s1_total_len": 802, "s2_total_len": 784}
{"post_id": "5214578", "title": "Print string to text file", "query": "I'm using Python to open a text document:<code>text_file = open(\"Output.txt\", \"w\")text_file.write(\"Purchase Amount: \" 'TotalAmount')text_file.close()</code>I want to substitute the value of a string variable <code>TotalAmount</code> into the text document. Can someone please let me know how to do this?", "acce_answer": "I've got an event handler which receives an eventargs object inside which is an enumerated value that further refines the information inside. It looks something like<code>public enum StatusCallbackType { Status1, Status2, Status3, Status4 }public class StatusEventArgs\n{\n  public StatusCallbackType Type {get;set;}\n  public StatusData Data {get; set;}\n}\n</code>Statusdata is a base abstract class that changes depending on the given CalllbackType.Now the code that handles the event looks similar to<code>switch e.Type\n{\n  case Status1:\n    DoAction1(e.Data as Opt1Data);\n    break;\n  case Status2:\n    DoAction1(e.Data as Opt2Data);\n    break;\n  case Status3:\n    DoAction1(e.Data as Opt3Data);\n    break;\n}\n</code>The problem is if we change the StatusNotifications or want to change the way they're handled we have to adjust the switch which could get really big, and I was thinking about using something that allowed me to inject a handler for any given status.On the other hand I don't really need it right now. The switch solutions works, but it's starting to get big so I'm fighting between my feeling that it is not maintanble and YAGNI.Is there any pattern that allows to convert that kind of switches to and IOC pattern? Do you think I should actually bother refactoring that switch?\n", "acce_score": "883", "simquery1_title": "Confused by python file mode \"w+\" From the doc,   Modes 'r+', 'w+' and 'a+' open the file for updating (note that 'w+' truncates the file). Append 'b' to the mode to open the file in binary mode, on systems that differentiate between binary and text files; on systems that don\u2019t have this distinction, adding the 'b' has no effect.and here  w+ :  Opens a file for both writing and reading. Overwrites the existing file if the file exists. If the file does not exist, creates a new file for reading and writing.But, how to read a file open with <code>w+</code>? ", "simquery1_answer": "I would prefer to use the stateless version of translator, but I would prefer a state-full version of translated.  The reason is, if you get rid of state then you can often get rid of an entire class of synchronization bugs while moving some of the important information closer to where it is actually used.  Imagine, for example, if the two language variables were part of a 1000 line class.  Would you want to look up how they are set every time they are used?The reason I like state for translated is whereas a general translator can exist without knowing what languages it is going to be used for, if you lose what languages are used in a translated, you don't know as well what to do with it anymore (similar to losing your units in a math problem).For the stateful option, a version I like better is, instead of:<code>   ...\n   private String oldLanguage;\n   private String newLanguage;\n</code>use:<code>   ...\n   private final String oldLanguage;\n   private final String newLanguage;\n</code>... and instead of something like:<code>   myTranslator.setLanguages(\"spanish\", \"english\")\n   Translated myTranslated = myTranslator.translate(original)\n</code>you can use:<code>   Translator spanishEnglish = new Translator(\"spanish\", \"english\")\n   Translated myTranslated = spanishEnglish.translate(original)\n</code>\n", "simquery2_title": "Capture stdout from a script? suppose there is a script doing something like this:<code># module writer.pyimport sysdef write():    sys.stdout.write(\"foobar\")</code>Now suppose I want to capture the output of the <code>write</code> function and store it in a variable for further processing. The naive solution was:<code># module mymodule.pyfrom writer import writeout = write()print out.upper()</code>But this doesn't work. I come up with another solution and it works, but please, let me know if there is a better way to solve the problem. Thanks<code>import sysfrom cStringIO import StringIO# setup the environmentbackup = sys.stdout# ####sys.stdout = StringIO()     # capture outputwrite()out = sys.stdout.getvalue() # release output# ####sys.stdout.close()  # close the stream sys.stdout = backup # restore original stdoutprint out.upper()   # post processing</code>", "simquery2_answer": "\nThe limitation is that once you use <code>MessageContract</code> for request description you have to use it for response as well and vice-versa. The only exception are operations returning void or accepting no parameters.\nWCF uses <code>DataContractSerializer</code> by default but you can switch it to <code>XmlSerializer</code> by marking contract, service or operation with <code>XmlSerailazerFormat</code> attribute. In such case serialization will ignore <code>DataContract</code> / <code>DataMember</code> attributes and start to use common Xml serialization attributes (including <code>XmlRoot</code>). What is most important is that <code>MessageContract</code> is not related to used serializer - it can be used with both <code>DataContract</code> and Xml serialization.\nI would pass the collection nested in other element. I'm not sure how if it is possible to pass unwrapped collection directly into soap:Body because it should be represented as multiple body elements which are handled separately by <code>MessageContract</code> - each is marked with <code>MessageBodyMember</code> attribute.", "total_len": 430, "s1_total_len": 489, "s2_total_len": 479}
{"post_id": "5226311", "title": "Installing specific package version with pip", "query": "I am trying to install version 1.2.2 of <code>MySQL_python</code>, using a fresh virtualenv created with the <code>--no-site-packages</code> option. The current version shown in PyPi is 1.2.3. Is there a way to install the older version? I have tried:<code>pip install MySQL_python==1.2.2</code>However, when installed, it still shows <code>MySQL_python-1.2.3-py2.6.egg-info</code> in the site packages. Is this a problem specific to this package, or am I doing something wrong?", "acce_answer": "I'm building a shared library with <code>GCC 4.5.2</code> and <code>Boost 1.46.1</code> (compiled with <code>--build-type=complete</code>) and this is a command from Makefile which does the linkage part:<code>$(CXX) -static -lboost_filesystem -fpic -shared $^ -o $@\n</code>Everything compiles fine but I get the following error when it gets loaded by application:<code>plugins/crashdetect.so: undefined symbol: _ZN5boost11filesystem34path21wchar_t_codecvt_facetEv\n</code><code>ldd</code>outputs:<code>linux-gate.so.1 =&gt;  (0x002f8000)\nlibstdc++.so.6 =&gt; /usr/lib/i386-linux-gnu/libstdc++.so.6 (0x00bf5000)\nlibm.so.6 =&gt; /lib/i386-linux-gnu/libm.so.6 (0x0032d000)\nlibc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0x00506000)\n/lib/ld-linux.so.2 (0x006f6000)\nlibgcc_s.so.1 =&gt; /lib/i386-linux-gnu/libgcc_s.so.1 (0x00110000)\n</code>I beleive this means that it linked Boost statically. This is what <code>nm crashdetect.so -u | grep boost</code> says:<code> U _ZN5boost11filesystem34path21wchar_t_codecvt_facetEv\n U _ZN5boost11filesystem36detail13dir_itr_closeERPvS3_\n U _ZN5boost11filesystem36detail28directory_iterator_constructERNS0_18directory_iteratorERKNS0_4pathEPNS_6system10error_codeE\n U _ZN5boost11filesystem36detail28directory_iterator_incrementERNS0_18directory_iteratorEPNS_6system10error_codeE\n U _ZN5boost11filesystem36detail6statusERKNS0_4pathEPNS_6system10error_codeE\n U _ZN5boost6system15system_categoryEv\n U _ZN5boost6system16generic_categoryEv\n U _ZNK5boost11filesystem315directory_entry12m_get_statusEPNS_6system10error_codeE\n</code>So I think since that symbol goes first in this list then most likely there's nothing special about it.Am I missing something?EDIT:\nSo is this impossible or what?\n", "acce_score": "1881", "simquery1_title": "How can I rewrite python __version__ with git? I would like to define a <code>__version__</code> variable in my module which should be automatically updated on git commit similarly to what SVN keywords do. Is there a way to achieve it in Git? Does anyone have a working example?I considered using GitPython, but I would not like to introduce another dependency and I want users who download the module from SVN repo or as a zip package to have the same versioning scheme (I do not care that is some illegible hash).Edit: My particular problem is that I have to run simulations whose result depend on the exact version of the simulation script. Therefore each time I have to store version number together with the simulation results. If both run out of sync, it may have very dire outcomes.", "simquery1_answer": "How do I position this ViewController over the detail view modally? I want it to be right aligned so you can see the navigation portion greyed out.<code>[self.window addSubview:self.splitViewController.view];\nMyModalViewController *modalvc= [MyModalViewController new]; //brevity\nmodalvc.modalInPopover = YES;\nmodalvc.modalPresentationStyle = UIModalPresentationStylePageSheet;\nmodalvc.view.autoresizeMask = UIViewAutoresizeFlexibleRightMargin;\n[self.splitViewController presentModalView:modalvc animated:NO];\n[self.window makeKeyAndVisible];\n</code>I also checked in MyModalViewController if im setting the views mask and I am not, nor is it getting magic values from a Nib.  Adjusting the frame before the present (using modalvc.view.frame) does nothing.Adjusting the frame after the present seems to yield crazy results, and I only really need it to be half a width over in landscape... portrait is normal behavior.edit\nthe picture confused people so I took it out, I dont want the modal view to be the size of the screen, I want to keep it UIModalPresentationStylePageSheet but have its ORIGIN moved right so that it covers the detail view portion in landscape\n", "simquery2_title": "Installing specific package version with pip I am trying to install version 1.2.2 of <code>MySQL_python</code>, using a fresh virtualenv created with the <code>--no-site-packages</code> option. The current version shown in PyPi is 1.2.3. Is there a way to install the older version? I have tried:<code>pip install MySQL_python==1.2.2</code>However, when installed, it still shows <code>MySQL_python-1.2.3-py2.6.egg-info</code> in the site packages. Is this a problem specific to this package, or am I doing something wrong?", "simquery2_answer": "I'm building a shared library with <code>GCC 4.5.2</code> and <code>Boost 1.46.1</code> (compiled with <code>--build-type=complete</code>) and this is a command from Makefile which does the linkage part:<code>$(CXX) -static -lboost_filesystem -fpic -shared $^ -o $@\n</code>Everything compiles fine but I get the following error when it gets loaded by application:<code>plugins/crashdetect.so: undefined symbol: _ZN5boost11filesystem34path21wchar_t_codecvt_facetEv\n</code><code>ldd</code>outputs:<code>linux-gate.so.1 =&gt;  (0x002f8000)\nlibstdc++.so.6 =&gt; /usr/lib/i386-linux-gnu/libstdc++.so.6 (0x00bf5000)\nlibm.so.6 =&gt; /lib/i386-linux-gnu/libm.so.6 (0x0032d000)\nlibc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0x00506000)\n/lib/ld-linux.so.2 (0x006f6000)\nlibgcc_s.so.1 =&gt; /lib/i386-linux-gnu/libgcc_s.so.1 (0x00110000)\n</code>I beleive this means that it linked Boost statically. This is what <code>nm crashdetect.so -u | grep boost</code> says:<code> U _ZN5boost11filesystem34path21wchar_t_codecvt_facetEv\n U _ZN5boost11filesystem36detail13dir_itr_closeERPvS3_\n U _ZN5boost11filesystem36detail28directory_iterator_constructERNS0_18directory_iteratorERKNS0_4pathEPNS_6system10error_codeE\n U _ZN5boost11filesystem36detail28directory_iterator_incrementERNS0_18directory_iteratorEPNS_6system10error_codeE\n U _ZN5boost11filesystem36detail6statusERKNS0_4pathEPNS_6system10error_codeE\n U _ZN5boost6system15system_categoryEv\n U _ZN5boost6system16generic_categoryEv\n U _ZNK5boost11filesystem315directory_entry12m_get_statusEPNS_6system10error_codeE\n</code>So I think since that symbol goes first in this list then most likely there's nothing special about it.Am I missing something?EDIT:\nSo is this impossible or what?\n", "total_len": 887, "s1_total_len": 459, "s2_total_len": 885}
{"post_id": "5364050", "title": "Reloading submodules in IPython", "query": "Currently I am working on a python project that contains sub modules and uses numpy/scipy. Ipython is used as interactive console. Unfortunately I am not very happy with workflow that I am using right now, I would appreciate some advice.In IPython, the framework is loaded by a simple <code>import</code> command. However, it is often necessary to change code in one of the submodules of the framework. At this point a model is already loaded and I use IPython to interact with it. Now, the framework contains many modules that depend on each other, i.e. when the framework is initially loaded the main module is importing and configuring the submodules.  The changes to the code are only executed if the module is reloaded using <code>reload(main_mod.sub_mod)</code>. This is cumbersome as I need to reload all changed modules individually using the full path. It would be very convenient if <code>reload(main_module)</code> would also reload all sub modules, but without reloading numpy/scipy..", "acce_answer": "Remember \nThe least common multiple is the least whole number that is a multiple of each of two or more numbers.If you are trying to figure out the LCM of three integers, follow these steps:<code>  **Find the LCM of 19, 21, and 42.**\n</code>Write the prime factorization for each number. 19 is a prime number. You do not need to factor 19.<code>21 = 3 \u00d7 7\n42 = 2 \u00d7 3 \u00d7 7\n19\n</code>Repeat each prime factor the greatest number of times it appears in any of the prime factorizations above.2 \u00d7 3 \u00d7 7 \u00d7 19 = 798The least common multiple of 21, 42, and 19 is 798.\n", "acce_score": "530", "simquery1_title": "Reloading submodules in IPython Currently I am working on a python project that contains sub modules and uses numpy/scipy. Ipython is used as interactive console. Unfortunately I am not very happy with workflow that I am using right now, I would appreciate some advice.In IPython, the framework is loaded by a simple <code>import</code> command. However, it is often necessary to change code in one of the submodules of the framework. At this point a model is already loaded and I use IPython to interact with it. Now, the framework contains many modules that depend on each other, i.e. when the framework is initially loaded the main module is importing and configuring the submodules.  The changes to the code are only executed if the module is reloaded using <code>reload(main_mod.sub_mod)</code>. This is cumbersome as I need to reload all changed modules individually using the full path. It would be very convenient if <code>reload(main_module)</code> would also reload all sub modules, but without reloading numpy/scipy..", "simquery1_answer": "Remember \nThe least common multiple is the least whole number that is a multiple of each of two or more numbers.If you are trying to figure out the LCM of three integers, follow these steps:<code>  **Find the LCM of 19, 21, and 42.**\n</code>Write the prime factorization for each number. 19 is a prime number. You do not need to factor 19.<code>21 = 3 \u00d7 7\n42 = 2 \u00d7 3 \u00d7 7\n19\n</code>Repeat each prime factor the greatest number of times it appears in any of the prime factorizations above.2 \u00d7 3 \u00d7 7 \u00d7 19 = 798The least common multiple of 21, 42, and 19 is 798.\n", "simquery2_title": "How can I access the current executing module or class name in Python? I would like to be able to dynamically retrieve the current executing module or class name from within an imported module.  Here is some code:foo.py:<code>def f():    print __name__</code>bar.py:<code>from foo import fdef b(): f()</code>This obviously does not work as <code>__name__</code> is the name of the module that contains the function.  What I would like to be access inside the <code>foo</code> module is the name of the current executing module that is using <code>foo</code>.  So in the case above it would be <code>bar</code> but if any other module imported <code>foo</code> I would like <code>foo</code> to dynamically have access to the name of that module.Edit: The <code>inspect</code> module looks quite promising but it is not exactly what I was looking for.  What I was hoping for was some sort of global or environment-level variable that I could access that would contain the name of the current executing module.  Not that I am unwilling to traverse the stack to find that information - I just thought that Python may have exposed that data already.Edit: Here is how I am trying to use this.  I have two different Django applications that both need to log errors to file.  Lets say that they are called \"AppOne\" and \"AppTwo\".  I also have a place to which I would like to log these files: \"<code>/home/hare/app_logs</code>\".  In each application at any given point I would like to be able to import my logger module and call the log function which writes the log string to file.  However what I would like to do is create a directory under <code>app_logs</code> that is the name of the current application (\"AppOne\" or \"AppTwo\") so that each application's log files will go in their respective logging directories.In order to do this I thought that the best way would be for the logger module to have access to some sort of global variable that denotes the current application's name as it is responsible for knowing the location of the parent logging directory and creating the application's logging directory if it does not yet exist.", "simquery2_answer": "Broken pipe usually doesn't come deterministically. You get a Broken pipe if a write operation on a pipe or socket fails because the other end has closed the connection. So if your FastCGI gets a Broken pipe, it means that the webserver has closed to connection too early. In some cases this is not an problem, it can be ignored silently.As a quick hack, try to catch and ignore the <code>socket.error</code> with <code>Broken pipe</code>. You may have to add an <code>except:</code> clause to many more places.\n", "total_len": 426, "s1_total_len": 424, "s2_total_len": 635}
{"post_id": "5466451", "title": "How do I escape curly-brace ({}) characters in a string while using .format (or an f-string)?", "query": "Non-working example:<code>print(&quot; \\{ Hello \\} {0} &quot;.format(42))</code>Desired output:<code> {Hello} 42 </code>", "acce_answer": "Like @David, I did not believe @Andreas's answer at first.  So I tested it myself as follows.  I created the following function:<code>Function Watch(Val, Optional CalledFrom As String = \"\")\n    Debug.Print Val, CalledFrom\n    Watch = Val\nEnd Function\n</code>Then I created a table named \"Dummy\" with a single field named \"ID\".  I created a form and used the following as the form's RecordSource:<code>SELECT Watch([ID],\"ShowInForm\") AS ShowInForm, \n       Watch([ID],\"HideFromForm\") AS HideFromForm \nFROM Dummy;\n</code>I added a single textbox control with a ControlSource of <code>ShowInForm</code>.I then opened the form and got this in the immediate window:<code> 1            ShowInForm\n 1            ShowInForm\n 1            ShowInForm\n</code>I then went back to the RecordSource and previewed it in Datasheet view and got this:<code> 1            ShowInForm\n 1            HideFromForm\n</code>I'm not sure why the \"ShowInForm\" expression is evaluated three times in the form, but it seems pretty clear that the unused field, \"HideFromForm\", does not get evaluated.To address @HansUp's comment, I went back and saved a query named \"Qry\":<code>SELECT Watch([ID],\"ShowInForm\") AS ShowInForm, \n       Watch([ID],\"HideFromForm\") AS HideFromForm\nFROM Dummy;\n</code>Then changed the form RecordSource to:<code>Select ShowInForm FROM Qry\n</code>This produced the same result as before when I opened the form (ie, 3 lines of <code>1   ShowInForm</code>).  Interestingly, when I opened the RecordSource in datasheet view I got this:<code> 1            ShowInForm\n 1            ShowInForm\n</code>In other words, it evaluated the ShowInForm field twice.  Presumably, once in \"Qry\" and again in the RecordSource query.The end result is still a confirmation of @Andreas's answer.\n", "acce_score": "2372", "simquery1_title": "How can I print a single backslash? When I write <code>print('\\')</code> or <code>print(&quot;\\&quot;)</code> or <code>print(&quot;'\\'&quot;)</code>, Python doesn't print the backslash <code>\\</code> symbol. Instead it errors for the first two and prints <code>''</code> for the third. What should I do to print a backslash?This question is about producing a string that has a single backslash in it. This is particularly tricky because it cannot be done with raw strings. For the related question about why such a string is represented with two backslashes, see Why do backslashes appear twice?. For including literal backslashes in other strings, see using backslash in python (not to escape).", "simquery1_answer": "I have a table that looks similar to this here:<code>id  Continent       Country    State        Area                    Sub Area                   City77  North America   USA     California  California Desert                                           Ridgecrest\n78  North America   USA     California  California Desert                                           Thousand Palms\n79  North America   USA     California  California Desert                                           Yucca Valley\n80  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Agate Bay\n82  North America   USA     California  California Desert                                           Yucca Valley\n83  North America   USA     California  Lake Tahoe Area         Lake Tahoe North Shore              Alpine Meadows\n185 North America   USA     California  Lake Tahoe Area                                             Twin Bridges\n188 North America   USA     California  Central Coast California    Santa Cruz County               Aptos\n189 North America   USA     California  Central Coast California    Santa Cruz County               Ben Lomond\n</code>I am trying to request data such way that if I search for \"California\"(State) then only the name of area (next column) and not sub area or cities. Same ways if searched for 'California Desert'(Area) sub Area should show.. (PS at some place I don't have sub areas so it should display sub area where ever applicable if one doesnt have it, move to next which is city)<code>if($result = $con-&gt;query(\"SELECT * FROM MasterData WHERE state LIKE '%\".$_POST['search'].\"%' OR city LIKE '%\".$_POST['search'].\"%'\")){\nif($count = $result-&gt;num_rows) {while($rows = $result-&gt;fetch_object()) {\necho $rows-&gt;city, '&lt;/br&gt;';\n    }\n$result-&gt;free();\n}\n</code>\n", "simquery2_title": "Understanding repr( ) function in Python <code>repr()</code>: evaluatable string representation of an object (can \"eval()\"it, meaning it is a string representation that evaluates to a Pythonobject)In other words:<code>&gt;&gt;&gt; x = 'foo'&gt;&gt;&gt; repr(x)\"'foo'\"</code>Questions:Why do I get the double quotes  when I do <code>repr(x)</code>? (I don't get themwhen I do <code>str(x)</code>)Why do I get <code>'foo'</code> when I do <code>eval(\"'foo'\")</code> and not x which is theobject?", "simquery2_answer": "I have a dropdown box which is populated from a mysql table. When viewing the box, the order of the options is the same as in the table e.g. a,b,c,dI have a variable, and would like the dropdown box to be preset to that variable.FOr example, if the variable was C, the dropdown box would automatically have C selected. The user could then change it if they wanted to.This is the code for the dropdown box.<code>           &lt;select name ='action'&gt;\n                &lt;?php                    $query = \"SELECT action FROM actions\";                    $result = mysql_query($query);                    while($myrow = mysql_fetch_array($result)) {\n                        $action = $myrow['action'];\n                        echo \"&lt;option value='$action'&gt;$action&lt;/option&gt;\\n\";\n                    }       \n                ?&gt;\n            &lt;/select&gt;\n</code>I have tried adding this line above the query....<code>echo \"&lt;option value='$variable'&gt;$variable&lt;/option&gt;\\n\";\n</code>...however this just adds the variable as an option to the top of the list. e.g. the list a,b,c,d and when I add the above line with the variable set to B, the dropdown displays b,a,b,c,d.Could anyone tell me how to properly preset the displayed option? Thank you\n", "total_len": 581, "s1_total_len": 630, "s2_total_len": 508}
{"post_id": "5574702", "title": "How do I print to stderr in Python?", "query": "There are several ways to write to stderr:<code>print &gt;&gt; sys.stderr, &quot;spam&quot;  # Python 2 only.sys.stderr.write(&quot;spam\\n&quot;)os.write(2, b&quot;spam\\n&quot;)from __future__ import print_functionprint(&quot;spam&quot;, file=sys.stderr)</code>What are the differences between these methods? Which method should be preferred?", "acce_answer": "In this example you are the authoring the library <code>mod_a</code> so it would be relatively easy to modify it. But I can't help but think about the situation where you aren't the author of the library.In which case the actual author of the library would probably either be happy that you cannot just do what you are trying to do... or actively wants to support what you are trying to do. lets assume the library writer wants you to be able to \"hijack\" a function that he/she uses in his implementation. He or she would probably go about it differently; I would.This is one area where I believe the encapsulation stories you linked and I just read describe exactly how to achieve the opposite situation of what you want here. This type of thing screams that it needs contract programming.As a library author, I'd probably offer you an interface and possibly an abstract class, maybe even one or two concrete implementations, that you could use to do your thing. Someone else might give add a template or runtime parameter requiring a specific implementation as an argument. Yet someone else could add a lazy string delegate to the mix.(my) conclusion: As a library author, there are options to make what you want possible. If it's not possible with your preferred library you'll probably end up filing a feature request.\n", "acce_score": "1722", "simquery1_title": "How to set sys.stdout encoding in Python 3? Setting the default output encoding in Python 2 is a well-known idiom:<code>sys.stdout = codecs.getwriter(\"utf-8\")(sys.stdout)</code>This wraps the <code>sys.stdout</code> object in a codec writer that encodes output in UTF-8.However, this technique does not work in Python 3 because <code>sys.stdout.write()</code> expects a <code>str</code>, but the result of encoding is <code>bytes</code>, and an error occurs when <code>codecs</code> tries to write the encoded bytes to the original <code>sys.stdout</code>.What is the correct way to do this in Python 3?", "simquery1_answer": "Okay, I found something.\n<code>&quot;class_id&quot;:17...\n&quot;class_id&quot;:17...\n&quot;class_id&quot;:17...\n</code>\nAll objects have the same ID? Is it correct so or not?\nYou need a check <code>if block</code> or use a <code>try except</code>.\nif block\n<code>if obj1 == None:\n    print(&quot;No, obj1 found!&quot;)\n    exit(0)\n</code>\ntry catch\n<code>try:     \n    relative_coordinates = object1[&quot;relative_coordinates&quot;] \nexcept:      \n    print(&quot;No, obj1 found!&quot;)\n    exit(0)\n</code>\nIf you search <code>find_xy(18, 18)</code> and you have only <code>&quot;class_id&quot;:17</code> - that can only go wrong without a break position. So you must check if your variable still Nothing or not!\nOne point more\nDuplicate code is also bad. Make a function for these, than you can read your code easier!\n<code>def check_obj():\n    #do you staff here...\n</code>\n", "simquery2_title": "Capture stdout from a script? suppose there is a script doing something like this:<code># module writer.pyimport sysdef write():    sys.stdout.write(\"foobar\")</code>Now suppose I want to capture the output of the <code>write</code> function and store it in a variable for further processing. The naive solution was:<code># module mymodule.pyfrom writer import writeout = write()print out.upper()</code>But this doesn't work. I come up with another solution and it works, but please, let me know if there is a better way to solve the problem. Thanks<code>import sysfrom cStringIO import StringIO# setup the environmentbackup = sys.stdout# ####sys.stdout = StringIO()     # capture outputwrite()out = sys.stdout.getvalue() # release output# ####sys.stdout.close()  # close the stream sys.stdout = backup # restore original stdoutprint out.upper()   # post processing</code>", "simquery2_answer": "\nThe limitation is that once you use <code>MessageContract</code> for request description you have to use it for response as well and vice-versa. The only exception are operations returning void or accepting no parameters.\nWCF uses <code>DataContractSerializer</code> by default but you can switch it to <code>XmlSerializer</code> by marking contract, service or operation with <code>XmlSerailazerFormat</code> attribute. In such case serialization will ignore <code>DataContract</code> / <code>DataMember</code> attributes and start to use common Xml serialization attributes (including <code>XmlRoot</code>). What is most important is that <code>MessageContract</code> is not related to used serializer - it can be used with both <code>DataContract</code> and Xml serialization.\nI would pass the collection nested in other element. I'm not sure how if it is possible to pass unwrapped collection directly into soap:Body because it should be represented as multiple body elements which are handled separately by <code>MessageContract</code> - each is marked with <code>MessageBodyMember</code> attribute.", "total_len": 418, "s1_total_len": 484, "s2_total_len": 479}
{"post_id": "5658369", "title": "How to input a regex in string.replace?", "query": "I need some help on declaring a regex. My inputs are like the following:<code>this is a paragraph with&lt;[1&gt; in between&lt;/[1&gt; and then there are cases ... where the&lt;[99&gt; number ranges from 1-100&lt;/[99&gt;. and there are many other lines in the txt fileswith&lt;[3&gt; such tags &lt;/[3&gt;</code>The required output is:<code>this is a paragraph with in between and then there are cases ... where the number ranges from 1-100. and there are many other lines in the txt fileswith such tags</code>I've tried this:<code>#!/usr/bin/pythonimport os, sys, re, globfor infile in glob.glob(os.path.join(os.getcwd(), '*.txt')):    for line in reader:         line2 = line.replace('&lt;[1&gt; ', '')        line = line2.replace('&lt;/[1&gt; ', '')        line2 = line.replace('&lt;[1&gt;', '')        line = line2.replace('&lt;/[1&gt;', '')                print line</code>I've also tried this (but it seems like I'm using the wrong regex syntax):<code>        line2 = line.replace('&lt;[*&gt; ', '')        line = line2.replace('&lt;/[*&gt; ', '')        line2 = line.replace('&lt;[*&gt;', '')        line = line2.replace('&lt;/[*&gt;', '')</code>I dont want to hard-code the <code>replace</code> from 1 to 99.", "acce_answer": "With MVC3 you can use the <code>ViewBag</code> to make data available to the master page.E.g.In View:<code>@{\n    ViewBag.Title = \"Home Page\";\n}\n</code>In Master Page:<code>&lt;title&gt;@ViewBag.Title&lt;/title&gt;\n</code>Update:Difference between PageData and ViewData\n", "acce_score": "486", "simquery1_title": "Python Regex Engine - \"look-behind requires fixed-width pattern\" Error I am trying to handle un-matched double quotes within a string in the CSV format.To be precise,<code>&quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;</code>should be corrected as<code>&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;</code>So basically what I am trying to do is toreplace all the ' &quot; 'Not preceded by a beginning of line or a comma (and)Not followed by a comma or an end of linewith ' &quot; &quot; 'For that I use the below regex<code>(?&lt;!^|,)&quot;(?!,|$)</code>The problem is while Ruby regex engines ( http://www.rubular.com/ ) are able to parse the regex, python regex engines (https://pythex.org/ , http://www.pyregex.com/) throw the following error<code>Invalid regular expression: look-behind requires fixed-width pattern</code>And with python 2.7.3 it throws<code>sre_constants.error: look-behind requires fixed-width pattern</code>Can anyone tell me what vexes python here?Edit:Following Tim's response, I got the below output for a multi line string<code>&gt;&gt;&gt; str = &quot;&quot;&quot; &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot;... &quot;It &quot;does &quot;not &quot;make &quot;sense&quot;, Well, &quot;Does &quot;it&quot; &quot;&quot;&quot;&gt;&gt;&gt; re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str)' &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot;\\n&quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot; '</code>At the end of each line, next to 'it' two double-quotes were added.So I made a very small change to the regex to handle a new-line.<code>re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str,flags=re.MULTILINE)</code>But this gives the output<code>&gt;&gt;&gt; re.sub(r'\\b\\s*&quot;(?!,|$)', '&quot; &quot;', str,flags=re.MULTILINE)' &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot;\\n... &quot;It&quot; &quot;does&quot; &quot;not&quot; &quot;make&quot; &quot;sense&quot;, Well, &quot;Does&quot; &quot;it&quot; &quot; '</code>The last 'it' alone has two double-quotes.But I wonder why the '$' end of line character will not identify that the line has ended.The final answer is<code>re.sub(r'\\b\\s*&quot;(?!,|[ \\t]*$)', '&quot; &quot;', str,flags=re.MULTILINE)</code>", "simquery1_answer": "I am not sure why do you need <code>getGenericPredicate</code> since instead of <code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = getGenericPredicate(SomeType::bar());\n    Predicate&lt;SomeType&gt; secondPredicate = getGenericPredicate(SomeType::foo());\n    //...\n}\n</code>you could simply use <code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = SomeType::bar;\n    Predicate&lt;SomeType&gt; secondPredicate = SomeType::foo;\n    //...\n}\n</code>Assuming that <code>getGenericPredicate</code> would actually need to do some additional tasks (logging for instance) you could try with <code>public &lt;T&gt; Predicate&lt;T&gt; getGenericPredicate(Predicate&lt;T&gt; p) {\n    //some additional code goes here\n    return p;\n}\n</code>and then you can use it like<code>public void someMethodRefactored() {\n    Predicate&lt;SomeType&gt; firstPredicate = getGenericPredicate(SomeType::bar);\n    Predicate&lt;SomeType&gt; secondPredicate = getGenericPredicate(SomeType::foo);\n    //...\n}\n</code>\n", "simquery2_title": "Writing a parser for regular expressions Even after years of programming, I'm ashamed to say that I've never really fully grasped regular expressions. In general, when a problem calls for a regex, I can usually (after a bunch of referring to syntax) come up with an appropriate one, but it's a technique that I find myself using increasingly often. So, to teach myself and understand regular expressions properly, I've decided to do what I always do when trying to learn something; i.e., try to write something ambitious that I'll probably abandon as soon as I feel I've learnt enough.To this end, I want to write a regular expression parser in Python. In this case, \"learn enough\" means that I want to implement a parser that can understand Perl's extended regex syntax completely. However, it doesn't have to be the most efficient parser or even necessarily usable in the real-world. It merely has to correctly match or fail to match a pattern in a string.The question is, where do I start? I know almost nothing about how regexes are parsed and interpreted apart from the fact that it involves a finite state automaton in some way. Any suggestions for how to approach this rather daunting problem would be much appreciated.EDIT: I should clarify that while I'm going to implement the regex parser in Python, I'm not overly fussed about what programming language the examples or articles are written in. As long as it's not in Brainfuck, I will probably understand enough of it to make it worth my while.", "simquery2_answer": "Unquoted <code>//</code> in C++ is a comment. So after stripping comments, your code will look like this:<code>void my_function()\n{\n    http:\n}\n</code>So <code>http:</code> is just a label that can be used with <code>goto</code>.\n", "total_len": 528, "s1_total_len": 1577, "s2_total_len": 414}
{"post_id": "5710391", "title": "Converting Python dict to kwargs?", "query": "I want to build a query for sunburnt(solr interface) using class inheritance and therefore adding key - value pairs together. The sunburnt interface takes keyword arguments. How can I transform a dict <code>({'type':'Event'})</code> into keyword arguments <code>(type='Event')</code>?", "acce_answer": "To guarantee the correct order for each array of Keys and Values, use this (the other answers use individual <code>Set</code>s which offer no guarantee as to order.<code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nString[] keys = new String[map.size()];\nObject[] values = new Object[map.size()];\nint index = 0;\nfor (Map.Entry&lt;String, Object&gt; mapEntry : map.entrySet()) {\n    keys[index] = mapEntry.getKey();\n    values[index] = mapEntry.getValue();\n    index++;\n}\n</code>\n", "acce_score": "454", "simquery1_title": "Converting Python dict to kwargs? I want to build a query for sunburnt(solr interface) using class inheritance and therefore adding key - value pairs together. The sunburnt interface takes keyword arguments. How can I transform a dict <code>({'type':'Event'})</code> into keyword arguments <code>(type='Event')</code>?", "simquery1_answer": "To guarantee the correct order for each array of Keys and Values, use this (the other answers use individual <code>Set</code>s which offer no guarantee as to order.<code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nString[] keys = new String[map.size()];\nObject[] values = new Object[map.size()];\nint index = 0;\nfor (Map.Entry&lt;String, Object&gt; mapEntry : map.entrySet()) {\n    keys[index] = mapEntry.getKey();\n    values[index] = mapEntry.getValue();\n    index++;\n}\n</code>\n", "simquery2_title": "sqlalchemy existing database query I am using SQLAlchemy as ORM for a python project. I have created few models/schema and it is working fine. Now I need to query a existing MySQL database, no insert/update just the select statement. How can I create a wrapper around the tables of this existing database? I have briefly gone through the sqlalchemy docs and SO but couldn't find anything relevant. All suggest execute method, where I need to write the raw sql queries, while I want to use the SQLAlchemy query method in same way as I am using with the SA models.For example if the existing db has table name User then I want to query it using the dbsession ( only the select operation, probably with join)", "simquery2_answer": "In the template change<code>{% if x in y module %}\n</code>to<code>{% if x in module %}\n</code>\n", "total_len": 242, "s1_total_len": 240, "s2_total_len": 195}
{"post_id": "5893163", "title": "What is the purpose of the single underscore \"_\" variable in Python?", "query": "What is the meaning of <code>_</code> after <code>for</code> in this code?<code>if tbh.bag:    n = 0    for _ in tbh.bag.atom_set():        n += 1</code>", "acce_answer": "I'm using GWT to build an application, and I'm facing serious speed issues with something that I thought would be pretty fast. I have a JSONObject with data in the following structure (but that is much larger):<code>{\"nodeData\" : [ \n                { \"name\":\"one\", \"attributes\":[\"uno\",\"dos\"]}, \n                {\"name\":\"two\", \"attributes\":[\"tres\"]}\n              ]\n}\n</code>I am trying to iterate through the JSON object to store all the attributes into an arraylist which every node object has, with attribute sizes ranging from 4 to 800.<code>JSONObject JSONnode = nodeData.get(i).isObject();\nNode node = new Node(JSONnode.get(\"name\").toString();\nJSONArray attributeArray = JSONnode.get(\"Attributes\").isArray();\nint attributeSize = attributeArray.size();\nfor(int j = 0; k &lt; attributeSize; j++){\n    node.attributeArrayList.add(attributeArray.get(j).toString();\n}\n</code>The for loop I'm executing is taking about a minute, which seems too long, and I'm not sure how to improve it. The minute is in development mode, but I don't know if it would be any faster when I compile it.\n", "acce_score": "769", "simquery1_title": "Python string interning While this question doesn't have any real use in practice, I am curious as to how Python does string interning. I have noticed the following.<code>&gt;&gt;&gt; \"string\" is \"string\"True</code>This is as I expected.You can also do this.<code>&gt;&gt;&gt; \"strin\"+\"g\" is \"string\"True</code>And that's pretty clever!But you can't do this.<code>&gt;&gt;&gt; s1 = \"strin\"&gt;&gt;&gt; s2 = \"string\"&gt;&gt;&gt; s1+\"g\" is s2False</code>Why wouldn't Python evaluate <code>s1+\"g\"</code>, and realize it is the same as <code>s2</code> and point it to the same address? What is actually going on in that last block to have it return <code>False</code>?", "simquery1_answer": "I do not get this idea to store a date in a varchar field so that it is 'culture independant'. dateTime data type is culture independant. What is culture dependent is the way date values are displayed: <code>MM/dd/YYYY\ndd/MM/YYYY\nYYYY-MM-DD\netc\n</code>But, if the display changes, the underlying value itself is still the same ... and this is why you can easily 'convert' dates from one format to another....So, for the sake of simplicity, I do strongly advise you to switch to a culture-independant, datetime field. Otherwise any further use of this field's content (calculation, display, print out, etc) will be a real PITA ...\n", "simquery2_title": "Assigning a value to single underscore _ in Python/IPython interpreter I created this function in Python 2.7 with <code>ipython</code>:<code>def _(v):    return v</code>later if I call <code>_(somevalue)</code>, I get <code>_ = somevalue</code>.<code>in[3]: _(3)out[3]: 3in[4]: print _out[4]: 3</code>The function has disappeared! If I call <code>_(4)</code> I get:<code>TypeError: 'int' object is not callable</code>Why? What's wrong with this function?", "simquery2_answer": "Yes, this cannot be done using storyboards - needs code to be written.In the <code>UINavigationViewController</code>'s <code>viewDidLoad</code> method, we can write the following code -<code>UITabBar *tabBar = self.tabBar;UITabBarItem *targetTabBarItem = [[tabbar items] objectAtIndex:0]; // whichever tab-item\nUIImage *selectedIcon = [UIImage imageNamed:@\"name-of-selected-image.png\"];\n[targetTabBarItem setSelectedImage:selectedIcon];\n</code>\n", "total_len": 374, "s1_total_len": 379, "s2_total_len": 288}
{"post_id": "5929107", "title": "Decorators with parameters?", "query": "I have a problem with the transfer of the variable <code>insurance_mode</code> by the decorator. I would do it by the following decorator statement:<code>@execute_complete_reservation(True)def test_booking_gta_object(self):    self.test_select_gta_object()</code>but unfortunately, this statement does not work. Perhaps maybe there is better way to solve this problem.<code>def execute_complete_reservation(test_case,insurance_mode):    def inner_function(self,*args,**kwargs):        self.test_create_qsf_query()        test_case(self,*args,**kwargs)        self.test_select_room_option()        if insurance_mode:            self.test_accept_insurance_crosseling()        else:            self.test_decline_insurance_crosseling()        self.test_configure_pax_details()        self.test_configure_payer_details    return inner_function</code>", "acce_answer": "A recent introduction to Smalltalk has enlightened me on the application and benefits of a 'pure' object oriented style. I'd previously seen the benefits of this in Ruby, though the presence of non object oriented <code>if</code>, <code>unless</code> etc. constructs seemed like it didn't carry things all the way through.By pure here, I'm talking about things like 'everything is an object' (including functions via blocks or something similar) and no procedural-style flow control, instead using flow control methods on booleans &amp; collections. Yet, even in a language like Smalltalk some things stand out as not being object oriented. For example it doesn't seem possible to do variable assignment without using special syntax (:= instead of an 'is:' or similar method) and returning values from a function seems to require the ^ operator which doesn't seem to 'belong' to any object.Are there any languages that carry this style even further?\n", "acce_score": "679", "simquery1_title": "Mocking a function to raise an Exception to test an except block I have a function (<code>foo</code>) which calls another function (<code>bar</code>). If invoking <code>bar()</code> raises an <code>HttpError</code>, I want to handle it specially if the status code is 404, otherwise re-raise.I am trying to write some unit tests around this <code>foo</code> function, mocking out the call to <code>bar()</code>. Unfortunately, I am unable to get the mocked call to <code>bar()</code> to raise an Exception which is caught by my <code>except</code> block.Here is my code which illustrates my problem:<code>import unittestimport mockfrom apiclient.errors import HttpErrorclass FooTests(unittest.TestCase):    @mock.patch('my_tests.bar')    def test_foo_shouldReturnResultOfBar_whenBarSucceeds(self, barMock):        barMock.return_value = True        result = foo()        self.assertTrue(result)  # passes    @mock.patch('my_tests.bar')    def test_foo_shouldReturnNone_whenBarRaiseHttpError404(self, barMock):        barMock.side_effect = HttpError(mock.Mock(return_value={'status': 404}), 'not found')        result = foo()        self.assertIsNone(result)  # fails, test raises HttpError    @mock.patch('my_tests.bar')    def test_foo_shouldRaiseHttpError_whenBarRaiseHttpErrorNot404(self, barMock):        barMock.side_effect = HttpError(mock.Mock(return_value={'status': 500}), 'error')        with self.assertRaises(HttpError):  # passes            foo()def foo():    try:        result = bar()        return result    except HttpError as error:        if error.resp.status == 404:            print '404 - %s' % error.message            return None        raisedef bar():    raise NotImplementedError()</code>I followed the Mock docs which say that you should set the <code>side_effect</code> of a <code>Mock</code> instance to an <code>Exception</code> class to have the mocked function raise the error.I also looked at some other related StackOverflow Q&amp;As, and it looks like I am doing the same thing they are doing to cause and Exception to be raised by their mock.https://stackoverflow.com/a/10310532/346561How to use Python Mock to raise an exception - but with Errno set to a given valueWhy is setting the <code>side_effect</code> of <code>barMock</code> not causing the expected <code>Exception</code> to be raised? If I am doing something weird, how should I go about testing logic in my <code>except</code> block?", "simquery1_answer": "I'm trying to recreate Mike Bostock's pie chart small multiples. Bostock makes a single SVG for each pie chart, and uses an array of integers as the dataset:<code>var data = [\n  [11975,  5871, 8916, 2868],\n  [ 1951, 10048, 2060, 6171],\n  [ 8010, 16145, 8090, 8045],\n  [ 1013,   990,  940, 6907]\n];\n</code>For my part, I'd like to use <code>d3.csv</code> to load an array of objects in and use those as my data. The CSV looks like this:<code>count_1,count_2\n4.39,1.64\n0.4894,0.0413\n32.661,11.343\n</code>Clearly, I'm screwing up something pretty basic, but I'm a noob, and can't figure out what. Here's my script (I've left in the comments by Mike Bostock on his original script):<code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;style&gt;body {\n  text-align: center;\n}\n&lt;/style&gt;\n&lt;body&gt;\n&lt;script src=\"//d3js.org/d3.v3.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script&gt;// Define the data as a two-dimensional array of numbers. If you had other\n// data to associate with each number, replace each number with an object, e.g.,\n// `{key: \"value\"}`.d3.csv(\"data.csv\", type, function(error, data) {\n  if (error) throw error;  var dataset1 = dataconsole.log(dataset1)var test_dataset = [\n[4.39,1.64],\n[0.4894,0.0413],\n[32.661,11.343],\n[24.61,100.0875],\n[1.969142857,0.505642857],\n[6.186428571,3.160357143],\n[0.604761905,3.774738095],\n[6.0212,2.4136],\n[1.2275,0.2935],\n[1.1012,1.0771],\n[5.605666667,19.395],\n];console.log(test_dataset)// Define the margin, radius, and color scale. The color scale will be\n// assigned by index, but if you define your data using objects, you could pass\n// in a named field from the data object instead, such as `d.name`. Colors\n// are assigned lazily, so if you want deterministic behavior, define a domain\n// for the color scale.\nvar m = 10,\n    r = 100,\n    z = d3.scale.ordinal()\n                    .domain([d.right, d.wrong])\n                    .range([\"e7969c\",\"9ecae1\"])// Insert an svg element (with margin) for each row in our dataset. A child g\n// element translates the origin to the pie center.\nvar svg = d3.select(\"body\").selectAll(\"svg\")\n    .data(data)\n  .enter().append(\"svg\")\n    .attr(\"width\", (r + m) * 2)\n    .attr(\"height\", (r + m) * 2)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + (r + m) + \",\" + (r + m) + \")\");//translate from corner of svg// The data for each svg element is a row of numbers (an array). We pass that to\n// d3.layout.pie to compute the angles for each arc. These start and end angles\n// are passed to d3.svg.arc to draw arcs! Note that the arc radius is specified\n// on the arc, not the layout.\nsvg.selectAll(\"path\")\n    .data(d3.layout.pie())\n  .enter().append(\"path\")\n    .attr(\"d\", d3.svg.arc()\n        .innerRadius(r / 2)\n        .outerRadius(r))\n    .style(\"fill\", function(d, i) { return z(i); });});\nfunction type(d) {\n  d.right = +d.count_1;\n  d.wrong= +d.count_2;\n  return d;\n}&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt; \n</code>I first interpreted Mike's comments about setting up <code>z</code>, the scale, thus:<code> z = d3.scale.ordinal()\n                    .domain([d.right, d.wrong])\n                    .range([\"e7969c\",\"9ecae1\"])\n</code>but that leads to the following error: Uncaught ReferenceError: d is not defined<code>(anonymous function) @ (index):55\n(anonymous function) @ d3.v3.min.js:1\nt @ d3.v3.min.js:1\nu @ d3.v3.min.js:1</code>I then tried to set up the scale in another way:<code>z = d3.scale.ordinal()\n                .domain([function(d) { return d.right;}, function(d) { return d.wrong;}])\n                .range([\"e7969c\",\"9ecae1\"])\n</code>But this leads to another error: TypeError: a.map is not a functionI've set up a block with an example of what's going on. I'm pretty sure there's something really basic that I'm not grasping, so would appreciate anyone's input.\n", "simquery2_title": "Pass a parameter to a fixture function I am using py.test to test some DLL code wrapped in a python class MyTester.For validating purpose I need to log some test data during the tests and do more processing afterwards. As I have many test_... files I want to reuse the tester object creation (instance of MyTester) for most of my tests.As the tester object is the one which got the references to the DLL's variables and functions I need to pass a list of the DLL's variables to the tester object for each of the test files (variables to be logged are the same for a test_... file).The content of the list is used to log the specified data.My idea is to do it somehow like this:<code>import pytestclass MyTester():    def __init__(self, arg = [&quot;var0&quot;, &quot;var1&quot;]):        self.arg = arg        # self.use_arg_to_init_logging_part()    def dothis(self):        print &quot;this&quot;    def dothat(self):        print &quot;that&quot;# located in conftest.py (because other test will reuse it)@pytest.fixture()def tester(request):    &quot;&quot;&quot; create tester object &quot;&quot;&quot;    # how to use the list below for arg?    _tester = MyTester()    return _tester# located in test_...py# @pytest.mark.usefixtures(&quot;tester&quot;) class TestIt():    # def __init__(self):    #     self.args_for_tester = [&quot;var1&quot;, &quot;var2&quot;]    #     # how to pass this list to the tester fixture?    def test_tc1(self, tester):       tester.dothis()       assert 0 # for demo purpose    def test_tc2(self, tester):       tester.dothat()       assert 0 # for demo purpose</code>Is it possible to achieve it like this or is there even a more elegant way?Usually I could do it for each test method with some kind of setup function (xUnit-style). But I want to gain some kind of reuse. Does anyone know if this is possible with fixtures at all?I know I can do something like this: (from the docs)<code>@pytest.fixture(scope=&quot;module&quot;, params=[&quot;merlinux.eu&quot;, &quot;mail.python.org&quot;])</code>But I need to the parametrization directly in the test module.Is it possible to access the params attribute of the fixture from the test module?", "simquery2_answer": "This will match your target:<code>(?i)(?&lt;=kwl ).*?(?= *\\(\\))\n</code>Explanation:\n<code>(?i)</code> means \"ignore case\" (so all variants of <code>kwl</code> match)\n<code>(?&lt;=kwl )</code> is a look behind assertion\n<code>.*?</code> is a reluctant quantifier (matches as little as possible)\n<code>(?= *\\(\\))</code> is a look ahead assertion\nLook arounds don't capture, so the entire match is your target.See live demo.This will also match if the target has brackets, like this:<code>kWl including backets ( ) like this ()\n</code>If reluctant quantifiers are not supported, use this:<code>(?i)(?&lt;=kwl )(.(?! *\\(\\))*.(?= *\\(\\))\n</code>\n", "total_len": 462, "s1_total_len": 2237, "s2_total_len": 857}
{"post_id": "6081008", "title": "Dump a NumPy array into a csv file", "query": "How do I dump a 2D NumPy array into a csv file in a human-readable format?", "acce_answer": "I remember the last version of EF wasn't supporting protected or private collection mapping like NHibernate does.You had to do something like that<code>public class Post\n{\n    ...    public virtual ICollection&lt;Tag&gt; Tags { get; private set; }\n</code>Is there a way to avoid someone from calling this collection directly ? i would prefer encapsulating it in a method instead to have full control on it. However this was needed by EF in order to do the relationship. Was this changed ?EDIT: Normally we should be able to use IEnumerable instead of ICollection (as it is supported with NHibernate) but it seem not supported in EF.Thanks.\n", "acce_score": "770", "simquery1_title": "save numpy array in append mode Is it possible to save a numpy array appending it to an already existing npy-file --- something like <code>np.save(filename,arr,mode='a')</code>?I have several functions that have to iterate over the rows of a large array. I cannot create the array at once because of memory constrains. To avoid to create the rows over and over again, I wanted to create each row once and save it to file appending it to the previous row in the file. Later I could load the npy-file in mmap_mode, accessing the slices when needed.", "simquery1_answer": "<code>$scope.romanize = function(num){\n        if (!+num)\n            return false;\n        var digits = String(+num).split(\"\"),\n            key = [\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\n                   \"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\n                   \"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],\n            roman = \"\",\n            i = 3;\n        while (i--)\n            roman = (key[+digits.pop() + (i * 10)] || \"\") + roman;\n        return Array(+digits.join(\"\") + 1).join(\"M\") + roman;\n    }\n</code>\n", "simquery2_title": "Python DictWriter writing UTF-8 encoded CSV files I have a list of dictionaries containing unicode strings.<code>csv.DictWriter</code> can write a list of dictionaries into a CSV file.I want the CSV file to be encoded in UTF8.The <code>csv</code> module cannot handle converting unicode strings into UTF8.The <code>csv</code> module documentation has an example for converting everything to UTF8:<code>def utf_8_encoder(unicode_csv_data):    for line in unicode_csv_data:        yield line.encode('utf-8')</code>It also has a <code>UnicodeWriter</code> class.  But... how do I make <code>DictWriter</code> work with these?  Wouldn't they have to inject themselves in the middle of it, to catch the disassembled dictionaries and encode them before it writes them to the file?  I don't get it.", "simquery2_answer": "You should create a <code>customautocomplete</code> class for your <code>textbox</code> and set its <code>autocomplete</code> Something like:<code>Dim tbox As New TextBoxDim aCol As New AutoCompleteStringCollection\nFor Each student As String In dt.results(\"students\")\n  aCol.Add()\nNexttbox.AutoCompleteSource = AutoCompleteSource.CustomSource\ntbox.AutoCompleteCustomSource = aCol\ntbox.AutoCompleteMode = AutoCompleteMode.SuggestAppend\n</code>I prefer VB.NET so I have provided an example in VB.NET as no language was specified.\n", "total_len": 187, "s1_total_len": 333, "s2_total_len": 362}
{"post_id": "6088077", "title": "How to get a random number between a float range?", "query": "<code>randrange(start, stop)</code> only takes integer arguments. So how would I get a random number between two float values?", "acce_answer": "Firstly, you've got to be using Objective-C++ for this to work in the slightest; easiest way to ensure that is rename all your <code>*.m</code> files to <code>*.mm</code>By far the most usable (non-deprecated) manual way of getting a C++ <code>std::string</code> into an <code>NSString</code> is with:<code>std::string param; // &lt;-- input\nNSString* result = [NSString stringWithUTF8String:param.c_str()];\nNSString* alternative = [[NSString alloc] initWithUTF8String:param.c_str()];\n</code>This will work in most cases - and if you're not doing specific encoding detection and conversion, UTF-8 is going to give you a good result for having non-latin characters 'just work.'If you're making a bigger app, or you're not the only one working on it, however - you'll probably want something that's easier to apply.Adapted from cocoa-dev mailing list archives<code>@interface NSString (cppstring_additions)\n+(NSString*) stringWithwstring:(const std::wstring&amp;)string;\n+(NSString*) stringWithstring:(const std::string&amp;)string;\n-(std::wstring) getwstring;\n-(std::string) getstring;\n@end@implementation NSString (cppstring_additions)#if TARGET_RT_BIG_ENDIAN\nconst NSStringEncoding kEncoding_wchar_t = CFStringConvertEncodingToNSStringEncoding(kCFStringEncodingUTF32BE);\n#else\nconst NSStringEncoding kEncoding_wchar_t = CFStringConvertEncodingToNSStringEncoding(kCFStringEncodingUTF32LE);\n#endif+(NSString*) stringWithwstring:(const std::wstring&amp;)ws\n{\n    char* data = (char*)ws.data();\n    unsigned size = ws.size() * sizeof(wchar_t);    NSString* result = [[NSString alloc] initWithBytes:data length:size encoding:kEncoding_wchar_t];\n    return result;\n}\n+(NSString*) stringWithstring:(const std::string&amp;)s\n{\n    NSString* result = [[NSString alloc] initWithUTF8String:s.c_str()];\n    return result;\n}-(std::wstring) getwstring\n{\n    NSData* asData = [self dataUsingEncoding:kEncoding_wchar_t];\n    return std::wstring((wchar_t*)[asData bytes], [asData length] / sizeof(wchar_t));\n}\n-(std::string) getstring\n{\n    return [self UTF8String];\n}@end\n</code>With that in-place (and appropriately <code>#import</code>ed) you can now:<code>NSString* result = [NSString stringWithstring:param];\nstring convertedBack = [result getstring];\n</code>And the same for <code>std::wstring</code>, which is more than handy.\n", "acce_score": "650", "simquery1_title": "Random number between 0 and 1? I want a random number between 0 and 1, like 0.3452. I used <code>random.randrange(0, 1)</code> but it is always 0 for me. What should I do?", "simquery1_answer": "I am trying to sum up a field if the condition field id is duplicate it will only be counted as 1 and app id is equal to 1.<code>   SELECT SUM(IF(PU.field_id IS DISTINCT AND PU.app_id =1,1,0)) as \"With Reco\" FROM tbl.PutUser.\n</code>I know for some this is just a piece of cake.\n", "simquery2_title": "How did Python implement the built-in function pow()? I have to write a program to calculate <code>a**b % c</code> where <code>b</code> and <code>c</code> are both very large numbers. If I just use <code>a**b % c</code>, it's really slow. Then I found that the built-in function <code>pow()</code> can do this really fast by calling <code>pow(a, b, c)</code>. I'm curious to know how does Python implement this? Or where could I find the source code file that implement this function?", "simquery2_answer": "Sorry, I was using an old version of the code to debug the application, where the line<code>m_wordDoc.PrintOut(ref ...);\n</code>was not wrapped in an <code>else</code> block. Once I debugged the correct version of my code, the print dialog behaved as expected.Sorry to interrupt ...\n", "total_len": 751, "s1_total_len": 159, "s2_total_len": 218}
{"post_id": "6269765", "title": "What does the 'b' character do in front of a string literal?", "query": "Apparently, the following is the valid syntax:<code>b'The string'</code>I would like to know:What does this <code>b</code> character in front of the string mean?What are the effects of using it?What are appropriate situations to use it?I found a related question right here on SO, but that question is about PHP though, and it states the <code>b</code> is used to indicate the string is binary, as opposed to Unicode, which was needed for code to be compatible from version of PHP &lt; 6, when migrating to PHP 6. I don't think this applies to Python.I did find this documentation on the Python site about using a <code>u</code> character in the same syntax to specify a string as Unicode. Unfortunately, it doesn't mention the b character anywhere in that document.Also, just out of curiosity, are there more symbols than the <code>b</code> and <code>u</code> that do other things?", "acce_answer": "I am developing for BlackBerry 6.0 OS and 9800 simulator. Since it is a having a screen resolution of 360x480, its vertical scroll is inbuilt. I am displaying  a grid field having 50 rows and I need Horizontal scroll for that. I learnt from docs that if the layout has vertical scroll, you cannot add horizontal scroll. But I used super(HORIZONTAL_SCROLL) in my constructor and it goes scrolls unlimitedly to the right. How do I ensure it ends where the content ends? I tried setHorizontalScroll(). It does not work.<code>EncodedImage eImage = EncodedImage.getEncodedImageResource(\"rank.png\" );\nEncodedImage bitimage=Home.sizeImage(eImage,Display.getWidth(),Display.getHeight());\nBitmap image=Home.cropBitmap(bitimage.getBitmap(),Display.getWidth(),Display.getHeight(\u200c\u200b));\ngetMainManager().setBackground(BackgroundFactory.createBitmapBackground(image));\n</code>\n", "acce_score": "1333", "simquery1_title": "What kinds of patterns could I enforce on the code to make it easier to translate to another programming language? I am setting out to do a side project that has the goal of translating code from one programming language to another. The languages I am starting with are PHP and Python (Python to PHP should be easier to start with), but ideally I would be able to add other languages with (relative) ease. The plan is:This is geared towards web development. The original and target code will be be sitting on top of frameworks (which I will also have to write). These frameworks will embrace an MVC design pattern and follow strict coding conventions. This should make translation somewhat easier.I am also looking at IOC and dependency injection, as they might make the translation process easier and less error prone.I'll make use of Python's parser module, which lets me fiddle with the Abstract Syntax Tree. Apparently the closest I can get with PHP is token_get_all(), which is a start.From then on I can build the AST, symbol tables and control flow.Then I believe I can start outputting code. I don't need a perfect translation. I'll still have to review the generated code and fix problems. Ideally the translator should flag problematic translations.Before you ask &quot;What the hell is the point of this?&quot; The answer is... It'll be an interesting learning experience. If you have any insights on how to make this less daunting, please let me know.EDIT:I am more interested in knowing what kinds of patterns I could enforce on the code to make it easier to translate (ie: IoC, SOA ?) the code than how to do the translation.", "simquery1_answer": "Because of the quotes.<code>$(\"a[href='#']\").click(function(){\n  alert(\"test\");\n  return false;\n});\n</code>\n", "simquery2_title": "What does the 'b' character do in front of a string literal? Apparently, the following is the valid syntax:<code>b'The string'</code>I would like to know:What does this <code>b</code> character in front of the string mean?What are the effects of using it?What are appropriate situations to use it?I found a related question right here on SO, but that question is about PHP though, and it states the <code>b</code> is used to indicate the string is binary, as opposed to Unicode, which was needed for code to be compatible from version of PHP &lt; 6, when migrating to PHP 6. I don't think this applies to Python.I did find this documentation on the Python site about using a <code>u</code> character in the same syntax to specify a string as Unicode. Unfortunately, it doesn't mention the b character anywhere in that document.Also, just out of curiosity, are there more symbols than the <code>b</code> and <code>u</code> that do other things?", "simquery2_answer": "I am developing for BlackBerry 6.0 OS and 9800 simulator. Since it is a having a screen resolution of 360x480, its vertical scroll is inbuilt. I am displaying  a grid field having 50 rows and I need Horizontal scroll for that. I learnt from docs that if the layout has vertical scroll, you cannot add horizontal scroll. But I used super(HORIZONTAL_SCROLL) in my constructor and it goes scrolls unlimitedly to the right. How do I ensure it ends where the content ends? I tried setHorizontalScroll(). It does not work.<code>EncodedImage eImage = EncodedImage.getEncodedImageResource(\"rank.png\" );\nEncodedImage bitimage=Home.sizeImage(eImage,Display.getWidth(),Display.getHeight());\nBitmap image=Home.cropBitmap(bitimage.getBitmap(),Display.getWidth(),Display.getHeight(\u200c\u200b));\ngetMainManager().setBackground(BackgroundFactory.createBitmapBackground(image));\n</code>\n", "total_len": 478, "s1_total_len": 408, "s2_total_len": 476}
{"post_id": "6294179", "title": "How to find all occurrences of an element in a list", "query": "<code>index()</code> will give the first occurrence of an item in a list. Is there a neat trick which returns all indices in a list for an element?", "acce_answer": "I have been trying with many solutions and combinations of code, but I always get my process forced to close in the application.. Do you have any suggestions?<code>public class CompaniesViewActivity extends ListActivity {    ArrayList&lt;String&gt; _listItems = new ArrayList&lt;String&gt;(); // Stores data from Company object\n    ArrayList&lt;String&gt; _companyNames = new ArrayList&lt;String&gt;();\n    ArrayAdapter&lt;String&gt; _adapter;    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.companiesview_layout); // Setting the appropriate layout\n        GlobalState globalState = (GlobalState)getApplicationContext(); // Setting the global vars\n        ArrayList&lt;Company&gt; companies = globalState.loadCompanies(); // Retrieving the companies list\n                                                                    // that was created during the\n                                                                    // first view        _adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, _listItems);\n                                 // Constructing an ArrayAdapter in order to create a dynamic ListView\n                                 // associated with the _listItems Dynamic String Array List\n        setListAdapter(_adapter); // Setting the adapter\n        addItems(companies); // Calls the method to add the items in the ListView\n    }    // Adding items to the ListView dynamically for all the companies in the retrieved companies list\n    public void addItems(ArrayList&lt;Company&gt; companies) {\n        for (int i=0; i&lt;companies.size(); i++) {\n            _listItems.add(companies.get(i).getName() + \"\\n\" + \"\u0391\u03a6\u039c: \" + companies.get(i).getVat());\n            _companyNames.add(companies.get(i).getName());\n            _adapter.notifyDataSetChanged(); // Refreshing the View with the data filled\n        }\n    }    public void onListItemClick(ListView l, View v, int position, long id) {\n    //String companyName = _companyNames.get(position);\n    Intent intent = new Intent();\n    intent.setClass(CompaniesViewActivity.this, CompanyTabViewActivity.class);\n    startActivity(intent);\n    //myIntent.putExtra(\"companyName\", companyName);\n    }\n}\n</code>Logcat:<code>10-06 11:13:34.549: ERROR/AndroidRuntime(1569): FATAL EXCEPTION: main\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569): java.lang.RuntimeException: Unable to start activity ComponentInfo{gr.sigmasolutions/gr.sigmasolutions.CompanyTabViewActivity}: java.lang.RuntimeException: Unable to start activity ComponentInfo{gr.sigmasolutions/gr.sigmasolutions.CompanyInfoViewActivity}: java.lang.NullPointerException\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1622)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1638)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:928)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.os.Looper.loop(Looper.java:123)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.main(ActivityThread.java:3647)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at java.lang.reflect.Method.invokeNative(Native Method)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at java.lang.reflect.Method.invoke(Method.java:507)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at dalvik.system.NativeStart.main(Native Method)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569): Caused by: java.lang.RuntimeException: Unable to start activity ComponentInfo{gr.sigmasolutions/gr.sigmasolutions.CompanyInfoViewActivity}: java.lang.NullPointerException\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1622)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.startActivityNow(ActivityThread.java:1462)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:127)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:339)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.widget.TabHost$IntentContentStrategy.getContentView(TabHost.java:654)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.widget.TabHost.setCurrentTab(TabHost.java:326)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.widget.TabHost.addTab(TabHost.java:216)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at gr.sigmasolutions.CompanyTabViewActivity.onCreate(CompanyTabViewActivity.java:36)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     ... 11 more\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569): Caused by: java.lang.NullPointerException\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at gr.sigmasolutions.CompanyInfoViewActivity.showCompanyInfoServices(CompanyInfoViewActivity.java:54)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at gr.sigmasolutions.CompanyInfoViewActivity.onCreate(CompanyInfoViewActivity.java:32)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586)\n10-06 11:13:34.549: ERROR/AndroidRuntime(1569):     ... 20 more\n</code>\n", "acce_score": "576", "simquery1_title": "Access multiple elements of list knowing their index I need to choose some elements from the given list, knowing their index. Let say I would like to create a new list, which contains element with index 1, 2, 5, from given list [-2, 1, 5, 3, 8, 5, 6]. What I did is:<code>a = [-2,1,5,3,8,5,6]b = [1,2,5]c = [ a[i] for i in b]</code>Is there any better way to do it? something like c = a[b] ?", "simquery1_answer": "You can try with this:<code>File.WriteAllLines(\n    \"transactions.txt\",\n    File.ReadAllLines(\"transactions.txt\")\n        .Select(x =&gt; x.Contains(ID) ? textBox2.Text : x));\n</code>It works fine, but if the file is big you have to find other solutions.\n", "simquery2_title": "Colon (:) in Python list index I'm new to Python. I see <code>:</code> used in list indices especially when it's associated with function calls. Python 2.7 documentation suggests that <code>lists.append</code> translates to <code>a[len(a):] = [x]</code>. Why does one need to suffix <code>len(a)</code> with a colon?I understand that <code>:</code> is used to identify keys in dictionary.", "simquery2_answer": "That's because you bind DataContext to the same value as you binding <code>IsEnabled</code>. So for <code>IsEnabled</code> it actually looking for MyVal.MyVal. Replace to:<code>IsEnabled=\"{Binding Converter={StaticResource NullCheckConverter}}\" \n</code>Also further if you have issues with binding, check in debug mode output window for binding errors.\n", "total_len": 2274, "s1_total_len": 226, "s2_total_len": 203}
{"post_id": "6344076", "title": "Differences between distribute, distutils, setuptools and distutils2?", "query": "The SituationI\u2019m trying to port an open-source library to Python 3.  (SymPy, if anyone is wondering.) So, I need to run <code>2to3</code> automatically when building for Python 3. To do that, I need to use <code>distribute</code>. Therefore, I need to port the current system, which (according to the doctest) is <code>distutils</code>. The ProblemUnfortunately, I\u2019m not sure what\u2019s the difference between these modules\u2014<code>distutils</code>, <code>distribute</code>, <code>setuptools</code>. The documentation is sketchy as best, as they all seem to be a fork of one another, intended to be compatible in most circumstances (but actually, not all)\u2026and so on, and so forth. The QuestionCould someone explain the differences? What am I supposed to use?  What is the most modern solution? (As an aside, I\u2019d also appreciate some guide on porting to <code>Distribute</code>, but that\u2019s a tad beyond the scope of the question\u2026)", "acce_answer": "Pull your data out into a PHP array, then transfer that to JavaScript with<code>var enableDays = &lt;?php echo json_encode($enableDays); ?&gt;;\n</code>As an aside, the obligatory recommendation that you should stop using the PHP <code>mysql</code> extension immediately because it is not very safe and has been deprecated; switch to something better (<code>mysqli</code> and <code>PDO</code> are both good choices).\n", "acce_score": "637", "simquery1_title": "Python progression path - From apprentice to guru I've been learning, working, and playing with Python for a year and a half now. As a biologist slowly making the turn to bio-informatics, this language has been at the very core of all the major contributions I have made in the lab. I more or less fell in love with the way Python permits me to express beautiful solutions and also with the semantics of the language that allows such a natural flow from thoughts to workable code.What I would like to know is your answer to a kind of question I have seldom seen in this or other forums. This question seems central to me for anyone on the path to Python improvement but who wonders what his next steps should be.Let me sum up what I do NOT want to ask first ;)I don't want to know how to QUICKLY learn PythonNor do I want to find out the best way to get acquainted with the languageFinally, I don't want to know a 'one trick that does it all' approach.What I do want to know your opinion about, is:What are the steps YOU would recommend to a Python journeyman, from apprenticeship to guru status (feel free to stop wherever your expertise dictates it), in order that one IMPROVES CONSTANTLY, becoming a better and better Python coder, one step at a time. Some of the people on SO almost seem worthy of worship for their Python prowess, please enlighten us :)The kind of answers I would enjoy (but feel free to surprise the readership :P ), is formatted more or less like this:Read this (eg: python tutorial), pay attention to that kind of detailsCode for so manytime/problems/lines of codeThen, read this (eg: this or that book), but this time, pay attention to thisTackle a few real-life problemsThen, proceed to reading Y.Be sure to grasp these conceptsCode for X timeCome back to such and such basics or move further to...(you get the point :)I really care about knowing your opinion on what exactly one should pay attention to, at various stages, in order to progress CONSTANTLY (with due efforts, of course). If you come from a specific field of expertise, discuss the path you see as appropriate in this field.EDIT: Thanks to your great input, I'm back on the Python improvement track! I really appreciate!", "simquery1_answer": "EDIT:Based on your updated code, you should be using <code>.prev()</code> instead of <code>.siblings()</code>.<code>$(\".input-field\").focus(function() {\n    $(this).addClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").show();\n    return false;\n});\n$(\".input-field\").blur(function() {\n    $(this).removeClass(\"input-field-focus\");\n    $(this).prev(\".label-info\").hide();\n    return false;\n});\n</code>\nhttp://api.jquery.com/prev/\nhttp://api.jquery.com/siblings/\nOriginal answer:Your code works fine: http://jsfiddle.net/D9qnk/My guess is that your are initially hiding the <code>.label-info</code> using <code>visibility: hidden;</code> instead of <code>display:none;</code>If that's the case, switch your css to use <code>display:none</code> instead.<code>.label-info {\n    display: none;\n}\u200b\n</code>Or if you want to use the <code>visibility</code> property, then change its value using <code>.css()</code>:<code>$(this).siblings(\".label-info\").css('visibility','visible');...$(this).siblings(\".label-info\").css('visibility','hidden');\n</code>\n", "simquery2_title": "Python project directory structure / pytest trouble This should be the easiest problem on earth, but even after extensive searching and tinkering, I'm still in deep trouble with finding a \"correct\" way to lay a directory structure and manage to run pytest etc correctly.Let's say my I have a program called apple.<code>|- README.md|- apple|   |-- __init__.py|   |-- apple.py| - tests|   |-- test_everything.py</code>The apple.py contains some functions, for examples sake let's call one <code>eat()</code>. And the <code>test_everything.py</code> file contains some tests like <code>assert eat()==\"foobar\"</code>. So good so easy, but then the fun begins:What about the <code>__init__.py</code> in the apple directory... correct? Empty or what should be inside?Is it best practice to call <code>py.test</code> from the root directory? Or <code>py.test tests</code>?So many projects have a <code>__init__.py</code> in their test directory, but that's explicitly said to be wrong in the py.test documentation. So why god whyWhat comes at the top of the <code>test_everything.py</code> file: an <code>import apple</code> or <code>from apple import *</code>? or something else entirelyDo you call the functions then by <code>eat()</code> or <code>apple.eat()</code>?Some even recommend manipulating <code>os.path.dirname</code> in pythonThis should be easy, but I've seen every combination of the above, not even speaking about tox and the myriad of other tools. Yet with the slightest error, you get thrown some <code>ImportError: No module named 'apple'</code> or some other funky error. What is the \"right\" way? The advice and the existing code on github etc follows extremely different conventions. For a medium-experienced coder, this should be much easier.", "simquery2_answer": "Going to try to keep it short. I have a while loop in grid.php file to fill up a table as such...<code>&lt;?php while($product = $products-&gt;fetch_assoc()) { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_id']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_title']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_fname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_lname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_price']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"edit.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-primary\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"delete.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;?php } ?&gt;\n</code>If I click the first anchor tag takes me to a edit.php file and here is the head code for that file.<code>&lt;?php include '_includes/db.php';\n$cd_id   = trim($_GET['id']);\n$message = '';\ninclude '_includes/connection.php';\nif($db-&gt;connect_error){\n  $message = $db-&gt;connect_error;\n}else{\n  $sql  = \"SELECT * FROM CD WHERE cd_id = $cd_id\";\n  $result = $db-&gt;query($sql);\n  $row = $result-&gt;fetch_assoc();\n  if($db-&gt;error){\n    $message = $db-&gt;error;\n   }\n }\n?&gt;\n</code>Now I will show the html of edit.php<code>&lt;!--        Product Musician last name--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_musician_lname\"&gt;Musician's lirst name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_musician_lname\" name=\"cd_musician_lname\" value=\"&lt;?php echo $row['cd_musician_lname'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--        End of Musician last name--&gt;      &lt;!--        Product price--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_price\"&gt;Product price&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_price\" name=\"cd_price\" value=\"&lt;?php echo $row['cd_price'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--    End of Product price--&gt;      &lt;!--    Form submit button--&gt;\n      &lt;a href=\"edit_confirm.php?id=&lt;?echo $row['cd_id'];?&gt;\" type=\"submit\" class=\"btn btn-primary\"&gt;Update Record&lt;/a&gt;\n      &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n</code>I have the edit.php page working just fine but if I make changes in the fields and click the submit anchor tag I get all the fields of the row empty but the PK. Here is the code for the final edit_confirm.php file<code>&lt;?php\ninclude '_includes/db.php';$cd_id             = trim($_GET['id']);\n$cd_title          = $_POST['cd_title'];\n$cd_musician_fname = $_POST['cd_musician_fname'];\n$cd_musician_lname = $_POST['cd_musician_lname'];\n$cd_price          = $_POST['cd_price'];$message = '';\ninclude '_includes/connection.php';if($db-&gt;connect_error){\n  die(\"Connection failed: \".$db-&gt;connect_error);\n} else {\n$sql = \"UPDATE CD SET cd_title='\".$cd_title.\"', cd_musician_fname='\".\n$cd_musician_fname.\"', cd_musician_lname='\".\n$cd_musician_lname.\"',   cd_price='\".$cd_price.\"' WHERE cd_id = $cd_id \";\n$db-&gt;query($sql);\nvar_dump($sql);\n }\n?&gt;&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;?php include '_includes/main-head.php';?&gt;\n&lt;/head&gt;\n  &lt;body&gt;\n  &lt;?php include '_includes/main-navbar.php';?&gt;  &lt;div class=\"container\"&gt;\n    &lt;hr&gt;\n    &lt;?php\n    if($db-&gt;query($sql) === TRUE){ ?&gt;\n      &lt;h1&gt;Record updated successfully.&lt;/h1&gt;\n      &lt;?php echo $cd_title; ?&gt;\n      &lt;?php echo $record-&gt;affected_rows ?&gt; \n      &lt;p&gt; record was updated in the database.&lt;/p&gt;&lt;/br&gt;\n   &lt;?php } else { ?&gt;\n    &lt;p&gt;Error updating the record: &lt;/p&gt; &lt;?php $db-&gt;error; ?&gt;\n   &lt;?php }; ?&gt;\n    &lt;hr&gt;\n    &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;?php include '_includes/main-script.php';?&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code>If you notice in the edit_confirm.php I did a var_dump to see what are the values in the variables and it shows empty.I need help with this.\nThank you in advance.\n", "total_len": 376, "s1_total_len": 860, "s2_total_len": 2190}
{"post_id": "6470428", "title": "Catch multiple exceptions in one line (except block)", "query": "I know that I can do:<code>try:    # do something that may failexcept:    # do this if ANYTHING goes wrong</code>I can also do this:<code>try:    # do something that may failexcept IDontLikeYouException:    # say pleaseexcept YouAreTooShortException:    # stand on a ladder</code>But if I want to do the same thing inside two different exceptions, the best I can think of right now is to do this:<code>try:    # do something that may failexcept IDontLikeYouException:    # say pleaseexcept YouAreBeingMeanException:    # say please</code>Is there any way that I can do something like this (since the action to take in both exceptions is to <code>say please</code>):<code>try:    # do something that may failexcept IDontLikeYouException, YouAreBeingMeanException:    # say please</code>Now this really won't work, as it matches the syntax for:<code>try:    # do something that may failexcept Exception, e:    # say please</code>So, my effort to catch the two distinct exceptions doesn't exactly come through.Is there a way to do this?", "acce_answer": "That would be something along the following lines:<code>#!/usr/bin/env bash# Check to ensure exactly one argument passed.if [[ $# -ne 1 ]] ; then\n        echo \"Usage: shell &lt;inputFile&gt;\"\n        exit 1\nfi# Check that the argument is an existing regular file.if [[ ! -f $1 ]] ; then\n        echo \"Error: '$1' not a regular file\"\n        exit 1\nfi# Sort it, sending output to xyzzy.new, where xyzzy was the original file.sort $1 &gt;$1.new\n</code>\n", "acce_score": "3719", "simquery1_title": "Python project directory structure / pytest trouble This should be the easiest problem on earth, but even after extensive searching and tinkering, I'm still in deep trouble with finding a \"correct\" way to lay a directory structure and manage to run pytest etc correctly.Let's say my I have a program called apple.<code>|- README.md|- apple|   |-- __init__.py|   |-- apple.py| - tests|   |-- test_everything.py</code>The apple.py contains some functions, for examples sake let's call one <code>eat()</code>. And the <code>test_everything.py</code> file contains some tests like <code>assert eat()==\"foobar\"</code>. So good so easy, but then the fun begins:What about the <code>__init__.py</code> in the apple directory... correct? Empty or what should be inside?Is it best practice to call <code>py.test</code> from the root directory? Or <code>py.test tests</code>?So many projects have a <code>__init__.py</code> in their test directory, but that's explicitly said to be wrong in the py.test documentation. So why god whyWhat comes at the top of the <code>test_everything.py</code> file: an <code>import apple</code> or <code>from apple import *</code>? or something else entirelyDo you call the functions then by <code>eat()</code> or <code>apple.eat()</code>?Some even recommend manipulating <code>os.path.dirname</code> in pythonThis should be easy, but I've seen every combination of the above, not even speaking about tox and the myriad of other tools. Yet with the slightest error, you get thrown some <code>ImportError: No module named 'apple'</code> or some other funky error. What is the \"right\" way? The advice and the existing code on github etc follows extremely different conventions. For a medium-experienced coder, this should be much easier.", "simquery1_answer": "Going to try to keep it short. I have a while loop in grid.php file to fill up a table as such...<code>&lt;?php while($product = $products-&gt;fetch_assoc()) { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_id']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_title']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_fname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_musician_lname']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $product['cd_price']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"edit.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-primary\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"delete.php?id=&lt;?echo $product['cd_id'];?&gt;\" type=\"button\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;?php } ?&gt;\n</code>If I click the first anchor tag takes me to a edit.php file and here is the head code for that file.<code>&lt;?php include '_includes/db.php';\n$cd_id   = trim($_GET['id']);\n$message = '';\ninclude '_includes/connection.php';\nif($db-&gt;connect_error){\n  $message = $db-&gt;connect_error;\n}else{\n  $sql  = \"SELECT * FROM CD WHERE cd_id = $cd_id\";\n  $result = $db-&gt;query($sql);\n  $row = $result-&gt;fetch_assoc();\n  if($db-&gt;error){\n    $message = $db-&gt;error;\n   }\n }\n?&gt;\n</code>Now I will show the html of edit.php<code>&lt;!--        Product Musician last name--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_musician_lname\"&gt;Musician's lirst name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_musician_lname\" name=\"cd_musician_lname\" value=\"&lt;?php echo $row['cd_musician_lname'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--        End of Musician last name--&gt;      &lt;!--        Product price--&gt;\n      &lt;fieldset class=\"form-group\"&gt;\n        &lt;label for=\"cd_price\"&gt;Product price&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"cd_price\" name=\"cd_price\" value=\"&lt;?php echo $row['cd_price'];?&gt;\"&gt;\n      &lt;/fieldset&gt;\n      &lt;!--    End of Product price--&gt;      &lt;!--    Form submit button--&gt;\n      &lt;a href=\"edit_confirm.php?id=&lt;?echo $row['cd_id'];?&gt;\" type=\"submit\" class=\"btn btn-primary\"&gt;Update Record&lt;/a&gt;\n      &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n</code>I have the edit.php page working just fine but if I make changes in the fields and click the submit anchor tag I get all the fields of the row empty but the PK. Here is the code for the final edit_confirm.php file<code>&lt;?php\ninclude '_includes/db.php';$cd_id             = trim($_GET['id']);\n$cd_title          = $_POST['cd_title'];\n$cd_musician_fname = $_POST['cd_musician_fname'];\n$cd_musician_lname = $_POST['cd_musician_lname'];\n$cd_price          = $_POST['cd_price'];$message = '';\ninclude '_includes/connection.php';if($db-&gt;connect_error){\n  die(\"Connection failed: \".$db-&gt;connect_error);\n} else {\n$sql = \"UPDATE CD SET cd_title='\".$cd_title.\"', cd_musician_fname='\".\n$cd_musician_fname.\"', cd_musician_lname='\".\n$cd_musician_lname.\"',   cd_price='\".$cd_price.\"' WHERE cd_id = $cd_id \";\n$db-&gt;query($sql);\nvar_dump($sql);\n }\n?&gt;&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;?php include '_includes/main-head.php';?&gt;\n&lt;/head&gt;\n  &lt;body&gt;\n  &lt;?php include '_includes/main-navbar.php';?&gt;  &lt;div class=\"container\"&gt;\n    &lt;hr&gt;\n    &lt;?php\n    if($db-&gt;query($sql) === TRUE){ ?&gt;\n      &lt;h1&gt;Record updated successfully.&lt;/h1&gt;\n      &lt;?php echo $cd_title; ?&gt;\n      &lt;?php echo $record-&gt;affected_rows ?&gt; \n      &lt;p&gt; record was updated in the database.&lt;/p&gt;&lt;/br&gt;\n   &lt;?php } else { ?&gt;\n    &lt;p&gt;Error updating the record: &lt;/p&gt; &lt;?php $db-&gt;error; ?&gt;\n   &lt;?php }; ?&gt;\n    &lt;hr&gt;\n    &lt;a class=\"btn btn-primary\" href=\"index.php\" role=\"button\"&gt;Go Back Home&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;?php include '_includes/main-script.php';?&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code>If you notice in the edit_confirm.php I did a var_dump to see what are the values in the variables and it shows empty.I need help with this.\nThank you in advance.\n", "simquery2_title": "Example of what SQLAlchemy can do, and Django ORM cannot I've been doing a lot of research lately into using Pyramid with SQLAlchemy versus keeping a current application in Django.  That by itself is an entire debate, but I'm not here to discuss that.What I do want to know is, why is SQLAlchemy universally considered better than Django ORM?  Almost every, if not every, comparison I've found between the two favors SQLAlchemy.  I assume performance is a big one, as the structure of SQLAlchemy lets it translate to SQL much more smoothly.But, I've also heard that with harder tasks, Django ORM is nearly impossible to use.  I want to scope out how huge of an issue this can be.  I've been reading one of the reasons to switch to SQLAlchemy is when Django ORM is no longer suiting your needs.So, in short, could someone provide a query (doesn't have to be actual SQL syntax) that SQLAlchemy can do, but Django ORM cannot possibly do without adding in additional raw SQL?Update:I've been noticing this question getting quite some attention since I first asked, so I'd like to throw in my extra two cents.In the end we ended up using SQLAlchemy and I must say I'm happy with the decision.I'm revisiting this question to provide an additional feature of SQLAlchemy that, so far, I've not been able to replicate in Django ORM.  If someone can provide an example of how to do this I'll gladly eat my words.Let's say you want to use some postgresql function, such as similarity(), which provides a fuzzy comparison (see: Finding similar strings with PostgreSQL quickly - tl;dr input two strings get back a percent similarity).I've done some searching on how to do this using the Django ORM and have found nothing other than using raw sql as seems to be apparent from their documentation: https://docs.djangoproject.com/en/dev/topics/db/sql/.i.e.<code>Model.objects.raw('SELECT * FROM app_model ORDER BY \\similarity(name, %s) DESC;', [input_name])</code>SQLalchemy, however, has func(), as described here: http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.func<code>from sqlalchemy import desc, funcsession.query(Model).order_by(func.similarity(Model.name, input_name))</code>This allows you to generate sql for any defined sql/postgresql/etc function and not require raw sql.", "simquery2_answer": "with this code monsters don't appear, only hero shows<code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   } \n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n</code>But with this (non-sense) code, the monsters and the hero show, and I don't understand why... <code>for (int j = 0; j &lt;= _discrH; j++)\n   {\n   for (int i = 0; i &lt;= _discrW; i++)\n        {\n        CCSprite * sprite = [CCSprite spriteWithImageNamed:@\"monster.png\"] ;\n        sprite.position  = ccp([self getCanvasXFromGameI : i],[self getCanvasYFromGameJ : j]);\n        [_sprites addObject:sprite ];\n         [self addChild:sprite];\n        }\n   _hero = [CCSprite spriteWithImageNamed:@\"case1.png\"];\n   _hero.position  = ccp(0,0);\n   [self addChild:_hero];\n   } \n</code>Any ideas what I'm doing wrong ?\n", "total_len": 445, "s1_total_len": 2190, "s2_total_len": 1038}
{"post_id": "6587507", "title": "How to install pip with Python 3?", "query": "I want to install pip. It should support Python 3, but it requires setuptools, which is available only for Python 2.How can I install pip with Python 3?", "acce_answer": "Yes, selecting by ID only should be the fastest, because jQuery (or Sizzle) can directly use <code>getElementById</code>. Otherwise the rest of the selector has to be evaluated as well, right to left.\n", "acce_score": "671", "simquery1_title": "How to install pip with Python 3? I want to install pip. It should support Python 3, but it requires setuptools, which is available only for Python 2.How can I install pip with Python 3?", "simquery1_answer": "Yes, selecting by ID only should be the fastest, because jQuery (or Sizzle) can directly use <code>getElementById</code>. Otherwise the rest of the selector has to be evaluated as well, right to left.\n", "simquery2_title": "List dependencies in Python What is the most efficient way to list all dependencies required to deploy a working project elsewhere (on a different OS, say)? Python 2.7, Windows dev environment, not using a virtualenv per project, but a global dev environment, installing libraries as needed, happily hopping from one project to the next. I've kept track of most (not sure all) libraries I had to install for a given project. I have not kept track of any sub-dependencies that came auto-installed with them. Doing <code>pip freeze</code> lists both, plus all the other libraries that were ever installed. Is there a way to list what you need to install, no more, no less, to deploy the project? EDIT In view of the answers below, some clarification. My project consists of a bunch of modules (that I wrote), each with a bunch of <code>import</code>s. Should I just copy-paste all the imports from all modules into a single file, sort eliminating duplicates, and throw out all from the standard library (and how do I know they are)? Or is there a better way? That's the question. ", "simquery2_answer": "Sure you can. Just hide the image on your stylesheet, then on :hover of the menu item (li). Display the image again!<code>ul li a img {\n  display:none;\n}ul li:hover a img {\n  display:inline-block;\n}\n</code>\n", "total_len": 102, "s1_total_len": 100, "s2_total_len": 319}
{"post_id": "6618515", "title": "Sorting list according to corresponding values from a parallel list", "query": "I have a list of strings like this:<code>X = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\"]Y = [ 0,   1,   1,   0,   1,   2,   2,   0,   1 ]</code>What is the shortest way of sorting X using values from Y to get the following output?<code>[\"a\", \"d\", \"h\", \"b\", \"c\", \"e\", \"i\", \"f\", \"g\"]</code>The order of the elements having the same \"key\" does not matter. I can resort to the use of <code>for</code> constructs but I am curious if there is a shorter way. Any suggestions?", "acce_answer": "In case of :<code>int a = 3;  \na = (a++) * (a++); a = 3 * a++; now a is 4 because of post increment\na = 3 * 4; now a is 5 because of second post increment\na = 12; value of 5 is overwritten with 3*4 i.e. 12 \n</code>hence we get output as 12.In case of :<code>a += (a++) * (a++); \na = a + (a++) * (a++);\na = 3 + (a++) * (a++); // a is 3\na = 3 + 3 * (a++); //a is 4\na = 3 + 3 * 4; //a is 5\na = 15\n</code>Main point to note here is that in this case compiler is solving from left to right and\nin case of post increment, value before increment is used in calculation and as we move from left to right incremented value is used.\n", "acce_score": "612", "simquery1_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery1_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "simquery2_title": "Sorting list according to corresponding values from a parallel list I have a list of strings like this:<code>X = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\"]Y = [ 0,   1,   1,   0,   1,   2,   2,   0,   1 ]</code>What is the shortest way of sorting X using values from Y to get the following output?<code>[\"a\", \"d\", \"h\", \"b\", \"c\", \"e\", \"i\", \"f\", \"g\"]</code>The order of the elements having the same \"key\" does not matter. I can resort to the use of <code>for</code> constructs but I am curious if there is a shorter way. Any suggestions?", "simquery2_answer": "In case of :<code>int a = 3;  \na = (a++) * (a++); a = 3 * a++; now a is 4 because of post increment\na = 3 * 4; now a is 5 because of second post increment\na = 12; value of 5 is overwritten with 3*4 i.e. 12 \n</code>hence we get output as 12.In case of :<code>a += (a++) * (a++); \na = a + (a++) * (a++);\na = 3 + (a++) * (a++); // a is 3\na = 3 + 3 * (a++); //a is 4\na = 3 + 3 * 4; //a is 5\na = 15\n</code>Main point to note here is that in this case compiler is solving from left to right and\nin case of post increment, value before increment is used in calculation and as we move from left to right incremented value is used.\n", "total_len": 431, "s1_total_len": 1245, "s2_total_len": 429}
{"post_id": "6667201", "title": "How to define a two-dimensional array?", "query": "I want to define a two-dimensional array without an initialized length like this:<code>Matrix = [][]</code>But this gives an error:IndexError: list index out of range", "acce_answer": "Simply bcause the code samples are wrapped in <code>&lt;pre&gt;</code> tag which by default works same as <code>white-space:pre</code> and text will only wrap on line breaks - if you remove all of the code samples out you can see the page will stretch normaly and scrollbars disappear.See this sample.http://jsfiddle.net/MTdbH/10/\n", "acce_score": "890", "simquery1_title": "How to define a two-dimensional array? I want to define a two-dimensional array without an initialized length like this:<code>Matrix = [][]</code>But this gives an error:IndexError: list index out of range", "simquery1_answer": "Simply bcause the code samples are wrapped in <code>&lt;pre&gt;</code> tag which by default works same as <code>white-space:pre</code> and text will only wrap on line breaks - if you remove all of the code samples out you can see the page will stretch normaly and scrollbars disappear.See this sample.http://jsfiddle.net/MTdbH/10/\n", "simquery2_title": "Numpy matrix to array I am using numpy. I have a matrix with 1 column and N rows and I want to get an array from with N elements.For example, if i have <code>M = matrix([[1], [2], [3], [4]])</code>, I want to get <code>A = array([1,2,3,4])</code>.To achieve it, I use <code>A = np.array(M.T)[0]</code>. Does anyone know a more elegant way to get the same result?Thanks!", "simquery2_answer": "Your question is indeed a bit confusing.I'm guessing you mean that:\n100 rows per second come from a certain source or server (eg. log entries)\nOne option for the user is textfile caching: the rows are stored in a textfile and periodically an incremental copy of the contents of the textfile into (an) SQL Server table(s) is performed.\nAnother option for the user is direct insert: the data is stored directly in the database as it comes in, with no textfile in between.\nAm I right?If yes, then you should do something in the lines of:\nCreate a trigger on an <code>INSERT</code> action to the table\nIn that trigger, check which user is inserting. If the user has textfile caching disabled, then the insert can go on. Otherwise, the data is redirected to a textfile (or a caching table)\nCreate a stored procedure that checks the caching table or text file for new data, copies the new data into the real table, and deletes the cached data.\nCreate an SQL Server Agent job that runs above stored procedure every minute, hour, day...\nSince the interface from T-SQL to textfiles is not very flexible, I would recommend using a caching table instead. Why a textfile? And for that matter, why cache the data before inserting it into the table? Perhaps we can suggest a better solution, if you explain the context of your question.\n", "total_len": 145, "s1_total_len": 143, "s2_total_len": 434}
{"post_id": "6797984", "title": "How do I lowercase a string in Python?", "query": "Is there a way to convert a string to lowercase?<code>&quot;Kilometers&quot;  \u2192  &quot;kilometers&quot;</code>See How to change a string into uppercase? for the opposite.", "acce_answer": "If you want to remove HTML tags and only allow some of them \nyou can use strip_tags function like this <code>strip_tags($text, '&lt;br&gt;&lt;a&gt;');\n</code>This will return the text you entered $text with no tags except <code>&lt;br&gt; &amp; &lt;a&gt;</code> tags \nYou can read more about strip_tags Here\n", "acce_score": "2501", "simquery1_title": "lower() vs. casefold() in string matching and converting to lowercase How do I do a case-insensitive string comparison?From what I understood from Google and the link above that both functions: <code>lower()</code> and <code>casefold()</code> will convert the string to lowercase, but <code>casefold()</code> will convert even the caseless letters such as the <code>\u00df</code> in German to <code>ss</code>.All of that about Greek letters, but my question in general:are there any other differences?which one is better to convert to lowercase?which one is better to check the matching strings?Part 2:<code>firstString = &quot;der Flu\u00df&quot;secondString = &quot;der Fluss&quot;# \u00df is equivalent to ssif firstString.casefold() == secondString.casefold():    print('The strings are equal.')else:    print('The strings are not equal.')</code>In the example above should I use:<code>lower() # the result is not equal which make sense to me</code>Or:<code>casefold() # which \u00df is ss and result is the        # strings are equal. (since I am a beginner that still does not        # make sense to me. I see different strings).</code>", "simquery1_answer": "Since you are focused on Spanish, use a Spanish collation, not a generic one:  <code>utf8_spanish_ci</code> and <code>utf8_spanish2_ci</code>.  They treat <code>\u00f1</code> as a separate letter between <code>n</code> and <code>o</code>.  Other collations treat <code>\u00f1</code> and <code>n</code> as the same.Meanwhile, <code>\u00e7=c</code>.However <code>ll</code> is treated as two <code>l</code> by utf8_spanish_ci, while it is treated as coming after <code>lz</code> by utf8_spanish2_ci.  (Something about dictionary versus phonebook -- remember those artifacts from ancient history?)Ref: http://mysql.rjweb.org/utf8_collations.htmlOnce you upgrade to 8.0, there will be two more choices:  <code>utf8mb4_es_0900_ai_ci</code> and <code>utf8mb4_es_trad_0900_ai_ci</code>.Ref: http://mysql.rjweb.org/utf8mb4_collations.html\n", "simquery2_title": "How do I sort unicode strings alphabetically in Python? Python sorts by byte value by default, which means \u00e9 comes after z and other equally funny things. What is the best way to sort alphabetically in Python?Is there a library for this? I couldn't find anything. Preferrably sorting should have language support so it understands that \u00e5\u00e4\u00f6 should be sorted after z in Swedish, but that \u00fc should be sorted by u, etc. Unicode support is thereby pretty much a requirement.If there is no library for it, what is the best way to do this? Just make a mapping from letter to a integer value and map the string to a integer list with that?", "simquery2_answer": "I try to remove one box i append in jQuery, but i can't get it removet after i add, sombody can tell me what i dit worng?<code>    function appendBox( id )\n    {\n        $(\"#listContainer\").append(\"&lt;div id=\\\"appendbox[\"+ id +\"]\\\"&gt;&lt;a href=\\\"javascript:removeBox(\"+ id +\");\\\"&gt;remove&lt;/a&gt;&lt;/div&gt;\");\n    }\n    function removeBox( id )\n    {\n        $(\"#appendbox[\"+ id +\"]\").slideUp();\n    }\n</code>\n", "total_len": 167, "s1_total_len": 587, "s2_total_len": 289}
{"post_id": "6871016", "title": "Adding days to a date in Python", "query": "I have a date <code>\"10/10/11(m-d-y)\"</code> and I want to add 5 days to it using a Python script. Please consider a general solution that works on the month ends also.I am using following code:<code>import refrom datetime import datetimeStartDate = \"10/10/11\"Date = datetime.strptime(StartDate, \"%m/%d/%y\")</code><code>print Date</code> -> is printing <code>'2011-10-10 00:00:00'</code>Now I want to add 5 days to this date. I used the following code:<code>EndDate = Date.today()+timedelta(days=10)</code>Which returned this error:<code>name 'timedelta' is not defined</code>", "acce_answer": "<code>hover</code> can take 2 callback, one for mouseenter and another for mouserleave. You can try something like this. Also after stopping the animation you should also clear the timeout if there is any.<code>$(function()\n var timerId;\n var ticker = function()\n {\n    timerId = setTimeout(function(){\n    $('#ticker li:first').animate( {marginTop: '-22px'}, 250, function()\n    {\n       $(this).detach().appendTo('ul#ticker').removeAttr('style');});\n       ticker();\n    }, 1500);       \n }; $('#ticker').hover(function() { \n     $('#ticker  li:first').stop();         \n     clearTimeout(timerId);   \n }, ticker); ticker();});\n</code>\n", "acce_score": "618", "simquery1_title": "Check if string has date, any format How do I check if a string can be parsed to a date?Jan 19, 1990January 19, 1990Jan 19,199001/19/199001/19/901990Jan 1990January1990These are all valid dates. If there's any concern regarding the lack of space in between stuff in item #3 and the last item above, that can be easily remedied via automatically inserting a space in between letters/characters and numbers, if so needed.But first, the basics:I tried putting it in an <code>if statement</code>:<code>if datetime.strptime(item, '%Y') or datetime.strptime(item, '%b %d %y') or datetime.strptime(item, '%b %d %Y')  or datetime.strptime(item, '%B %d %y') or datetime.strptime(item, '%B %d %Y'):</code>But that's in a try-except block, and keeps returning something like this:<code>16343 time data 'JUNE1890' does not match format '%Y'</code>Unless, it met the first condition in the <code>if</code> statement.To clarify, I don't actually need the value of the date - I just want to know if it is. Ideally, it would've been something like this:<code>if item is date:    print dateelse:    print &quot;Not a date&quot;</code>Is there any way to do this?", "simquery1_answer": "Here are two suggestion.For all the names:\nGives number of times the names are repeated. <code>SELECT count(name) FROM persons GROUP BY name; \n</code>Specifically for the jake:<code>SELECT count(name) FROM persons WHERE name = \"Jake\";\n</code>\n", "simquery2_title": "Check if string has date, any format How do I check if a string can be parsed to a date?Jan 19, 1990January 19, 1990Jan 19,199001/19/199001/19/901990Jan 1990January1990These are all valid dates. If there's any concern regarding the lack of space in between stuff in item #3 and the last item above, that can be easily remedied via automatically inserting a space in between letters/characters and numbers, if so needed.But first, the basics:I tried putting it in an <code>if statement</code>:<code>if datetime.strptime(item, '%Y') or datetime.strptime(item, '%b %d %y') or datetime.strptime(item, '%b %d %Y')  or datetime.strptime(item, '%B %d %y') or datetime.strptime(item, '%B %d %Y'):</code>But that's in a try-except block, and keeps returning something like this:<code>16343 time data 'JUNE1890' does not match format '%Y'</code>Unless, it met the first condition in the <code>if</code> statement.To clarify, I don't actually need the value of the date - I just want to know if it is. Ideally, it would've been something like this:<code>if item is date:    print dateelse:    print &quot;Not a date&quot;</code>Is there any way to do this?", "simquery2_answer": "Here are two suggestion.For all the names:\nGives number of times the names are repeated. <code>SELECT count(name) FROM persons GROUP BY name; \n</code>Specifically for the jake:<code>SELECT count(name) FROM persons WHERE name = \"Jake\";\n</code>\n", "total_len": 404, "s1_total_len": 458, "s2_total_len": 458}
{"post_id": "6910641", "title": "How do I get indices of N maximum values in a NumPy array?", "query": "NumPy proposes a way to get the index of the maximum value of an array via <code>np.argmax</code>.I would like a similar thing, but returning the indexes of the <code>N</code> maximum values.For instance, if I have an array, <code>[1, 3, 2, 4, 5]</code>, then <code>nargmax(array, n=3)</code> would return the indices <code>[4, 3, 1]</code> which correspond to the elements <code>[5, 4, 3]</code>.", "acce_answer": "You can replace by:<code>let comp = calendar.components((NSCalendarUnit.CalendarUnitHour | NSCalendarUnit.CalendarUnitMinute) | NSCalendarUnit.CalendarUnitSecond, fromDate: date)\n</code>\n", "acce_score": "786", "simquery1_title": "Argmax of numpy array returning non-flat indices I'm trying to get the indices of the maximum element in a Numpy array.This can be done using <code>numpy.argmax</code>. My problem is, that I would like to find the biggest element in the whole array and get the indices of that.<code>numpy.argmax</code> can be either applied along one axis, which is not what I want, or on the flattened array, which is kind of what I want.My problem is that using <code>numpy.argmax</code> with <code>axis=None</code> returns the flat index when I want the multi-dimensional index.I could use <code>divmod</code> to get a non-flat index but this feels ugly. Is there any better way of doing this?", "simquery1_answer": "One approach (not necessarily the best) is to replace all implicit\narguments with explicit underscores:<code>f {_} {_} {_} (x {_} {_} {_})\n</code>This answer is from the Agda mailing list: https://lists.chalmers.se/pipermail/agda/2012/004123.html\n", "simquery2_title": "How do I use numpy.where()? What should I pass, and what does the result mean? I tried reading the documentation for <code>numpy.where()</code>, but I'm still confused.What should I pass for the <code>condition</code>, <code>x</code> and <code>y</code> values? When I pass only <code>condition</code>, what does the result mean and how can I use it? What about when I pass all three?I found How does python numpy.where() work? but it didn't answer my question because it seems to be about the implementation rather than about how to use it. Numpy where() on a 2D matrix also didn't explain things for me; I'm looking for a step-by-step explanation, rather than a how-to guide for a specific case.Please include examples with both 1D and 2D source data.", "simquery2_answer": "The default output of Capistrano is formatted according to the Airbrussh gem, which is aimed at making the output concise.If you prefer more verbose output, try using the <code>pretty</code> formatter by adding the following line to your <code>deploy.rb</code>:<code>set :format, :pretty\n</code>That formatter will prefix each line of output with an ID that is unique to each server.\n", "total_len": 207, "s1_total_len": 272, "s2_total_len": 302}
{"post_id": "6964392", "title": "Speed comparison with Project Euler: C vs Python vs Erlang vs Haskell", "query": "I have taken Problem #12 from Project Euler as a programming exercise and to compare my (surely not optimal) implementations in C, Python, Erlang and Haskell. In order to get some higher execution times, I search for the first triangle number with more than 1000 divisors instead of 500 as stated in the original problem.The result is the following:C:<code>lorenzo@enzo:~/erlang$ gcc -lm -o euler12.bin euler12.clorenzo@enzo:~/erlang$ time ./euler12.bin842161320real    0m11.074suser    0m11.070ssys 0m0.000s</code>Python:<code>lorenzo@enzo:~/erlang$ time ./euler12.py 842161320real    1m16.632suser    1m16.370ssys 0m0.250s</code>Python with PyPy:<code>lorenzo@enzo:~/Downloads/pypy-c-jit-43780-b590cf6de419-linux64/bin$ time ./pypy /home/lorenzo/erlang/euler12.py 842161320real    0m13.082suser    0m13.050ssys 0m0.020s</code>Erlang:<code>lorenzo@enzo:~/erlang$ erlc euler12.erl lorenzo@enzo:~/erlang$ time erl -s euler12 solveErlang R13B03 (erts-5.7.4) [source] [64-bit] [smp:4:4] [rq:4] [async-threads:0] [hipe] [kernel-poll:false]Eshell V5.7.4  (abort with ^G)1&gt; 842161320real    0m48.259suser    0m48.070ssys 0m0.020s</code>Haskell:<code>lorenzo@enzo:~/erlang$ ghc euler12.hs -o euler12.hsx[1 of 1] Compiling Main             ( euler12.hs, euler12.o )Linking euler12.hsx ...lorenzo@enzo:~/erlang$ time ./euler12.hsx 842161320real    2m37.326suser    2m37.240ssys 0m0.080s</code>Summary:C: 100%Python: 692% (118% with PyPy)Erlang: 436% (135% thanks to RichardC)Haskell: 1421%I suppose that C has a big advantage as it uses long for the calculations and not arbitrary length integers as the other three. Also it doesn't need to load a runtime first (Do the others?).Question 1:Do Erlang, Python and Haskell lose speed due to using arbitrary length integers or don't they as long as the values are less than <code>MAXINT</code>?Question 2:Why is Haskell so slow? Is there a compiler flag that turns off the brakes or is it my implementation? (The latter is quite probable as Haskell is a book with seven seals to me.)Question 3:Can you offer me some hints how to optimize these implementations without changing the way I determine the factors? Optimization in any way: nicer, faster, more &quot;native&quot; to the language.EDIT:Question 4:Do my functional implementations permit LCO (last call optimization, a.k.a tail recursion elimination) and hence avoid adding unnecessary frames onto the call stack?I really tried to implement the same algorithm as similar as possible in the four languages, although I have to admit that my Haskell and Erlang knowledge is very limited.Source codes used:<code>#include &lt;stdio.h&gt;#include &lt;math.h&gt;int factorCount (long n){    double square = sqrt (n);    int isquare = (int) square;    int count = isquare == square ? -1 : 0;    long candidate;    for (candidate = 1; candidate &lt;= isquare; candidate ++)        if (0 == n % candidate) count += 2;    return count;}int main (){    long triangle = 1;    int index = 1;    while (factorCount (triangle) &lt; 1001)    {        index ++;        triangle += index;    }    printf (&quot;%ld\\n&quot;, triangle);}</code><code>#! /usr/bin/env python3.2import mathdef factorCount (n):    square = math.sqrt (n)    isquare = int (square)    count = -1 if isquare == square else 0    for candidate in range (1, isquare + 1):        if not n % candidate: count += 2    return counttriangle = 1index = 1while factorCount (triangle) &lt; 1001:    index += 1    triangle += indexprint (triangle)</code><code>-module (euler12).-compile (export_all).factorCount (Number) -&gt; factorCount (Number, math:sqrt (Number), 1, 0).factorCount (_, Sqrt, Candidate, Count) when Candidate &gt; Sqrt -&gt; Count;factorCount (_, Sqrt, Candidate, Count) when Candidate == Sqrt -&gt; Count + 1;factorCount (Number, Sqrt, Candidate, Count) -&gt;    case Number rem Candidate of        0 -&gt; factorCount (Number, Sqrt, Candidate + 1, Count + 2);        _ -&gt; factorCount (Number, Sqrt, Candidate + 1, Count)    end.nextTriangle (Index, Triangle) -&gt;    Count = factorCount (Triangle),    if        Count &gt; 1000 -&gt; Triangle;        true -&gt; nextTriangle (Index + 1, Triangle + Index + 1)      end.solve () -&gt;    io:format (&quot;~p~n&quot;, [nextTriangle (1, 1) ] ),    halt (0).</code><code>factorCount number = factorCount' number isquare 1 0 - (fromEnum $ square == fromIntegral isquare)    where square = sqrt $ fromIntegral number          isquare = floor squarefactorCount' number sqrt candidate count    | fromIntegral candidate &gt; sqrt = count    | number `mod` candidate == 0 = factorCount' number sqrt (candidate + 1) (count + 2)    | otherwise = factorCount' number sqrt (candidate + 1) countnextTriangle index triangle    | factorCount triangle &gt; 1000 = triangle    | otherwise = nextTriangle (index + 1) (triangle + index + 1)main = print $ nextTriangle 1 1</code>", "acce_answer": "<code>new-if</code> is a procedure, and Scheme uses applicative-order evaluation (1.1.5), so even before <code>new-if</code> is actually performed, it has to evaluate all the arguments first, which are <code>guess</code> and <code>(sqrt-iter (improve guess x) x)</code>. You can see that the latter argument is a recursion, which calls a new <code>new-if</code> procedure, this is how the infinite loop occurs.The ordinary <code>if</code> need not evaluate its arguments first, just go along the way, this is the difference between <code>if</code> and <code>new-if</code>. :)\n", "acce_score": "733", "simquery1_title": "How can I improve my paw detection? After my previous question on finding toes within each paw, I started loading up other measurements to see how it would hold up. Unfortunately, I quickly ran into a problem with one of the preceding steps: recognizing the paws.You see, my proof of concept basically took the maximal pressure of each sensor over time and would start looking for the sum of each row, until it finds on that != 0.0. Then it does the same for the columns and as soon as it finds more than 2 rows with that are zero again. It stores the minimal and maximal row and column values to some index.As you can see in the figure, this works quite well in most cases. However, there are a lot of downsides to this approach (other than being very primitive):Humans can have 'hollow feet' which means there are several empty rows within the footprint itself. Since I feared this could happen with (large) dogs too, I waited for at least 2 or 3 empty rows before cutting off the paw. This creates a problem if another contact made in a different column before it reaches several empty rows, thus expanding the area. I figure I could compare the columns and see if they exceed a certain value, they must be separate paws.The problem gets worse when the dog is very small or walks at a higher pace. What happens is that the front paw's toes are still making contact, while the hind paw's toes just start to make contact within the same area as the front paw!With my simple script, it won't be able to split these two, because it would have to determine which frames of that area belong to which paw, while currently I would only have to look at the maximal values over all frames.Examples of where it starts going wrong:So now I'm looking for a better way of recognizing and separating the paws (after which I'll get to the problem of deciding which paw it is!).Update:I've been tinkering to get Joe's (awesome!) answer implemented, but I'm having difficulties extracting the actual paw data from my files.The coded_paws shows me all the different paws, when applied to the maximal pressure image (see above). However, the solution goes over each frame (to separate overlapping paws) and sets the four Rectangle attributes, such as coordinates or height/width. I can't figure out how to take these attributes and store them in some variable that I can apply to the measurement data. Since I need to know for each paw, what its location is during which frames and couple this to which paw it is (front/hind, left/right).So how can I use the Rectangles attributes to extract these values for each paw?I have the measurements I used in the question setup in my public Dropbox folder (example 1, example 2, example 3). For anyone interested I also set up a blog to keep you up to date :-)", "simquery1_answer": "You're rescuing the exception, so it won't log it because nothing bad actually happened since it was, in fact, \"rescued\".You can put the following code within your <code>rescue</code> block to put an entry in the log:<code>logger.warn \"Exception rescued!\"\n</code>You can read more about using the logger in the Rails Guides.\n", "simquery2_title": "fitting data with numpy I have the following data:<code>&gt;&gt;&gt; xarray([ 3.08,  3.1 ,  3.12,  3.14,  3.16,  3.18,  3.2 ,  3.22,  3.24,    3.26,  3.28,  3.3 ,  3.32,  3.34,  3.36,  3.38,  3.4 ,  3.42,    3.44,  3.46,  3.48,  3.5 ,  3.52,  3.54,  3.56,  3.58,  3.6 ,    3.62,  3.64,  3.66,  3.68])&gt;&gt;&gt; yarray([ 0.000857,  0.001182,  0.001619,  0.002113,  0.002702,  0.003351,    0.004062,  0.004754,  0.00546 ,  0.006183,  0.006816,  0.007362,    0.007844,  0.008207,  0.008474,  0.008541,  0.008539,  0.008445,    0.008251,  0.007974,  0.007608,  0.007193,  0.006752,  0.006269,    0.005799,  0.005302,  0.004822,  0.004339,  0.00391 ,  0.003481,    0.003095])</code>Now, I want to fit these data with, say, a 4 degree polynomial. So I do:<code>&gt;&gt;&gt; coefs = np.polynomial.polynomial.polyfit(x, y, 4)&gt;&gt;&gt; ffit = np.poly1d(coefs)</code>Now I create a new grid for x values to evaluate the fitting function <code>ffit</code>:<code>&gt;&gt;&gt; x_new = np.linspace(x[0], x[-1], num=len(x)*10)</code>When I do all the plotting (data set and fitting curve) with the command:<code>&gt;&gt;&gt; fig1 = plt.figure()                                                                                           &gt;&gt;&gt; ax1 = fig1.add_subplot(111)                                                                                   &gt;&gt;&gt; ax1.scatter(x, y, facecolors='None')                                                                     &gt;&gt;&gt; ax1.plot(x_new, ffit(x_new))                                                                     &gt;&gt;&gt; plt.show()</code>I get the following:fitting_data.pngWhat I expect is the fitting function to fit correctly (at least near the maximum value of the data). What am I doing wrong?", "simquery2_answer": "<code>text_area = $('textarea').val();\ntext_area.length == 0 ? 0 : text_area.trim().split(/\\s+\\b/).length\n</code>\n", "total_len": 1929, "s1_total_len": 745, "s2_total_len": 881}
{"post_id": "6996603", "title": "How can I delete a file or folder in Python?", "query": "How can I delete a file or folder?", "acce_answer": "Set the type of the use attribute to xs:IDREFand the name attribute to xs:ID.There's also an xs:IDREFS type.An example<code>&lt;xsd:element name=\"quote\"&gt;\n  &lt;xsd:complexType&gt;\n    &lt;!--content model--&gt;\n    &lt;xsd:attribute name=\"ref\" type=\"xsd:IDREF\"/&gt;\n  &lt;/xsd:complexType&gt;\n&lt;/xsd:element&gt;\n&lt;xsd:element name=\"footnote\"&gt;\n  &lt;xsd:complexType&gt;\n   &lt;!--content model--&gt;\n   &lt;xsd:attribute name=\"id\" type=\"xsd:ID\" use=\"required\"/&gt;\n &lt;/xsd:complexType&gt;\n</code>...Gives<code>&lt;quote ref=\"fn1\"&gt;...&lt;/quote&gt;\n&lt;footnote id=\"fn1\"&gt;...&lt;/footnote&gt;\n</code>So quote must have a ref parameter, which in this case points to a footnoteHmm would appear that the above was for DTD and doesn't work however I found thisTrue key representationIf you have ever attempted to describe a relational database with a complex relationship map using a DTD, you've likely had to use the ID-IDREF pointing mechanism. For example, in a structure where two entities are related in a many-to-many way through a relating table (borrowers and assets on a loan application, for example), the simple XML parent-child relationship is insufficient. However, IDs and IDREFs have their own weaknesses: IDs must be unique across an entire document, and IDREF declarations do not specify the type of element an instance of the IDREF attribute must reference. XML Schema provides a way to specify these pointing relationships in much the same way that foreign-key relationships are declared in a relational database. For example, say you have a foreign-key relationship that you can't express using a simple parent-child relationship in our XML. You can declare the two related elements as in Listing 3:<code>&lt;xsd:element name=\"rootElement\"&gt;\n  &lt;xsd:complexType&gt;\n    &lt;xsd:sequence&gt;\n      &lt;xsd:element name=\"elementOne\" maxOccurs=\"unbounded\"&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:attribute name=\"elementOneKey\" type=\"integer\" /&gt;\n          &lt;xsd:attribute name=\"elementOneDesc\" type=\"text\" /&gt;\n        &lt;/xsd:complexType&gt;\n        &lt;xsd:key name=\"elementOnePK\"&gt;\n          &lt;xsd:selector xpath=\".//elementOne\"/&gt;\n          &lt;xsd:field xpath=\"@elementOneKey\"/&gt;\n        &lt;/xsd:key&gt;\n      &lt;/xsd:element&gt;\n      &lt;xsd:element name=\"elementTwo\" maxOccurs=\"unbounded\"&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:attribute name=\"elementTwoKey\" type=\"integer\" /&gt;\n          &lt;xsd:attribute name=\"elementOneKey\" type=\"integer\" /&gt;\n          &lt;xsd:attribute name=\"elementTwoDesc\" type=\"text\" /&gt;\n        &lt;/xsd:complexType&gt;\n        &lt;xsd:keyref name=\"elementOneFK\" refer=\"elementOnePK\"&gt;\n          &lt;xsd:selector xpath=\".//elementTwo\"/&gt;\n          &lt;xsd:field xpath=\"@elementOneKey\"/&gt;\n        &lt;/xsd:keyref&gt;\n      &lt;/xsd:element&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n&lt;/xsd:element&gt;\n</code>Which is even better as you can link id and reference properly.Have a plus I'm learning stuff.\n", "acce_score": "3231", "simquery1_title": "How do I remove/delete a folder that is not empty? I am getting an 'access is denied' error when I attempt to delete a folder that is not empty. I used the following command in my attempt: <code>os.remove(\"/folder_name\")</code>. What is the most effective way of removing/deleting a folder/directory that is not empty?", "simquery1_answer": "I used it sometimes when the first iteration do something different from others.For example, if you want to print members to console and separate results by line, you can write.<code>using (IEnumerator&lt;MyClass&gt; classesEnum = myClasses.GetEnumerator()) {\n    if (classEnum.MoveNext())\n        Console.WriteLine(classesEnum.Current);\n    while (classesEnum.MoveNext()) {\n        Console.WriteLine(\"-----------------\");\n        Console.WriteLine(classesEnum.Current);\n    }\n}\n</code>Then the result is<code>myClass 1\n-----------------\nmyClass 2\n-----------------\nmyClass 3\n</code>And another situation is when I iterate 2 enumerators together.<code>using (IEnumerator&lt;MyClass&gt; classesEnum = myClasses.GetEnumerator()) {\n    using (IEnumerator&lt;MyClass&gt; classesEnum2 = myClasses2.GetEnumerator()) {\n        while (classesEnum.MoveNext() &amp;&amp; classEnum2.MoveNext())\n            Console.WriteLine(\"{0}, {1}\", classesEnum.Current, classesEnum2.Current);\n    }\n}\n</code>result<code>myClass 1, myClass A\nmyClass 2, myClass B\nmyClass 3, myClass C\n</code>Using enumerator allows you to do more flexible on your iteration. But in most case, you can use foreach\n", "simquery2_title": "Deleting all files in a directory with Python I want to delete all files with the extension <code>.bak</code> in a directory. How can I do that in Python?", "simquery2_answer": "I have changed some of my old queries to the Mysqli framework to improve performance. Everything works fine on localhost but when i upload it to the webserver it outputs nothing. After connecting I check for errors and there are none. I also checked the php modules installed and mysqli is enabled.I am certain that it creates a connection to the database as no errors are displayed. (when i changed the database name string it gave the error)There is no output from the query on the webserver, which looks like this:<code>$mysqli = new mysqli(\"server\", \"user\", \"password\");if (mysqli_connect_errno()) {\n   printf(\"Can't connect Errorcode: %s\\n\", mysqli_connect_error());\n   exit;\n}// Query used  \n$query = \"SELECT name FROM users WHERE id = ?\";if ($stmt = $mysqli-&gt;prepare(\"$query\")) \n{    // Specify parameters to replace '?'\n    $stmt-&gt;bind_param(\"d\", $id);      $stmt-&gt;execute();    // bind variables to prepared statement \n    $stmt-&gt;bind_result($_userName);    while ($stmt-&gt;fetch()) \n    {\n          echo $_userName;\n    }\n    $stmt-&gt;close();\n }\n}//close connection \n$mysqli-&gt;close(); \n</code>As I said this code works perfectly on my localserver just not online. Checked the error logs and there is nothing so everything points to a good connection. All the tables exists as well etc. Anyone any ideas because this one has me stuck! Also, if i get this working, will all my other queries still work? Or will i need to make them use the mysqli framework as well? Thanks in advance.EDIT:Ok Ive done some 'debugging' to see what is happening. There is data in the table i'm querying that matches the query. I did the following to check the prepare statement:<code>echo \"debug 1\";if ($stmt = $mysqli-&gt;prepare(\"$shiftQuery\"))  \n{echo \"debug 2\";\nprintf(\"Error: %s.\\n\", $stmt-&gt;error);etc...\n}\n</code>So basically it should output 'debug 1' before the statment is prepared (Which it does). Then after it should output 'debug 2' and any errors that occured. The problem is here somewhere as it doesnt reach the debug 2 line in the IF statement. Since the connection details are fine, i cant really see why the $mysqli object wouldnt be created. That give anyone any further ideas??? thanks\n", "total_len": 990, "s1_total_len": 417, "s2_total_len": 629}
{"post_id": "49836676", "title": "Error after upgrading pip: cannot import name 'main'", "query": "Whenever I am trying to install any package using pip, I am getting this import error:<code>guru@guru-notebook:~$ pip3 install numpyTraceback (most recent call last):  File \"/usr/bin/pip3\", line 9, in &lt;module&gt;    from pip import mainImportError: cannot import name 'main'</code><code>guru@guru-notebook:~$ cat `which pip3`#!/usr/bin/python3# GENERATED BY DEBIANimport sys# Run the main entry point, similarly to how setuptools does it, but because# we didn't install the actual entry point from setup.py, don't use the# pkg_resources API.from pip import mainif __name__ == '__main__':    sys.exit(main())</code>It was working fine earlier, I am not sure why it is throwing this error.I have searched about this error, but can't find anything to fix it.Please let me know if you need any further detail, I will update my question.", "acce_answer": "I am using the REST API of InfluxDB\n<code>curl -s -XPOST -G influxdb_url:8086/query?pretty=true --data-urlencode &quot;db=metrics&quot; --data-urlencode &quot;q=SHOW MEASUREMENTS WITH MEASUREMENT=~/a.b-c*/&quot;\n</code>\nto retrieve the measurements available\n<code>    {\n    &quot;results&quot;: [\n        {\n            &quot;statement_id&quot;: 0,\n            &quot;series&quot;: [\n                {\n                    &quot;name&quot;: &quot;measurements&quot;,\n                    &quot;columns&quot;: [\n                        &quot;name&quot;\n                    ],\n                    &quot;values&quot;: [\n                        [\n                            &quot;a.b-c&quot;\n                        ],\n                        [\n                            &quot;a.b-cd&quot;\n                        ],\n                        [\n                            &quot;a.b-cde&quot;\n                        ],\n                        [\n                            &quot;a.b-cdfg&quot;\n                        ]\n                    ]\n                }\n            ]\n        }\n    ]\n}\n</code>\nand then I trying to select all the data from one of them\n<code>curl -s -XPOST -G influxdb_url:8086/query?pretty=true --data-urlencode &quot;db=metrics&quot; --data-urlencode &quot;q=SELECT * FROM &quot;a.b-c&quot;&quot;\n</code>\nand I am getting this error\n<code>{\n    &quot;error&quot;: &quot;error parsing query: found -, expected ; at line 1, char 18&quot;\n}\n</code>\nThe exact same query works if I login the Influx instance\n<code>select * from &quot;a.b-c&quot;\n</code>\n", "acce_score": "504", "simquery1_title": "Python pip install module is not found. How to link python to pip location? I'm a newbie and I needed the pySerial and feedparser module for my projects. I'm running Mountain lion.I followed the following tutorial so that I could upgrade to python 2.7.3 and then use the above mentioned modules.http://hackercodex.com/guide/python-virtualenv-on-mac-osx-mountain-lion-10.8/I followed this tutorial till I installed pip. Instead of installing Virtualenv. I used the following commands to install pySerial and feedparser<code>$ pip install pySerialRequirement already satisfied (use --upgrade to upgrade): pySerial in /Library/Python/2.7/site-packagesCleaning up...</code>I assumed that this was already present and checked it. Python seems to be importing this just fine. My python version has been upgraded to 2.7.3 btw since I installed it using homebrew as mentioned in the tutorial.Then I tried installing feedparser<code>$ pip install feedparserRequirement already satisfied (use --upgrade to upgrade): feedparser in /usr/local/lib/python2.7/site-packagesCleaning up...</code>Notice how its in the site-packages directory in the usr/local/lib.All of my pip installs are being installed in that directory but python does not seem to be picking them up when i try importing them. How do I set the path so that python also looks there as well as core directory?Your help will be greatly appreciated.I tried looking for answers here:Pip installs but module is not foundWhy I can&#39;t import beautifulsoup on mac using python 2.7 after installing it by using pip and/or easy_install?but niether of them are in the same situation as I am. I don't understand why this is happening as i edited my bash_profile with the following<code># Set architecture flagsexport ARCHFLAGS=\"-arch x86_64\"# Ensure user-installed binaries take precedenceexport PATH=/usr/local/share/python:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin# Load .bashrc if it existstest -f ~/.bashrc &amp;&amp; source ~/.bashrc</code>then installed homebrew and then installed python 2.7.3 through homebrew (2.7.3 is now currently running on my machine) I figured all pip installs would be correctly linked?", "simquery1_answer": "\nI am trying to create custom <code>ItemsControl</code>, that displays a list of buttons (for practice sake), quite simple as below:<code>&lt;Style TargetType=\"{x:Type local:MyControl}\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"{x:Type local:MyControl}\"&gt;\n                &lt;Border Background=\"{TemplateBinding Background}\"\n                    BorderBrush=\"{TemplateBinding BorderBrush}\"\n                    BorderThickness=\"{TemplateBinding BorderThickness}\"&gt;\n                    &lt;ItemsPresenter /&gt;\n                &lt;/Border&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;    &lt;Setter Property=\"ItemsPanel\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ItemsPanelTemplate&gt;\n                &lt;StackPanel /&gt;\n            &lt;/ItemsPanelTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n    &lt;Setter Property=\"ItemTemplate\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;DataTemplate&gt;\n                &lt;Button Content=\"{Binding }\" /&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code>I would like to make it dynamic in the sense that I can bind a list of Objects to the <code>ItemsSource</code> and display a specified property from those objects as the text to display in the button. Similar to how <code>DisplayMemberPath</code> works in a <code>ComboBox</code> (when specifying a string property to display), however I have read that you cannot use both <code>ItemTemplate</code> and <code>DisplayMemberPath</code> at the same time? So how could I implement a similar property in my case.\n", "simquery2_title": "Error after upgrading pip: cannot import name 'main' Whenever I am trying to install any package using pip, I am getting this import error:<code>guru@guru-notebook:~$ pip3 install numpyTraceback (most recent call last):  File \"/usr/bin/pip3\", line 9, in &lt;module&gt;    from pip import mainImportError: cannot import name 'main'</code><code>guru@guru-notebook:~$ cat `which pip3`#!/usr/bin/python3# GENERATED BY DEBIANimport sys# Run the main entry point, similarly to how setuptools does it, but because# we didn't install the actual entry point from setup.py, don't use the# pkg_resources API.from pip import mainif __name__ == '__main__':    sys.exit(main())</code>It was working fine earlier, I am not sure why it is throwing this error.I have searched about this error, but can't find anything to fix it.Please let me know if you need any further detail, I will update my question.", "simquery2_answer": "I am using the REST API of InfluxDB\n<code>curl -s -XPOST -G influxdb_url:8086/query?pretty=true --data-urlencode &quot;db=metrics&quot; --data-urlencode &quot;q=SHOW MEASUREMENTS WITH MEASUREMENT=~/a.b-c*/&quot;\n</code>\nto retrieve the measurements available\n<code>    {\n    &quot;results&quot;: [\n        {\n            &quot;statement_id&quot;: 0,\n            &quot;series&quot;: [\n                {\n                    &quot;name&quot;: &quot;measurements&quot;,\n                    &quot;columns&quot;: [\n                        &quot;name&quot;\n                    ],\n                    &quot;values&quot;: [\n                        [\n                            &quot;a.b-c&quot;\n                        ],\n                        [\n                            &quot;a.b-cd&quot;\n                        ],\n                        [\n                            &quot;a.b-cde&quot;\n                        ],\n                        [\n                            &quot;a.b-cdfg&quot;\n                        ]\n                    ]\n                }\n            ]\n        }\n    ]\n}\n</code>\nand then I trying to select all the data from one of them\n<code>curl -s -XPOST -G influxdb_url:8086/query?pretty=true --data-urlencode &quot;db=metrics&quot; --data-urlencode &quot;q=SELECT * FROM &quot;a.b-c&quot;&quot;\n</code>\nand I am getting this error\n<code>{\n    &quot;error&quot;: &quot;error parsing query: found -, expected ; at line 1, char 18&quot;\n}\n</code>\nThe exact same query works if I login the Influx instance\n<code>select * from &quot;a.b-c&quot;\n</code>\n", "total_len": 753, "s1_total_len": 1069, "s2_total_len": 751}
{"post_id": "50236117", "title": "Scraping: SSL: CERTIFICATE_VERIFY_FAILED error for http://en.wikipedia.org", "query": "I'm practicing the code from 'Web Scraping with Python', and I keep having this certificate problem:<code>from urllib.request import urlopen from bs4 import BeautifulSoup import repages = set()def getLinks(pageUrl):    global pages    html = urlopen(\"http://en.wikipedia.org\"+pageUrl)    bsObj = BeautifulSoup(html)    for link in bsObj.findAll(\"a\", href=re.compile(\"^(/wiki/)\")):        if 'href' in link.attrs:            if link.attrs['href'] not in pages:                #We have encountered a new page                newPage = link.attrs['href']                 print(newPage)                 pages.add(newPage)                 getLinks(newPage)getLinks(\"\")</code>The error is:<code>  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/urllib/request.py\", line 1319, in do_open    raise URLError(err)urllib.error.URLError: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1049)&gt;</code>Btw,I was also practicing scrapy, but kept getting the problem: command not found: scrapy (I tried all sorts of solutions online but none works... really frustrating)", "acce_answer": "with this table\n<code>\nCREATE TABLE table1\n    (&quot;v1&quot; text, &quot;v2&quot; text)\n;\n    \nINSERT INTO table1\n    (&quot;v1&quot;, &quot;v2&quot;)\nVALUES\n    ('vc1', 'vc2'),\n    ('vc2', 'vc3'),\n    ('vc3', 'vc4'),\n    ('vc4', 'rc7')\n;\n</code>\nI have this query\n<code>    WITH RECURSIVE chain(from_id, to_id) AS (\n      SELECT NULL, 'vc1'\n      UNION\n      SELECT c.to_id, ani.v2\n      FROM chain c\n      LEFT JOIN table1 ani ON (ani.v1 = to_id)\n      WHERE c.to_id IS NOT NULL\n    )\n    SELECT to_id FROM chain;\n</code>\nI have tried making the 'vc1' paramaterized in the cte, but have had difficulty and seen nothing online about this, in docs or so.\nI have tried\n<code>SELECT NULL, where to_id = ?\n</code>\nAnd then\n<code>SELECT to_id from chain where to_id='vc1';\n</code>\nIs there an easy way to insert a parameter into the cte?\n", "acce_score": "265", "simquery1_title": "Python - make a POST request using Python 3 urllib I am trying to make a POST request to the following page: http://search.cpsa.ca/PhysicianSearchIn order to simulate clicking the 'Search' button without filling out any of the form, which adds data to the page. I got the POST header information by clicking on the button while looking at the network tab in Chrome Developer Tools. The reason I'm posting this instead of just copying solutions from the other similar problems is that I believe I may have not gotten the correct header information.Is it properly formatted and did I grab the right information? I've never made a POST request before.This is what I've managed to piece together:<code>import urllib.parseimport urllib.requestdata = urllib.parse.urlencode({'Host': 'search.cpsa.ca', 'Connection': 'keep-alive', 'Content-Length': 23796,                                     'Origin': 'http://search.cpsa.ca', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',                                     'Cahce-Control': 'no-cache', 'X-Requested-With': 'XMLHttpRequest',                                     'X-MicrosoftAjax': 'Delta=true', 'Accept': '*/*',                                     'Referer': 'http://search.cpsa.ca/PhysicianSearch',                                     'Accept-Encoding': 'gzip, deflate',                                     'Accept-Language': 'en-GB,en-US;q=0.8,en;q=0.6',                                     'Cookie': 'ASP.NET_SessionId=kcwsgio3dchqjmyjtwue402c; _ga=GA1.2.412607756.1459536682; _gat=1'})url = &quot;http://www.musi-cal.com/cgi-bin/query?%s&quot;data = data.encode('ascii')with urllib.request.urlopen(&quot;http://search.cpsa.ca/PhysicianSearch&quot;, data) as f:    print(f.read().decode('utf-8'))</code>This solution outputs the page's HTML, but not with any of the data I wanted to retrieve from the POST request.", "simquery1_answer": "This issue started suddenly. It had been working fine for the last couple of days authenticating with Facebook accounts. Today I tried implementing the <code>Auth.auth().createUser(email: ... password:... completion:...)</code> and suddenly my app started crashing right after authentication in function <code>func completeSignIn(id:..., userData:...)</code> at <code>DataService.ds.createFirebaseDBUser(uid: usr.uid, userData: [\"provider\": \"Email\"])</code>, it crashes in the Firebase Singleton at the line <code>Database().reference()</code>. I'm very lost. I checked out a branch where it used to work, but now it doesn't work either, so I created a new app in Firebase, but I'm getting the same issue. I've seen this question in a couple of places, but no answer. It's throwing the error: <code>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** setObjectForKey: key cannot be nil'\n</code>but I've checked the id and the dictionary that I'm passing and the values are there. Any help is appreciated.Create Account code:<code>@IBAction func createAccount(_ sender: Any) {\n    if let email = emailField.text, let pwd = pwdField.text{\n        Auth.auth().createUser(withEmail: email, password: pwd, completion: { (user, error) in\n            if error != nil {\n                print(\"Unable to Authenticate E-mail with Firebase - Error: \\(String(describing: error))\")\n            }else{\n                print(\"Successfully Authenticated E-mail with Firebase\")\n                if let usr = user {\n                    let keychainResult = KeychainWrapper.standard.set(usr.uid, forKey: KEY_UID)\n                    print(\"Data saved to Keychain: \\(keychainResult)\")\n                    DataService.ds.createFirebaseDBUser(uid: usr.uid, userData: [\"provider\": \"Email\"])\n                }\n            }\n        })\n    }\n}\n</code>FBLogin and Email Auth:<code>@IBAction func facebookLogin(_ sender: Any) {\n    print(\"Start Login Process\")\n    let fbLogin = FBSDKLoginManager()\n    print(\"Set Read Permissions\")\n    //TODO: add Read Permissions\n    fbLogin.logIn(withReadPermissions: [\"email\",\"user_location\"], from: self) { (result, error) in\n        if error != nil{\n            print(\"Unable to provide Authentication with Facebook - \\(String(describing: error))\")\n        }else if result?.isCancelled == true{\n            print(\"User Cancelled FB Authentication\")\n        }else {\n            print(\"User Successfully Logged In\")\n            let credential = FacebookAuthProvider.credential(withAccessToken: FBSDKAccessToken.current().tokenString)\n            self.firebaseAuth(credential)\n        }\n    }}@IBAction func emailLogin(_ sender: Any) {\n    if let email = emailField.text, let password = passwordField.text{\n        Auth.auth().signIn(withEmail: email, password: password, completion: { (user, error) in\n            if error != nil{\n                print(\"Unable to Authenticate Firebase - \\(String(describing: error))\")\n            } else {\n                print(\"Succesfully authenticated with Firebase\")\n                if let user = user{\n                    let userData = [\"provider\": \"email\"]\n                    self.completeSignIn(id: user.uid, userData: userData)\n                }\n            }        })\n    }\n}\nfunc firebaseAuth(_ credential: AuthCredential){\n    Auth.auth().signIn(with: credential, completion: { (user, error) in\n        if error == nil {\n            print(\"Succesfully authenticated with Firebase\")\n            if let user = user{\n                let userData = [\"provider\": credential.provider]\n                self.completeSignIn(id: user.uid, userData: userData)\n            }\n        } else{\n            print(\"Unable to Authenticate Firebase - \\(String(describing: error))\")\n        }\n    })\n}\nfunc completeSignIn(id: String, userData: Dictionary&lt;String, String&gt;){\n    DataService.ds.createFirebaseDBUser(uid: id, userData: userData)\n    let keychainResult = KeychainWrapper.standard.set(id, forKey: KEY_UID)\n    print(\"Data saved to Keychain: \\(keychainResult)\")\n    performSegue(withIdentifier: \"goToMain\", sender: nil)\n}\n</code>Firebase Singleton class DataService:<code>import Foundation\nimport Firebaselet DB_BASE = Database().reference()class DataService {static let ds = DataService()private(set) var REF_BASE = DB_BASE\nprivate(set) var REF_PROMOS = DB_BASE.child(\"promos\")\nprivate(set) var REF_NEGOCIOS = DB_BASE.child(\"negocios\")\nprivate(set) var REF_USERS = DB_BASE.child(\"users\")func createFirebaseDBUser(uid: String, userData: Dictionary&lt;String, String&gt;){\n    REF_USERS.child(uid).updateChildValues(userData)\n}}\n</code>\n", "simquery2_title": "Which is best in Python: urllib2, PycURL or mechanize? Ok so I need to download some web pages using Python and did a quick investigation of my options.Included with Python:urllib - seems to me that I should use urllib2 instead. urllib has no cookie support, HTTP/FTP/local files only (no SSL)urllib2 - complete HTTP/FTP client, supports most needed things like cookies, does not support all HTTP verbs (only GET and POST, no TRACE, etc.)Full featured:mechanize - can use/save Firefox/IE cookies, take actions like follow second link, actively maintained (0.2.5 released in March 2011)PycURL - supports everything curl does (FTP, FTPS, HTTP, HTTPS, GOPHER, TELNET, DICT, FILE and LDAP), bad news: not updated since Sep 9, 2008 (7.19.0)New possibilities:urllib3 - supports connection re-using/pooling and file postingDeprecated (a.k.a. use urllib/urllib2 instead):httplib - HTTP/HTTPS only (no FTP)httplib2 - HTTP/HTTPS only (no FTP)The first thing that strikes me is that urllib/urllib2/PycURL/mechanize are all pretty mature solutions that work well. mechanize and PycURL ship with a number of Linux distributions (e.g. Fedora 13) and BSDs so installation is a non issue typically (so that's good). urllib2 looks good but I'm wondering why PycURL and mechanize both seem very popular, is there something I am missing (i.e. if I use urllib2 will I paint myself in to a corner at some point?). I'd really like some feedback on the pros/cons of these things so I can make the best choice for myself. Edit: added note on verb support in urllib2", "simquery2_answer": "I've stumbled recently upon a problem. I have several partial which are in several actions and have different way of displaying data, hence I used the contextual option in cache.yml as such :<code>_list:\n  enabled: true\n  contextual: true\n</code>Now I needed to remove the partial cache when the data was updated, which is normally pretty easy when dealing with non-contextual partial cache or action cache.However when I try to remove this cache, I only get null return values, and the cache is not removed. Like this :<code>$uri = '@sf_cache_partial?module=comment&amp;action=_list&amp;sf_cache_key='.$id;\n$cache_manager = $this-&gt;getContext()-&gt;getViewCacheManager();\n$cache_manager-&gt;has($uri) // return true\n$cache_manager-&gt;remove($uri) // return null\n$cache_manager-&gt;has($uri) // return true, cache is still there\n</code>I tried to fiddle with the fourth option of sfViewCacheManager::remove, which is the context, as such :<code>$context = 'space/show/sf_culture/fr/slug/'.$slug.'/tab/news/comment/_list/'.$id;\n$cache_manager-&gt;remove($uri, '', '', $context); // return null\n</code>Anyone know how to do this ? I'm getting desperate :PThanks.\n", "total_len": 690, "s1_total_len": 1806, "s2_total_len": 785}
{"post_id": "25254016", "title": "Get first row value of a given column", "query": "This seems like a ridiculously easy question... but I'm not seeing the easy answer I was expecting.So, how do I get the value at an nth row of a given column in Pandas? (I am particularly interested in the first row, but would be interested in a more general practice as well).For example, let's say I want to pull the 1.2 value in <code>Btime</code> as a variable.Whats the right way to do this?<code>&gt;&gt;&gt; df_test    ATime   X   Y   Z   Btime  C   D   E0    1.2  2  15   2    1.2  12  25  121    1.4  3  12   1    1.3  13  22  112    1.5  1  10   6    1.4  11  20  163    1.6  2   9  10    1.7  12  29  124    1.9  1   1   9    1.9  11  21  195    2.0  0   0   0    2.0   8  10  116    2.4  0   0   0    2.4  10  12  15</code>", "acce_answer": "First, you need to get your tab bar item:<code>UITabBarItem *tabBarItem = [[self.tabBarController.viewControllers objectAtIndex:YOUR_INDEX] tabBarItem];\n</code>Then, simply set the badge on it.<code>NSString *badge = @\"1\";\n[tabBarItem setBadgeValue:badge];\n</code>\n", "acce_score": "506", "simquery1_title": "Get first row value of a given column This seems like a ridiculously easy question... but I'm not seeing the easy answer I was expecting.So, how do I get the value at an nth row of a given column in Pandas? (I am particularly interested in the first row, but would be interested in a more general practice as well).For example, let's say I want to pull the 1.2 value in <code>Btime</code> as a variable.Whats the right way to do this?<code>&gt;&gt;&gt; df_test    ATime   X   Y   Z   Btime  C   D   E0    1.2  2  15   2    1.2  12  25  121    1.4  3  12   1    1.3  13  22  112    1.5  1  10   6    1.4  11  20  163    1.6  2   9  10    1.7  12  29  124    1.9  1   1   9    1.9  11  21  195    2.0  0   0   0    2.0   8  10  116    2.4  0   0   0    2.4  10  12  15</code>", "simquery1_answer": "First, you need to get your tab bar item:<code>UITabBarItem *tabBarItem = [[self.tabBarController.viewControllers objectAtIndex:YOUR_INDEX] tabBarItem];\n</code>Then, simply set the badge on it.<code>NSString *badge = @\"1\";\n[tabBarItem setBadgeValue:badge];\n</code>\n", "simquery2_title": "python equivalent of R table I have a list <code>[[12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [6, 0], [12, 6], [0, 6], [12, 0], [0, 6], [0, 6], [12, 0], [0, 6], [6, 0], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [0, 6], [0, 6], [12, 6], [6, 0], [6, 0], [12, 6], [12, 0], [12, 0], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 0], [12, 0], [12, 0], [12, 0], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [0, 6], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [12, 6], [12, 0], [0, 6], [6, 0], [12, 0], [0, 6], [12, 6], [12, 6], [0, 6], [12, 0], [6, 0], [6, 0], [12, 6], [12, 0], [0, 6], [12, 0], [12, 0], [12, 0], [6, 0], [12, 6], [12, 6], [12, 6], [12, 6], [0, 6], [12, 0], [12, 6], [0, 6], [0, 6], [12, 0], [0, 6], [12, 6], [6, 0], [12, 6], [12, 6], [12, 0], [12, 0], [12, 6], [0, 6], [6, 0], [12, 0], [6, 0], [12, 0], [12, 0], [12, 6], [12, 0], [6, 0], [12, 6], [6, 0], [12, 0], [6, 0], [12, 0], [6, 0], [6, 0]]</code>I want to count the frequency of each element in this list. Something like <code>freq[[12,6]] = 40</code>In R this can be obtained with the <code>table</code> function. Is there anything similar in python3?", "simquery2_answer": "Why is it that when I try to install a custom tap with homebrew it thinks I'm installing it from github?  I'm running the command:  <code>$ brew tap bitcycle/internal https://github.corp.net/bitcycle/homebrew-internal\n==&gt; Tapping bitcycle/internal\nCloning into '/usr/local/Library/Taps/bitcycle/homebrew-internal'...\nfatal: unable to access 'https://github.com/bitcycle/homebrew-internal/': Failed to connect to github.com port 443: Operation timed out\n</code>Here's the line from <code>/usr/local/Library/Homebrew/cmd/tap.rb</code>:<code>14   def install_tap user, repo\n15     # we special case homebrew so users don't have to shift in a terminal\n16     repouser = if user == \"homebrew\" then \"Homebrew\" else user end\n17     user = \"homebrew\" if user == \"Homebrew\"\n18\n19     # we downcase to avoid case-insensitive filesystem issues\n20     tapd = HOMEBREW_LIBRARY/\"Taps/#{user.downcase}/homebrew-#{repo.downcase}\"\n21     return false if tapd.directory?\n22     ohai \"Tapping #{repouser}/#{repo}\"\n23     abort unless system \"git\", \"clone\", \"https://github.com/#{repouser}/homebrew-#{repo}\", tapd.to_s\n24\n25     files = []\n26     tapd.find_formula { |file| files &lt;&lt; file }\n</code>Line 23 seems to indicate that the repo can never not be a github repo.  Command <code>brew --version</code> says that I'm running 0.9.5 on Mac OS 10.10.3.   In addition, I've read that brew any-tap was merged into brew, but I can't seem to locate the release.  Can someone help me get this working?\n", "total_len": 411, "s1_total_len": 409, "s2_total_len": 1245}
